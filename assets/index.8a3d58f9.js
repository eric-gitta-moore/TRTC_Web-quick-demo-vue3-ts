const Xre=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}};Xre();/**
* @vue/shared v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function S1(e,t){const r=new Set(e.split(","));return t?o=>r.has(o.toLowerCase()):o=>r.has(o)}const Br={},oh=[],Gn=()=>{},Qre=()=>!1,g0=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),E1=e=>e.startsWith("onUpdate:"),bo=Object.assign,T1=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Zre=Object.prototype.hasOwnProperty,wn=(e,t)=>Zre.call(e,t),ht=Array.isArray,ih=e=>tg(e)==="[object Map]",y0=e=>tg(e)==="[object Set]",hd=e=>tg(e)==="[object Date]",Lt=e=>typeof e=="function",Mt=e=>typeof e=="string",Ss=e=>typeof e=="symbol",nn=e=>e!==null&&typeof e=="object",Ev=e=>(nn(e)||Lt(e))&&Lt(e.then)&&Lt(e.catch),P4=Object.prototype.toString,tg=e=>P4.call(e),_b=e=>tg(e).slice(8,-1),Ub=e=>tg(e)==="[object Object]",C1=e=>Mt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,iv=S1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_0=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},eoe=/-(\w)/g,Wi=_0(e=>e.replace(eoe,(t,r)=>r?r.toUpperCase():"")),toe=/\B([A-Z])/g,vl=_0(e=>e.replace(toe,"-$1").toLowerCase()),ng=_0(e=>e.charAt(0).toUpperCase()+e.slice(1)),av=_0(e=>e?`on${ng(e)}`:""),Nc=(e,t)=>!Object.is(e,t),bb=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},D4=(e,t,r,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:r})},xI=e=>{const t=parseFloat(e);return isNaN(t)?e:t},noe=e=>{const t=Mt(e)?Number(e):NaN;return isNaN(t)?e:t};let n3;const w1=()=>n3||(n3=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function kt(e){if(ht(e)){const t={};for(let r=0;r<e.length;r++){const o=e[r],a=Mt(o)?aoe(o):kt(o);if(a)for(const l in a)t[l]=a[l]}return t}else if(Mt(e)||nn(e))return e}const roe=/;(?![^(]*\))/g,ooe=/:([^]+)/,ioe=/\/\*[^]*?\*\//g;function aoe(e){const t={};return e.replace(ioe,"").split(roe).forEach(r=>{if(r){const o=r.split(ooe);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function B(e){let t="";if(Mt(e))t=e;else if(ht(e))for(let r=0;r<e.length;r++){const o=B(e[r]);o&&(t+=o+" ")}else if(nn(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function Ma(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Mt(t)&&(e.class=B(t)),r&&(e.style=kt(r)),e}const soe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",loe=S1(soe);function L4(e){return!!e||e===""}function coe(e,t){if(e.length!==t.length)return!1;let r=!0;for(let o=0;r&&o<e.length;o++)r=hh(e[o],t[o]);return r}function hh(e,t){if(e===t)return!0;let r=hd(e),o=hd(t);if(r||o)return r&&o?e.getTime()===t.getTime():!1;if(r=Ss(e),o=Ss(t),r||o)return e===t;if(r=ht(e),o=ht(t),r||o)return r&&o?coe(e,t):!1;if(r=nn(e),o=nn(t),r||o){if(!r||!o)return!1;const a=Object.keys(e).length,l=Object.keys(t).length;if(a!==l)return!1;for(const c in e){const d=e.hasOwnProperty(c),h=t.hasOwnProperty(c);if(d&&!h||!d&&h||!hh(e[c],t[c]))return!1}}return String(e)===String(t)}function M4(e,t){return e.findIndex(r=>hh(r,t))}const x4=e=>!!(e&&e.__v_isRef===!0),et=e=>Mt(e)?e:e==null?"":ht(e)||nn(e)&&(e.toString===P4||!Lt(e.toString))?x4(e)?et(e.value):JSON.stringify(e,V4,2):String(e),V4=(e,t)=>x4(t)?V4(e,t.value):ih(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[o,a],l)=>(r[zw(o,l)+" =>"]=a,r),{})}:y0(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>zw(r))}:Ss(t)?zw(t):nn(t)&&!ht(t)&&!Ub(t)?String(t):t,zw=(e,t="")=>{var r;return Ss(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fi;class F4{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Fi,!t&&Fi&&(this.index=(Fi.scopes||(Fi.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Fi;try{return Fi=this,t()}finally{Fi=r}}}on(){Fi=this}off(){Fi=this.parent}stop(t){if(this._active){let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function b0(e){return new F4(e)}function uoe(e,t=Fi){t&&t.active&&t.effects.push(e)}function I1(){return Fi}function k1(e){Fi&&Fi.cleanups.push(e)}let od;class R1{constructor(t,r,o,a){this.fn=t,this.trigger=r,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,uoe(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Wc();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(doe(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),zc()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Ic,r=od;try{return Ic=!0,od=this,this._runnings++,r3(this),this.fn()}finally{o3(this),this._runnings--,od=r,Ic=t}}stop(){this.active&&(r3(this),o3(this),this.onStop&&this.onStop(),this.active=!1)}}function doe(e){return e.value}function r3(e){e._trackId++,e._depsLength=0}function o3(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)$4(e.deps[t],e);e.deps.length=e._depsLength}}function $4(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let Ic=!0,VI=0;const U4=[];function Wc(){U4.push(Ic),Ic=!1}function zc(){const e=U4.pop();Ic=e===void 0?!0:e}function A1(){VI++}function O1(){for(VI--;!VI&&FI.length;)FI.shift()()}function B4(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const o=e.deps[e._depsLength];o!==t?(o&&$4(o,e),e.deps[e._depsLength++]=t):e._depsLength++}}const FI=[];function H4(e,t,r){A1();for(const o of e.keys()){let a;o._dirtyLevel<t&&(a!=null?a:a=e.get(o)===o._trackId)&&(o._shouldSchedule||(o._shouldSchedule=o._dirtyLevel===0),o._dirtyLevel=t),o._shouldSchedule&&(a!=null?a:a=e.get(o)===o._trackId)&&(o.trigger(),(!o._runnings||o.allowRecurse)&&o._dirtyLevel!==2&&(o._shouldSchedule=!1,o.scheduler&&FI.push(o.scheduler)))}O1()}const j4=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},Bb=new WeakMap,id=Symbol(""),$I=Symbol("");function wi(e,t,r){if(Ic&&od){let o=Bb.get(e);o||Bb.set(e,o=new Map);let a=o.get(r);a||o.set(r,a=j4(()=>o.delete(r))),B4(od,a)}}function dl(e,t,r,o,a,l){const c=Bb.get(e);if(!c)return;let d=[];if(t==="clear")d=[...c.values()];else if(r==="length"&&ht(e)){const h=Number(o);c.forEach((m,g)=>{(g==="length"||!Ss(g)&&g>=h)&&d.push(m)})}else switch(r!==void 0&&d.push(c.get(r)),t){case"add":ht(e)?C1(r)&&d.push(c.get("length")):(d.push(c.get(id)),ih(e)&&d.push(c.get($I)));break;case"delete":ht(e)||(d.push(c.get(id)),ih(e)&&d.push(c.get($I)));break;case"set":ih(e)&&d.push(c.get(id));break}A1();for(const h of d)h&&H4(h,4);O1()}function foe(e,t){const r=Bb.get(e);return r&&r.get(t)}const hoe=S1("__proto__,__v_isRef,__isVue"),W4=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ss)),i3=poe();function poe(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const o=er(this);for(let l=0,c=this.length;l<c;l++)wi(o,"get",l+"");const a=o[t](...r);return a===-1||a===!1?o[t](...r.map(er)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Wc(),A1();const o=er(this)[t].apply(this,r);return O1(),zc(),o}}),e}function moe(e){Ss(e)||(e=String(e));const t=er(this);return wi(t,"has",e),t.hasOwnProperty(e)}class z4{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,o){const a=this._isReadonly,l=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return l;if(r==="__v_raw")return o===(a?l?Roe:Y4:l?q4:G4).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const c=ht(t);if(!a){if(c&&wn(i3,r))return Reflect.get(i3,r,o);if(r==="hasOwnProperty")return moe}const d=Reflect.get(t,r,o);return(Ss(r)?W4.has(r):hoe(r))||(a||wi(t,"get",r),l)?d:lr(d)?c&&C1(r)?d:d.value:nn(d)?a?Uh(d):Un(d):d}}class K4 extends z4{constructor(t=!1){super(!1,t)}set(t,r,o,a){let l=t[r];if(!this._isShallow){const h=pd(l);if(!ph(o)&&!pd(o)&&(l=er(l),o=er(o)),!ht(t)&&lr(l)&&!lr(o))return h?!1:(l.value=o,!0)}const c=ht(t)&&C1(r)?Number(r)<t.length:wn(t,r),d=Reflect.set(t,r,o,a);return t===er(a)&&(c?Nc(o,l)&&dl(t,"set",r,o):dl(t,"add",r,o)),d}deleteProperty(t,r){const o=wn(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&o&&dl(t,"delete",r,void 0),a}has(t,r){const o=Reflect.has(t,r);return(!Ss(r)||!W4.has(r))&&wi(t,"has",r),o}ownKeys(t){return wi(t,"iterate",ht(t)?"length":id),Reflect.ownKeys(t)}}class voe extends z4{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const goe=new K4,yoe=new voe,_oe=new K4(!0);const N1=e=>e,S0=e=>Reflect.getPrototypeOf(e);function K_(e,t,r=!1,o=!1){e=e.__v_raw;const a=er(e),l=er(t);r||(Nc(t,l)&&wi(a,"get",t),wi(a,"get",l));const{has:c}=S0(a),d=o?N1:r?M1:Tv;if(c.call(a,t))return d(e.get(t));if(c.call(a,l))return d(e.get(l));e!==a&&e.get(t)}function G_(e,t=!1){const r=this.__v_raw,o=er(r),a=er(e);return t||(Nc(e,a)&&wi(o,"has",e),wi(o,"has",a)),e===a?r.has(e):r.has(e)||r.has(a)}function q_(e,t=!1){return e=e.__v_raw,!t&&wi(er(e),"iterate",id),Reflect.get(e,"size",e)}function a3(e,t=!1){!t&&!ph(e)&&!pd(e)&&(e=er(e));const r=er(this);return S0(r).has.call(r,e)||(r.add(e),dl(r,"add",e,e)),this}function s3(e,t,r=!1){!r&&!ph(t)&&!pd(t)&&(t=er(t));const o=er(this),{has:a,get:l}=S0(o);let c=a.call(o,e);c||(e=er(e),c=a.call(o,e));const d=l.call(o,e);return o.set(e,t),c?Nc(t,d)&&dl(o,"set",e,t):dl(o,"add",e,t),this}function l3(e){const t=er(this),{has:r,get:o}=S0(t);let a=r.call(t,e);a||(e=er(e),a=r.call(t,e)),o&&o.call(t,e);const l=t.delete(e);return a&&dl(t,"delete",e,void 0),l}function c3(){const e=er(this),t=e.size!==0,r=e.clear();return t&&dl(e,"clear",void 0,void 0),r}function Y_(e,t){return function(o,a){const l=this,c=l.__v_raw,d=er(c),h=t?N1:e?M1:Tv;return!e&&wi(d,"iterate",id),c.forEach((m,g)=>o.call(a,h(m),h(g),l))}}function J_(e,t,r){return function(...o){const a=this.__v_raw,l=er(a),c=ih(l),d=e==="entries"||e===Symbol.iterator&&c,h=e==="keys"&&c,m=a[e](...o),g=r?N1:t?M1:Tv;return!t&&wi(l,"iterate",h?$I:id),{next(){const{value:v,done:_}=m.next();return _?{value:v,done:_}:{value:d?[g(v[0]),g(v[1])]:g(v),done:_}},[Symbol.iterator](){return this}}}}function sc(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function boe(){const e={get(l){return K_(this,l)},get size(){return q_(this)},has:G_,add:a3,set:s3,delete:l3,clear:c3,forEach:Y_(!1,!1)},t={get(l){return K_(this,l,!1,!0)},get size(){return q_(this)},has:G_,add(l){return a3.call(this,l,!0)},set(l,c){return s3.call(this,l,c,!0)},delete:l3,clear:c3,forEach:Y_(!1,!0)},r={get(l){return K_(this,l,!0)},get size(){return q_(this,!0)},has(l){return G_.call(this,l,!0)},add:sc("add"),set:sc("set"),delete:sc("delete"),clear:sc("clear"),forEach:Y_(!0,!1)},o={get(l){return K_(this,l,!0,!0)},get size(){return q_(this,!0)},has(l){return G_.call(this,l,!0)},add:sc("add"),set:sc("set"),delete:sc("delete"),clear:sc("clear"),forEach:Y_(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=J_(l,!1,!1),r[l]=J_(l,!0,!1),t[l]=J_(l,!1,!0),o[l]=J_(l,!0,!0)}),[e,r,t,o]}const[Soe,Eoe,Toe,Coe]=boe();function P1(e,t){const r=t?e?Coe:Toe:e?Eoe:Soe;return(o,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(wn(r,a)&&a in o?r:o,a,l)}const woe={get:P1(!1,!1)},Ioe={get:P1(!1,!0)},koe={get:P1(!0,!1)};const G4=new WeakMap,q4=new WeakMap,Y4=new WeakMap,Roe=new WeakMap;function Aoe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ooe(e){return e.__v_skip||!Object.isExtensible(e)?0:Aoe(_b(e))}function Un(e){return pd(e)?e:L1(e,!1,goe,woe,G4)}function D1(e){return L1(e,!1,_oe,Ioe,q4)}function Uh(e){return L1(e,!0,yoe,koe,Y4)}function L1(e,t,r,o,a){if(!nn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=a.get(e);if(l)return l;const c=Ooe(e);if(c===0)return e;const d=new Proxy(e,c===2?o:r);return a.set(e,d),d}function ad(e){return pd(e)?ad(e.__v_raw):!!(e&&e.__v_isReactive)}function pd(e){return!!(e&&e.__v_isReadonly)}function ph(e){return!!(e&&e.__v_isShallow)}function J4(e){return e?!!e.__v_raw:!1}function er(e){const t=e&&e.__v_raw;return t?er(t):e}function _s(e){return Object.isExtensible(e)&&D4(e,"__v_skip",!0),e}const Tv=e=>nn(e)?Un(e):e,M1=e=>nn(e)?Uh(e):e;class X4{constructor(t,r,o,a){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new R1(()=>t(this._value),()=>sv(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=o}get value(){const t=er(this);return(!t._cacheable||t.effect.dirty)&&Nc(t._value,t._value=t.effect.run())&&sv(t,4),x1(t),t.effect._dirtyLevel>=2&&sv(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Noe(e,t,r=!1){let o,a;const l=Lt(e);return l?(o=e,a=Gn):(o=e.get,a=e.set),new X4(o,a,l||!a,r)}function x1(e){var t;Ic&&od&&(e=er(e),B4(od,(t=e.dep)!=null?t:e.dep=j4(()=>e.dep=void 0,e instanceof X4?e:void 0)))}function sv(e,t=4,r,o){e=er(e);const a=e.dep;a&&H4(a,t)}function lr(e){return!!(e&&e.__v_isRef===!0)}function q(e){return Q4(e,!1)}function dr(e){return Q4(e,!0)}function Q4(e,t){return lr(e)?e:new Poe(e,t)}class Poe{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:er(t),this._value=r?t:Tv(t)}get value(){return x1(this),this._value}set value(t){const r=this.__v_isShallow||ph(t)||pd(t);t=r?t:er(t),Nc(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=r?t:Tv(t),sv(this,4))}}function f(e){return lr(e)?e.value:e}const Doe={get:(e,t,r)=>f(Reflect.get(e,t,r)),set:(e,t,r,o)=>{const a=e[t];return lr(a)&&!lr(r)?(a.value=r,!0):Reflect.set(e,t,r,o)}};function Z4(e){return ad(e)?e:new Proxy(e,Doe)}class Loe{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:o}=t(()=>x1(this),()=>sv(this));this._get=r,this._set=o}get value(){return this._get()}set value(t){this._set(t)}}function Moe(e){return new Loe(e)}function So(e){const t=ht(e)?new Array(e.length):{};for(const r in e)t[r]=eB(e,r);return t}class xoe{constructor(t,r,o){this._object=t,this._key=r,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return foe(er(this._object),this._key)}}class Voe{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Kn(e,t,r){return lr(e)?e:Lt(e)?new Voe(e):nn(e)&&arguments.length>1?eB(e,t,r):q(e)}function eB(e,t,r){const o=e[t];return lr(o)?o:new xoe(e,t,r)}/**
* @vue/runtime-core v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kc(e,t,r,o){try{return o?e(...o):e()}catch(a){E0(a,t,r)}}function pa(e,t,r,o){if(Lt(e)){const a=kc(e,t,r,o);return a&&Ev(a)&&a.catch(l=>{E0(l,t,r)}),a}if(ht(e)){const a=[];for(let l=0;l<e.length;l++)a.push(pa(e[l],t,r,o));return a}}function E0(e,t,r,o=!0){const a=t?t.vnode:null;if(t){let l=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const m=l.ec;if(m){for(let g=0;g<m.length;g++)if(m[g](e,c,d)===!1)return}l=l.parent}const h=t.appContext.config.errorHandler;if(h){Wc(),kc(h,null,10,[e,c,d]),zc();return}}Foe(e,r,a,o)}function Foe(e,t,r,o=!0){console.error(e)}let Cv=!1,UI=!1;const jo=[];let ms=0;const ah=[];let gc=null,qu=0;const tB=Promise.resolve();let V1=null;function wt(e){const t=V1||tB;return e?t.then(this?e.bind(this):e):t}function $oe(e){let t=ms+1,r=jo.length;for(;t<r;){const o=t+r>>>1,a=jo[o],l=wv(a);l<e||l===e&&a.pre?t=o+1:r=o}return t}function F1(e){(!jo.length||!jo.includes(e,Cv&&e.allowRecurse?ms+1:ms))&&(e.id==null?jo.push(e):jo.splice($oe(e.id),0,e),nB())}function nB(){!Cv&&!UI&&(UI=!0,V1=tB.then(oB))}function Uoe(e){const t=jo.indexOf(e);t>ms&&jo.splice(t,1)}function Boe(e){ht(e)?ah.push(...e):(!gc||!gc.includes(e,e.allowRecurse?qu+1:qu))&&ah.push(e),nB()}function u3(e,t,r=Cv?ms+1:0){for(;r<jo.length;r++){const o=jo[r];if(o&&o.pre){if(e&&o.id!==e.uid)continue;jo.splice(r,1),r--,o()}}}function rB(e){if(ah.length){const t=[...new Set(ah)].sort((r,o)=>wv(r)-wv(o));if(ah.length=0,gc){gc.push(...t);return}for(gc=t,qu=0;qu<gc.length;qu++){const r=gc[qu];r.active!==!1&&r()}gc=null,qu=0}}const wv=e=>e.id==null?1/0:e.id,Hoe=(e,t)=>{const r=wv(e)-wv(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function oB(e){UI=!1,Cv=!0,jo.sort(Hoe);const t=Gn;try{for(ms=0;ms<jo.length;ms++){const r=jo[ms];r&&r.active!==!1&&kc(r,r.i,r.i?15:14)}}finally{ms=0,jo.length=0,rB(),Cv=!1,V1=null,(jo.length||ah.length)&&oB()}}let go=null,T0=null;function Hb(e){const t=go;return go=e,T0=e&&e.type.__scopeId||null,t}function rg(e){T0=e}function og(){T0=null}function ye(e,t=go,r){if(!t||e._n)return e;const o=(...a)=>{o._d&&E3(-1);const l=Hb(t);let c;try{c=e(...a)}finally{Hb(l),o._d&&E3(1)}return c};return o._n=!0,o._c=!0,o._d=!0,o}function qt(e,t){if(go===null)return e;const r=A0(go),o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,c,d,h=Br]=t[a];l&&(Lt(l)&&(l={mounted:l,updated:l}),l.deep&&Sc(c),o.push({dir:l,instance:r,value:c,oldValue:void 0,arg:d,modifiers:h}))}return e}function Uu(e,t,r,o){const a=e.dirs,l=t&&t.dirs;for(let c=0;c<a.length;c++){const d=a[c];l&&(d.oldValue=l[c].value);let h=d.dir[o];h&&(Wc(),pa(h,r,8,[e.el,d,e,t]),zc())}}const yc=Symbol("_leaveCb"),X_=Symbol("_enterCb");function iB(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zt(()=>{e.isMounted=!0}),ur(()=>{e.isUnmounting=!0}),e}const aa=[Function,Array],aB={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:aa,onEnter:aa,onAfterEnter:aa,onEnterCancelled:aa,onBeforeLeave:aa,onLeave:aa,onAfterLeave:aa,onLeaveCancelled:aa,onBeforeAppear:aa,onAppear:aa,onAfterAppear:aa,onAppearCancelled:aa},sB=e=>{const t=e.subTree;return t.component?sB(t.component):t},joe={name:"BaseTransition",props:aB,setup(e,{slots:t}){const r=Qt(),o=iB();return()=>{const a=t.default&&$1(t.default(),!0);if(!a||!a.length)return;let l=a[0];if(a.length>1){for(const _ of a)if(_.type!==No){l=_;break}}const c=er(e),{mode:d}=c;if(o.isLeaving)return Kw(l);const h=d3(l);if(!h)return Kw(l);let m=Iv(h,c,o,r,_=>m=_);mh(h,m);const g=r.subTree,v=g&&d3(g);if(v&&v.type!==No&&!Yu(h,v)&&sB(r).type!==No){const _=Iv(v,c,o,r);if(mh(v,_),d==="out-in"&&h.type!==No)return o.isLeaving=!0,_.afterLeave=()=>{o.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},Kw(l);d==="in-out"&&h.type!==No&&(_.delayLeave=(S,T,b)=>{const I=lB(o,v);I[String(v.key)]=v,S[yc]=()=>{T(),S[yc]=void 0,delete m.delayedLeave},m.delayedLeave=b})}return l}}},Woe=joe;function lB(e,t){const{leavingVNodes:r}=e;let o=r.get(t.type);return o||(o=Object.create(null),r.set(t.type,o)),o}function Iv(e,t,r,o,a){const{appear:l,mode:c,persisted:d=!1,onBeforeEnter:h,onEnter:m,onAfterEnter:g,onEnterCancelled:v,onBeforeLeave:_,onLeave:S,onAfterLeave:T,onLeaveCancelled:b,onBeforeAppear:I,onAppear:C,onAfterAppear:P,onAppearCancelled:R}=t,k=String(e.key),N=lB(r,e),O=(M,U)=>{M&&pa(M,o,9,U)},$=(M,U)=>{const j=U[1];O(M,U),ht(M)?M.every(W=>W.length<=1)&&j():M.length<=1&&j()},L={mode:c,persisted:d,beforeEnter(M){let U=h;if(!r.isMounted)if(l)U=I||h;else return;M[yc]&&M[yc](!0);const j=N[k];j&&Yu(e,j)&&j.el[yc]&&j.el[yc](),O(U,[M])},enter(M){let U=m,j=g,W=v;if(!r.isMounted)if(l)U=C||m,j=P||g,W=R||v;else return;let re=!1;const ae=M[X_]=ee=>{re||(re=!0,ee?O(W,[M]):O(j,[M]),L.delayedLeave&&L.delayedLeave(),M[X_]=void 0)};U?$(U,[M,ae]):ae()},leave(M,U){const j=String(e.key);if(M[X_]&&M[X_](!0),r.isUnmounting)return U();O(_,[M]);let W=!1;const re=M[yc]=ae=>{W||(W=!0,U(),ae?O(b,[M]):O(T,[M]),M[yc]=void 0,N[j]===e&&delete N[j])};N[j]=e,S?$(S,[M,re]):re()},clone(M){const U=Iv(M,t,r,o,a);return a&&a(U),U}};return L}function Kw(e){if(C0(e))return e=hl(e),e.children=null,e}function d3(e){if(!C0(e))return e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&Lt(r.default))return r.default()}}function mh(e,t){e.shapeFlag&6&&e.component?mh(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $1(e,t=!1,r){let o=[],a=0;for(let l=0;l<e.length;l++){let c=e[l];const d=r==null?c.key:String(r)+String(c.key!=null?c.key:l);c.type===Tt?(c.patchFlag&128&&a++,o=o.concat($1(c.children,t,d))):(t||c.type!==No)&&o.push(d!=null?hl(c,{key:d}):c)}if(a>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function he(e,t){return Lt(e)?(()=>bo({name:e.name},t,{setup:e}))():e}const lv=e=>!!e.type.__asyncLoader,C0=e=>e.type.__isKeepAlive;function U1(e,t){uB(e,"a",t)}function cB(e,t){uB(e,"da",t)}function uB(e,t,r=Co){const o=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(w0(t,o,r),r){let a=r.parent;for(;a&&a.parent;)C0(a.parent.vnode)&&zoe(o,t,r,a),a=a.parent}}function zoe(e,t,r,o){const a=w0(t,e,o,!0);_l(()=>{T1(o[t],a)},r)}function w0(e,t,r=Co,o=!1){if(r){const a=r[e]||(r[e]=[]),l=t.__weh||(t.__weh=(...c)=>{Wc();const d=ag(r),h=pa(t,r,e,c);return d(),zc(),h});return o?a.unshift(l):a.push(l),l}}const gl=e=>(t,r=Co)=>{(!R0||e==="sp")&&w0(e,(...o)=>t(...o),r)},ig=gl("bm"),Zt=gl("m"),dB=gl("bu"),yl=gl("u"),ur=gl("bum"),_l=gl("um"),Koe=gl("sp"),Goe=gl("rtg"),qoe=gl("rtc");function Yoe(e,t=Co){w0("ec",e,t)}const B1="components",Joe="directives";function en(e,t){return H1(B1,e,!0,t)||e}const fB=Symbol.for("v-ndc");function ln(e){return Mt(e)?H1(B1,e,!1)||e:e||fB}function I0(e){return H1(Joe,e)}function H1(e,t,r=!0,o=!1){const a=go||Co;if(a){const l=a.type;if(e===B1){const d=Bie(l,!1);if(d&&(d===t||d===Wi(t)||d===ng(Wi(t))))return l}const c=f3(a[e]||l[e],t)||f3(a.appContext[e],t);return!c&&o?l:c}}function f3(e,t){return e&&(e[t]||e[Wi(t)]||e[ng(Wi(t))])}function fn(e,t,r,o){let a;const l=r&&r[o];if(ht(e)||Mt(e)){a=new Array(e.length);for(let c=0,d=e.length;c<d;c++)a[c]=t(e[c],c,void 0,l&&l[c])}else if(typeof e=="number"){a=new Array(e);for(let c=0;c<e;c++)a[c]=t(c+1,c,void 0,l&&l[c])}else if(nn(e))if(e[Symbol.iterator])a=Array.from(e,(c,d)=>t(c,d,void 0,l&&l[d]));else{const c=Object.keys(e);a=new Array(c.length);for(let d=0,h=c.length;d<h;d++){const m=c[d];a[d]=t(e[m],m,d,l&&l[d])}}else a=[];return r&&(r[o]=a),a}function Ua(e,t){for(let r=0;r<t.length;r++){const o=t[r];if(ht(o))for(let a=0;a<o.length;a++)e[o[a].name]=o[a].fn;else o&&(e[o.name]=o.key?(...a)=>{const l=o.fn(...a);return l&&(l.key=o.key),l}:o.fn)}return e}function Pe(e,t,r={},o,a){if(go.isCE||go.parent&&lv(go.parent)&&go.parent.isCE)return t!=="default"&&(r.name=t),se("slot",r,o&&o());let l=e[t];l&&l._c&&(l._d=!1),F();const c=l&&hB(l(r)),d=Ve(Tt,{key:(r.key||c&&c.key||`_${t}`)+(!c&&o?"_fb":"")},c||(o?o():[]),c&&e._===1?64:-2);return!a&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),l&&l._c&&(l._d=!0),d}function hB(e){return e.some(t=>_r(t)?!(t.type===No||t.type===Tt&&!hB(t.children)):!0)?e:null}function Xoe(e,t){const r={};for(const o in e)r[t&&/[A-Z]/.test(o)?`on:${o}`:av(o)]=e[o];return r}const BI=e=>e?LB(e)?A0(e):BI(e.parent):null,cv=bo(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>BI(e.parent),$root:e=>BI(e.root),$emit:e=>e.emit,$options:e=>j1(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,F1(e.update)}),$nextTick:e=>e.n||(e.n=wt.bind(e.proxy)),$watch:e=>Cie.bind(e)}),Gw=(e,t)=>e!==Br&&!e.__isScriptSetup&&wn(e,t),Qoe={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:o,data:a,props:l,accessCache:c,type:d,appContext:h}=e;let m;if(t[0]!=="$"){const S=c[t];if(S!==void 0)switch(S){case 1:return o[t];case 2:return a[t];case 4:return r[t];case 3:return l[t]}else{if(Gw(o,t))return c[t]=1,o[t];if(a!==Br&&wn(a,t))return c[t]=2,a[t];if((m=e.propsOptions[0])&&wn(m,t))return c[t]=3,l[t];if(r!==Br&&wn(r,t))return c[t]=4,r[t];HI&&(c[t]=0)}}const g=cv[t];let v,_;if(g)return t==="$attrs"&&wi(e.attrs,"get",""),g(e);if((v=d.__cssModules)&&(v=v[t]))return v;if(r!==Br&&wn(r,t))return c[t]=4,r[t];if(_=h.config.globalProperties,wn(_,t))return _[t]},set({_:e},t,r){const{data:o,setupState:a,ctx:l}=e;return Gw(a,t)?(a[t]=r,!0):o!==Br&&wn(o,t)?(o[t]=r,!0):wn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:o,appContext:a,propsOptions:l}},c){let d;return!!r[c]||e!==Br&&wn(e,c)||Gw(t,c)||(d=l[0])&&wn(d,c)||wn(o,c)||wn(cv,c)||wn(a.config.globalProperties,c)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:wn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function co(){return pB().slots}function Td(){return pB().attrs}function pB(){const e=Qt();return e.setupContext||(e.setupContext=xB(e))}function h3(e){return ht(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let HI=!0;function Zoe(e){const t=j1(e),r=e.proxy,o=e.ctx;HI=!1,t.beforeCreate&&p3(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:c,watch:d,provide:h,inject:m,created:g,beforeMount:v,mounted:_,beforeUpdate:S,updated:T,activated:b,deactivated:I,beforeDestroy:C,beforeUnmount:P,destroyed:R,unmounted:k,render:N,renderTracked:O,renderTriggered:$,errorCaptured:L,serverPrefetch:M,expose:U,inheritAttrs:j,components:W,directives:re,filters:ae}=t;if(m&&eie(m,o,null),c)for(const Z in c){const X=c[Z];Lt(X)&&(o[Z]=X.bind(r))}if(a){const Z=a.call(r,r);nn(Z)&&(e.data=Un(Z))}if(HI=!0,l)for(const Z in l){const X=l[Z],H=Lt(X)?X.bind(r,r):Lt(X.get)?X.get.bind(r,r):Gn,J=!Lt(X)&&Lt(X.set)?X.set.bind(r):Gn,fe=D({get:H,set:J});Object.defineProperty(o,Z,{enumerable:!0,configurable:!0,get:()=>fe.value,set:ge=>fe.value=ge})}if(d)for(const Z in d)mB(d[Z],o,r,Z);if(h){const Z=Lt(h)?h.call(r):h;Reflect.ownKeys(Z).forEach(X=>{pn(X,Z[X])})}g&&p3(g,e,"c");function G(Z,X){ht(X)?X.forEach(H=>Z(H.bind(r))):X&&Z(X.bind(r))}if(G(ig,v),G(Zt,_),G(dB,S),G(yl,T),G(U1,b),G(cB,I),G(Yoe,L),G(qoe,O),G(Goe,$),G(ur,P),G(_l,k),G(Koe,M),ht(U))if(U.length){const Z=e.exposed||(e.exposed={});U.forEach(X=>{Object.defineProperty(Z,X,{get:()=>r[X],set:H=>r[X]=H})})}else e.exposed||(e.exposed={});N&&e.render===Gn&&(e.render=N),j!=null&&(e.inheritAttrs=j),W&&(e.components=W),re&&(e.directives=re)}function eie(e,t,r=Gn){ht(e)&&(e=jI(e));for(const o in e){const a=e[o];let l;nn(a)?"default"in a?l=pt(a.from||o,a.default,!0):l=pt(a.from||o):l=pt(a),lr(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):t[o]=l}}function p3(e,t,r){pa(ht(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,r)}function mB(e,t,r,o){const a=o.includes(".")?OB(r,o):()=>r[o];if(Mt(e)){const l=t[e];Lt(l)&&Ge(a,l)}else if(Lt(e))Ge(a,e.bind(r));else if(nn(e))if(ht(e))e.forEach(l=>mB(l,t,r,o));else{const l=Lt(e.handler)?e.handler.bind(r):t[e.handler];Lt(l)&&Ge(a,l,e)}}function j1(e){const t=e.type,{mixins:r,extends:o}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:c}}=e.appContext,d=l.get(t);let h;return d?h=d:!a.length&&!r&&!o?h=t:(h={},a.length&&a.forEach(m=>jb(h,m,c,!0)),jb(h,t,c)),nn(t)&&l.set(t,h),h}function jb(e,t,r,o=!1){const{mixins:a,extends:l}=t;l&&jb(e,l,r,!0),a&&a.forEach(c=>jb(e,c,r,!0));for(const c in t)if(!(o&&c==="expose")){const d=tie[c]||r&&r[c];e[c]=d?d(e[c],t[c]):t[c]}return e}const tie={data:m3,props:v3,emits:v3,methods:ev,computed:ev,beforeCreate:ni,created:ni,beforeMount:ni,mounted:ni,beforeUpdate:ni,updated:ni,beforeDestroy:ni,beforeUnmount:ni,destroyed:ni,unmounted:ni,activated:ni,deactivated:ni,errorCaptured:ni,serverPrefetch:ni,components:ev,directives:ev,watch:rie,provide:m3,inject:nie};function m3(e,t){return t?e?function(){return bo(Lt(e)?e.call(this,this):e,Lt(t)?t.call(this,this):t)}:t:e}function nie(e,t){return ev(jI(e),jI(t))}function jI(e){if(ht(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function ni(e,t){return e?[...new Set([].concat(e,t))]:t}function ev(e,t){return e?bo(Object.create(null),e,t):t}function v3(e,t){return e?ht(e)&&ht(t)?[...new Set([...e,...t])]:bo(Object.create(null),h3(e),h3(t!=null?t:{})):t}function rie(e,t){if(!e)return t;if(!t)return e;const r=bo(Object.create(null),e);for(const o in t)r[o]=ni(e[o],t[o]);return r}function vB(){return{app:null,config:{isNativeTag:Qre,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let oie=0;function iie(e,t){return function(o,a=null){Lt(o)||(o=bo({},o)),a!=null&&!nn(a)&&(a=null);const l=vB(),c=new WeakSet;let d=!1;const h=l.app={_uid:oie++,_component:o,_props:a,_container:null,_context:l,_instance:null,version:jie,get config(){return l.config},set config(m){},use(m,...g){return c.has(m)||(m&&Lt(m.install)?(c.add(m),m.install(h,...g)):Lt(m)&&(c.add(m),m(h,...g))),h},mixin(m){return l.mixins.includes(m)||l.mixins.push(m),h},component(m,g){return g?(l.components[m]=g,h):l.components[m]},directive(m,g){return g?(l.directives[m]=g,h):l.directives[m]},mount(m,g,v){if(!d){const _=se(o,a);return _.appContext=l,v===!0?v="svg":v===!1&&(v=void 0),g&&t?t(_,m):e(_,m,v),d=!0,h._container=m,m.__vue_app__=h,A0(_.component)}},unmount(){d&&(e(null,h._container),delete h._container.__vue_app__)},provide(m,g){return l.provides[m]=g,h},runWithContext(m){const g=sd;sd=h;try{return m()}finally{sd=g}}};return h}}let sd=null;function pn(e,t){if(Co){let r=Co.provides;const o=Co.parent&&Co.parent.provides;o===r&&(r=Co.provides=Object.create(o)),r[e]=t}}function pt(e,t,r=!1){const o=Co||go;if(o||sd){const a=sd?sd._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return r&&Lt(t)?t.call(o&&o.proxy):t}}function aie(){return!!(Co||go||sd)}const gB={},yB=()=>Object.create(gB),_B=e=>Object.getPrototypeOf(e)===gB;function sie(e,t,r,o=!1){const a={},l=yB();e.propsDefaults=Object.create(null),bB(e,t,a,l);for(const c in e.propsOptions[0])c in a||(a[c]=void 0);r?e.props=o?a:D1(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function lie(e,t,r,o){const{props:a,attrs:l,vnode:{patchFlag:c}}=e,d=er(a),[h]=e.propsOptions;let m=!1;if((o||c>0)&&!(c&16)){if(c&8){const g=e.vnode.dynamicProps;for(let v=0;v<g.length;v++){let _=g[v];if(k0(e.emitsOptions,_))continue;const S=t[_];if(h)if(wn(l,_))S!==l[_]&&(l[_]=S,m=!0);else{const T=Wi(_);a[T]=WI(h,d,T,S,e,!1)}else S!==l[_]&&(l[_]=S,m=!0)}}}else{bB(e,t,a,l)&&(m=!0);let g;for(const v in d)(!t||!wn(t,v)&&((g=vl(v))===v||!wn(t,g)))&&(h?r&&(r[v]!==void 0||r[g]!==void 0)&&(a[v]=WI(h,d,v,void 0,e,!0)):delete a[v]);if(l!==d)for(const v in l)(!t||!wn(t,v)&&!0)&&(delete l[v],m=!0)}m&&dl(e.attrs,"set","")}function bB(e,t,r,o){const[a,l]=e.propsOptions;let c=!1,d;if(t)for(let h in t){if(iv(h))continue;const m=t[h];let g;a&&wn(a,g=Wi(h))?!l||!l.includes(g)?r[g]=m:(d||(d={}))[g]=m:k0(e.emitsOptions,h)||(!(h in o)||m!==o[h])&&(o[h]=m,c=!0)}if(l){const h=er(r),m=d||Br;for(let g=0;g<l.length;g++){const v=l[g];r[v]=WI(a,h,v,m[v],e,!wn(m,v))}}return c}function WI(e,t,r,o,a,l){const c=e[r];if(c!=null){const d=wn(c,"default");if(d&&o===void 0){const h=c.default;if(c.type!==Function&&!c.skipFactory&&Lt(h)){const{propsDefaults:m}=a;if(r in m)o=m[r];else{const g=ag(a);o=m[r]=h.call(null,t),g()}}else o=h}c[0]&&(l&&!d?o=!1:c[1]&&(o===""||o===vl(r))&&(o=!0))}return o}const cie=new WeakMap;function SB(e,t,r=!1){const o=r?cie:t.propsCache,a=o.get(e);if(a)return a;const l=e.props,c={},d=[];let h=!1;if(!Lt(e)){const g=v=>{h=!0;const[_,S]=SB(v,t,!0);bo(c,_),S&&d.push(...S)};!r&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!l&&!h)return nn(e)&&o.set(e,oh),oh;if(ht(l))for(let g=0;g<l.length;g++){const v=Wi(l[g]);g3(v)&&(c[v]=Br)}else if(l)for(const g in l){const v=Wi(g);if(g3(v)){const _=l[g],S=c[v]=ht(_)||Lt(_)?{type:_}:bo({},_),T=S.type;let b=!1,I=!0;if(ht(T))for(let C=0;C<T.length;++C){const P=T[C],R=Lt(P)&&P.name;if(R==="Boolean"){b=!0;break}else R==="String"&&(I=!1)}else b=Lt(T)&&T.name==="Boolean";S[0]=b,S[1]=I,(b||wn(S,"default"))&&d.push(v)}}const m=[c,d];return nn(e)&&o.set(e,m),m}function g3(e){return e[0]!=="$"&&!iv(e)}const EB=e=>e[0]==="_"||e==="$stable",W1=e=>ht(e)?e.map(ps):[ps(e)],uie=(e,t,r)=>{if(t._n)return t;const o=ye((...a)=>W1(t(...a)),r);return o._c=!1,o},TB=(e,t,r)=>{const o=e._ctx;for(const a in e){if(EB(a))continue;const l=e[a];if(Lt(l))t[a]=uie(a,l,o);else if(l!=null){const c=W1(l);t[a]=()=>c}}},CB=(e,t)=>{const r=W1(t);e.slots.default=()=>r},wB=(e,t,r)=>{for(const o in t)(r||o!=="_")&&(e[o]=t[o])},die=(e,t,r)=>{const o=e.slots=yB();if(e.vnode.shapeFlag&32){const a=t._;a?(wB(o,t,r),r&&D4(o,"_",a,!0)):TB(t,o)}else t&&CB(e,t)},fie=(e,t,r)=>{const{vnode:o,slots:a}=e;let l=!0,c=Br;if(o.shapeFlag&32){const d=t._;d?r&&d===1?l=!1:wB(a,t,r):(l=!t.$stable,TB(t,a)),c=t}else t&&(CB(e,t),c={default:1});if(l)for(const d in a)!EB(d)&&c[d]==null&&delete a[d]};function zI(e,t,r,o,a=!1){if(ht(e)){e.forEach((_,S)=>zI(_,t&&(ht(t)?t[S]:t),r,o,a));return}if(lv(o)&&!a)return;const l=o.shapeFlag&4?A0(o.component):o.el,c=a?null:l,{i:d,r:h}=e,m=t&&t.r,g=d.refs===Br?d.refs={}:d.refs,v=d.setupState;if(m!=null&&m!==h&&(Mt(m)?(g[m]=null,wn(v,m)&&(v[m]=null)):lr(m)&&(m.value=null)),Lt(h))kc(h,d,12,[c,g]);else{const _=Mt(h),S=lr(h);if(_||S){const T=()=>{if(e.f){const b=_?wn(v,h)?v[h]:g[h]:h.value;a?ht(b)&&T1(b,l):ht(b)?b.includes(l)||b.push(l):_?(g[h]=[l],wn(v,h)&&(v[h]=g[h])):(h.value=[l],e.k&&(g[e.k]=h.value))}else _?(g[h]=c,wn(v,h)&&(v[h]=c)):S&&(h.value=c,e.k&&(g[e.k]=c))};c?(T.id=-1,bi(T,r)):T()}}}const IB=Symbol("_vte"),hie=e=>e.__isTeleport,uv=e=>e&&(e.disabled||e.disabled===""),y3=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,_3=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,KI=(e,t)=>{const r=e&&e.to;return Mt(r)?t?t(r):null:r},pie={name:"Teleport",__isTeleport:!0,process(e,t,r,o,a,l,c,d,h,m){const{mc:g,pc:v,pbc:_,o:{insert:S,querySelector:T,createText:b,createComment:I}}=m,C=uv(t.props);let{shapeFlag:P,children:R,dynamicChildren:k}=t;if(e==null){const N=t.el=b(""),O=t.anchor=b("");S(N,r,o),S(O,r,o);const $=t.target=KI(t.props,T),L=RB($,t,b,S);$&&(c==="svg"||y3($)?c="svg":(c==="mathml"||_3($))&&(c="mathml"));const M=(U,j)=>{P&16&&g(R,U,j,a,l,c,d,h)};C?M(r,O):$&&M($,L)}else{t.el=e.el,t.targetStart=e.targetStart;const N=t.anchor=e.anchor,O=t.target=e.target,$=t.targetAnchor=e.targetAnchor,L=uv(e.props),M=L?r:O,U=L?N:$;if(c==="svg"||y3(O)?c="svg":(c==="mathml"||_3(O))&&(c="mathml"),k?(_(e.dynamicChildren,k,M,a,l,c,d),z1(e,t,!0)):h||v(e,t,M,U,a,l,c,d,!1),C)L?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Q_(t,r,N,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=KI(t.props,T);j&&Q_(t,j,null,m,0)}else L&&Q_(t,O,$,m,1)}kB(t)},remove(e,t,r,{um:o,o:{remove:a}},l){const{shapeFlag:c,children:d,anchor:h,targetStart:m,targetAnchor:g,target:v,props:_}=e;if(v&&(a(m),a(g)),l&&a(h),c&16){const S=l||!uv(_);for(let T=0;T<d.length;T++){const b=d[T];o(b,t,r,S,!!b.dynamicChildren)}}},move:Q_,hydrate:mie};function Q_(e,t,r,{o:{insert:o},m:a},l=2){l===0&&o(e.targetAnchor,t,r);const{el:c,anchor:d,shapeFlag:h,children:m,props:g}=e,v=l===2;if(v&&o(c,t,r),(!v||uv(g))&&h&16)for(let _=0;_<m.length;_++)a(m[_],t,r,2);v&&o(d,t,r)}function mie(e,t,r,o,a,l,{o:{nextSibling:c,parentNode:d,querySelector:h,insert:m,createText:g}},v){const _=t.target=KI(t.props,h);if(_){const S=_._lpa||_.firstChild;if(t.shapeFlag&16)if(uv(t.props))t.anchor=v(c(e),t,d(e),r,o,a,l),t.targetStart=S,t.targetAnchor=S&&c(S);else{t.anchor=c(e);let T=S;for(;T;){if(T&&T.nodeType===8){if(T.data==="teleport start anchor")t.targetStart=T;else if(T.data==="teleport anchor"){t.targetAnchor=T,_._lpa=t.targetAnchor&&c(t.targetAnchor);break}}T=c(T)}t.targetAnchor||RB(_,t,g,m),v(S&&c(S),t,_,r,o,a,l)}kB(t)}return t.anchor&&c(t.anchor)}const vie=pie;function kB(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r&&r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}function RB(e,t,r,o){const a=t.targetStart=r(""),l=t.targetAnchor=r("");return a[IB]=l,e&&(o(a,e),o(l,e)),l}function gie(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(w1().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const bi=Pie;function yie(e){return _ie(e)}function _ie(e,t){gie();const r=w1();r.__VUE__=!0;const{insert:o,remove:a,patchProp:l,createElement:c,createText:d,createComment:h,setText:m,setElementText:g,parentNode:v,nextSibling:_,setScopeId:S=Gn,insertStaticContent:T}=e,b=(ce,ie,De,tt=null,xe=null,ze=null,ot=void 0,le=null,pe=!!ie.dynamicChildren)=>{if(ce===ie)return;ce&&!Yu(ce,ie)&&(tt=de(ce),ge(ce,xe,ze,!0),ce=null),ie.patchFlag===-2&&(pe=!1,ie.dynamicChildren=null);const{type:Re,ref:Ae,shapeFlag:qe}=ie;switch(Re){case Cd:I(ce,ie,De,tt);break;case No:C(ce,ie,De,tt);break;case Jw:ce==null&&P(ie,De,tt,ot);break;case Tt:W(ce,ie,De,tt,xe,ze,ot,le,pe);break;default:qe&1?N(ce,ie,De,tt,xe,ze,ot,le,pe):qe&6?re(ce,ie,De,tt,xe,ze,ot,le,pe):(qe&64||qe&128)&&Re.process(ce,ie,De,tt,xe,ze,ot,le,pe,Be)}Ae!=null&&xe&&zI(Ae,ce&&ce.ref,ze,ie||ce,!ie)},I=(ce,ie,De,tt)=>{if(ce==null)o(ie.el=d(ie.children),De,tt);else{const xe=ie.el=ce.el;ie.children!==ce.children&&m(xe,ie.children)}},C=(ce,ie,De,tt)=>{ce==null?o(ie.el=h(ie.children||""),De,tt):ie.el=ce.el},P=(ce,ie,De,tt)=>{[ce.el,ce.anchor]=T(ce.children,ie,De,tt,ce.el,ce.anchor)},R=({el:ce,anchor:ie},De,tt)=>{let xe;for(;ce&&ce!==ie;)xe=_(ce),o(ce,De,tt),ce=xe;o(ie,De,tt)},k=({el:ce,anchor:ie})=>{let De;for(;ce&&ce!==ie;)De=_(ce),a(ce),ce=De;a(ie)},N=(ce,ie,De,tt,xe,ze,ot,le,pe)=>{ie.type==="svg"?ot="svg":ie.type==="math"&&(ot="mathml"),ce==null?O(ie,De,tt,xe,ze,ot,le,pe):M(ce,ie,xe,ze,ot,le,pe)},O=(ce,ie,De,tt,xe,ze,ot,le)=>{let pe,Re;const{props:Ae,shapeFlag:qe,transition:rt,dirs:Ue}=ce;if(pe=ce.el=c(ce.type,ze,Ae&&Ae.is,Ae),qe&8?g(pe,ce.children):qe&16&&L(ce.children,pe,null,tt,xe,qw(ce,ze),ot,le),Ue&&Uu(ce,null,tt,"created"),$(pe,ce,ce.scopeId,ot,tt),Ae){for(const Nt in Ae)Nt!=="value"&&!iv(Nt)&&l(pe,Nt,null,Ae[Nt],ze,tt);"value"in Ae&&l(pe,"value",null,Ae.value,ze),(Re=Ae.onVnodeBeforeMount)&&hs(Re,tt,ce)}Ue&&Uu(ce,null,tt,"beforeMount");const Xe=bie(xe,rt);Xe&&rt.beforeEnter(pe),o(pe,ie,De),((Re=Ae&&Ae.onVnodeMounted)||Xe||Ue)&&bi(()=>{Re&&hs(Re,tt,ce),Xe&&rt.enter(pe),Ue&&Uu(ce,null,tt,"mounted")},xe)},$=(ce,ie,De,tt,xe)=>{if(De&&S(ce,De),tt)for(let ze=0;ze<tt.length;ze++)S(ce,tt[ze]);if(xe){let ze=xe.subTree;if(ie===ze){const ot=xe.vnode;$(ce,ot,ot.scopeId,ot.slotScopeIds,xe.parent)}}},L=(ce,ie,De,tt,xe,ze,ot,le,pe=0)=>{for(let Re=pe;Re<ce.length;Re++){const Ae=ce[Re]=le?_c(ce[Re]):ps(ce[Re]);b(null,Ae,ie,De,tt,xe,ze,ot,le)}},M=(ce,ie,De,tt,xe,ze,ot)=>{const le=ie.el=ce.el;let{patchFlag:pe,dynamicChildren:Re,dirs:Ae}=ie;pe|=ce.patchFlag&16;const qe=ce.props||Br,rt=ie.props||Br;let Ue;if(De&&Bu(De,!1),(Ue=rt.onVnodeBeforeUpdate)&&hs(Ue,De,ie,ce),Ae&&Uu(ie,ce,De,"beforeUpdate"),De&&Bu(De,!0),(qe.innerHTML&&rt.innerHTML==null||qe.textContent&&rt.textContent==null)&&g(le,""),Re?U(ce.dynamicChildren,Re,le,De,tt,qw(ie,xe),ze):ot||X(ce,ie,le,null,De,tt,qw(ie,xe),ze,!1),pe>0){if(pe&16)j(le,qe,rt,De,xe);else if(pe&2&&qe.class!==rt.class&&l(le,"class",null,rt.class,xe),pe&4&&l(le,"style",qe.style,rt.style,xe),pe&8){const Xe=ie.dynamicProps;for(let Nt=0;Nt<Xe.length;Nt++){const Ft=Xe[Nt],Et=qe[Ft],Ut=rt[Ft];(Ut!==Et||Ft==="value")&&l(le,Ft,Et,Ut,xe,De)}}pe&1&&ce.children!==ie.children&&g(le,ie.children)}else!ot&&Re==null&&j(le,qe,rt,De,xe);((Ue=rt.onVnodeUpdated)||Ae)&&bi(()=>{Ue&&hs(Ue,De,ie,ce),Ae&&Uu(ie,ce,De,"updated")},tt)},U=(ce,ie,De,tt,xe,ze,ot)=>{for(let le=0;le<ie.length;le++){const pe=ce[le],Re=ie[le],Ae=pe.el&&(pe.type===Tt||!Yu(pe,Re)||pe.shapeFlag&70)?v(pe.el):De;b(pe,Re,Ae,null,tt,xe,ze,ot,!0)}},j=(ce,ie,De,tt,xe)=>{if(ie!==De){if(ie!==Br)for(const ze in ie)!iv(ze)&&!(ze in De)&&l(ce,ze,ie[ze],null,xe,tt);for(const ze in De){if(iv(ze))continue;const ot=De[ze],le=ie[ze];ot!==le&&ze!=="value"&&l(ce,ze,le,ot,xe,tt)}"value"in De&&l(ce,"value",ie.value,De.value,xe)}},W=(ce,ie,De,tt,xe,ze,ot,le,pe)=>{const Re=ie.el=ce?ce.el:d(""),Ae=ie.anchor=ce?ce.anchor:d("");let{patchFlag:qe,dynamicChildren:rt,slotScopeIds:Ue}=ie;Ue&&(le=le?le.concat(Ue):Ue),ce==null?(o(Re,De,tt),o(Ae,De,tt),L(ie.children||[],De,Ae,xe,ze,ot,le,pe)):qe>0&&qe&64&&rt&&ce.dynamicChildren?(U(ce.dynamicChildren,rt,De,xe,ze,ot,le),(ie.key!=null||xe&&ie===xe.subTree)&&z1(ce,ie,!0)):X(ce,ie,De,Ae,xe,ze,ot,le,pe)},re=(ce,ie,De,tt,xe,ze,ot,le,pe)=>{ie.slotScopeIds=le,ce==null?ie.shapeFlag&512?xe.ctx.activate(ie,De,tt,ot,pe):ae(ie,De,tt,xe,ze,ot,pe):ee(ce,ie,pe)},ae=(ce,ie,De,tt,xe,ze,ot)=>{const le=ce.component=Vie(ce,tt,xe);if(C0(ce)&&(le.ctx.renderer=Be),Fie(le,!1,ot),le.asyncDep){if(xe&&xe.registerDep(le,G,ot),!ce.el){const pe=le.subTree=se(No);C(null,pe,ie,De)}}else G(le,ce,ie,De,xe,ze,ot)},ee=(ce,ie,De)=>{const tt=ie.component=ce.component;if(Aie(ce,ie,De))if(tt.asyncDep&&!tt.asyncResolved){Z(tt,ie,De);return}else tt.next=ie,Uoe(tt.update),tt.effect.dirty=!0,tt.update();else ie.el=ce.el,tt.vnode=ie},G=(ce,ie,De,tt,xe,ze,ot)=>{const le=()=>{if(ce.isMounted){let{next:Ae,bu:qe,u:rt,parent:Ue,vnode:Xe}=ce;{const He=AB(ce);if(He){Ae&&(Ae.el=Xe.el,Z(ce,Ae,ot)),He.asyncDep.then(()=>{ce.isUnmounted||le()});return}}let Nt=Ae,Ft;Bu(ce,!1),Ae?(Ae.el=Xe.el,Z(ce,Ae,ot)):Ae=Xe,qe&&bb(qe),(Ft=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&hs(Ft,Ue,Ae,Xe),Bu(ce,!0);const Et=Yw(ce),Ut=ce.subTree;ce.subTree=Et,b(Ut,Et,v(Ut.el),de(Ut),ce,xe,ze),Ae.el=Et.el,Nt===null&&Oie(ce,Et.el),rt&&bi(rt,xe),(Ft=Ae.props&&Ae.props.onVnodeUpdated)&&bi(()=>hs(Ft,Ue,Ae,Xe),xe)}else{let Ae;const{el:qe,props:rt}=ie,{bm:Ue,m:Xe,parent:Nt}=ce,Ft=lv(ie);if(Bu(ce,!1),Ue&&bb(Ue),!Ft&&(Ae=rt&&rt.onVnodeBeforeMount)&&hs(Ae,Nt,ie),Bu(ce,!0),qe&&We){const Et=()=>{ce.subTree=Yw(ce),We(qe,ce.subTree,ce,xe,null)};Ft?ie.type.__asyncLoader().then(()=>!ce.isUnmounted&&Et()):Et()}else{const Et=ce.subTree=Yw(ce);b(null,Et,De,tt,ce,xe,ze),ie.el=Et.el}if(Xe&&bi(Xe,xe),!Ft&&(Ae=rt&&rt.onVnodeMounted)){const Et=ie;bi(()=>hs(Ae,Nt,Et),xe)}(ie.shapeFlag&256||Nt&&lv(Nt.vnode)&&Nt.vnode.shapeFlag&256)&&ce.a&&bi(ce.a,xe),ce.isMounted=!0,ie=De=tt=null}},pe=ce.effect=new R1(le,Gn,()=>F1(Re),ce.scope),Re=ce.update=()=>{pe.dirty&&pe.run()};Re.i=ce,Re.id=ce.uid,Bu(ce,!0),Re()},Z=(ce,ie,De)=>{ie.component=ce;const tt=ce.vnode.props;ce.vnode=ie,ce.next=null,lie(ce,ie.props,tt,De),fie(ce,ie.children,De),Wc(),u3(ce),zc()},X=(ce,ie,De,tt,xe,ze,ot,le,pe=!1)=>{const Re=ce&&ce.children,Ae=ce?ce.shapeFlag:0,qe=ie.children,{patchFlag:rt,shapeFlag:Ue}=ie;if(rt>0){if(rt&128){J(Re,qe,De,tt,xe,ze,ot,le,pe);return}else if(rt&256){H(Re,qe,De,tt,xe,ze,ot,le,pe);return}}Ue&8?(Ae&16&&$e(Re,xe,ze),qe!==Re&&g(De,qe)):Ae&16?Ue&16?J(Re,qe,De,tt,xe,ze,ot,le,pe):$e(Re,xe,ze,!0):(Ae&8&&g(De,""),Ue&16&&L(qe,De,tt,xe,ze,ot,le,pe))},H=(ce,ie,De,tt,xe,ze,ot,le,pe)=>{ce=ce||oh,ie=ie||oh;const Re=ce.length,Ae=ie.length,qe=Math.min(Re,Ae);let rt;for(rt=0;rt<qe;rt++){const Ue=ie[rt]=pe?_c(ie[rt]):ps(ie[rt]);b(ce[rt],Ue,De,null,xe,ze,ot,le,pe)}Re>Ae?$e(ce,xe,ze,!0,!1,qe):L(ie,De,tt,xe,ze,ot,le,pe,qe)},J=(ce,ie,De,tt,xe,ze,ot,le,pe)=>{let Re=0;const Ae=ie.length;let qe=ce.length-1,rt=Ae-1;for(;Re<=qe&&Re<=rt;){const Ue=ce[Re],Xe=ie[Re]=pe?_c(ie[Re]):ps(ie[Re]);if(Yu(Ue,Xe))b(Ue,Xe,De,null,xe,ze,ot,le,pe);else break;Re++}for(;Re<=qe&&Re<=rt;){const Ue=ce[qe],Xe=ie[rt]=pe?_c(ie[rt]):ps(ie[rt]);if(Yu(Ue,Xe))b(Ue,Xe,De,null,xe,ze,ot,le,pe);else break;qe--,rt--}if(Re>qe){if(Re<=rt){const Ue=rt+1,Xe=Ue<Ae?ie[Ue].el:tt;for(;Re<=rt;)b(null,ie[Re]=pe?_c(ie[Re]):ps(ie[Re]),De,Xe,xe,ze,ot,le,pe),Re++}}else if(Re>rt)for(;Re<=qe;)ge(ce[Re],xe,ze,!0),Re++;else{const Ue=Re,Xe=Re,Nt=new Map;for(Re=Xe;Re<=rt;Re++){const nt=ie[Re]=pe?_c(ie[Re]):ps(ie[Re]);nt.key!=null&&Nt.set(nt.key,Re)}let Ft,Et=0;const Ut=rt-Xe+1;let He=!1,vt=0;const we=new Array(Ut);for(Re=0;Re<Ut;Re++)we[Re]=0;for(Re=Ue;Re<=qe;Re++){const nt=ce[Re];if(Et>=Ut){ge(nt,xe,ze,!0);continue}let jt;if(nt.key!=null)jt=Nt.get(nt.key);else for(Ft=Xe;Ft<=rt;Ft++)if(we[Ft-Xe]===0&&Yu(nt,ie[Ft])){jt=Ft;break}jt===void 0?ge(nt,xe,ze,!0):(we[jt-Xe]=Re+1,jt>=vt?vt=jt:He=!0,b(nt,ie[jt],De,null,xe,ze,ot,le,pe),Et++)}const Ye=He?Sie(we):oh;for(Ft=Ye.length-1,Re=Ut-1;Re>=0;Re--){const nt=Xe+Re,jt=ie[nt],Dt=nt+1<Ae?ie[nt+1].el:tt;we[Re]===0?b(null,jt,De,Dt,xe,ze,ot,le,pe):He&&(Ft<0||Re!==Ye[Ft]?fe(jt,De,Dt,2):Ft--)}}},fe=(ce,ie,De,tt,xe=null)=>{const{el:ze,type:ot,transition:le,children:pe,shapeFlag:Re}=ce;if(Re&6){fe(ce.component.subTree,ie,De,tt);return}if(Re&128){ce.suspense.move(ie,De,tt);return}if(Re&64){ot.move(ce,ie,De,Be);return}if(ot===Tt){o(ze,ie,De);for(let qe=0;qe<pe.length;qe++)fe(pe[qe],ie,De,tt);o(ce.anchor,ie,De);return}if(ot===Jw){R(ce,ie,De);return}if(tt!==2&&Re&1&&le)if(tt===0)le.beforeEnter(ze),o(ze,ie,De),bi(()=>le.enter(ze),xe);else{const{leave:qe,delayLeave:rt,afterLeave:Ue}=le,Xe=()=>o(ze,ie,De),Nt=()=>{qe(ze,()=>{Xe(),Ue&&Ue()})};rt?rt(ze,Xe,Nt):Nt()}else o(ze,ie,De)},ge=(ce,ie,De,tt=!1,xe=!1)=>{const{type:ze,props:ot,ref:le,children:pe,dynamicChildren:Re,shapeFlag:Ae,patchFlag:qe,dirs:rt,cacheIndex:Ue}=ce;if(qe===-2&&(xe=!1),le!=null&&zI(le,null,De,ce,!0),Ue!=null&&(ie.renderCache[Ue]=void 0),Ae&256){ie.ctx.deactivate(ce);return}const Xe=Ae&1&&rt,Nt=!lv(ce);let Ft;if(Nt&&(Ft=ot&&ot.onVnodeBeforeUnmount)&&hs(Ft,ie,ce),Ae&6)Fe(ce.component,De,tt);else{if(Ae&128){ce.suspense.unmount(De,tt);return}Xe&&Uu(ce,null,ie,"beforeUnmount"),Ae&64?ce.type.remove(ce,ie,De,Be,tt):Re&&!Re.hasOnce&&(ze!==Tt||qe>0&&qe&64)?$e(Re,ie,De,!1,!0):(ze===Tt&&qe&384||!xe&&Ae&16)&&$e(pe,ie,De),tt&&me(ce)}(Nt&&(Ft=ot&&ot.onVnodeUnmounted)||Xe)&&bi(()=>{Ft&&hs(Ft,ie,ce),Xe&&Uu(ce,null,ie,"unmounted")},De)},me=ce=>{const{type:ie,el:De,anchor:tt,transition:xe}=ce;if(ie===Tt){Ee(De,tt);return}if(ie===Jw){k(ce);return}const ze=()=>{a(De),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(ce.shapeFlag&1&&xe&&!xe.persisted){const{leave:ot,delayLeave:le}=xe,pe=()=>ot(De,ze);le?le(ce.el,ze,pe):pe()}else ze()},Ee=(ce,ie)=>{let De;for(;ce!==ie;)De=_(ce),a(ce),ce=De;a(ie)},Fe=(ce,ie,De)=>{const{bum:tt,scope:xe,update:ze,subTree:ot,um:le,m:pe,a:Re}=ce;b3(pe),b3(Re),tt&&bb(tt),xe.stop(),ze&&(ze.active=!1,ge(ot,ce,ie,De)),le&&bi(le,ie),bi(()=>{ce.isUnmounted=!0},ie),ie&&ie.pendingBranch&&!ie.isUnmounted&&ce.asyncDep&&!ce.asyncResolved&&ce.suspenseId===ie.pendingId&&(ie.deps--,ie.deps===0&&ie.resolve())},$e=(ce,ie,De,tt=!1,xe=!1,ze=0)=>{for(let ot=ze;ot<ce.length;ot++)ge(ce[ot],ie,De,tt,xe)},de=ce=>{if(ce.shapeFlag&6)return de(ce.component.subTree);if(ce.shapeFlag&128)return ce.suspense.next();const ie=_(ce.anchor||ce.el),De=ie&&ie[IB];return De?_(De):ie};let Le=!1;const Te=(ce,ie,De)=>{ce==null?ie._vnode&&ge(ie._vnode,null,null,!0):b(ie._vnode||null,ce,ie,null,null,null,De),ie._vnode=ce,Le||(Le=!0,u3(),rB(),Le=!1)},Be={p:b,um:ge,m:fe,r:me,mt:ae,mc:L,pc:X,pbc:U,n:de,o:e};let be,We;return t&&([be,We]=t(Be)),{render:Te,hydrate:be,createApp:iie(Te,be)}}function qw({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Bu({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function bie(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function z1(e,t,r=!1){const o=e.children,a=t.children;if(ht(o)&&ht(a))for(let l=0;l<o.length;l++){const c=o[l];let d=a[l];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=a[l]=_c(a[l]),d.el=c.el),!r&&d.patchFlag!==-2&&z1(c,d)),d.type===Cd&&(d.el=c.el)}}function Sie(e){const t=e.slice(),r=[0];let o,a,l,c,d;const h=e.length;for(o=0;o<h;o++){const m=e[o];if(m!==0){if(a=r[r.length-1],e[a]<m){t[o]=a,r.push(o);continue}for(l=0,c=r.length-1;l<c;)d=l+c>>1,e[r[d]]<m?l=d+1:c=d;m<e[r[l]]&&(l>0&&(t[o]=r[l-1]),r[l]=o)}}for(l=r.length,c=r[l-1];l-- >0;)r[l]=c,c=t[c];return r}function AB(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:AB(t)}function b3(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const Eie=Symbol.for("v-scx"),Tie=()=>pt(Eie);function Po(e,t){return K1(e,null,t)}const Z_={};function Ge(e,t,r){return K1(e,t,r)}function K1(e,t,{immediate:r,deep:o,flush:a,once:l,onTrack:c,onTrigger:d}=Br){if(t&&l){const O=t;t=(...$)=>{O(...$),N()}}const h=Co,m=O=>o===!0?O:Sc(O,o===!1?1:void 0);let g,v=!1,_=!1;if(lr(e)?(g=()=>e.value,v=ph(e)):ad(e)?(g=()=>m(e),v=!0):ht(e)?(_=!0,v=e.some(O=>ad(O)||ph(O)),g=()=>e.map(O=>{if(lr(O))return O.value;if(ad(O))return m(O);if(Lt(O))return kc(O,h,2)})):Lt(e)?t?g=()=>kc(e,h,2):g=()=>(S&&S(),pa(e,h,3,[T])):g=Gn,t&&o){const O=g;g=()=>Sc(O())}let S,T=O=>{S=R.onStop=()=>{kc(O,h,4),S=R.onStop=void 0}},b;if(R0)if(T=Gn,t?r&&pa(t,h,3,[g(),_?[]:void 0,T]):g(),a==="sync"){const O=Tie();b=O.__watcherHandles||(O.__watcherHandles=[])}else return Gn;let I=_?new Array(e.length).fill(Z_):Z_;const C=()=>{if(!(!R.active||!R.dirty))if(t){const O=R.run();(o||v||(_?O.some(($,L)=>Nc($,I[L])):Nc(O,I)))&&(S&&S(),pa(t,h,3,[O,I===Z_?void 0:_&&I[0]===Z_?[]:I,T]),I=O)}else R.run()};C.allowRecurse=!!t;let P;a==="sync"?P=C:a==="post"?P=()=>bi(C,h&&h.suspense):(C.pre=!0,h&&(C.id=h.uid),P=()=>F1(C));const R=new R1(g,Gn,P),k=I1(),N=()=>{R.stop(),k&&T1(k.effects,R)};return t?r?C():I=R.run():a==="post"?bi(R.run.bind(R),h&&h.suspense):R.run(),b&&b.push(N),N}function Cie(e,t,r){const o=this.proxy,a=Mt(e)?e.includes(".")?OB(o,e):()=>o[e]:e.bind(o,o);let l;Lt(t)?l=t:(l=t.handler,r=t);const c=ag(this),d=K1(a,l.bind(o),r);return c(),d}function OB(e,t){const r=t.split(".");return()=>{let o=e;for(let a=0;a<r.length&&o;a++)o=o[r[a]];return o}}function Sc(e,t=1/0,r){if(t<=0||!nn(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,lr(e))Sc(e.value,t,r);else if(ht(e))for(let o=0;o<e.length;o++)Sc(e[o],t,r);else if(y0(e)||ih(e))e.forEach(o=>{Sc(o,t,r)});else if(Ub(e)){for(const o in e)Sc(e[o],t,r);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Sc(e[o],t,r)}return e}const wie=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Wi(t)}Modifiers`]||e[`${vl(t)}Modifiers`];function Iie(e,t,...r){if(e.isUnmounted)return;const o=e.vnode.props||Br;let a=r;const l=t.startsWith("update:"),c=l&&wie(o,t.slice(7));c&&(c.trim&&(a=r.map(g=>Mt(g)?g.trim():g)),c.number&&(a=r.map(xI)));let d,h=o[d=av(t)]||o[d=av(Wi(t))];!h&&l&&(h=o[d=av(vl(t))]),h&&pa(h,e,6,a);const m=o[d+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,pa(m,e,6,a)}}function NB(e,t,r=!1){const o=t.emitsCache,a=o.get(e);if(a!==void 0)return a;const l=e.emits;let c={},d=!1;if(!Lt(e)){const h=m=>{const g=NB(m,t,!0);g&&(d=!0,bo(c,g))};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!l&&!d?(nn(e)&&o.set(e,null),null):(ht(l)?l.forEach(h=>c[h]=null):bo(c,l),nn(e)&&o.set(e,c),c)}function k0(e,t){return!e||!g0(t)?!1:(t=t.slice(2).replace(/Once$/,""),wn(e,t[0].toLowerCase()+t.slice(1))||wn(e,vl(t))||wn(e,t))}function Yw(e){const{type:t,vnode:r,proxy:o,withProxy:a,propsOptions:[l],slots:c,attrs:d,emit:h,render:m,renderCache:g,props:v,data:_,setupState:S,ctx:T,inheritAttrs:b}=e,I=Hb(e);let C,P;try{if(r.shapeFlag&4){const k=a||o,N=k;C=ps(m.call(N,k,g,v,S,_,T)),P=d}else{const k=t;C=ps(k.length>1?k(v,{attrs:d,slots:c,emit:h}):k(v,null)),P=t.props?d:kie(d)}}catch(k){dv.length=0,E0(k,e,1),C=se(No)}let R=C;if(P&&b!==!1){const k=Object.keys(P),{shapeFlag:N}=R;k.length&&N&7&&(l&&k.some(E1)&&(P=Rie(P,l)),R=hl(R,P,!1,!0))}return r.dirs&&(R=hl(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(r.dirs):r.dirs),r.transition&&(R.transition=r.transition),C=R,Hb(I),C}const kie=e=>{let t;for(const r in e)(r==="class"||r==="style"||g0(r))&&((t||(t={}))[r]=e[r]);return t},Rie=(e,t)=>{const r={};for(const o in e)(!E1(o)||!(o.slice(9)in t))&&(r[o]=e[o]);return r};function Aie(e,t,r){const{props:o,children:a,component:l}=e,{props:c,children:d,patchFlag:h}=t,m=l.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&h>=0){if(h&1024)return!0;if(h&16)return o?S3(o,c,m):!!c;if(h&8){const g=t.dynamicProps;for(let v=0;v<g.length;v++){const _=g[v];if(c[_]!==o[_]&&!k0(m,_))return!0}}}else return(a||d)&&(!d||!d.$stable)?!0:o===c?!1:o?c?S3(o,c,m):!0:!!c;return!1}function S3(e,t,r){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const l=o[a];if(t[l]!==e[l]&&!k0(r,l))return!0}return!1}function Oie({vnode:e,parent:t},r){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=r,t=t.parent;else break}}const Nie=e=>e.__isSuspense;function Pie(e,t){t&&t.pendingBranch?ht(e)?t.effects.push(...e):t.effects.push(e):Boe(e)}const Tt=Symbol.for("v-fgt"),Cd=Symbol.for("v-txt"),No=Symbol.for("v-cmt"),Jw=Symbol.for("v-stc"),dv=[];let $i=null;function F(e=!1){dv.push($i=e?null:[])}function Die(){dv.pop(),$i=dv[dv.length-1]||null}let kv=1;function E3(e){kv+=e,e<0&&$i&&($i.hasOnce=!0)}function PB(e){return e.dynamicChildren=kv>0?$i||oh:null,Die(),kv>0&&$i&&$i.push(e),e}function Q(e,t,r,o,a,l){return PB(te(e,t,r,o,a,l,!0))}function Ve(e,t,r,o,a){return PB(se(e,t,r,o,a,!0))}function _r(e){return e?e.__v_isVNode===!0:!1}function Yu(e,t){return e.type===t.type&&e.key===t.key}const DB=({key:e})=>e!=null?e:null,Sb=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Mt(e)||lr(e)||Lt(e)?{i:go,r:e,k:t,f:!!r}:e:null);function te(e,t=null,r=null,o=0,a=null,l=e===Tt?0:1,c=!1,d=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&DB(t),ref:t&&Sb(t),scopeId:T0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:go};return d?(G1(h,r),l&128&&e.normalize(h)):r&&(h.shapeFlag|=Mt(r)?8:16),kv>0&&!c&&$i&&(h.patchFlag>0||l&6)&&h.patchFlag!==32&&$i.push(h),h}const se=Lie;function Lie(e,t=null,r=null,o=0,a=null,l=!1){if((!e||e===fB)&&(e=No),_r(e)){const d=hl(e,t,!0);return r&&G1(d,r),kv>0&&!l&&$i&&(d.shapeFlag&6?$i[$i.indexOf(e)]=d:$i.push(d)),d.patchFlag=-2,d}if(Hie(e)&&(e=e.__vccOpts),t){t=Pc(t);let{class:d,style:h}=t;d&&!Mt(d)&&(t.class=B(d)),nn(h)&&(J4(h)&&!ht(h)&&(h=bo({},h)),t.style=kt(h))}const c=Mt(e)?1:Nie(e)?128:hie(e)?64:nn(e)?4:Lt(e)?2:0;return te(e,t,r,o,a,c,l,!0)}function Pc(e){return e?J4(e)||_B(e)?bo({},e):e:null}function hl(e,t,r=!1,o=!1){const{props:a,ref:l,patchFlag:c,children:d,transition:h}=e,m=t?sn(a||{},t):a,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&DB(m),ref:t&&t.ref?r&&l?ht(l)?l.concat(Sb(t)):[l,Sb(t)]:Sb(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tt?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:h,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hl(e.ssContent),ssFallback:e.ssFallback&&hl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return h&&o&&mh(g,h.clone(g)),g}function Jt(e=" ",t=0){return se(Cd,null,e,t)}function Ie(e="",t=!1){return t?(F(),Ve(No,null,e)):se(No,null,e)}function ps(e){return e==null||typeof e=="boolean"?se(No):ht(e)?se(Tt,null,e.slice()):typeof e=="object"?_c(e):se(Cd,null,String(e))}function _c(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hl(e)}function G1(e,t){let r=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ht(t))r=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),G1(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!_B(t)?t._ctx=go:a===3&&go&&(go.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Lt(t)?(t={default:t,_ctx:go},r=32):(t=String(t),o&64?(r=16,t=[Jt(t)]):r=8);e.children=t,e.shapeFlag|=r}function sn(...e){const t={};for(let r=0;r<e.length;r++){const o=e[r];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=B([t.class,o.class]));else if(a==="style")t.style=kt([t.style,o.style]);else if(g0(a)){const l=t[a],c=o[a];c&&l!==c&&!(ht(l)&&l.includes(c))&&(t[a]=l?[].concat(l,c):c)}else a!==""&&(t[a]=o[a])}return t}function hs(e,t,r,o=null){pa(e,t,7,[r,o])}const Mie=vB();let xie=0;function Vie(e,t,r){const o=e.type,a=(t?t.appContext:e.appContext)||Mie,l={uid:xie++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new F4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:SB(o,a),emitsOptions:NB(o,a),emit:null,emitted:null,propsDefaults:Br,inheritAttrs:o.inheritAttrs,ctx:Br,data:Br,props:Br,attrs:Br,slots:Br,refs:Br,setupState:Br,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Iie.bind(null,l),e.ce&&e.ce(l),l}let Co=null;const Qt=()=>Co||go;let Wb,GI;{const e=w1(),t=(r,o)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(o),l=>{a.length>1?a.forEach(c=>c(l)):a[0](l)}};Wb=t("__VUE_INSTANCE_SETTERS__",r=>Co=r),GI=t("__VUE_SSR_SETTERS__",r=>R0=r)}const ag=e=>{const t=Co;return Wb(e),e.scope.on(),()=>{e.scope.off(),Wb(t)}},T3=()=>{Co&&Co.scope.off(),Wb(null)};function LB(e){return e.vnode.shapeFlag&4}let R0=!1;function Fie(e,t=!1,r=!1){t&&GI(t);const{props:o,children:a}=e.vnode,l=LB(e);sie(e,o,l,t),die(e,a,r);const c=l?$ie(e,t):void 0;return t&&GI(!1),c}function $ie(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Qoe);const{setup:o}=r;if(o){const a=e.setupContext=o.length>1?xB(e):null,l=ag(e);Wc();const c=kc(o,e,0,[e.props,a]);if(zc(),l(),Ev(c)){if(c.then(T3,T3),t)return c.then(d=>{C3(e,d,t)}).catch(d=>{E0(d,e,0)});e.asyncDep=c}else C3(e,c,t)}else MB(e,t)}function C3(e,t,r){Lt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:nn(t)&&(e.setupState=Z4(t)),MB(e,r)}let w3;function MB(e,t,r){const o=e.type;if(!e.render){if(!t&&w3&&!o.render){const a=o.template||j1(e).template;if(a){const{isCustomElement:l,compilerOptions:c}=e.appContext.config,{delimiters:d,compilerOptions:h}=o,m=bo(bo({isCustomElement:l,delimiters:d},c),h);o.render=w3(a,m)}}e.render=o.render||Gn}{const a=ag(e);Wc();try{Zoe(e)}finally{zc(),a()}}}const Uie={get(e,t){return wi(e,"get",""),e[t]}};function xB(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Uie),slots:e.slots,emit:e.emit,expose:t}}function A0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Z4(_s(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in cv)return cv[r](e)},has(t,r){return r in t||r in cv}})):e.proxy}function Bie(e,t=!0){return Lt(e)?e.displayName||e.name:e.name||t&&e.__name}function Hie(e){return Lt(e)&&"__vccOpts"in e}const D=(e,t)=>Noe(e,t,R0);function Ot(e,t,r){const o=arguments.length;return o===2?nn(t)&&!ht(t)?_r(t)?se(e,null,[t]):se(e,t):se(e,null,t):(o>3?r=Array.prototype.slice.call(arguments,2):o===3&&_r(r)&&(r=[r]),se(e,t,r))}const jie="3.4.37",Wie=Gn;/**
* @vue/runtime-dom v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const zie="http://www.w3.org/2000/svg",Kie="http://www.w3.org/1998/Math/MathML",al=typeof document!="undefined"?document:null,I3=al&&al.createElement("template"),Gie={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,o)=>{const a=t==="svg"?al.createElementNS(zie,e):t==="mathml"?al.createElementNS(Kie,e):r?al.createElement(e,{is:r}):al.createElement(e);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>al.createTextNode(e),createComment:e=>al.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>al.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,o,a,l){const c=r?r.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===l||!(a=a.nextSibling)););else{I3.innerHTML=o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e;const d=I3.content;if(o==="svg"||o==="mathml"){const h=d.firstChild;for(;h.firstChild;)d.appendChild(h.firstChild);d.removeChild(h)}t.insertBefore(d,r)}return[c?c.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},lc="transition",Wm="animation",vh=Symbol("_vtc"),eo=(e,{slots:t})=>Ot(Woe,FB(e),t);eo.displayName="Transition";const VB={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qie=eo.props=bo({},aB,VB),Hu=(e,t=[])=>{ht(e)?e.forEach(r=>r(...t)):e&&e(...t)},k3=e=>e?ht(e)?e.some(t=>t.length>1):e.length>1:!1;function FB(e){const t={};for(const W in e)W in VB||(t[W]=e[W]);if(e.css===!1)return t;const{name:r="v",type:o,duration:a,enterFromClass:l=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:d=`${r}-enter-to`,appearFromClass:h=l,appearActiveClass:m=c,appearToClass:g=d,leaveFromClass:v=`${r}-leave-from`,leaveActiveClass:_=`${r}-leave-active`,leaveToClass:S=`${r}-leave-to`}=e,T=Yie(a),b=T&&T[0],I=T&&T[1],{onBeforeEnter:C,onEnter:P,onEnterCancelled:R,onLeave:k,onLeaveCancelled:N,onBeforeAppear:O=C,onAppear:$=P,onAppearCancelled:L=R}=t,M=(W,re,ae)=>{fc(W,re?g:d),fc(W,re?m:c),ae&&ae()},U=(W,re)=>{W._isLeaving=!1,fc(W,v),fc(W,S),fc(W,_),re&&re()},j=W=>(re,ae)=>{const ee=W?$:P,G=()=>M(re,W,ae);Hu(ee,[re,G]),R3(()=>{fc(re,W?h:l),il(re,W?g:d),k3(ee)||A3(re,o,b,G)})};return bo(t,{onBeforeEnter(W){Hu(C,[W]),il(W,l),il(W,c)},onBeforeAppear(W){Hu(O,[W]),il(W,h),il(W,m)},onEnter:j(!1),onAppear:j(!0),onLeave(W,re){W._isLeaving=!0;const ae=()=>U(W,re);il(W,v),il(W,_),UB(),R3(()=>{!W._isLeaving||(fc(W,v),il(W,S),k3(k)||A3(W,o,I,ae))}),Hu(k,[W,ae])},onEnterCancelled(W){M(W,!1),Hu(R,[W])},onAppearCancelled(W){M(W,!0),Hu(L,[W])},onLeaveCancelled(W){U(W),Hu(N,[W])}})}function Yie(e){if(e==null)return null;if(nn(e))return[Xw(e.enter),Xw(e.leave)];{const t=Xw(e);return[t,t]}}function Xw(e){return noe(e)}function il(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[vh]||(e[vh]=new Set)).add(t)}function fc(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const r=e[vh];r&&(r.delete(t),r.size||(e[vh]=void 0))}function R3(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Jie=0;function A3(e,t,r,o){const a=e._endId=++Jie,l=()=>{a===e._endId&&o()};if(r)return setTimeout(l,r);const{type:c,timeout:d,propCount:h}=$B(e,t);if(!c)return o();const m=c+"end";let g=0;const v=()=>{e.removeEventListener(m,_),l()},_=S=>{S.target===e&&++g>=h&&v()};setTimeout(()=>{g<h&&v()},d+1),e.addEventListener(m,_)}function $B(e,t){const r=window.getComputedStyle(e),o=T=>(r[T]||"").split(", "),a=o(`${lc}Delay`),l=o(`${lc}Duration`),c=O3(a,l),d=o(`${Wm}Delay`),h=o(`${Wm}Duration`),m=O3(d,h);let g=null,v=0,_=0;t===lc?c>0&&(g=lc,v=c,_=l.length):t===Wm?m>0&&(g=Wm,v=m,_=h.length):(v=Math.max(c,m),g=v>0?c>m?lc:Wm:null,_=g?g===lc?l.length:h.length:0);const S=g===lc&&/\b(transform|all)(,|$)/.test(o(`${lc}Property`).toString());return{type:g,timeout:v,propCount:_,hasTransform:S}}function O3(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,o)=>N3(r)+N3(e[o])))}function N3(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function UB(){return document.body.offsetHeight}function Xie(e,t,r){const o=e[vh];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const zb=Symbol("_vod"),BB=Symbol("_vsh"),Nn={beforeMount(e,{value:t},{transition:r}){e[zb]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):zm(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:o}){!t!=!r&&(o?t?(o.beforeEnter(e),zm(e,!0),o.enter(e)):o.leave(e,()=>{zm(e,!1)}):zm(e,t))},beforeUnmount(e,{value:t}){zm(e,t)}};function zm(e,t){e.style.display=t?e[zb]:"none",e[BB]=!t}const Qie=Symbol(""),Zie=/(^|;)\s*display\s*:/;function eae(e,t,r){const o=e.style,a=Mt(r);let l=!1;if(r&&!a){if(t)if(Mt(t))for(const c of t.split(";")){const d=c.slice(0,c.indexOf(":")).trim();r[d]==null&&Eb(o,d,"")}else for(const c in t)r[c]==null&&Eb(o,c,"");for(const c in r)c==="display"&&(l=!0),Eb(o,c,r[c])}else if(a){if(t!==r){const c=o[Qie];c&&(r+=";"+c),o.cssText=r,l=Zie.test(r)}}else t&&e.removeAttribute("style");zb in e&&(e[zb]=l?o.display:"",e[BB]&&(o.display="none"))}const P3=/\s*!important$/;function Eb(e,t,r){if(ht(r))r.forEach(o=>Eb(e,t,o));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const o=tae(e,t);P3.test(r)?e.setProperty(vl(o),r.replace(P3,""),"important"):e[o]=r}}const D3=["Webkit","Moz","ms"],Qw={};function tae(e,t){const r=Qw[t];if(r)return r;let o=Wi(t);if(o!=="filter"&&o in e)return Qw[t]=o;o=ng(o);for(let a=0;a<D3.length;a++){const l=D3[a]+o;if(l in e)return Qw[t]=l}return t}const L3="http://www.w3.org/1999/xlink";function M3(e,t,r,o,a,l=loe(t)){o&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(L3,t.slice(6,t.length)):e.setAttributeNS(L3,t,r):r==null||l&&!L4(r)?e.removeAttribute(t):e.setAttribute(t,l?"":Ss(r)?String(r):r)}function nae(e,t,r,o){if(t==="innerHTML"||t==="textContent"){if(r==null)return;e[t]=r;return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?e.getAttribute("value")||"":e.value,d=r==null?"":String(r);(c!==d||!("_value"in e))&&(e.value=d),r==null&&e.removeAttribute(t),e._value=r;return}let l=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=L4(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function Ec(e,t,r,o){e.addEventListener(t,r,o)}function rae(e,t,r,o){e.removeEventListener(t,r,o)}const x3=Symbol("_vei");function oae(e,t,r,o,a=null){const l=e[x3]||(e[x3]={}),c=l[t];if(o&&c)c.value=o;else{const[d,h]=iae(t);if(o){const m=l[t]=lae(o,a);Ec(e,d,m,h)}else c&&(rae(e,d,c,h),l[t]=void 0)}}const V3=/(?:Once|Passive|Capture)$/;function iae(e){let t;if(V3.test(e)){t={};let o;for(;o=e.match(V3);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vl(e.slice(2)),t]}let Zw=0;const aae=Promise.resolve(),sae=()=>Zw||(aae.then(()=>Zw=0),Zw=Date.now());function lae(e,t){const r=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=r.attached)return;pa(cae(o,r.value),t,5,[o])};return r.value=e,r.attached=sae(),r}function cae(e,t){if(ht(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const F3=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,uae=(e,t,r,o,a,l)=>{const c=a==="svg";t==="class"?Xie(e,o,c):t==="style"?eae(e,r,o):g0(t)?E1(t)||oae(e,t,r,o,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dae(e,t,o,c))?(nae(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&M3(e,t,o,c,l,t!=="value")):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),M3(e,t,o,c))};function dae(e,t,r,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&F3(t)&&Lt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return F3(t)&&Mt(r)?!1:t in e}const HB=new WeakMap,jB=new WeakMap,Kb=Symbol("_moveCb"),$3=Symbol("_enterCb"),WB={name:"TransitionGroup",props:bo({},qie,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Qt(),o=iB();let a,l;return yl(()=>{if(!a.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!vae(a[0].el,r.vnode.el,c))return;a.forEach(hae),a.forEach(pae);const d=a.filter(mae);UB(),d.forEach(h=>{const m=h.el,g=m.style;il(m,c),g.transform=g.webkitTransform=g.transitionDuration="";const v=m[Kb]=_=>{_&&_.target!==m||(!_||/transform$/.test(_.propertyName))&&(m.removeEventListener("transitionend",v),m[Kb]=null,fc(m,c))};m.addEventListener("transitionend",v)})}),()=>{const c=er(e),d=FB(c);let h=c.tag||Tt;if(a=[],l)for(let m=0;m<l.length;m++){const g=l[m];g.el&&g.el instanceof Element&&(a.push(g),mh(g,Iv(g,d,o,r)),HB.set(g,g.el.getBoundingClientRect()))}l=t.default?$1(t.default()):[];for(let m=0;m<l.length;m++){const g=l[m];g.key!=null&&mh(g,Iv(g,d,o,r))}return se(h,null,l)}}},fae=e=>delete e.mode;WB.props;const zB=WB;function hae(e){const t=e.el;t[Kb]&&t[Kb](),t[$3]&&t[$3]()}function pae(e){jB.set(e,e.el.getBoundingClientRect())}function mae(e){const t=HB.get(e),r=jB.get(e),o=t.left-r.left,a=t.top-r.top;if(o||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${a}px)`,l.transitionDuration="0s",e}}function vae(e,t,r){const o=e.cloneNode(),a=e[vh];a&&a.forEach(d=>{d.split(/\s+/).forEach(h=>h&&o.classList.remove(h))}),r.split(/\s+/).forEach(d=>d&&o.classList.add(d)),o.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(o);const{hasTransform:c}=$B(o);return l.removeChild(o),c}const gh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ht(t)?r=>bb(t,r):t};function gae(e){e.target.composing=!0}function U3(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const fl=Symbol("_assign"),q1={created(e,{modifiers:{lazy:t,trim:r,number:o}},a){e[fl]=gh(a);const l=o||a.props&&a.props.type==="number";Ec(e,t?"change":"input",c=>{if(c.target.composing)return;let d=e.value;r&&(d=d.trim()),l&&(d=xI(d)),e[fl](d)}),r&&Ec(e,"change",()=>{e.value=e.value.trim()}),t||(Ec(e,"compositionstart",gae),Ec(e,"compositionend",U3),Ec(e,"change",U3))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:o,trim:a,number:l}},c){if(e[fl]=gh(c),e.composing)return;const d=(l||e.type==="number")&&!/^0\d/.test(e.value)?xI(e.value):e.value,h=t==null?"":t;d!==h&&(document.activeElement===e&&e.type!=="range"&&(o&&t===r||a&&e.value.trim()===h)||(e.value=h))}},Gb={deep:!0,created(e,t,r){e[fl]=gh(r),Ec(e,"change",()=>{const o=e._modelValue,a=GB(e),l=e.checked,c=e[fl];if(ht(o)){const d=M4(o,a),h=d!==-1;if(l&&!h)c(o.concat(a));else if(!l&&h){const m=[...o];m.splice(d,1),c(m)}}else if(y0(o)){const d=new Set(o);l?d.add(a):d.delete(a),c(d)}else c(qB(e,l))})},mounted:B3,beforeUpdate(e,t,r){e[fl]=gh(r),B3(e,t,r)}};function B3(e,{value:t,oldValue:r},o){e._modelValue=t,ht(t)?e.checked=M4(t,o.props.value)>-1:y0(t)?e.checked=t.has(o.props.value):t!==r&&(e.checked=hh(t,qB(e,!0)))}const KB={created(e,{value:t},r){e.checked=hh(t,r.props.value),e[fl]=gh(r),Ec(e,"change",()=>{e[fl](GB(e))})},beforeUpdate(e,{value:t,oldValue:r},o){e[fl]=gh(o),t!==r&&(e.checked=hh(t,o.props.value))}};function GB(e){return"_value"in e?e._value:e.value}function qB(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const yae=["ctrl","shift","alt","meta"],_ae={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yae.some(r=>e[`${r}Key`]&&!t.includes(r))},Vt=(e,t)=>{const r=e._withMods||(e._withMods={}),o=t.join(".");return r[o]||(r[o]=(a,...l)=>{for(let c=0;c<t.length;c++){const d=_ae[t[c]];if(d&&d(a,t))return}return e(a,...l)})},bae={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},or=(e,t)=>{const r=e._withKeys||(e._withKeys={}),o=t.join(".");return r[o]||(r[o]=a=>{if(!("key"in a))return;const l=vl(a.key);if(t.some(c=>c===l||bae[c]===l))return e(a)})},Sae=bo({patchProp:uae},Gie);let H3;function YB(){return H3||(H3=yie(Sae))}const Dc=(...e)=>{YB().render(...e)},JB=(...e)=>{const t=YB().createApp(...e),{mount:r}=t;return t.mount=o=>{const a=Tae(o);if(!a)return;const l=t._component;!Lt(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const c=r(a,!1,Eae(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),c},t};function Eae(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Tae(e){return Mt(e)?document.querySelector(e):e}const Cae='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',wae=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,j3=e=>Array.from(e.querySelectorAll(Cae)).filter(t=>Iae(t)&&wae(t)),Iae=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Tb=function(e,t,...r){let o;t.includes("mouse")||t.includes("click")?o="MouseEvents":t.includes("key")?o="KeyboardEvent":o="HTMLEvents";const a=document.createEvent(o);return a.initEvent(t,...r),e.dispatchEvent(a),e},XB=e=>!e.getAttribute("aria-owns"),QB=(e,t,r)=>{const{parentNode:o}=e;if(!o)return null;const a=o.querySelectorAll(r),l=Array.prototype.indexOf.call(a,e);return a[l+t]||null},Cb=e=>{!e||(e.focus(),!XB(e)&&e.click())},Rr=(e,t,{checkForDefaultPrevented:r=!0}={})=>a=>{const l=e==null?void 0:e(a);if(r===!1||!l)return t==null?void 0:t(a)},W3=e=>t=>t.pointerType==="mouse"?e(t):void 0;var kae=Object.defineProperty,Rae=Object.defineProperties,Aae=Object.getOwnPropertyDescriptors,z3=Object.getOwnPropertySymbols,Oae=Object.prototype.hasOwnProperty,Nae=Object.prototype.propertyIsEnumerable,K3=(e,t,r)=>t in e?kae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pae=(e,t)=>{for(var r in t||(t={}))Oae.call(t,r)&&K3(e,r,t[r]);if(z3)for(var r of z3(t))Nae.call(t,r)&&K3(e,r,t[r]);return e},Dae=(e,t)=>Rae(e,Aae(t));function G3(e,t){var r;const o=dr();return Po(()=>{o.value=e()},Dae(Pae({},t),{flush:(r=t==null?void 0:t.flush)!=null?r:"sync"})),Uh(o)}var q3;const Sn=typeof window!="undefined",Lae=e=>typeof e!="undefined",qI=e=>typeof e=="function",Mae=e=>typeof e=="string",yh=()=>{},YI=Sn&&((q3=window==null?void 0:window.navigator)==null?void 0:q3.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Lc(e){return typeof e=="function"?e():f(e)}function ZB(e,t){function r(...o){return new Promise((a,l)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(a).catch(l)})}return r}function xae(e,t={}){let r,o,a=yh;const l=d=>{clearTimeout(d),a(),a=yh};return d=>{const h=Lc(e),m=Lc(t.maxWait);return r&&l(r),h<=0||m!==void 0&&m<=0?(o&&(l(o),o=null),Promise.resolve(d())):new Promise((g,v)=>{a=t.rejectOnCancel?v:g,m&&!o&&(o=setTimeout(()=>{r&&l(r),o=null,g(d())},m)),r=setTimeout(()=>{o&&l(o),o=null,g(d())},h)})}}function Vae(e,t=!0,r=!0,o=!1){let a=0,l,c=!0,d=yh,h;const m=()=>{l&&(clearTimeout(l),l=void 0,d(),d=yh)};return v=>{const _=Lc(e),S=Date.now()-a,T=()=>h=v();return m(),_<=0?(a=Date.now(),T()):(S>_&&(r||!c)?(a=Date.now(),T()):t&&(h=new Promise((b,I)=>{d=o?I:b,l=setTimeout(()=>{a=Date.now(),c=!0,b(T()),m()},Math.max(0,_-S))})),!r&&!l&&(l=setTimeout(()=>c=!0,_)),c=!1,h)}}function Fae(e){return e}function $ae(e,t){let r,o,a;const l=q(!0),c=()=>{l.value=!0,a()};Ge(e,c,{flush:"sync"});const d=qI(t)?t:t.get,h=qI(t)?void 0:t.set,m=Moe((g,v)=>(o=g,a=v,{get(){return l.value&&(r=d(),l.value=!1),o(),r},set(_){h==null||h(_)}}));return Object.isExtensible(m)&&(m.trigger=c),m}function sg(e){return I1()?(k1(e),!0):!1}function Uae(e,t=200,r={}){return ZB(xae(t,r),e)}function Bae(e,t=200,r={}){const o=q(e.value),a=Uae(()=>{o.value=e.value},t,r);return Ge(e,()=>a()),o}function e8(e,t=200,r=!1,o=!0,a=!1){return ZB(Vae(t,r,o,a),e)}function Y1(e,t=!0){Qt()?Zt(e):t?e():wt(e)}function md(e,t,r={}){const{immediate:o=!0}=r,a=q(!1);let l=null;function c(){l&&(clearTimeout(l),l=null)}function d(){a.value=!1,c()}function h(...m){c(),a.value=!0,l=setTimeout(()=>{a.value=!1,l=null,e(...m)},Lc(t))}return o&&(a.value=!0,Sn&&h()),sg(d),{isPending:Uh(a),start:h,stop:d}}function Si(e){var t;const r=Lc(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Kc=Sn?window:void 0,Hae=Sn?window.document:void 0;function Zn(...e){let t,r,o,a;if(Mae(e[0])||Array.isArray(e[0])?([r,o,a]=e,t=Kc):[t,r,o,a]=e,!t)return yh;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const l=[],c=()=>{l.forEach(g=>g()),l.length=0},d=(g,v,_,S)=>(g.addEventListener(v,_,S),()=>g.removeEventListener(v,_,S)),h=Ge(()=>[Si(t),Lc(a)],([g,v])=>{c(),g&&l.push(...r.flatMap(_=>o.map(S=>d(g,_,S,v))))},{immediate:!0,flush:"post"}),m=()=>{h(),c()};return sg(m),m}let Y3=!1;function J1(e,t,r={}){const{window:o=Kc,ignore:a=[],capture:l=!0,detectIframe:c=!1}=r;if(!o)return;YI&&!Y3&&(Y3=!0,Array.from(o.document.body.children).forEach(_=>_.addEventListener("click",yh)));let d=!0;const h=_=>a.some(S=>{if(typeof S=="string")return Array.from(o.document.querySelectorAll(S)).some(T=>T===_.target||_.composedPath().includes(T));{const T=Si(S);return T&&(_.target===T||_.composedPath().includes(T))}}),g=[Zn(o,"click",_=>{const S=Si(e);if(!(!S||S===_.target||_.composedPath().includes(S))){if(_.detail===0&&(d=!h(_)),!d){d=!0;return}t(_)}},{passive:!0,capture:l}),Zn(o,"pointerdown",_=>{const S=Si(e);S&&(d=!_.composedPath().includes(S)&&!h(_))},{passive:!0}),c&&Zn(o,"blur",_=>{var S;const T=Si(e);((S=o.document.activeElement)==null?void 0:S.tagName)==="IFRAME"&&!(T!=null&&T.contains(o.document.activeElement))&&t(_)})].filter(Boolean);return()=>g.forEach(_=>_())}function jae(e={}){var t;const{window:r=Kc}=e,o=(t=e.document)!=null?t:r==null?void 0:r.document,a=$ae(()=>null,()=>o==null?void 0:o.activeElement);return r&&(Zn(r,"blur",l=>{l.relatedTarget===null&&a.trigger()},!0),Zn(r,"focus",a.trigger,!0)),a}function t8(e,t=!1){const r=q(),o=()=>r.value=Boolean(e());return o(),Y1(o,t),r}function Wae(e){return JSON.parse(JSON.stringify(e))}const JI=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},XI="__vueuse_ssr_handlers__";JI[XI]=JI[XI]||{};JI[XI];function zae(e,t,{window:r=Kc,initialValue:o=""}={}){const a=q(o),l=D(()=>{var c;return Si(t)||((c=r==null?void 0:r.document)==null?void 0:c.documentElement)});return Ge([l,()=>Lc(e)],([c,d])=>{var h;if(c&&r){const m=(h=r.getComputedStyle(c).getPropertyValue(d))==null?void 0:h.trim();a.value=m||o}},{immediate:!0}),Ge(a,c=>{var d;(d=l.value)!=null&&d.style&&l.value.style.setProperty(Lc(e),c)}),a}function Kae({document:e=Hae}={}){if(!e)return q("visible");const t=q(e.visibilityState);return Zn(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var J3=Object.getOwnPropertySymbols,Gae=Object.prototype.hasOwnProperty,qae=Object.prototype.propertyIsEnumerable,Yae=(e,t)=>{var r={};for(var o in e)Gae.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&J3)for(var o of J3(e))t.indexOf(o)<0&&qae.call(e,o)&&(r[o]=e[o]);return r};function Sr(e,t,r={}){const o=r,{window:a=Kc}=o,l=Yae(o,["window"]);let c;const d=t8(()=>a&&"ResizeObserver"in a),h=()=>{c&&(c.disconnect(),c=void 0)},m=Ge(()=>Si(e),v=>{h(),d.value&&a&&v&&(c=new ResizeObserver(t),c.observe(v,l))},{immediate:!0,flush:"post"}),g=()=>{h(),m()};return sg(g),{isSupported:d,stop:g}}function X3(e,t={}){const{reset:r=!0,windowResize:o=!0,windowScroll:a=!0,immediate:l=!0}=t,c=q(0),d=q(0),h=q(0),m=q(0),g=q(0),v=q(0),_=q(0),S=q(0);function T(){const b=Si(e);if(!b){r&&(c.value=0,d.value=0,h.value=0,m.value=0,g.value=0,v.value=0,_.value=0,S.value=0);return}const I=b.getBoundingClientRect();c.value=I.height,d.value=I.bottom,h.value=I.left,m.value=I.right,g.value=I.top,v.value=I.width,_.value=I.x,S.value=I.y}return Sr(e,T),Ge(()=>Si(e),b=>!b&&T()),a&&Zn("scroll",T,{capture:!0,passive:!0}),o&&Zn("resize",T,{passive:!0}),Y1(()=>{l&&T()}),{height:c,bottom:d,left:h,right:m,top:g,width:v,x:_,y:S,update:T}}var Q3=Object.getOwnPropertySymbols,Jae=Object.prototype.hasOwnProperty,Xae=Object.prototype.propertyIsEnumerable,Qae=(e,t)=>{var r={};for(var o in e)Jae.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Q3)for(var o of Q3(e))t.indexOf(o)<0&&Xae.call(e,o)&&(r[o]=e[o]);return r};function n8(e,t,r={}){const o=r,{window:a=Kc}=o,l=Qae(o,["window"]);let c;const d=t8(()=>a&&"MutationObserver"in a),h=()=>{c&&(c.disconnect(),c=void 0)},m=Ge(()=>Si(e),v=>{h(),d.value&&a&&v&&(c=new MutationObserver(t),c.observe(v,l))},{immediate:!0}),g=()=>{h(),m()};return sg(g),{isSupported:d,stop:g}}var Z3;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Z3||(Z3={}));var Zae=Object.defineProperty,eF=Object.getOwnPropertySymbols,ese=Object.prototype.hasOwnProperty,tse=Object.prototype.propertyIsEnumerable,tF=(e,t,r)=>t in e?Zae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nse=(e,t)=>{for(var r in t||(t={}))ese.call(t,r)&&tF(e,r,t[r]);if(eF)for(var r of eF(t))tse.call(t,r)&&tF(e,r,t[r]);return e};const rse={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};nse({linear:Fae},rse);function r8(e,t,r,o={}){var a,l,c;const{clone:d=!1,passive:h=!1,eventName:m,deep:g=!1,defaultValue:v}=o,_=Qt(),S=r||(_==null?void 0:_.emit)||((a=_==null?void 0:_.$emit)==null?void 0:a.bind(_))||((c=(l=_==null?void 0:_.proxy)==null?void 0:l.$emit)==null?void 0:c.bind(_==null?void 0:_.proxy));let T=m;t||(t="modelValue"),T=m||T||`update:${t.toString()}`;const b=C=>d?qI(d)?d(C):Wae(C):C,I=()=>Lae(e[t])?b(e[t]):v;if(h){const C=I(),P=q(C);return Ge(()=>e[t],R=>P.value=b(R)),Ge(P,R=>{(R!==e[t]||g)&&S(T,R)},{deep:g}),P}else return D({get(){return I()},set(C){S(T,C)}})}function ose({window:e=Kc}={}){if(!e)return q(!1);const t=q(e.document.hasFocus());return Zn(e,"blur",()=>{t.value=!1}),Zn(e,"focus",()=>{t.value=!0}),t}function ise(e={}){const{window:t=Kc,initialWidth:r=1/0,initialHeight:o=1/0,listenOrientation:a=!0,includeScrollbar:l=!0}=e,c=q(r),d=q(o),h=()=>{t&&(l?(c.value=t.innerWidth,d.value=t.innerHeight):(c.value=t.document.documentElement.clientWidth,d.value=t.document.documentElement.clientHeight))};return h(),Y1(h),Zn("resize",h,{passive:!0}),a&&Zn("orientationchange",h,{passive:!0}),{width:c,height:d}}const X1=()=>Sn&&/firefox/i.test(window.navigator.userAgent),ase=(e,t)=>{if(!Sn||!e||!t)return!1;const r=e.getBoundingClientRect();let o;return t instanceof Element?o=t.getBoundingClientRect():o={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<o.bottom&&r.bottom>o.top&&r.right>o.left&&r.left<o.right},nF=e=>{let t=0,r=e;for(;r;)t+=r.offsetTop,r=r.offsetParent;return t},QI=(e,t)=>Math.abs(nF(e)-nF(t)),Q1=e=>{let t,r;return e.type==="touchend"?(r=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(r=e.touches[0].clientY,t=e.touches[0].clientX):(r=e.clientY,t=e.clientX),{clientX:t,clientY:r}};function sse(e,t,r,o){const a=r-t;return e/=o/2,e<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t}var lse=typeof global=="object"&&global&&global.Object===Object&&global,o8=lse,cse=typeof self=="object"&&self&&self.Object===Object&&self,use=o8||cse||Function("return this")(),za=use,dse=za.Symbol,va=dse,i8=Object.prototype,fse=i8.hasOwnProperty,hse=i8.toString,Km=va?va.toStringTag:void 0;function pse(e){var t=fse.call(e,Km),r=e[Km];try{e[Km]=void 0;var o=!0}catch{}var a=hse.call(e);return o&&(t?e[Km]=r:delete e[Km]),a}var mse=Object.prototype,vse=mse.toString;function gse(e){return vse.call(e)}var yse="[object Null]",_se="[object Undefined]",rF=va?va.toStringTag:void 0;function wd(e){return e==null?e===void 0?_se:yse:rF&&rF in Object(e)?pse(e):gse(e)}function Es(e){return e!=null&&typeof e=="object"}var bse="[object Symbol]";function O0(e){return typeof e=="symbol"||Es(e)&&wd(e)==bse}function Z1(e,t){for(var r=-1,o=e==null?0:e.length,a=Array(o);++r<o;)a[r]=t(e[r],r,e);return a}var Sse=Array.isArray,li=Sse,Ese=1/0,oF=va?va.prototype:void 0,iF=oF?oF.toString:void 0;function a8(e){if(typeof e=="string")return e;if(li(e))return Z1(e,a8)+"";if(O0(e))return iF?iF.call(e):"";var t=e+"";return t=="0"&&1/e==-Ese?"-0":t}var Tse=/\s/;function Cse(e){for(var t=e.length;t--&&Tse.test(e.charAt(t)););return t}var wse=/^\s+/;function Ise(e){return e&&e.slice(0,Cse(e)+1).replace(wse,"")}function ci(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var aF=0/0,kse=/^[-+]0x[0-9a-f]+$/i,Rse=/^0b[01]+$/i,Ase=/^0o[0-7]+$/i,Ose=parseInt;function ZI(e){if(typeof e=="number")return e;if(O0(e))return aF;if(ci(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ci(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ise(e);var r=Rse.test(e);return r||Ase.test(e)?Ose(e.slice(2),r?2:8):kse.test(e)?aF:+e}var sF=1/0,Nse=17976931348623157e292;function Pse(e){if(!e)return e===0?e:0;if(e=ZI(e),e===sF||e===-sF){var t=e<0?-1:1;return t*Nse}return e===e?e:0}function Dse(e){var t=Pse(e),r=t%1;return t===t?r?t-r:t:0}function eR(e){return e}var Lse="[object AsyncFunction]",Mse="[object Function]",xse="[object GeneratorFunction]",Vse="[object Proxy]";function tR(e){if(!ci(e))return!1;var t=wd(e);return t==Mse||t==xse||t==Lse||t==Vse}var Fse=za["__core-js_shared__"],eI=Fse,lF=function(){var e=/[^.]+$/.exec(eI&&eI.keys&&eI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $se(e){return!!lF&&lF in e}var Use=Function.prototype,Bse=Use.toString;function Id(e){if(e!=null){try{return Bse.call(e)}catch{}try{return e+""}catch{}}return""}var Hse=/[\\^$.*+?()[\]{}|]/g,jse=/^\[object .+?Constructor\]$/,Wse=Function.prototype,zse=Object.prototype,Kse=Wse.toString,Gse=zse.hasOwnProperty,qse=RegExp("^"+Kse.call(Gse).replace(Hse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yse(e){if(!ci(e)||$se(e))return!1;var t=tR(e)?qse:jse;return t.test(Id(e))}function Jse(e,t){return e==null?void 0:e[t]}function kd(e,t){var r=Jse(e,t);return Yse(r)?r:void 0}var Xse=kd(za,"WeakMap"),ek=Xse,cF=Object.create,Qse=function(){function e(){}return function(t){if(!ci(t))return{};if(cF)return cF(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Zse=Qse;function ele(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function tle(){}function s8(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}var nle=800,rle=16,ole=Date.now;function ile(e){var t=0,r=0;return function(){var o=ole(),a=rle-(o-r);if(r=o,a>0){if(++t>=nle)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ale(e){return function(){return e}}var sle=function(){try{var e=kd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qb=sle,lle=qb?function(e,t){return qb(e,"toString",{configurable:!0,enumerable:!1,value:ale(t),writable:!0})}:eR,cle=lle,ule=ile(cle),l8=ule;function dle(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e}function c8(e,t,r,o){for(var a=e.length,l=r+(o?1:-1);o?l--:++l<a;)if(t(e[l],l,e))return l;return-1}function fle(e){return e!==e}function hle(e,t,r){for(var o=r-1,a=e.length;++o<a;)if(e[o]===t)return o;return-1}function ple(e,t,r){return t===t?hle(e,t,r):c8(e,fle,r)}function mle(e,t){var r=e==null?0:e.length;return!!r&&ple(e,t,0)>-1}var vle=9007199254740991,gle=/^(?:0|[1-9]\d*)$/;function N0(e,t){var r=typeof e;return t=t==null?vle:t,!!t&&(r=="number"||r!="symbol"&&gle.test(e))&&e>-1&&e%1==0&&e<t}function nR(e,t,r){t=="__proto__"&&qb?qb(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function lg(e,t){return e===t||e!==e&&t!==t}var yle=Object.prototype,_le=yle.hasOwnProperty;function rR(e,t,r){var o=e[t];(!(_le.call(e,t)&&lg(o,r))||r===void 0&&!(t in e))&&nR(e,t,r)}function Bh(e,t,r,o){var a=!r;r||(r={});for(var l=-1,c=t.length;++l<c;){var d=t[l],h=o?o(r[d],e[d],d,r,e):void 0;h===void 0&&(h=e[d]),a?nR(r,d,h):rR(r,d,h)}return r}var uF=Math.max;function u8(e,t,r){return t=uF(t===void 0?e.length-1:t,0),function(){for(var o=arguments,a=-1,l=uF(o.length-t,0),c=Array(l);++a<l;)c[a]=o[t+a];a=-1;for(var d=Array(t+1);++a<t;)d[a]=o[a];return d[t]=r(c),ele(e,this,d)}}function d8(e,t){return l8(u8(e,t,eR),e+"")}var ble=9007199254740991;function oR(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ble}function Hh(e){return e!=null&&oR(e.length)&&!tR(e)}function Sle(e,t,r){if(!ci(r))return!1;var o=typeof t;return(o=="number"?Hh(r)&&N0(t,r.length):o=="string"&&t in r)?lg(r[t],e):!1}function Ele(e){return d8(function(t,r){var o=-1,a=r.length,l=a>1?r[a-1]:void 0,c=a>2?r[2]:void 0;for(l=e.length>3&&typeof l=="function"?(a--,l):void 0,c&&Sle(r[0],r[1],c)&&(l=a<3?void 0:l,a=1),t=Object(t);++o<a;){var d=r[o];d&&e(t,d,o,l)}return t})}var Tle=Object.prototype;function iR(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Tle;return e===r}function Cle(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var wle="[object Arguments]";function dF(e){return Es(e)&&wd(e)==wle}var f8=Object.prototype,Ile=f8.hasOwnProperty,kle=f8.propertyIsEnumerable,Rle=dF(function(){return arguments}())?dF:function(e){return Es(e)&&Ile.call(e,"callee")&&!kle.call(e,"callee")},Rv=Rle;function Ale(){return!1}var h8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fF=h8&&typeof module=="object"&&module&&!module.nodeType&&module,Ole=fF&&fF.exports===h8,hF=Ole?za.Buffer:void 0,Nle=hF?hF.isBuffer:void 0,Ple=Nle||Ale,Av=Ple,Dle="[object Arguments]",Lle="[object Array]",Mle="[object Boolean]",xle="[object Date]",Vle="[object Error]",Fle="[object Function]",$le="[object Map]",Ule="[object Number]",Ble="[object Object]",Hle="[object RegExp]",jle="[object Set]",Wle="[object String]",zle="[object WeakMap]",Kle="[object ArrayBuffer]",Gle="[object DataView]",qle="[object Float32Array]",Yle="[object Float64Array]",Jle="[object Int8Array]",Xle="[object Int16Array]",Qle="[object Int32Array]",Zle="[object Uint8Array]",ece="[object Uint8ClampedArray]",tce="[object Uint16Array]",nce="[object Uint32Array]",Lr={};Lr[qle]=Lr[Yle]=Lr[Jle]=Lr[Xle]=Lr[Qle]=Lr[Zle]=Lr[ece]=Lr[tce]=Lr[nce]=!0;Lr[Dle]=Lr[Lle]=Lr[Kle]=Lr[Mle]=Lr[Gle]=Lr[xle]=Lr[Vle]=Lr[Fle]=Lr[$le]=Lr[Ule]=Lr[Ble]=Lr[Hle]=Lr[jle]=Lr[Wle]=Lr[zle]=!1;function rce(e){return Es(e)&&oR(e.length)&&!!Lr[wd(e)]}function aR(e){return function(t){return e(t)}}var p8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fv=p8&&typeof module=="object"&&module&&!module.nodeType&&module,oce=fv&&fv.exports===p8,tI=oce&&o8.process,ice=function(){try{var e=fv&&fv.require&&fv.require("util").types;return e||tI&&tI.binding&&tI.binding("util")}catch{}}(),_h=ice,pF=_h&&_h.isTypedArray,ace=pF?aR(pF):rce,sR=ace,sce=Object.prototype,lce=sce.hasOwnProperty;function m8(e,t){var r=li(e),o=!r&&Rv(e),a=!r&&!o&&Av(e),l=!r&&!o&&!a&&sR(e),c=r||o||a||l,d=c?Cle(e.length,String):[],h=d.length;for(var m in e)(t||lce.call(e,m))&&!(c&&(m=="length"||a&&(m=="offset"||m=="parent")||l&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||N0(m,h)))&&d.push(m);return d}function v8(e,t){return function(r){return e(t(r))}}var cce=v8(Object.keys,Object),uce=cce,dce=Object.prototype,fce=dce.hasOwnProperty;function hce(e){if(!iR(e))return uce(e);var t=[];for(var r in Object(e))fce.call(e,r)&&r!="constructor"&&t.push(r);return t}function cg(e){return Hh(e)?m8(e):hce(e)}function pce(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var mce=Object.prototype,vce=mce.hasOwnProperty;function gce(e){if(!ci(e))return pce(e);var t=iR(e),r=[];for(var o in e)o=="constructor"&&(t||!vce.call(e,o))||r.push(o);return r}function ug(e){return Hh(e)?m8(e,!0):gce(e)}var yce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_ce=/^\w*$/;function lR(e,t){if(li(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||O0(e)?!0:_ce.test(e)||!yce.test(e)||t!=null&&e in Object(t)}var bce=kd(Object,"create"),Ov=bce;function Sce(){this.__data__=Ov?Ov(null):{},this.size=0}function Ece(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Tce="__lodash_hash_undefined__",Cce=Object.prototype,wce=Cce.hasOwnProperty;function Ice(e){var t=this.__data__;if(Ov){var r=t[e];return r===Tce?void 0:r}return wce.call(t,e)?t[e]:void 0}var kce=Object.prototype,Rce=kce.hasOwnProperty;function Ace(e){var t=this.__data__;return Ov?t[e]!==void 0:Rce.call(t,e)}var Oce="__lodash_hash_undefined__";function Nce(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ov&&t===void 0?Oce:t,this}function vd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}vd.prototype.clear=Sce;vd.prototype.delete=Ece;vd.prototype.get=Ice;vd.prototype.has=Ace;vd.prototype.set=Nce;function Pce(){this.__data__=[],this.size=0}function P0(e,t){for(var r=e.length;r--;)if(lg(e[r][0],t))return r;return-1}var Dce=Array.prototype,Lce=Dce.splice;function Mce(e){var t=this.__data__,r=P0(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():Lce.call(t,r,1),--this.size,!0}function xce(e){var t=this.__data__,r=P0(t,e);return r<0?void 0:t[r][1]}function Vce(e){return P0(this.__data__,e)>-1}function Fce(e,t){var r=this.__data__,o=P0(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}function bl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}bl.prototype.clear=Pce;bl.prototype.delete=Mce;bl.prototype.get=xce;bl.prototype.has=Vce;bl.prototype.set=Fce;var $ce=kd(za,"Map"),Nv=$ce;function Uce(){this.size=0,this.__data__={hash:new vd,map:new(Nv||bl),string:new vd}}function Bce(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function D0(e,t){var r=e.__data__;return Bce(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Hce(e){var t=D0(this,e).delete(e);return this.size-=t?1:0,t}function jce(e){return D0(this,e).get(e)}function Wce(e){return D0(this,e).has(e)}function zce(e,t){var r=D0(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}function Sl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Sl.prototype.clear=Uce;Sl.prototype.delete=Hce;Sl.prototype.get=jce;Sl.prototype.has=Wce;Sl.prototype.set=zce;var Kce="Expected a function";function L0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Kce);var r=function(){var o=arguments,a=t?t.apply(this,o):o[0],l=r.cache;if(l.has(a))return l.get(a);var c=e.apply(this,o);return r.cache=l.set(a,c)||l,c};return r.cache=new(L0.Cache||Sl),r}L0.Cache=Sl;var Gce=500;function qce(e){var t=L0(e,function(o){return r.size===Gce&&r.clear(),o}),r=t.cache;return t}var Yce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jce=/\\(\\)?/g,Xce=qce(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yce,function(r,o,a,l){t.push(a?l.replace(Jce,"$1"):o||r)}),t}),Qce=Xce;function Zce(e){return e==null?"":a8(e)}function jh(e,t){return li(e)?e:lR(e,t)?[e]:Qce(Zce(e))}var eue=1/0;function Wh(e){if(typeof e=="string"||O0(e))return e;var t=e+"";return t=="0"&&1/e==-eue?"-0":t}function M0(e,t){t=jh(t,e);for(var r=0,o=t.length;e!=null&&r<o;)e=e[Wh(t[r++])];return r&&r==o?e:void 0}function Mr(e,t,r){var o=e==null?void 0:M0(e,t);return o===void 0?r:o}function cR(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}var mF=va?va.isConcatSpreadable:void 0;function tue(e){return li(e)||Rv(e)||!!(mF&&e&&e[mF])}function dg(e,t,r,o,a){var l=-1,c=e.length;for(r||(r=tue),a||(a=[]);++l<c;){var d=e[l];t>0&&r(d)?t>1?dg(d,t-1,r,o,a):cR(a,d):o||(a[a.length]=d)}return a}function g8(e){var t=e==null?0:e.length;return t?dg(e,1):[]}function y8(e){return l8(u8(e,void 0,g8),e+"")}var nue=v8(Object.getPrototypeOf,Object),uR=nue,rue="[object Object]",oue=Function.prototype,iue=Object.prototype,_8=oue.toString,aue=iue.hasOwnProperty,sue=_8.call(Object);function b8(e){if(!Es(e)||wd(e)!=rue)return!1;var t=uR(e);if(t===null)return!0;var r=aue.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&_8.call(r)==sue}function lue(e,t,r){var o=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var l=Array(a);++o<a;)l[o]=e[o+t];return l}function Wo(){if(!arguments.length)return[];var e=arguments[0];return li(e)?e:[e]}function cue(){this.__data__=new bl,this.size=0}function uue(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function due(e){return this.__data__.get(e)}function fue(e){return this.__data__.has(e)}var hue=200;function pue(e,t){var r=this.__data__;if(r instanceof bl){var o=r.__data__;if(!Nv||o.length<hue-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Sl(o)}return r.set(e,t),this.size=r.size,this}function $a(e){var t=this.__data__=new bl(e);this.size=t.size}$a.prototype.clear=cue;$a.prototype.delete=uue;$a.prototype.get=due;$a.prototype.has=fue;$a.prototype.set=pue;function mue(e,t){return e&&Bh(t,cg(t),e)}function vue(e,t){return e&&Bh(t,ug(t),e)}var S8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vF=S8&&typeof module=="object"&&module&&!module.nodeType&&module,gue=vF&&vF.exports===S8,gF=gue?za.Buffer:void 0,yF=gF?gF.allocUnsafe:void 0;function E8(e,t){if(t)return e.slice();var r=e.length,o=yF?yF(r):new e.constructor(r);return e.copy(o),o}function yue(e,t){for(var r=-1,o=e==null?0:e.length,a=0,l=[];++r<o;){var c=e[r];t(c,r,e)&&(l[a++]=c)}return l}function T8(){return[]}var _ue=Object.prototype,bue=_ue.propertyIsEnumerable,_F=Object.getOwnPropertySymbols,Sue=_F?function(e){return e==null?[]:(e=Object(e),yue(_F(e),function(t){return bue.call(e,t)}))}:T8,dR=Sue;function Eue(e,t){return Bh(e,dR(e),t)}var Tue=Object.getOwnPropertySymbols,Cue=Tue?function(e){for(var t=[];e;)cR(t,dR(e)),e=uR(e);return t}:T8,C8=Cue;function wue(e,t){return Bh(e,C8(e),t)}function w8(e,t,r){var o=t(e);return li(e)?o:cR(o,r(e))}function tk(e){return w8(e,cg,dR)}function I8(e){return w8(e,ug,C8)}var Iue=kd(za,"DataView"),nk=Iue,kue=kd(za,"Promise"),rk=kue,Rue=kd(za,"Set"),sh=Rue,bF="[object Map]",Aue="[object Object]",SF="[object Promise]",EF="[object Set]",TF="[object WeakMap]",CF="[object DataView]",Oue=Id(nk),Nue=Id(Nv),Pue=Id(rk),Due=Id(sh),Lue=Id(ek),Gu=wd;(nk&&Gu(new nk(new ArrayBuffer(1)))!=CF||Nv&&Gu(new Nv)!=bF||rk&&Gu(rk.resolve())!=SF||sh&&Gu(new sh)!=EF||ek&&Gu(new ek)!=TF)&&(Gu=function(e){var t=wd(e),r=t==Aue?e.constructor:void 0,o=r?Id(r):"";if(o)switch(o){case Oue:return CF;case Nue:return bF;case Pue:return SF;case Due:return EF;case Lue:return TF}return t});var Pv=Gu,Mue=Object.prototype,xue=Mue.hasOwnProperty;function Vue(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&xue.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Fue=za.Uint8Array,Yb=Fue;function fR(e){var t=new e.constructor(e.byteLength);return new Yb(t).set(new Yb(e)),t}function $ue(e,t){var r=t?fR(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Uue=/\w*$/;function Bue(e){var t=new e.constructor(e.source,Uue.exec(e));return t.lastIndex=e.lastIndex,t}var wF=va?va.prototype:void 0,IF=wF?wF.valueOf:void 0;function Hue(e){return IF?Object(IF.call(e)):{}}function k8(e,t){var r=t?fR(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var jue="[object Boolean]",Wue="[object Date]",zue="[object Map]",Kue="[object Number]",Gue="[object RegExp]",que="[object Set]",Yue="[object String]",Jue="[object Symbol]",Xue="[object ArrayBuffer]",Que="[object DataView]",Zue="[object Float32Array]",ede="[object Float64Array]",tde="[object Int8Array]",nde="[object Int16Array]",rde="[object Int32Array]",ode="[object Uint8Array]",ide="[object Uint8ClampedArray]",ade="[object Uint16Array]",sde="[object Uint32Array]";function lde(e,t,r){var o=e.constructor;switch(t){case Xue:return fR(e);case jue:case Wue:return new o(+e);case Que:return $ue(e,r);case Zue:case ede:case tde:case nde:case rde:case ode:case ide:case ade:case sde:return k8(e,r);case zue:return new o;case Kue:case Yue:return new o(e);case Gue:return Bue(e);case que:return new o;case Jue:return Hue(e)}}function R8(e){return typeof e.constructor=="function"&&!iR(e)?Zse(uR(e)):{}}var cde="[object Map]";function ude(e){return Es(e)&&Pv(e)==cde}var kF=_h&&_h.isMap,dde=kF?aR(kF):ude,fde=dde,hde="[object Set]";function pde(e){return Es(e)&&Pv(e)==hde}var RF=_h&&_h.isSet,mde=RF?aR(RF):pde,vde=mde,gde=1,yde=2,_de=4,A8="[object Arguments]",bde="[object Array]",Sde="[object Boolean]",Ede="[object Date]",Tde="[object Error]",O8="[object Function]",Cde="[object GeneratorFunction]",wde="[object Map]",Ide="[object Number]",N8="[object Object]",kde="[object RegExp]",Rde="[object Set]",Ade="[object String]",Ode="[object Symbol]",Nde="[object WeakMap]",Pde="[object ArrayBuffer]",Dde="[object DataView]",Lde="[object Float32Array]",Mde="[object Float64Array]",xde="[object Int8Array]",Vde="[object Int16Array]",Fde="[object Int32Array]",$de="[object Uint8Array]",Ude="[object Uint8ClampedArray]",Bde="[object Uint16Array]",Hde="[object Uint32Array]",Ir={};Ir[A8]=Ir[bde]=Ir[Pde]=Ir[Dde]=Ir[Sde]=Ir[Ede]=Ir[Lde]=Ir[Mde]=Ir[xde]=Ir[Vde]=Ir[Fde]=Ir[wde]=Ir[Ide]=Ir[N8]=Ir[kde]=Ir[Rde]=Ir[Ade]=Ir[Ode]=Ir[$de]=Ir[Ude]=Ir[Bde]=Ir[Hde]=!0;Ir[Tde]=Ir[O8]=Ir[Nde]=!1;function lh(e,t,r,o,a,l){var c,d=t&gde,h=t&yde,m=t&_de;if(r&&(c=a?r(e,o,a,l):r(e)),c!==void 0)return c;if(!ci(e))return e;var g=li(e);if(g){if(c=Vue(e),!d)return s8(e,c)}else{var v=Pv(e),_=v==O8||v==Cde;if(Av(e))return E8(e,d);if(v==N8||v==A8||_&&!a){if(c=h||_?{}:R8(e),!d)return h?wue(e,vue(c,e)):Eue(e,mue(c,e))}else{if(!Ir[v])return a?e:{};c=lde(e,v,d)}}l||(l=new $a);var S=l.get(e);if(S)return S;l.set(e,c),vde(e)?e.forEach(function(I){c.add(lh(I,t,r,I,e,l))}):fde(e)&&e.forEach(function(I,C){c.set(C,lh(I,t,r,C,e,l))});var T=m?h?I8:tk:h?ug:cg,b=g?void 0:T(e);return dle(b||e,function(I,C){b&&(C=I,I=e[C]),rR(c,C,lh(I,t,r,C,e,l))}),c}var jde=4;function AF(e){return lh(e,jde)}var Wde=1,zde=4;function Jb(e){return lh(e,Wde|zde)}var Kde="__lodash_hash_undefined__";function Gde(e){return this.__data__.set(e,Kde),this}function qde(e){return this.__data__.has(e)}function Dv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Sl;++t<r;)this.add(e[t])}Dv.prototype.add=Dv.prototype.push=Gde;Dv.prototype.has=qde;function Yde(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}function P8(e,t){return e.has(t)}var Jde=1,Xde=2;function D8(e,t,r,o,a,l){var c=r&Jde,d=e.length,h=t.length;if(d!=h&&!(c&&h>d))return!1;var m=l.get(e),g=l.get(t);if(m&&g)return m==t&&g==e;var v=-1,_=!0,S=r&Xde?new Dv:void 0;for(l.set(e,t),l.set(t,e);++v<d;){var T=e[v],b=t[v];if(o)var I=c?o(b,T,v,t,e,l):o(T,b,v,e,t,l);if(I!==void 0){if(I)continue;_=!1;break}if(S){if(!Yde(t,function(C,P){if(!P8(S,P)&&(T===C||a(T,C,r,o,l)))return S.push(P)})){_=!1;break}}else if(!(T===b||a(T,b,r,o,l))){_=!1;break}}return l.delete(e),l.delete(t),_}function Qde(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}function hR(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var Zde=1,efe=2,tfe="[object Boolean]",nfe="[object Date]",rfe="[object Error]",ofe="[object Map]",ife="[object Number]",afe="[object RegExp]",sfe="[object Set]",lfe="[object String]",cfe="[object Symbol]",ufe="[object ArrayBuffer]",dfe="[object DataView]",OF=va?va.prototype:void 0,nI=OF?OF.valueOf:void 0;function ffe(e,t,r,o,a,l,c){switch(r){case dfe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ufe:return!(e.byteLength!=t.byteLength||!l(new Yb(e),new Yb(t)));case tfe:case nfe:case ife:return lg(+e,+t);case rfe:return e.name==t.name&&e.message==t.message;case afe:case lfe:return e==t+"";case ofe:var d=Qde;case sfe:var h=o&Zde;if(d||(d=hR),e.size!=t.size&&!h)return!1;var m=c.get(e);if(m)return m==t;o|=efe,c.set(e,t);var g=D8(d(e),d(t),o,a,l,c);return c.delete(e),g;case cfe:if(nI)return nI.call(e)==nI.call(t)}return!1}var hfe=1,pfe=Object.prototype,mfe=pfe.hasOwnProperty;function vfe(e,t,r,o,a,l){var c=r&hfe,d=tk(e),h=d.length,m=tk(t),g=m.length;if(h!=g&&!c)return!1;for(var v=h;v--;){var _=d[v];if(!(c?_ in t:mfe.call(t,_)))return!1}var S=l.get(e),T=l.get(t);if(S&&T)return S==t&&T==e;var b=!0;l.set(e,t),l.set(t,e);for(var I=c;++v<h;){_=d[v];var C=e[_],P=t[_];if(o)var R=c?o(P,C,_,t,e,l):o(C,P,_,e,t,l);if(!(R===void 0?C===P||a(C,P,r,o,l):R)){b=!1;break}I||(I=_=="constructor")}if(b&&!I){var k=e.constructor,N=t.constructor;k!=N&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof N=="function"&&N instanceof N)&&(b=!1)}return l.delete(e),l.delete(t),b}var gfe=1,NF="[object Arguments]",PF="[object Array]",eb="[object Object]",yfe=Object.prototype,DF=yfe.hasOwnProperty;function _fe(e,t,r,o,a,l){var c=li(e),d=li(t),h=c?PF:Pv(e),m=d?PF:Pv(t);h=h==NF?eb:h,m=m==NF?eb:m;var g=h==eb,v=m==eb,_=h==m;if(_&&Av(e)){if(!Av(t))return!1;c=!0,g=!1}if(_&&!g)return l||(l=new $a),c||sR(e)?D8(e,t,r,o,a,l):ffe(e,t,h,r,o,a,l);if(!(r&gfe)){var S=g&&DF.call(e,"__wrapped__"),T=v&&DF.call(t,"__wrapped__");if(S||T){var b=S?e.value():e,I=T?t.value():t;return l||(l=new $a),a(b,I,r,o,l)}}return _?(l||(l=new $a),vfe(e,t,r,o,a,l)):!1}function x0(e,t,r,o,a){return e===t?!0:e==null||t==null||!Es(e)&&!Es(t)?e!==e&&t!==t:_fe(e,t,r,o,x0,a)}var bfe=1,Sfe=2;function Efe(e,t,r,o){var a=r.length,l=a,c=!o;if(e==null)return!l;for(e=Object(e);a--;){var d=r[a];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<l;){d=r[a];var h=d[0],m=e[h],g=d[1];if(c&&d[2]){if(m===void 0&&!(h in e))return!1}else{var v=new $a;if(o)var _=o(m,g,h,e,t,v);if(!(_===void 0?x0(g,m,bfe|Sfe,o,v):_))return!1}}return!0}function L8(e){return e===e&&!ci(e)}function Tfe(e){for(var t=cg(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,L8(a)]}return t}function M8(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function Cfe(e){var t=Tfe(e);return t.length==1&&t[0][2]?M8(t[0][0],t[0][1]):function(r){return r===e||Efe(r,e,t)}}function wfe(e,t){return e!=null&&t in Object(e)}function Ife(e,t,r){t=jh(t,e);for(var o=-1,a=t.length,l=!1;++o<a;){var c=Wh(t[o]);if(!(l=e!=null&&r(e,c)))break;e=e[c]}return l||++o!=a?l:(a=e==null?0:e.length,!!a&&oR(a)&&N0(c,a)&&(li(e)||Rv(e)))}function x8(e,t){return e!=null&&Ife(e,t,wfe)}var kfe=1,Rfe=2;function Afe(e,t){return lR(e)&&L8(t)?M8(Wh(e),t):function(r){var o=Mr(r,e);return o===void 0&&o===t?x8(r,e):x0(t,o,kfe|Rfe)}}function Ofe(e){return function(t){return t==null?void 0:t[e]}}function Nfe(e){return function(t){return M0(t,e)}}function Pfe(e){return lR(e)?Ofe(Wh(e)):Nfe(e)}function V8(e){return typeof e=="function"?e:e==null?eR:typeof e=="object"?li(e)?Afe(e[0],e[1]):Cfe(e):Pfe(e)}function Dfe(e){return function(t,r,o){for(var a=-1,l=Object(t),c=o(t),d=c.length;d--;){var h=c[e?d:++a];if(r(l[h],h,l)===!1)break}return t}}var Lfe=Dfe(),F8=Lfe;function Mfe(e,t){return e&&F8(e,t,cg)}function xfe(e,t){return function(r,o){if(r==null)return r;if(!Hh(r))return e(r,o);for(var a=r.length,l=t?a:-1,c=Object(r);(t?l--:++l<a)&&o(c[l],l,c)!==!1;);return r}}var Vfe=xfe(Mfe),Ffe=Vfe,$fe=function(){return za.Date.now()},rI=$fe,Ufe="Expected a function",Bfe=Math.max,Hfe=Math.min;function Ii(e,t,r){var o,a,l,c,d,h,m=0,g=!1,v=!1,_=!0;if(typeof e!="function")throw new TypeError(Ufe);t=ZI(t)||0,ci(r)&&(g=!!r.leading,v="maxWait"in r,l=v?Bfe(ZI(r.maxWait)||0,t):l,_="trailing"in r?!!r.trailing:_);function S(O){var $=o,L=a;return o=a=void 0,m=O,c=e.apply(L,$),c}function T(O){return m=O,d=setTimeout(C,t),g?S(O):c}function b(O){var $=O-h,L=O-m,M=t-$;return v?Hfe(M,l-L):M}function I(O){var $=O-h,L=O-m;return h===void 0||$>=t||$<0||v&&L>=l}function C(){var O=rI();if(I(O))return P(O);d=setTimeout(C,b(O))}function P(O){return d=void 0,_&&o?S(O):(o=a=void 0,c)}function R(){d!==void 0&&clearTimeout(d),m=0,o=h=a=d=void 0}function k(){return d===void 0?c:P(rI())}function N(){var O=rI(),$=I(O);if(o=arguments,a=this,h=O,$){if(d===void 0)return T(h);if(v)return clearTimeout(d),d=setTimeout(C,t),S(h)}return d===void 0&&(d=setTimeout(C,t)),c}return N.cancel=R,N.flush=k,N}function ok(e,t,r){(r!==void 0&&!lg(e[t],r)||r===void 0&&!(t in e))&&nR(e,t,r)}function $8(e){return Es(e)&&Hh(e)}function ik(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function jfe(e){return Bh(e,ug(e))}function Wfe(e,t,r,o,a,l,c){var d=ik(e,r),h=ik(t,r),m=c.get(h);if(m){ok(e,r,m);return}var g=l?l(d,h,r+"",e,t,c):void 0,v=g===void 0;if(v){var _=li(h),S=!_&&Av(h),T=!_&&!S&&sR(h);g=h,_||S||T?li(d)?g=d:$8(d)?g=s8(d):S?(v=!1,g=E8(h,!0)):T?(v=!1,g=k8(h,!0)):g=[]:b8(h)||Rv(h)?(g=d,Rv(d)?g=jfe(d):(!ci(d)||tR(d))&&(g=R8(h))):v=!1}v&&(c.set(h,g),a(g,h,o,l,c),c.delete(h)),ok(e,r,g)}function U8(e,t,r,o,a){e!==t&&F8(t,function(l,c){if(a||(a=new $a),ci(l))Wfe(e,t,c,r,U8,o,a);else{var d=o?o(ik(e,c),l,c+"",e,t,a):void 0;d===void 0&&(d=l),ok(e,c,d)}},ug)}function zfe(e,t,r){for(var o=-1,a=e==null?0:e.length;++o<a;)if(r(t,e[o]))return!0;return!1}function Kfe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Gfe=Math.max,qfe=Math.min;function B8(e,t,r){var o=e==null?0:e.length;if(!o)return-1;var a=o-1;return r!==void 0&&(a=Dse(r),a=r<0?Gfe(o+a,0):qfe(a,o-1)),c8(e,V8(t),a,!0)}function Yfe(e,t){var r=-1,o=Hh(e)?Array(e.length):[];return Ffe(e,function(a,l,c){o[++r]=t(a,l,c)}),o}function Jfe(e,t){var r=li(e)?Z1:Yfe;return r(e,V8(t))}function Xfe(e,t){return dg(Jfe(e,t),1)}var Qfe=1/0;function Zfe(e){var t=e==null?0:e.length;return t?dg(e,Qfe):[]}function Lv(e){for(var t=-1,r=e==null?0:e.length,o={};++t<r;){var a=e[t];o[a[0]]=a[1]}return o}function ehe(e,t){return t.length<2?e:M0(e,lue(t,0,-1))}function ii(e,t){return x0(e,t)}function yo(e){return e==null}function H8(e){return e===void 0}var the=Ele(function(e,t,r){U8(e,t,r)}),nhe=the;function rhe(e,t){return t=jh(t,e),e=ehe(e,t),e==null||delete e[Wh(Kfe(t))]}function ohe(e){return b8(e)?void 0:e}var ihe=1,ahe=2,she=4,lhe=y8(function(e,t){var r={};if(e==null)return r;var o=!1;t=Z1(t,function(l){return l=jh(l,e),o||(o=l.length>1),l}),Bh(e,I8(e),r),o&&(r=lh(r,ihe|ahe|she,ohe));for(var a=t.length;a--;)rhe(r,t[a]);return r}),che=lhe;function j8(e,t,r,o){if(!ci(e))return e;t=jh(t,e);for(var a=-1,l=t.length,c=l-1,d=e;d!=null&&++a<l;){var h=Wh(t[a]),m=r;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(a!=c){var g=d[h];m=o?o(g,h,d):void 0,m===void 0&&(m=ci(g)?g:N0(t[a+1])?[]:{})}rR(d,h,m),d=d[h]}return e}function uhe(e,t,r){for(var o=-1,a=t.length,l={};++o<a;){var c=t[o],d=M0(e,c);r(d,c)&&j8(l,jh(c,e),d)}return l}function dhe(e,t){return uhe(e,t,function(r,o){return x8(e,o)})}var fhe=y8(function(e,t){return e==null?{}:dhe(e,t)}),xa=fhe;function hhe(e,t,r){return e==null?e:j8(e,t,r)}var phe="Expected a function";function ld(e,t,r){var o=!0,a=!0;if(typeof e!="function")throw new TypeError(phe);return ci(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),Ii(e,t,{leading:o,maxWait:t,trailing:a})}var mhe=1/0,vhe=sh&&1/hR(new sh([,-0]))[1]==mhe?function(e){return new sh(e)}:tle,ghe=vhe,yhe=200;function _he(e,t,r){var o=-1,a=mle,l=e.length,c=!0,d=[],h=d;if(r)c=!1,a=zfe;else if(l>=yhe){var m=t?null:ghe(e);if(m)return hR(m);c=!1,a=P8,h=new Dv}else h=t?[]:d;e:for(;++o<l;){var g=e[o],v=t?t(g):g;if(g=r||g!==0?g:0,c&&v===v){for(var _=h.length;_--;)if(h[_]===v)continue e;t&&h.push(v),d.push(g)}else a(h,v,r)||(h!==d&&h.push(v),d.push(g))}return d}var bhe=d8(function(e){return _he(dg(e,1,$8,!0))}),oI=bhe;const Ar=e=>e===void 0,Vr=e=>typeof e=="boolean",xt=e=>typeof e=="number",da=e=>!e&&e!==0||ht(e)&&e.length===0||nn(e)&&!Object.keys(e).length,Bi=e=>typeof Element=="undefined"?!1:e instanceof Element,gd=e=>yo(e),She=e=>Mt(e)?!Number.isNaN(Number(e)):!1,V0=e=>e===window,Mc=e=>Sn?window.requestAnimationFrame(e):setTimeout(e,16),yd=e=>Sn?window.cancelAnimationFrame(e):clearTimeout(e),pR=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),vs=e=>ng(e),bh=e=>Object.keys(e),Ehe=e=>Object.entries(e),wb=(e,t,r)=>({get value(){return Mr(e,t,r)},set value(o){hhe(e,t,o)}});class The extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function to(e,t){throw new The(`[${e}] ${t}`)}const W8=(e="")=>e.split(" ").filter(t=>!!t.trim()),Ei=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},fa=(e,t)=>{!e||!t.trim()||e.classList.add(...W8(t))},Ko=(e,t)=>{!e||!t.trim()||e.classList.remove(...W8(t))},Tc=(e,t)=>{var r;if(!Sn||!e||!t)return"";let o=Wi(t);o==="float"&&(o="cssFloat");try{const a=e.style[o];if(a)return a;const l=(r=document.defaultView)==null?void 0:r.getComputedStyle(e,"");return l?l[o]:""}catch{return e.style[o]}};function Or(e,t="px"){if(!e)return"";if(xt(e)||She(e))return`${e}${t}`;if(Mt(e))return e}const Che=(e,t)=>{if(!Sn)return!1;const r={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],o=Tc(e,r);return["scroll","auto","overlay"].some(a=>o.includes(a))},mR=(e,t)=>{if(!Sn)return;let r=e;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(Che(r,t))return r;r=r.parentNode}return r};let tb;const z8=e=>{var t;if(!Sn)return 0;if(tb!==void 0)return tb;const r=document.createElement("div");r.className=`${e}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const o=r.offsetWidth;r.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",r.appendChild(a);const l=a.offsetWidth;return(t=r.parentNode)==null||t.removeChild(r),tb=o-l,tb};function vR(e,t){if(!Sn)return;if(!t){e.scrollTop=0;return}const r=[];let o=t.offsetParent;for(;o!==null&&e!==o&&e.contains(o);)r.push(o),o=o.offsetParent;const a=t.offsetTop+r.reduce((h,m)=>h+m.offsetTop,0),l=a+t.offsetHeight,c=e.scrollTop,d=c+e.clientHeight;a<c?e.scrollTop=a:l>d&&(e.scrollTop=l-e.clientHeight)}function whe(e,t,r,o,a){const l=Date.now();let c;const d=()=>{const m=Date.now()-l,g=sse(m>o?o:m,t,r,o);V0(e)?e.scrollTo(window.pageXOffset,g):e.scrollTop=g,m<o?c=Mc(d):typeof a=="function"&&a()};return d(),()=>{c&&yd(c)}}const LF=(e,t)=>V0(t)?e.ownerDocument.documentElement:t,MF=e=>V0(e)?window.scrollY:e.scrollTop,nb=e=>{if(!Sn||e==="")return null;if(Mt(e))try{return document.querySelector(e)}catch{return null}return e};/*! Element Plus Icons Vue v2.3.1 */var Ihe=he({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),El=Ihe,khe=he({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),xc=khe,Rhe=he({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),ai=Rhe,Ahe=he({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),gR=Ahe,Ohe=he({name:"Back",__name:"back",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),te("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),Nhe=Ohe,Phe=he({name:"Calendar",__name:"calendar",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),Dhe=Phe,Lhe=he({name:"CaretRight",__name:"caret-right",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),K8=Lhe,Mhe=he({name:"CaretTop",__name:"caret-top",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),xhe=Mhe,Vhe=he({name:"Check",__name:"check",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),fg=Vhe,Fhe=he({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),$he=Fhe,Uhe=he({name:"CircleCheck",__name:"circle-check",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),te("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),yR=Uhe,Bhe=he({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),_R=Bhe,Hhe=he({name:"CircleClose",__name:"circle-close",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),te("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Gc=Hhe,jhe=he({name:"Clock",__name:"clock",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),te("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),te("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),G8=jhe,Whe=he({name:"Close",__name:"close",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Ba=Whe,zhe=he({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Vc=zhe,Khe=he({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Fc=Khe,Ghe=he({name:"Delete",__name:"delete",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),qhe=Ghe,Yhe=he({name:"Document",__name:"document",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),Jhe=Yhe,Xhe=he({name:"FullScreen",__name:"full-screen",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),Qhe=Xhe,Zhe=he({name:"Hide",__name:"hide",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),te("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),epe=Zhe,tpe=he({name:"InfoFilled",__name:"info-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),bR=tpe,npe=he({name:"Loading",__name:"loading",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Ts=npe,rpe=he({name:"Minus",__name:"minus",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),ope=rpe,ipe=he({name:"MoreFilled",__name:"more-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),xF=ipe,ape=he({name:"More",__name:"more",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),spe=ape,lpe=he({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),cpe=lpe,upe=he({name:"Plus",__name:"plus",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),q8=upe,dpe=he({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),fpe=dpe,hpe=he({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),ppe=hpe,mpe=he({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),vpe=mpe,gpe=he({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),ype=gpe,_pe=he({name:"Search",__name:"search",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),bpe=_pe,Spe=he({name:"SortDown",__name:"sort-down",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),Epe=Spe,Tpe=he({name:"SortUp",__name:"sort-up",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),Cpe=Tpe,wpe=he({name:"StarFilled",__name:"star-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),rb=wpe,Ipe=he({name:"Star",__name:"star",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),kpe=Ipe,Rpe=he({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Y8=Rpe,Ape=he({name:"View",__name:"view",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),Ope=Ape,Npe=he({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),F0=Npe,Ppe=he({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),J8=Ppe,Dpe=he({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,r)=>(F(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),Lpe=Dpe;const X8="__epPropKey",Se=e=>e,Mpe=e=>nn(e)&&!!e[X8],Ka=(e,t)=>{if(!nn(e)||Mpe(e))return e;const{values:r,required:o,default:a,type:l,validator:c}=e,h={type:l,required:!!o,validator:r||c?m=>{let g=!1,v=[];if(r&&(v=Array.from(r),wn(e,"default")&&v.push(a),g||(g=v.includes(m))),c&&(g||(g=c(m))),!g&&v.length>0){const _=[...new Set(v)].map(S=>JSON.stringify(S)).join(", ");Wie(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${_}], got value ${JSON.stringify(m)}.`)}return g}:void 0,[X8]:!0};return wn(e,"default")&&(h.default=a),h},it=e=>Lv(Object.entries(e).map(([t,r])=>[t,Ka(r,t)])),ir=Se([String,Object,Function]),SR={Close:Ba},ER={Close:Ba,SuccessFilled:Y8,InfoFilled:bR,WarningFilled:F0,CircleCloseFilled:_R},$c={success:Y8,warning:F0,error:_R,info:bR},TR={validating:Ts,success:yR,error:Gc},Kt=(e,t)=>{if(e.install=r=>{for(const o of[e,...Object.values(t!=null?t:{})])r.component(o.name,o)},t)for(const[r,o]of Object.entries(t))e[r]=o;return e},Q8=(e,t)=>(e.install=r=>{e._context=r._context,r.config.globalProperties[t]=e},e),xpe=(e,t)=>(e.install=r=>{r.directive(t,e)},e),Tr=e=>(e.install=Gn,e),$0=(...e)=>t=>{e.forEach(r=>{Lt(r)?r(t):r.value=t})},It={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Vpe=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],iI=["sun","mon","tue","wed","thu","fri","sat"],tn="update:modelValue",pr="change",si="input",VF=Symbol("INSTALLED_KEY"),ks=["","default","small","large"],Z8=e=>["",...ks].includes(e);var la=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(la||{});function ak(e){return _r(e)&&e.type===Tt}function Fpe(e){return _r(e)&&e.type===No}function $pe(e){return _r(e)&&!ak(e)&&!Fpe(e)}const Upe=e=>{if(!_r(e))return{};const t=e.props||{},r=(_r(e.type)?e.type.props:void 0)||{},o={};return Object.keys(r).forEach(a=>{wn(r[a],"default")&&(o[a]=r[a].default)}),Object.keys(t).forEach(a=>{o[Wi(a)]=t[a]}),o},Bpe=e=>{if(!ht(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},Rc=e=>{const t=ht(e)?e:[e],r=[];return t.forEach(o=>{var a;ht(o)?r.push(...Rc(o)):_r(o)&&ht(o.children)?r.push(...Rc(o.children)):(r.push(o),_r(o)&&((a=o.component)==null?void 0:a.subTree)&&r.push(...Rc(o.component.subTree)))}),r},FF=e=>[...new Set(e)],oi=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],Hpe=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Er=e=>e;function jpe(e){let t=0;const r=(...o)=>{t&&yd(t),t=Mc(()=>{e(...o),t=0})};return r.cancel=()=>{yd(t),t=0},r}const Wpe=["class","style"],zpe=/^on[A-Z]/,CR=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r}=e,o=D(()=>((r==null?void 0:r.value)||[]).concat(Wpe)),a=Qt();return D(a?()=>{var l;return Lv(Object.entries((l=a.proxy)==null?void 0:l.$attrs).filter(([c])=>!o.value.includes(c)&&!(t&&zpe.test(c))))}:()=>({}))},Ac=({from:e,replacement:t,scope:r,version:o,ref:a,type:l="API"},c)=>{Ge(()=>f(c),d=>{},{immediate:!0})},e6=(e,t,r,o)=>{let a={offsetX:0,offsetY:0};const l=m=>{const g=m.clientX,v=m.clientY,{offsetX:_,offsetY:S}=a,T=e.value.getBoundingClientRect(),b=T.left,I=T.top,C=T.width,P=T.height,R=document.documentElement.clientWidth,k=document.documentElement.clientHeight,N=-b+_,O=-I+S,$=R-b-C+_,L=k-I-P+S,M=j=>{let W=_+j.clientX-g,re=S+j.clientY-v;o!=null&&o.value||(W=Math.min(Math.max(W,N),$),re=Math.min(Math.max(re,O),L)),a={offsetX:W,offsetY:re},e.value&&(e.value.style.transform=`translate(${Or(W)}, ${Or(re)})`)},U=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",U)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",U)},c=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",l)},d=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",l)},h=()=>{a={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return Zt(()=>{Po(()=>{r.value?c():d()})}),ur(()=>{d()}),{resetPostion:h}};var Kpe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Gpe=e=>(t,r)=>qpe(t,r,f(e)),qpe=(e,t,r)=>Mr(r,e,e).replace(/\{(\w+)\}/g,(o,a)=>{var l;return`${(l=t==null?void 0:t[a])!=null?l:`{${a}}`}`}),Ype=e=>{const t=D(()=>f(e).name),r=lr(e)?e:q(e);return{lang:t,locale:r,t:Gpe(e)}},t6=Symbol("localeContextKey"),En=e=>{const t=e||pt(t6,q());return Ype(D(()=>t.value||Kpe))},hv="el",Jpe="is-",ju=(e,t,r,o,a)=>{let l=`${e}-${t}`;return r&&(l+=`-${r}`),o&&(l+=`__${o}`),a&&(l+=`--${a}`),l},n6=Symbol("namespaceContextKey"),wR=e=>{const t=e||(Qt()?pt(n6,q(hv)):q(hv));return D(()=>f(t)||hv)},Je=(e,t)=>{const r=wR(t);return{namespace:r,b:(b="")=>ju(r.value,e,b,"",""),e:b=>b?ju(r.value,e,"",b,""):"",m:b=>b?ju(r.value,e,"","",b):"",be:(b,I)=>b&&I?ju(r.value,e,b,I,""):"",em:(b,I)=>b&&I?ju(r.value,e,"",b,I):"",bm:(b,I)=>b&&I?ju(r.value,e,b,"",I):"",bem:(b,I,C)=>b&&I&&C?ju(r.value,e,b,I,C):"",is:(b,...I)=>{const C=I.length>=1?I[0]:!0;return b&&C?`${Jpe}${b}`:""},cssVar:b=>{const I={};for(const C in b)b[C]&&(I[`--${r.value}-${C}`]=b[C]);return I},cssVarName:b=>`--${r.value}-${b}`,cssVarBlock:b=>{const I={};for(const C in b)b[C]&&(I[`--${r.value}-${e}-${C}`]=b[C]);return I},cssVarBlockName:b=>`--${r.value}-${e}-${b}`}},IR=(e,t={})=>{lr(e)||to("[useLockscreen]","You need to pass a ref param to this function");const r=t.ns||Je("popup"),o=D(()=>r.bm("parent","hidden"));if(!Sn||Ei(document.body,o.value))return;let a=0,l=!1,c="0";const d=()=>{setTimeout(()=>{Ko(document==null?void 0:document.body,o.value),l&&document&&(document.body.style.width=c)},200)};Ge(e,h=>{if(!h){d();return}l=!Ei(document.body,o.value),l&&(c=document.body.style.width),a=z8(r.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,g=Tc(document.body,"overflowY");a>0&&(m||g==="scroll")&&l&&(document.body.style.width=`calc(100% - ${a}px)`),fa(document.body,o.value)}),k1(()=>d())},Xpe=Ka({type:Se(Boolean),default:null}),Qpe=Ka({type:Se(Function)}),Zpe=e=>{const t=`update:${e}`,r=`onUpdate:${e}`,o=[t],a={[e]:Xpe,[r]:Qpe};return{useModelToggle:({indicator:c,toggleReason:d,shouldHideWhenRouteChanges:h,shouldProceed:m,onShow:g,onHide:v})=>{const _=Qt(),{emit:S}=_,T=_.props,b=D(()=>Lt(T[r])),I=D(()=>T[e]===null),C=$=>{c.value!==!0&&(c.value=!0,d&&(d.value=$),Lt(g)&&g($))},P=$=>{c.value!==!1&&(c.value=!1,d&&(d.value=$),Lt(v)&&v($))},R=$=>{if(T.disabled===!0||Lt(m)&&!m())return;const L=b.value&&Sn;L&&S(t,!0),(I.value||!L)&&C($)},k=$=>{if(T.disabled===!0||!Sn)return;const L=b.value&&Sn;L&&S(t,!1),(I.value||!L)&&P($)},N=$=>{!Vr($)||(T.disabled&&$?b.value&&S(t,!1):c.value!==$&&($?C():P()))},O=()=>{c.value?k():R()};return Ge(()=>T[e],N),h&&_.appContext.config.globalProperties.$route!==void 0&&Ge(()=>({..._.proxy.$route}),()=>{h.value&&c.value&&k()}),Zt(()=>{N(T[e])}),{hide:k,show:R,toggle:O,hasUpdateHandler:b}},useModelToggleProps:a,useModelToggleEmits:o}},r6=e=>{const t=Qt();return D(()=>{var r,o;return(o=(r=t==null?void 0:t.proxy)==null?void 0:r.$props)==null?void 0:o[e]})};var Ti="top",ga="bottom",ya="right",Ci="left",kR="auto",hg=[Ti,ga,ya,Ci],Sh="start",Mv="end",eme="clippingParents",o6="viewport",Gm="popper",tme="reference",$F=hg.reduce(function(e,t){return e.concat([t+"-"+Sh,t+"-"+Mv])},[]),Rd=[].concat(hg,[kR]).reduce(function(e,t){return e.concat([t,t+"-"+Sh,t+"-"+Mv])},[]),nme="beforeRead",rme="read",ome="afterRead",ime="beforeMain",ame="main",sme="afterMain",lme="beforeWrite",cme="write",ume="afterWrite",dme=[nme,rme,ome,ime,ame,sme,lme,cme,ume];function Cs(e){return e?(e.nodeName||"").toLowerCase():null}function Ga(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Eh(e){var t=Ga(e).Element;return e instanceof t||e instanceof Element}function ma(e){var t=Ga(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function RR(e){if(typeof ShadowRoot=="undefined")return!1;var t=Ga(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function fme(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},a=t.attributes[r]||{},l=t.elements[r];!ma(l)||!Cs(l)||(Object.assign(l.style,o),Object.keys(a).forEach(function(c){var d=a[c];d===!1?l.removeAttribute(c):l.setAttribute(c,d===!0?"":d)}))})}function hme(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],l=t.attributes[o]||{},c=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),d=c.reduce(function(h,m){return h[m]="",h},{});!ma(a)||!Cs(a)||(Object.assign(a.style,d),Object.keys(l).forEach(function(h){a.removeAttribute(h)}))})}}var i6={name:"applyStyles",enabled:!0,phase:"write",fn:fme,effect:hme,requires:["computeStyles"]};function bs(e){return e.split("-")[0]}var cd=Math.max,Xb=Math.min,Th=Math.round;function Ch(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),o=1,a=1;if(ma(e)&&t){var l=e.offsetHeight,c=e.offsetWidth;c>0&&(o=Th(r.width)/c||1),l>0&&(a=Th(r.height)/l||1)}return{width:r.width/o,height:r.height/a,top:r.top/a,right:r.right/o,bottom:r.bottom/a,left:r.left/o,x:r.left/o,y:r.top/a}}function AR(e){var t=Ch(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function a6(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&RR(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function pl(e){return Ga(e).getComputedStyle(e)}function pme(e){return["table","td","th"].indexOf(Cs(e))>=0}function qc(e){return((Eh(e)?e.ownerDocument:e.document)||window.document).documentElement}function U0(e){return Cs(e)==="html"?e:e.assignedSlot||e.parentNode||(RR(e)?e.host:null)||qc(e)}function UF(e){return!ma(e)||pl(e).position==="fixed"?null:e.offsetParent}function mme(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&ma(e)){var o=pl(e);if(o.position==="fixed")return null}var a=U0(e);for(RR(a)&&(a=a.host);ma(a)&&["html","body"].indexOf(Cs(a))<0;){var l=pl(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||t&&l.willChange==="filter"||t&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function pg(e){for(var t=Ga(e),r=UF(e);r&&pme(r)&&pl(r).position==="static";)r=UF(r);return r&&(Cs(r)==="html"||Cs(r)==="body"&&pl(r).position==="static")?t:r||mme(e)||t}function OR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pv(e,t,r){return cd(e,Xb(t,r))}function vme(e,t,r){var o=pv(e,t,r);return o>r?r:o}function s6(){return{top:0,right:0,bottom:0,left:0}}function l6(e){return Object.assign({},s6(),e)}function c6(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var gme=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,l6(typeof e!="number"?e:c6(e,hg))};function yme(e){var t,r=e.state,o=e.name,a=e.options,l=r.elements.arrow,c=r.modifiersData.popperOffsets,d=bs(r.placement),h=OR(d),m=[Ci,ya].indexOf(d)>=0,g=m?"height":"width";if(!(!l||!c)){var v=gme(a.padding,r),_=AR(l),S=h==="y"?Ti:Ci,T=h==="y"?ga:ya,b=r.rects.reference[g]+r.rects.reference[h]-c[h]-r.rects.popper[g],I=c[h]-r.rects.reference[h],C=pg(l),P=C?h==="y"?C.clientHeight||0:C.clientWidth||0:0,R=b/2-I/2,k=v[S],N=P-_[g]-v[T],O=P/2-_[g]/2+R,$=pv(k,O,N),L=h;r.modifiersData[o]=(t={},t[L]=$,t.centerOffset=$-O,t)}}function _me(e){var t=e.state,r=e.options,o=r.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||!a6(t.elements.popper,a)||(t.elements.arrow=a))}var bme={name:"arrow",enabled:!0,phase:"main",fn:yme,effect:_me,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wh(e){return e.split("-")[1]}var Sme={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Eme(e){var t=e.x,r=e.y,o=window,a=o.devicePixelRatio||1;return{x:Th(t*a)/a||0,y:Th(r*a)/a||0}}function BF(e){var t,r=e.popper,o=e.popperRect,a=e.placement,l=e.variation,c=e.offsets,d=e.position,h=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,v=e.isFixed,_=c.x,S=_===void 0?0:_,T=c.y,b=T===void 0?0:T,I=typeof g=="function"?g({x:S,y:b}):{x:S,y:b};S=I.x,b=I.y;var C=c.hasOwnProperty("x"),P=c.hasOwnProperty("y"),R=Ci,k=Ti,N=window;if(m){var O=pg(r),$="clientHeight",L="clientWidth";if(O===Ga(r)&&(O=qc(r),pl(O).position!=="static"&&d==="absolute"&&($="scrollHeight",L="scrollWidth")),O=O,a===Ti||(a===Ci||a===ya)&&l===Mv){k=ga;var M=v&&O===N&&N.visualViewport?N.visualViewport.height:O[$];b-=M-o.height,b*=h?1:-1}if(a===Ci||(a===Ti||a===ga)&&l===Mv){R=ya;var U=v&&O===N&&N.visualViewport?N.visualViewport.width:O[L];S-=U-o.width,S*=h?1:-1}}var j=Object.assign({position:d},m&&Sme),W=g===!0?Eme({x:S,y:b}):{x:S,y:b};if(S=W.x,b=W.y,h){var re;return Object.assign({},j,(re={},re[k]=P?"0":"",re[R]=C?"0":"",re.transform=(N.devicePixelRatio||1)<=1?"translate("+S+"px, "+b+"px)":"translate3d("+S+"px, "+b+"px, 0)",re))}return Object.assign({},j,(t={},t[k]=P?b+"px":"",t[R]=C?S+"px":"",t.transform="",t))}function Tme(e){var t=e.state,r=e.options,o=r.gpuAcceleration,a=o===void 0?!0:o,l=r.adaptive,c=l===void 0?!0:l,d=r.roundOffsets,h=d===void 0?!0:d,m={placement:bs(t.placement),variation:wh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,BF(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,BF(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var u6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Tme,data:{}},ob={passive:!0};function Cme(e){var t=e.state,r=e.instance,o=e.options,a=o.scroll,l=a===void 0?!0:a,c=o.resize,d=c===void 0?!0:c,h=Ga(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return l&&m.forEach(function(g){g.addEventListener("scroll",r.update,ob)}),d&&h.addEventListener("resize",r.update,ob),function(){l&&m.forEach(function(g){g.removeEventListener("scroll",r.update,ob)}),d&&h.removeEventListener("resize",r.update,ob)}}var d6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Cme,data:{}},wme={left:"right",right:"left",bottom:"top",top:"bottom"};function Ib(e){return e.replace(/left|right|bottom|top/g,function(t){return wme[t]})}var Ime={start:"end",end:"start"};function HF(e){return e.replace(/start|end/g,function(t){return Ime[t]})}function NR(e){var t=Ga(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function PR(e){return Ch(qc(e)).left+NR(e).scrollLeft}function kme(e){var t=Ga(e),r=qc(e),o=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,d=0;return o&&(a=o.width,l=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=o.offsetLeft,d=o.offsetTop)),{width:a,height:l,x:c+PR(e),y:d}}function Rme(e){var t,r=qc(e),o=NR(e),a=(t=e.ownerDocument)==null?void 0:t.body,l=cd(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=cd(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),d=-o.scrollLeft+PR(e),h=-o.scrollTop;return pl(a||r).direction==="rtl"&&(d+=cd(r.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:d,y:h}}function DR(e){var t=pl(e),r=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+o)}function f6(e){return["html","body","#document"].indexOf(Cs(e))>=0?e.ownerDocument.body:ma(e)&&DR(e)?e:f6(U0(e))}function mv(e,t){var r;t===void 0&&(t=[]);var o=f6(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),l=Ga(o),c=a?[l].concat(l.visualViewport||[],DR(o)?o:[]):o,d=t.concat(c);return a?d:d.concat(mv(U0(c)))}function sk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ame(e){var t=Ch(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function jF(e,t){return t===o6?sk(kme(e)):Eh(t)?Ame(t):sk(Rme(qc(e)))}function Ome(e){var t=mv(U0(e)),r=["absolute","fixed"].indexOf(pl(e).position)>=0,o=r&&ma(e)?pg(e):e;return Eh(o)?t.filter(function(a){return Eh(a)&&a6(a,o)&&Cs(a)!=="body"}):[]}function Nme(e,t,r){var o=t==="clippingParents"?Ome(e):[].concat(t),a=[].concat(o,[r]),l=a[0],c=a.reduce(function(d,h){var m=jF(e,h);return d.top=cd(m.top,d.top),d.right=Xb(m.right,d.right),d.bottom=Xb(m.bottom,d.bottom),d.left=cd(m.left,d.left),d},jF(e,l));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function h6(e){var t=e.reference,r=e.element,o=e.placement,a=o?bs(o):null,l=o?wh(o):null,c=t.x+t.width/2-r.width/2,d=t.y+t.height/2-r.height/2,h;switch(a){case Ti:h={x:c,y:t.y-r.height};break;case ga:h={x:c,y:t.y+t.height};break;case ya:h={x:t.x+t.width,y:d};break;case Ci:h={x:t.x-r.width,y:d};break;default:h={x:t.x,y:t.y}}var m=a?OR(a):null;if(m!=null){var g=m==="y"?"height":"width";switch(l){case Sh:h[m]=h[m]-(t[g]/2-r[g]/2);break;case Mv:h[m]=h[m]+(t[g]/2-r[g]/2);break}}return h}function xv(e,t){t===void 0&&(t={});var r=t,o=r.placement,a=o===void 0?e.placement:o,l=r.boundary,c=l===void 0?eme:l,d=r.rootBoundary,h=d===void 0?o6:d,m=r.elementContext,g=m===void 0?Gm:m,v=r.altBoundary,_=v===void 0?!1:v,S=r.padding,T=S===void 0?0:S,b=l6(typeof T!="number"?T:c6(T,hg)),I=g===Gm?tme:Gm,C=e.rects.popper,P=e.elements[_?I:g],R=Nme(Eh(P)?P:P.contextElement||qc(e.elements.popper),c,h),k=Ch(e.elements.reference),N=h6({reference:k,element:C,strategy:"absolute",placement:a}),O=sk(Object.assign({},C,N)),$=g===Gm?O:k,L={top:R.top-$.top+b.top,bottom:$.bottom-R.bottom+b.bottom,left:R.left-$.left+b.left,right:$.right-R.right+b.right},M=e.modifiersData.offset;if(g===Gm&&M){var U=M[a];Object.keys(L).forEach(function(j){var W=[ya,ga].indexOf(j)>=0?1:-1,re=[Ti,ga].indexOf(j)>=0?"y":"x";L[j]+=U[re]*W})}return L}function Pme(e,t){t===void 0&&(t={});var r=t,o=r.placement,a=r.boundary,l=r.rootBoundary,c=r.padding,d=r.flipVariations,h=r.allowedAutoPlacements,m=h===void 0?Rd:h,g=wh(o),v=g?d?$F:$F.filter(function(T){return wh(T)===g}):hg,_=v.filter(function(T){return m.indexOf(T)>=0});_.length===0&&(_=v);var S=_.reduce(function(T,b){return T[b]=xv(e,{placement:b,boundary:a,rootBoundary:l,padding:c})[bs(b)],T},{});return Object.keys(S).sort(function(T,b){return S[T]-S[b]})}function Dme(e){if(bs(e)===kR)return[];var t=Ib(e);return[HF(e),t,HF(t)]}function Lme(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var a=r.mainAxis,l=a===void 0?!0:a,c=r.altAxis,d=c===void 0?!0:c,h=r.fallbackPlacements,m=r.padding,g=r.boundary,v=r.rootBoundary,_=r.altBoundary,S=r.flipVariations,T=S===void 0?!0:S,b=r.allowedAutoPlacements,I=t.options.placement,C=bs(I),P=C===I,R=h||(P||!T?[Ib(I)]:Dme(I)),k=[I].concat(R).reduce(function(Ee,Fe){return Ee.concat(bs(Fe)===kR?Pme(t,{placement:Fe,boundary:g,rootBoundary:v,padding:m,flipVariations:T,allowedAutoPlacements:b}):Fe)},[]),N=t.rects.reference,O=t.rects.popper,$=new Map,L=!0,M=k[0],U=0;U<k.length;U++){var j=k[U],W=bs(j),re=wh(j)===Sh,ae=[Ti,ga].indexOf(W)>=0,ee=ae?"width":"height",G=xv(t,{placement:j,boundary:g,rootBoundary:v,altBoundary:_,padding:m}),Z=ae?re?ya:Ci:re?ga:Ti;N[ee]>O[ee]&&(Z=Ib(Z));var X=Ib(Z),H=[];if(l&&H.push(G[W]<=0),d&&H.push(G[Z]<=0,G[X]<=0),H.every(function(Ee){return Ee})){M=j,L=!1;break}$.set(j,H)}if(L)for(var J=T?3:1,fe=function(Ee){var Fe=k.find(function($e){var de=$.get($e);if(de)return de.slice(0,Ee).every(function(Le){return Le})});if(Fe)return M=Fe,"break"},ge=J;ge>0;ge--){var me=fe(ge);if(me==="break")break}t.placement!==M&&(t.modifiersData[o]._skip=!0,t.placement=M,t.reset=!0)}}var Mme={name:"flip",enabled:!0,phase:"main",fn:Lme,requiresIfExists:["offset"],data:{_skip:!1}};function WF(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function zF(e){return[Ti,ya,ga,Ci].some(function(t){return e[t]>=0})}function xme(e){var t=e.state,r=e.name,o=t.rects.reference,a=t.rects.popper,l=t.modifiersData.preventOverflow,c=xv(t,{elementContext:"reference"}),d=xv(t,{altBoundary:!0}),h=WF(c,o),m=WF(d,a,l),g=zF(h),v=zF(m);t.modifiersData[r]={referenceClippingOffsets:h,popperEscapeOffsets:m,isReferenceHidden:g,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}var Vme={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xme};function Fme(e,t,r){var o=bs(e),a=[Ci,Ti].indexOf(o)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=l[0],d=l[1];return c=c||0,d=(d||0)*a,[Ci,ya].indexOf(o)>=0?{x:d,y:c}:{x:c,y:d}}function $me(e){var t=e.state,r=e.options,o=e.name,a=r.offset,l=a===void 0?[0,0]:a,c=Rd.reduce(function(g,v){return g[v]=Fme(v,t.rects,l),g},{}),d=c[t.placement],h=d.x,m=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=m),t.modifiersData[o]=c}var Ume={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$me};function Bme(e){var t=e.state,r=e.name;t.modifiersData[r]=h6({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var p6={name:"popperOffsets",enabled:!0,phase:"read",fn:Bme,data:{}};function Hme(e){return e==="x"?"y":"x"}function jme(e){var t=e.state,r=e.options,o=e.name,a=r.mainAxis,l=a===void 0?!0:a,c=r.altAxis,d=c===void 0?!1:c,h=r.boundary,m=r.rootBoundary,g=r.altBoundary,v=r.padding,_=r.tether,S=_===void 0?!0:_,T=r.tetherOffset,b=T===void 0?0:T,I=xv(t,{boundary:h,rootBoundary:m,padding:v,altBoundary:g}),C=bs(t.placement),P=wh(t.placement),R=!P,k=OR(C),N=Hme(k),O=t.modifiersData.popperOffsets,$=t.rects.reference,L=t.rects.popper,M=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,U=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,W={x:0,y:0};if(O){if(l){var re,ae=k==="y"?Ti:Ci,ee=k==="y"?ga:ya,G=k==="y"?"height":"width",Z=O[k],X=Z+I[ae],H=Z-I[ee],J=S?-L[G]/2:0,fe=P===Sh?$[G]:L[G],ge=P===Sh?-L[G]:-$[G],me=t.elements.arrow,Ee=S&&me?AR(me):{width:0,height:0},Fe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:s6(),$e=Fe[ae],de=Fe[ee],Le=pv(0,$[G],Ee[G]),Te=R?$[G]/2-J-Le-$e-U.mainAxis:fe-Le-$e-U.mainAxis,Be=R?-$[G]/2+J+Le+de+U.mainAxis:ge+Le+de+U.mainAxis,be=t.elements.arrow&&pg(t.elements.arrow),We=be?k==="y"?be.clientTop||0:be.clientLeft||0:0,ce=(re=j==null?void 0:j[k])!=null?re:0,ie=Z+Te-ce-We,De=Z+Be-ce,tt=pv(S?Xb(X,ie):X,Z,S?cd(H,De):H);O[k]=tt,W[k]=tt-Z}if(d){var xe,ze=k==="x"?Ti:Ci,ot=k==="x"?ga:ya,le=O[N],pe=N==="y"?"height":"width",Re=le+I[ze],Ae=le-I[ot],qe=[Ti,Ci].indexOf(C)!==-1,rt=(xe=j==null?void 0:j[N])!=null?xe:0,Ue=qe?Re:le-$[pe]-L[pe]-rt+U.altAxis,Xe=qe?le+$[pe]+L[pe]-rt-U.altAxis:Ae,Nt=S&&qe?vme(Ue,le,Xe):pv(S?Ue:Re,le,S?Xe:Ae);O[N]=Nt,W[N]=Nt-le}t.modifiersData[o]=W}}var Wme={name:"preventOverflow",enabled:!0,phase:"main",fn:jme,requiresIfExists:["offset"]};function zme(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Kme(e){return e===Ga(e)||!ma(e)?NR(e):zme(e)}function Gme(e){var t=e.getBoundingClientRect(),r=Th(t.width)/e.offsetWidth||1,o=Th(t.height)/e.offsetHeight||1;return r!==1||o!==1}function qme(e,t,r){r===void 0&&(r=!1);var o=ma(t),a=ma(t)&&Gme(t),l=qc(t),c=Ch(e,a),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!r)&&((Cs(t)!=="body"||DR(l))&&(d=Kme(t)),ma(t)?(h=Ch(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):l&&(h.x=PR(l))),{x:c.left+d.scrollLeft-h.x,y:c.top+d.scrollTop-h.y,width:c.width,height:c.height}}function Yme(e){var t=new Map,r=new Set,o=[];e.forEach(function(l){t.set(l.name,l)});function a(l){r.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!r.has(d)){var h=t.get(d);h&&a(h)}}),o.push(l)}return e.forEach(function(l){r.has(l.name)||a(l)}),o}function Jme(e){var t=Yme(e);return dme.reduce(function(r,o){return r.concat(t.filter(function(a){return a.phase===o}))},[])}function Xme(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Qme(e){var t=e.reduce(function(r,o){var a=r[o.name];return r[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var KF={placement:"bottom",modifiers:[],strategy:"absolute"};function GF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function LR(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,a=t.defaultOptions,l=a===void 0?KF:a;return function(c,d,h){h===void 0&&(h=l);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},KF,l),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},g=[],v=!1,_={state:m,setOptions:function(b){var I=typeof b=="function"?b(m.options):b;T(),m.options=Object.assign({},l,m.options,I),m.scrollParents={reference:Eh(c)?mv(c):c.contextElement?mv(c.contextElement):[],popper:mv(d)};var C=Jme(Qme([].concat(o,m.options.modifiers)));return m.orderedModifiers=C.filter(function(P){return P.enabled}),S(),_.update()},forceUpdate:function(){if(!v){var b=m.elements,I=b.reference,C=b.popper;if(GF(I,C)){m.rects={reference:qme(I,pg(C),m.options.strategy==="fixed"),popper:AR(C)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(L){return m.modifiersData[L.name]=Object.assign({},L.data)});for(var P=0;P<m.orderedModifiers.length;P++){if(m.reset===!0){m.reset=!1,P=-1;continue}var R=m.orderedModifiers[P],k=R.fn,N=R.options,O=N===void 0?{}:N,$=R.name;typeof k=="function"&&(m=k({state:m,options:O,name:$,instance:_})||m)}}}},update:Xme(function(){return new Promise(function(b){_.forceUpdate(),b(m)})}),destroy:function(){T(),v=!0}};if(!GF(c,d))return _;_.setOptions(h).then(function(b){!v&&h.onFirstUpdate&&h.onFirstUpdate(b)});function S(){m.orderedModifiers.forEach(function(b){var I=b.name,C=b.options,P=C===void 0?{}:C,R=b.effect;if(typeof R=="function"){var k=R({state:m,name:I,instance:_,options:P}),N=function(){};g.push(k||N)}})}function T(){g.forEach(function(b){return b()}),g=[]}return _}}LR();var Zme=[d6,p6,u6,i6];LR({defaultModifiers:Zme});var eve=[d6,p6,u6,i6,Ume,Mme,Wme,bme,Vme],tve=LR({defaultModifiers:eve});const nve=(e,t,r={})=>{const o={name:"updateState",enabled:!0,phase:"write",fn:({state:h})=>{const m=rve(h);Object.assign(c.value,m)},requires:["computeStyles"]},a=D(()=>{const{onFirstUpdate:h,placement:m,strategy:g,modifiers:v}=f(r);return{onFirstUpdate:h,placement:m||"bottom",strategy:g||"absolute",modifiers:[...v||[],o,{name:"applyStyles",enabled:!1}]}}),l=dr(),c=q({styles:{popper:{position:f(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),d=()=>{!l.value||(l.value.destroy(),l.value=void 0)};return Ge(a,h=>{const m=f(l);m&&m.setOptions(h)},{deep:!0}),Ge([e,t],([h,m])=>{d(),!(!h||!m)&&(l.value=tve(h,m,f(a)))}),ur(()=>{d()}),{state:D(()=>{var h;return{...((h=f(l))==null?void 0:h.state)||{}}}),styles:D(()=>f(c).styles),attributes:D(()=>f(c).attributes),update:()=>{var h;return(h=f(l))==null?void 0:h.update()},forceUpdate:()=>{var h;return(h=f(l))==null?void 0:h.forceUpdate()},instanceRef:D(()=>f(l))}};function rve(e){const t=Object.keys(e.elements),r=Lv(t.map(a=>[a,e.styles[a]||{}])),o=Lv(t.map(a=>[a,e.attributes[a]]));return{styles:r,attributes:o}}const MR=e=>{if(!e)return{onClick:Gn,onMousedown:Gn,onMouseup:Gn};let t=!1,r=!1;return{onClick:c=>{t&&r&&e(c),t=r=!1},onMousedown:c=>{t=c.target===c.currentTarget},onMouseup:c=>{r=c.target===c.currentTarget}}},ove=(e,t=0)=>{if(t===0)return e;const r=q(!1);let o=null;const a=()=>{o&&clearTimeout(o),o=setTimeout(()=>{r.value=e.value},t)};return Zt(a),Ge(()=>e.value,l=>{l?a():r.value=l}),r};function qF(){let e;const t=(o,a)=>{r(),e=window.setTimeout(o,a)},r=()=>window.clearTimeout(e);return sg(()=>r()),{registerTimeout:t,cancelTimeout:r}}const YF={prefix:Math.floor(Math.random()*1e4),current:0},ive=Symbol("elIdInjection"),xR=()=>Qt()?pt(ive,YF):YF,Mo=e=>{const t=xR(),r=wR();return D(()=>f(e)||`${r.value}-id-${t.prefix}-${t.current++}`)};let qf=[];const JF=e=>{const t=e;t.key===It.esc&&qf.forEach(r=>r(t))},ave=e=>{Zt(()=>{qf.length===0&&document.addEventListener("keydown",JF),Sn&&qf.push(e)}),ur(()=>{qf=qf.filter(t=>t!==e),qf.length===0&&Sn&&document.removeEventListener("keydown",JF)})};let XF;const m6=()=>{const e=wR(),t=xR(),r=D(()=>`${e.value}-popper-container-${t.prefix}`),o=D(()=>`#${r.value}`);return{id:r,selector:o}},sve=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},lve=()=>{const{id:e,selector:t}=m6();return ig(()=>{!Sn||!XF&&!document.body.querySelector(t.value)&&(XF=sve(e.value))}),{id:e,selector:t}},cve=it({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),uve=({showAfter:e,hideAfter:t,autoClose:r,open:o,close:a})=>{const{registerTimeout:l}=qF(),{registerTimeout:c,cancelTimeout:d}=qF();return{onOpen:g=>{l(()=>{o(g);const v=f(r);xt(v)&&v>0&&c(()=>{a(g)},v)},f(e))},onClose:g=>{d(),l(()=>{a(g)},f(t))}}},v6=Symbol("elForwardRef"),dve=e=>{pn(v6,{setForwardRef:r=>{e.value=r}})},fve=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),QF={current:0},ZF=q(0),g6=2e3,e$=Symbol("elZIndexContextKey"),y6=Symbol("zIndexContextKey"),zh=e=>{const t=Qt()?pt(e$,QF):QF,r=e||(Qt()?pt(y6,void 0):void 0),o=D(()=>{const c=f(r);return xt(c)?c:g6}),a=D(()=>o.value+ZF.value),l=()=>(t.current++,ZF.value=t.current,a.value);return!Sn&&pt(e$),{initialZIndex:o,currentZIndex:a,nextZIndex:l}};const Ih=Math.min,ud=Math.max,Qb=Math.round,ib=Math.floor,Uc=e=>({x:e,y:e}),hve={left:"right",right:"left",bottom:"top",top:"bottom"},pve={start:"end",end:"start"};function lk(e,t,r){return ud(e,Ih(t,r))}function mg(e,t){return typeof e=="function"?e(t):e}function _d(e){return e.split("-")[0]}function vg(e){return e.split("-")[1]}function _6(e){return e==="x"?"y":"x"}function VR(e){return e==="y"?"height":"width"}function kh(e){return["top","bottom"].includes(_d(e))?"y":"x"}function FR(e){return _6(kh(e))}function mve(e,t,r){r===void 0&&(r=!1);const o=vg(e),a=FR(e),l=VR(a);let c=a==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Zb(c)),[c,Zb(c)]}function vve(e){const t=Zb(e);return[ck(e),t,ck(t)]}function ck(e){return e.replace(/start|end/g,t=>pve[t])}function gve(e,t,r){const o=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:o:t?o:a;case"left":case"right":return t?l:c;default:return[]}}function yve(e,t,r,o){const a=vg(e);let l=gve(_d(e),r==="start",o);return a&&(l=l.map(c=>c+"-"+a),t&&(l=l.concat(l.map(ck)))),l}function Zb(e){return e.replace(/left|right|bottom|top/g,t=>hve[t])}function _ve(e){return{top:0,right:0,bottom:0,left:0,...e}}function b6(e){return typeof e!="number"?_ve(e):{top:e,right:e,bottom:e,left:e}}function e0(e){const{x:t,y:r,width:o,height:a}=e;return{width:o,height:a,top:r,left:t,right:t+o,bottom:r+a,x:t,y:r}}function t$(e,t,r){let{reference:o,floating:a}=e;const l=kh(t),c=FR(t),d=VR(c),h=_d(t),m=l==="y",g=o.x+o.width/2-a.width/2,v=o.y+o.height/2-a.height/2,_=o[d]/2-a[d]/2;let S;switch(h){case"top":S={x:g,y:o.y-a.height};break;case"bottom":S={x:g,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:v};break;case"left":S={x:o.x-a.width,y:v};break;default:S={x:o.x,y:o.y}}switch(vg(t)){case"start":S[c]-=_*(r&&m?-1:1);break;case"end":S[c]+=_*(r&&m?-1:1);break}return S}const bve=async(e,t,r)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y:v}=t$(m,o,h),_=o,S={},T=0;for(let b=0;b<d.length;b++){const{name:I,fn:C}=d[b],{x:P,y:R,data:k,reset:N}=await C({x:g,y:v,initialPlacement:o,placement:_,strategy:a,middlewareData:S,rects:m,platform:c,elements:{reference:e,floating:t}});g=P!=null?P:g,v=R!=null?R:v,S={...S,[I]:{...S[I],...k}},N&&T<=50&&(T++,typeof N=="object"&&(N.placement&&(_=N.placement),N.rects&&(m=N.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:g,y:v}=t$(m,_,h)),b=-1)}return{x:g,y:v,placement:_,strategy:a,middlewareData:S}};async function $R(e,t){var r;t===void 0&&(t={});const{x:o,y:a,platform:l,rects:c,elements:d,strategy:h}=e,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:_=!1,padding:S=0}=mg(t,e),T=b6(S),I=d[_?v==="floating"?"reference":"floating":v],C=e0(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(I)))==null||r?I:I.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:h})),P=v==="floating"?{x:o,y:a,width:c.floating.width,height:c.floating.height}:c.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),k=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},N=e0(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:P,offsetParent:R,strategy:h}):P);return{top:(C.top-N.top+T.top)/k.y,bottom:(N.bottom-C.bottom+T.bottom)/k.y,left:(C.left-N.left+T.left)/k.x,right:(N.right-C.right+T.right)/k.x}}const Sve=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:o,placement:a,rects:l,platform:c,elements:d,middlewareData:h}=t,{element:m,padding:g=0}=mg(e,t)||{};if(m==null)return{};const v=b6(g),_={x:r,y:o},S=FR(a),T=VR(S),b=await c.getDimensions(m),I=S==="y",C=I?"top":"left",P=I?"bottom":"right",R=I?"clientHeight":"clientWidth",k=l.reference[T]+l.reference[S]-_[S]-l.floating[T],N=_[S]-l.reference[S],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let $=O?O[R]:0;(!$||!await(c.isElement==null?void 0:c.isElement(O)))&&($=d.floating[R]||l.floating[T]);const L=k/2-N/2,M=$/2-b[T]/2-1,U=Ih(v[C],M),j=Ih(v[P],M),W=U,re=$-b[T]-j,ae=$/2-b[T]/2+L,ee=lk(W,ae,re),G=!h.arrow&&vg(a)!=null&&ae!==ee&&l.reference[T]/2-(ae<W?U:j)-b[T]/2<0,Z=G?ae<W?ae-W:ae-re:0;return{[S]:_[S]+Z,data:{[S]:ee,centerOffset:ae-ee-Z,...G&&{alignmentOffset:Z}},reset:G}}});const Eve=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,o;const{placement:a,middlewareData:l,rects:c,initialPlacement:d,platform:h,elements:m}=t,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:b=!0,...I}=mg(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=_d(a),P=kh(d),R=_d(d)===d,k=await(h.isRTL==null?void 0:h.isRTL(m.floating)),N=_||(R||!b?[Zb(d)]:vve(d)),O=T!=="none";!_&&O&&N.push(...yve(d,b,T,k));const $=[d,...N],L=await $R(t,I),M=[];let U=((o=l.flip)==null?void 0:o.overflows)||[];if(g&&M.push(L[C]),v){const ae=mve(a,c,k);M.push(L[ae[0]],L[ae[1]])}if(U=[...U,{placement:a,overflows:M}],!M.every(ae=>ae<=0)){var j,W;const ae=(((j=l.flip)==null?void 0:j.index)||0)+1,ee=$[ae];if(ee)return{data:{index:ae,overflows:U},reset:{placement:ee}};let G=(W=U.filter(Z=>Z.overflows[0]<=0).sort((Z,X)=>Z.overflows[1]-X.overflows[1])[0])==null?void 0:W.placement;if(!G)switch(S){case"bestFit":{var re;const Z=(re=U.filter(X=>{if(O){const H=kh(X.placement);return H===P||H==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(H=>H>0).reduce((H,J)=>H+J,0)]).sort((X,H)=>X[1]-H[1])[0])==null?void 0:re[0];Z&&(G=Z);break}case"initialPlacement":G=d;break}if(a!==G)return{reset:{placement:G}}}return{}}}};async function Tve(e,t){const{placement:r,platform:o,elements:a}=e,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),c=_d(r),d=vg(r),h=kh(r)==="y",m=["left","top"].includes(c)?-1:1,g=l&&h?-1:1,v=mg(t,e);let{mainAxis:_,crossAxis:S,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return d&&typeof T=="number"&&(S=d==="end"?T*-1:T),h?{x:S*g,y:_*m}:{x:_*m,y:S*g}}const Cve=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,o;const{x:a,y:l,placement:c,middlewareData:d}=t,h=await Tve(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:c}}}}},wve=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:o,placement:a}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:I=>{let{x:C,y:P}=I;return{x:C,y:P}}},...h}=mg(e,t),m={x:r,y:o},g=await $R(t,h),v=kh(_d(a)),_=_6(v);let S=m[_],T=m[v];if(l){const I=_==="y"?"top":"left",C=_==="y"?"bottom":"right",P=S+g[I],R=S-g[C];S=lk(P,S,R)}if(c){const I=v==="y"?"top":"left",C=v==="y"?"bottom":"right",P=T+g[I],R=T-g[C];T=lk(P,T,R)}const b=d.fn({...t,[_]:S,[v]:T});return{...b,data:{x:b.x-r,y:b.y-o}}}}};function Kh(e){return S6(e)?(e.nodeName||"").toLowerCase():"#document"}function Hi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tl(e){var t;return(t=(S6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function S6(e){return e instanceof Node||e instanceof Hi(e).Node}function Ha(e){return e instanceof Element||e instanceof Hi(e).Element}function ws(e){return e instanceof HTMLElement||e instanceof Hi(e).HTMLElement}function n$(e){return typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof Hi(e).ShadowRoot}function gg(e){const{overflow:t,overflowX:r,overflowY:o,display:a}=ja(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!["inline","contents"].includes(a)}function Ive(e){return["table","td","th"].includes(Kh(e))}function B0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function UR(e){const t=BR(),r=Ha(e)?ja(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(r.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(r.contain||"").includes(o))}function kve(e){let t=Bc(e);for(;ws(t)&&!Rh(t);){if(UR(t))return t;if(B0(t))return null;t=Bc(t)}return null}function BR(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rh(e){return["html","body","#document"].includes(Kh(e))}function ja(e){return Hi(e).getComputedStyle(e)}function H0(e){return Ha(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bc(e){if(Kh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||n$(e)&&e.host||Tl(e);return n$(t)?t.host:t}function E6(e){const t=Bc(e);return Rh(t)?e.ownerDocument?e.ownerDocument.body:e.body:ws(t)&&gg(t)?t:E6(t)}function Vv(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=E6(e),l=a===((o=e.ownerDocument)==null?void 0:o.body),c=Hi(a);if(l){const d=uk(c);return t.concat(c,c.visualViewport||[],gg(a)?a:[],d&&r?Vv(d):[])}return t.concat(a,Vv(a,[],r))}function uk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function T6(e){const t=ja(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const a=ws(e),l=a?e.offsetWidth:r,c=a?e.offsetHeight:o,d=Qb(r)!==l||Qb(o)!==c;return d&&(r=l,o=c),{width:r,height:o,$:d}}function HR(e){return Ha(e)?e:e.contextElement}function ch(e){const t=HR(e);if(!ws(t))return Uc(1);const r=t.getBoundingClientRect(),{width:o,height:a,$:l}=T6(t);let c=(l?Qb(r.width):r.width)/o,d=(l?Qb(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const Rve=Uc(0);function C6(e){const t=Hi(e);return!BR()||!t.visualViewport?Rve:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ave(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Hi(e)?!1:t}function bd(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),l=HR(e);let c=Uc(1);t&&(o?Ha(o)&&(c=ch(o)):c=ch(e));const d=Ave(l,r,o)?C6(l):Uc(0);let h=(a.left+d.x)/c.x,m=(a.top+d.y)/c.y,g=a.width/c.x,v=a.height/c.y;if(l){const _=Hi(l),S=o&&Ha(o)?Hi(o):o;let T=_,b=uk(T);for(;b&&o&&S!==T;){const I=ch(b),C=b.getBoundingClientRect(),P=ja(b),R=C.left+(b.clientLeft+parseFloat(P.paddingLeft))*I.x,k=C.top+(b.clientTop+parseFloat(P.paddingTop))*I.y;h*=I.x,m*=I.y,g*=I.x,v*=I.y,h+=R,m+=k,T=Hi(b),b=uk(T)}}return e0({width:g,height:v,x:h,y:m})}function Ove(e){let{elements:t,rect:r,offsetParent:o,strategy:a}=e;const l=a==="fixed",c=Tl(o),d=t?B0(t.floating):!1;if(o===c||d&&l)return r;let h={scrollLeft:0,scrollTop:0},m=Uc(1);const g=Uc(0),v=ws(o);if((v||!v&&!l)&&((Kh(o)!=="body"||gg(c))&&(h=H0(o)),ws(o))){const _=bd(o);m=ch(o),g.x=_.x+o.clientLeft,g.y=_.y+o.clientTop}return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+g.x,y:r.y*m.y-h.scrollTop*m.y+g.y}}function Nve(e){return Array.from(e.getClientRects())}function w6(e){return bd(Tl(e)).left+H0(e).scrollLeft}function Pve(e){const t=Tl(e),r=H0(e),o=e.ownerDocument.body,a=ud(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=ud(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let c=-r.scrollLeft+w6(e);const d=-r.scrollTop;return ja(o).direction==="rtl"&&(c+=ud(t.clientWidth,o.clientWidth)-a),{width:a,height:l,x:c,y:d}}function Dve(e,t){const r=Hi(e),o=Tl(e),a=r.visualViewport;let l=o.clientWidth,c=o.clientHeight,d=0,h=0;if(a){l=a.width,c=a.height;const m=BR();(!m||m&&t==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:l,height:c,x:d,y:h}}function Lve(e,t){const r=bd(e,!0,t==="fixed"),o=r.top+e.clientTop,a=r.left+e.clientLeft,l=ws(e)?ch(e):Uc(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,h=a*l.x,m=o*l.y;return{width:c,height:d,x:h,y:m}}function r$(e,t,r){let o;if(t==="viewport")o=Dve(e,r);else if(t==="document")o=Pve(Tl(e));else if(Ha(t))o=Lve(t,r);else{const a=C6(e);o={...t,x:t.x-a.x,y:t.y-a.y}}return e0(o)}function I6(e,t){const r=Bc(e);return r===t||!Ha(r)||Rh(r)?!1:ja(r).position==="fixed"||I6(r,t)}function Mve(e,t){const r=t.get(e);if(r)return r;let o=Vv(e,[],!1).filter(d=>Ha(d)&&Kh(d)!=="body"),a=null;const l=ja(e).position==="fixed";let c=l?Bc(e):e;for(;Ha(c)&&!Rh(c);){const d=ja(c),h=UR(c);!h&&d.position==="fixed"&&(a=null),(l?!h&&!a:!h&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||gg(c)&&!h&&I6(e,c))?o=o.filter(g=>g!==c):a=d,c=Bc(c)}return t.set(e,o),o}function xve(e){let{element:t,boundary:r,rootBoundary:o,strategy:a}=e;const c=[...r==="clippingAncestors"?B0(t)?[]:Mve(t,this._c):[].concat(r),o],d=c[0],h=c.reduce((m,g)=>{const v=r$(t,g,a);return m.top=ud(v.top,m.top),m.right=Ih(v.right,m.right),m.bottom=Ih(v.bottom,m.bottom),m.left=ud(v.left,m.left),m},r$(t,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Vve(e){const{width:t,height:r}=T6(e);return{width:t,height:r}}function Fve(e,t,r){const o=ws(t),a=Tl(t),l=r==="fixed",c=bd(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const h=Uc(0);if(o||!o&&!l)if((Kh(t)!=="body"||gg(a))&&(d=H0(t)),o){const v=bd(t,!0,l,t);h.x=v.x+t.clientLeft,h.y=v.y+t.clientTop}else a&&(h.x=w6(a));const m=c.left+d.scrollLeft-h.x,g=c.top+d.scrollTop-h.y;return{x:m,y:g,width:c.width,height:c.height}}function aI(e){return ja(e).position==="static"}function o$(e,t){return!ws(e)||ja(e).position==="fixed"?null:t?t(e):e.offsetParent}function k6(e,t){const r=Hi(e);if(B0(e))return r;if(!ws(e)){let a=Bc(e);for(;a&&!Rh(a);){if(Ha(a)&&!aI(a))return a;a=Bc(a)}return r}let o=o$(e,t);for(;o&&Ive(o)&&aI(o);)o=o$(o,t);return o&&Rh(o)&&aI(o)&&!UR(o)?r:o||kve(e)||r}const $ve=async function(e){const t=this.getOffsetParent||k6,r=this.getDimensions,o=await r(e.floating);return{reference:Fve(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Uve(e){return ja(e).direction==="rtl"}const Bve={convertOffsetParentRelativeRectToViewportRelativeRect:Ove,getDocumentElement:Tl,getClippingRect:xve,getOffsetParent:k6,getElementRects:$ve,getClientRects:Nve,getDimensions:Vve,getScale:ch,isElement:Ha,isRTL:Uve};function Hve(e,t){let r=null,o;const a=Tl(e);function l(){var d;clearTimeout(o),(d=r)==null||d.disconnect(),r=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const{left:m,top:g,width:v,height:_}=e.getBoundingClientRect();if(d||t(),!v||!_)return;const S=ib(g),T=ib(a.clientWidth-(m+v)),b=ib(a.clientHeight-(g+_)),I=ib(m),P={rootMargin:-S+"px "+-T+"px "+-b+"px "+-I+"px",threshold:ud(0,Ih(1,h))||1};let R=!0;function k(N){const O=N[0].intersectionRatio;if(O!==h){if(!R)return c();O?c(!1,O):o=setTimeout(()=>{c(!1,1e-7)},1e3)}R=!1}try{r=new IntersectionObserver(k,{...P,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,P)}r.observe(e)}return c(!0),l}function jve(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,m=HR(e),g=a||l?[...m?Vv(m):[],...Vv(t)]:[];g.forEach(C=>{a&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const v=m&&d?Hve(m,r):null;let _=-1,S=null;c&&(S=new ResizeObserver(C=>{let[P]=C;P&&P.target===m&&S&&(S.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var R;(R=S)==null||R.observe(t)})),r()}),m&&!h&&S.observe(m),S.observe(t));let T,b=h?bd(e):null;h&&I();function I(){const C=bd(e);b&&(C.x!==b.x||C.y!==b.y||C.width!==b.width||C.height!==b.height)&&r(),b=C,T=requestAnimationFrame(I)}return r(),()=>{var C;g.forEach(P=>{a&&P.removeEventListener("scroll",r),l&&P.removeEventListener("resize",r)}),v==null||v(),(C=S)==null||C.disconnect(),S=null,h&&cancelAnimationFrame(T)}}const Wve=$R,R6=Cve,zve=wve,Kve=Eve,A6=Sve,O6=(e,t,r)=>{const o=new Map,a={platform:Bve,...r},l={...a.platform,_c:o};return bve(e,t,{...a,platform:l})};it({});const Gve=e=>{if(!Sn)return;if(!e)return e;const t=Si(e);return t||(lr(e)?t:e)},qve=({middleware:e,placement:t,strategy:r})=>{const o=q(),a=q(),l=q(),c=q(),d=q({}),h={x:l,y:c,placement:t,strategy:r,middlewareData:d},m=async()=>{if(!Sn)return;const g=Gve(o),v=Si(a);if(!g||!v)return;const _=await O6(g,v,{placement:f(t),strategy:f(r),middleware:f(e)});bh(h).forEach(S=>{h[S].value=_[S]})};return Zt(()=>{Po(()=>{m()})}),{...h,update:m,referenceRef:o,contentRef:a}},Yve=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(r){const o=f(e);return o?A6({element:o,padding:t}).fn(r):{}}});function Jve(e){let t;function r(){if(e.value==null)return;const{selectionStart:a,selectionEnd:l,value:c}=e.value;if(a==null||l==null)return;const d=c.slice(0,Math.max(0,a)),h=c.slice(Math.max(0,l));t={selectionStart:a,selectionEnd:l,value:c,beforeTxt:d,afterTxt:h}}function o(){if(e.value==null||t==null)return;const{value:a}=e.value,{beforeTxt:l,afterTxt:c,selectionStart:d}=t;if(l==null||c==null||d==null)return;let h=a.length;if(a.endsWith(c))h=a.length-c.length;else if(a.startsWith(l))h=l.length;else{const m=l[d-1],g=a.indexOf(m,d-1);g!==-1&&(h=g+1)}e.value.setSelectionRange(h,h)}return[r,o]}const Xve=(e,t,r)=>Rc(e.subTree).filter(l=>{var c;return _r(l)&&((c=l.type)==null?void 0:c.name)===t&&!!l.component}).map(l=>l.component.uid).map(l=>r[l]).filter(l=>!!l),jR=(e,t)=>{const r={},o=dr([]);return{children:o,addChild:c=>{r[c.uid]=c,o.value=Xve(e,t,r)},removeChild:c=>{delete r[c],o.value=o.value.filter(d=>d.uid!==c)}}},no=Ka({type:String,values:ks,required:!1}),N6=Symbol("size"),P6=()=>{const e=pt(N6,{});return D(()=>f(e.size)||"")};function yg(e,{beforeFocus:t,afterFocus:r,beforeBlur:o,afterBlur:a}={}){const l=Qt(),{emit:c}=l,d=dr(),h=q(!1),m=_=>{(Lt(t)?t(_):!1)||h.value||(h.value=!0,c("focus",_),r==null||r())},g=_=>{var S;(Lt(o)?o(_):!1)||_.relatedTarget&&((S=d.value)==null?void 0:S.contains(_.relatedTarget))||(h.value=!1,c("blur",_),a==null||a())},v=()=>{var _,S;((_=d.value)==null?void 0:_.contains(document.activeElement))&&d.value!==document.activeElement||(S=e.value)==null||S.focus()};return Ge(d,_=>{_&&_.setAttribute("tabindex","-1")}),Zn(d,"focus",m,!0),Zn(d,"blur",g,!0),Zn(d,"click",v,!0),{isFocused:h,wrapperRef:d,handleFocus:m,handleBlur:g}}function j0({afterComposition:e,emit:t}){const r=q(!1),o=d=>{t==null||t("compositionstart",d),r.value=!0},a=d=>{var h;t==null||t("compositionupdate",d);const m=(h=d.target)==null?void 0:h.value,g=m[m.length-1]||"";r.value=!Hpe(g)},l=d=>{t==null||t("compositionend",d),r.value&&(r.value=!1,wt(()=>e(d)))};return{isComposing:r,handleComposition:d=>{d.type==="compositionend"?l(d):a(d)},handleCompositionStart:o,handleCompositionUpdate:a,handleCompositionEnd:l}}const D6=Symbol("emptyValuesContextKey"),Qve=["",void 0,null],Zve=void 0,Gh=it({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>Lt(e)?!e():!e}}),W0=(e,t)=>{const r=Qt()?pt(D6,q({})):q({}),o=D(()=>e.emptyValues||r.value.emptyValues||Qve),a=D(()=>Lt(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:Lt(r.value.valueOnClear)?r.value.valueOnClear():r.value.valueOnClear!==void 0?r.value.valueOnClear:t!==void 0?t:Zve),l=c=>o.value.includes(c);return o.value.includes(a.value),{emptyValues:o,valueOnClear:a,isEmptyValue:l}},ege=it({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),ko=e=>xa(ege,e),L6=Symbol(),t0=q();function z0(e,t=void 0){const r=Qt()?pt(L6,t0):t0;return e?D(()=>{var o,a;return(a=(o=r.value)==null?void 0:o[e])!=null?a:t}):r}function K0(e,t){const r=z0(),o=Je(e,D(()=>{var d;return((d=r.value)==null?void 0:d.namespace)||hv})),a=En(D(()=>{var d;return(d=r.value)==null?void 0:d.locale})),l=zh(D(()=>{var d;return((d=r.value)==null?void 0:d.zIndex)||g6})),c=D(()=>{var d;return f(t)||((d=r.value)==null?void 0:d.size)||""});return WR(D(()=>f(r)||{})),{ns:o,locale:a,zIndex:l,size:c}}const WR=(e,t,r=!1)=>{var o;const a=!!Qt(),l=a?z0():void 0,c=(o=t==null?void 0:t.provide)!=null?o:a?pn:void 0;if(!c)return;const d=D(()=>{const h=f(e);return l!=null&&l.value?tge(l.value,h):h});return c(L6,d),c(t6,D(()=>d.value.locale)),c(n6,D(()=>d.value.namespace)),c(y6,D(()=>d.value.zIndex)),c(N6,{size:D(()=>d.value.size||"")}),c(D6,D(()=>({emptyValues:d.value.emptyValues,valueOnClear:d.value.valueOnClear}))),(r||!t0.value)&&(t0.value=d.value),d},tge=(e,t)=>{const r=[...new Set([...bh(e),...bh(t)])],o={};for(const a of r)o[a]=t[a]!==void 0?t[a]:e[a];return o},nge=it({a11y:{type:Boolean,default:!0},locale:{type:Se(Object)},size:no,button:{type:Se(Object)},experimentalFeatures:{type:Se(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Se(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Gh}),dk={},rge=he({name:"ElConfigProvider",props:nge,setup(e,{slots:t}){Ge(()=>e.message,o=>{Object.assign(dk,o!=null?o:{})},{immediate:!0,deep:!0});const r=WR(e);return()=>Pe(t,"default",{config:r==null?void 0:r.value})}}),oge=Kt(rge),ige="2.8.0",age=(e=[])=>({version:ige,install:(r,o)=>{r[VF]||(r[VF]=!0,e.forEach(a=>r.use(a)),o&&WR(o,r,!0))}}),sge=it({zIndex:{type:Se([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),lge={scroll:({scrollTop:e,fixed:t})=>xt(e)&&Vr(t),[pr]:e=>Vr(e)};var at=(e,t)=>{const r=e.__vccOpts||e;for(const[o,a]of t)r[o]=a;return r};const M6="ElAffix",cge=he({name:M6}),uge=he({...cge,props:sge,emits:lge,setup(e,{expose:t,emit:r}){const o=e,a=Je("affix"),l=dr(),c=dr(),d=dr(),{height:h}=ise(),{height:m,width:g,top:v,bottom:_,update:S}=X3(c,{windowScroll:!1}),T=X3(l),b=q(!1),I=q(0),C=q(0),P=D(()=>({height:b.value?`${m.value}px`:"",width:b.value?`${g.value}px`:""})),R=D(()=>{if(!b.value)return{};const O=o.offset?Or(o.offset):0;return{height:`${m.value}px`,width:`${g.value}px`,top:o.position==="top"?O:"",bottom:o.position==="bottom"?O:"",transform:C.value?`translateY(${C.value}px)`:"",zIndex:o.zIndex}}),k=()=>{if(!!d.value)if(I.value=d.value instanceof Window?document.documentElement.scrollTop:d.value.scrollTop||0,o.position==="top")if(o.target){const O=T.bottom.value-o.offset-m.value;b.value=o.offset>v.value&&T.bottom.value>0,C.value=O<0?O:0}else b.value=o.offset>v.value;else if(o.target){const O=h.value-T.top.value-o.offset-m.value;b.value=h.value-o.offset<_.value&&h.value>T.top.value,C.value=O<0?-O:0}else b.value=h.value-o.offset<_.value},N=()=>{S(),r("scroll",{scrollTop:I.value,fixed:b.value})};return Ge(b,O=>r("change",O)),Zt(()=>{var O;o.target?(l.value=(O=document.querySelector(o.target))!=null?O:void 0,l.value||to(M6,`Target does not exist: ${o.target}`)):l.value=document.documentElement,d.value=mR(c.value,!0),S()}),Zn(d,"scroll",N),Po(k),t({update:k,updateRoot:S}),(O,$)=>(F(),Q("div",{ref_key:"root",ref:c,class:B(f(a).b()),style:kt(f(P))},[te("div",{class:B({[f(a).m("fixed")]:b.value}),style:kt(f(R))},[Pe(O.$slots,"default")],6)],6))}});var dge=at(uge,[["__file","affix.vue"]]);const fge=Kt(dge),hge=it({size:{type:Se([Number,String])},color:{type:String}}),pge=he({name:"ElIcon",inheritAttrs:!1}),mge=he({...pge,props:hge,setup(e){const t=e,r=Je("icon"),o=D(()=>{const{size:a,color:l}=t;return!a&&!l?{}:{fontSize:Ar(a)?void 0:Or(a),"--color":l}});return(a,l)=>(F(),Q("i",sn({class:f(r).b(),style:f(o)},a.$attrs),[Pe(a.$slots,"default")],16))}});var vge=at(mge,[["__file","icon.vue"]]);const St=Kt(vge),gge=["light","dark"],yge=it({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:bh($c),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:gge,default:"light"}}),_ge={close:e=>e instanceof MouseEvent},bge=he({name:"ElAlert"}),Sge=he({...bge,props:yge,emits:_ge,setup(e,{emit:t}){const r=e,{Close:o}=ER,a=co(),l=Je("alert"),c=q(!0),d=D(()=>$c[r.type]),h=D(()=>[l.e("icon"),{[l.is("big")]:!!r.description||!!a.default}]),m=D(()=>({"with-description":r.description||a.default})),g=v=>{c.value=!1,t("close",v)};return(v,_)=>(F(),Ve(eo,{name:f(l).b("fade"),persisted:""},{default:ye(()=>[qt(te("div",{class:B([f(l).b(),f(l).m(v.type),f(l).is("center",v.center),f(l).is(v.effect)]),role:"alert"},[v.showIcon&&f(d)?(F(),Ve(f(St),{key:0,class:B(f(h))},{default:ye(()=>[(F(),Ve(ln(f(d))))]),_:1},8,["class"])):Ie("v-if",!0),te("div",{class:B(f(l).e("content"))},[v.title||v.$slots.title?(F(),Q("span",{key:0,class:B([f(l).e("title"),f(m)])},[Pe(v.$slots,"title",{},()=>[Jt(et(v.title),1)])],2)):Ie("v-if",!0),v.$slots.default||v.description?(F(),Q("p",{key:1,class:B(f(l).e("description"))},[Pe(v.$slots,"default",{},()=>[Jt(et(v.description),1)])],2)):Ie("v-if",!0),v.closable?(F(),Q(Tt,{key:2},[v.closeText?(F(),Q("div",{key:0,class:B([f(l).e("close-btn"),f(l).is("customed")]),onClick:g},et(v.closeText),3)):(F(),Ve(f(St),{key:1,class:B(f(l).e("close-btn")),onClick:g},{default:ye(()=>[se(f(o))]),_:1},8,["class"]))],64)):Ie("v-if",!0)],2)],2),[[Nn,c.value]])]),_:3},8,["name"]))}});var Ege=at(Sge,[["__file","alert.vue"]]);const x6=Kt(Ege),Ad=Symbol("formContextKey"),Is=Symbol("formItemContextKey"),Jr=(e,t={})=>{const r=q(void 0),o=t.prop?r:r6("size"),a=t.global?r:P6(),l=t.form?{size:void 0}:pt(Ad,void 0),c=t.formItem?{size:void 0}:pt(Is,void 0);return D(()=>o.value||f(e)||(c==null?void 0:c.size)||(l==null?void 0:l.size)||a.value||"")},ui=e=>{const t=r6("disabled"),r=pt(Ad,void 0);return D(()=>t.value||f(e)||(r==null?void 0:r.disabled)||!1)},Go=()=>{const e=pt(Ad,void 0),t=pt(Is,void 0);return{form:e,formItem:t}},qa=(e,{formItemContext:t,disableIdGeneration:r,disableIdManagement:o})=>{r||(r=q(!1)),o||(o=q(!1));const a=q();let l;const c=D(()=>{var d;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((d=t.inputIds)==null?void 0:d.length)<=1)});return Zt(()=>{l=Ge([Kn(e,"id"),r],([d,h])=>{const m=d!=null?d:h?void 0:Mo().value;m!==a.value&&(t!=null&&t.removeInputId&&(a.value&&t.removeInputId(a.value),!(o!=null&&o.value)&&!h&&m&&t.addInputId(m)),a.value=m)},{immediate:!0})}),_l(()=>{l&&l(),t!=null&&t.removeInputId&&a.value&&t.removeInputId(a.value)}),{isLabeledByFormItem:c,inputId:a}},Tge=it({size:{type:String,values:ks},disabled:Boolean}),Cge=it({...Tge,model:Object,rules:{type:Se(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),wge={validate:(e,t,r)=>(ht(e)||Mt(e))&&Vr(t)&&Mt(r)};function Ige(){const e=q([]),t=D(()=>{if(!e.value.length)return"0";const l=Math.max(...e.value);return l?`${l}px`:""});function r(l){const c=e.value.indexOf(l);return c===-1&&t.value,c}function o(l,c){if(l&&c){const d=r(c);e.value.splice(d,1,l)}else l&&e.value.push(l)}function a(l){const c=r(l);c>-1&&e.value.splice(c,1)}return{autoLabelWidth:t,registerLabelWidth:o,deregisterLabelWidth:a}}const ab=(e,t)=>{const r=Wo(t);return r.length>0?e.filter(o=>o.prop&&r.includes(o.prop)):e},kge="ElForm",Rge=he({name:kge}),Age=he({...Rge,props:Cge,emits:wge,setup(e,{expose:t,emit:r}){const o=e,a=[],l=Jr(),c=Je("form"),d=D(()=>{const{labelPosition:R,inline:k}=o;return[c.b(),c.m(l.value||"default"),{[c.m(`label-${R}`)]:R,[c.m("inline")]:k}]}),h=R=>a.find(k=>k.prop===R),m=R=>{a.push(R)},g=R=>{R.prop&&a.splice(a.indexOf(R),1)},v=(R=[])=>{!o.model||ab(a,R).forEach(k=>k.resetField())},_=(R=[])=>{ab(a,R).forEach(k=>k.clearValidate())},S=D(()=>!!o.model),T=R=>{if(a.length===0)return[];const k=ab(a,R);return k.length?k:[]},b=async R=>C(void 0,R),I=async(R=[])=>{if(!S.value)return!1;const k=T(R);if(k.length===0)return!0;let N={};for(const O of k)try{await O.validate("")}catch($){N={...N,...$}}return Object.keys(N).length===0?!0:Promise.reject(N)},C=async(R=[],k)=>{const N=!Lt(k);try{const O=await I(R);return O===!0&&await(k==null?void 0:k(O)),O}catch(O){if(O instanceof Error)throw O;const $=O;return o.scrollToError&&P(Object.keys($)[0]),await(k==null?void 0:k(!1,$)),N&&Promise.reject($)}},P=R=>{var k;const N=ab(a,R)[0];N&&((k=N.$el)==null||k.scrollIntoView(o.scrollIntoViewOptions))};return Ge(()=>o.rules,()=>{o.validateOnRuleChange&&b().catch(R=>void 0)},{deep:!0}),pn(Ad,Un({...So(o),emit:r,resetFields:v,clearValidate:_,validateField:C,getField:h,addField:m,removeField:g,...Ige()})),t({validate:b,validateField:C,resetFields:v,clearValidate:_,scrollToField:P,fields:a}),(R,k)=>(F(),Q("form",{class:B(f(d))},[Pe(R.$slots,"default")],2))}});var Oge=at(Age,[["__file","form.vue"]]);function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Qu.apply(this,arguments)}function Nge(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fv(e,t)}function fk(e){return fk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fk(e)}function Fv(e,t){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},Fv(e,t)}function Pge(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kb(e,t,r){return Pge()?kb=Reflect.construct.bind():kb=function(a,l,c){var d=[null];d.push.apply(d,l);var h=Function.bind.apply(a,d),m=new h;return c&&Fv(m,c.prototype),m},kb.apply(null,arguments)}function Dge(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function hk(e){var t=typeof Map=="function"?new Map:void 0;return hk=function(o){if(o===null||!Dge(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(o))return t.get(o);t.set(o,a)}function a(){return kb(o,arguments,fk(this).constructor)}return a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Fv(a,o)},hk(e)}var Lge=/%[sdj%]/g,Mge=function(){};typeof process!="undefined"&&process.env;function pk(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var o=r.field;t[o]=t[o]||[],t[o].push(r)}),t}function Ui(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a=0,l=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var c=e.replace(Lge,function(d){if(d==="%%")return"%";if(a>=l)return d;switch(d){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return d}});return c}return e}function xge(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Eo(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||xge(t)&&typeof e=="string"&&!e)}function Vge(e,t,r){var o=[],a=0,l=e.length;function c(d){o.push.apply(o,d||[]),a++,a===l&&r(o)}e.forEach(function(d){t(d,c)})}function i$(e,t,r){var o=0,a=e.length;function l(c){if(c&&c.length){r(c);return}var d=o;o=o+1,d<a?t(e[d],l):r([])}l([])}function Fge(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var a$=function(e){Nge(t,e);function t(r,o){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=r,a.fields=o,a}return t}(hk(Error));function $ge(e,t,r,o,a){if(t.first){var l=new Promise(function(_,S){var T=function(C){return o(C),C.length?S(new a$(C,pk(C))):_(a)},b=Fge(e);i$(b,r,T)});return l.catch(function(_){return _}),l}var c=t.firstFields===!0?Object.keys(e):t.firstFields||[],d=Object.keys(e),h=d.length,m=0,g=[],v=new Promise(function(_,S){var T=function(I){if(g.push.apply(g,I),m++,m===h)return o(g),g.length?S(new a$(g,pk(g))):_(a)};d.length||(o(g),_(a)),d.forEach(function(b){var I=e[b];c.indexOf(b)!==-1?i$(I,r,T):Vge(I,r,T)})});return v.catch(function(_){return _}),v}function Uge(e){return!!(e&&e.message!==void 0)}function Bge(e,t){for(var r=e,o=0;o<t.length;o++){if(r==null)return r;r=r[t[o]]}return r}function s$(e,t){return function(r){var o;return e.fullFields?o=Bge(t,e.fullFields):o=t[r.field||e.fullField],Uge(r)?(r.field=r.field||e.fullField,r.fieldValue=o,r):{message:typeof r=="function"?r():r,fieldValue:o,field:r.field||e.fullField}}}function l$(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];typeof o=="object"&&typeof e[r]=="object"?e[r]=Qu({},e[r],o):e[r]=o}}return e}var V6=function(t,r,o,a,l,c){t.required&&(!o.hasOwnProperty(t.field)||Eo(r,c||t.type))&&a.push(Ui(l.messages.required,t.fullField))},Hge=function(t,r,o,a,l){(/^\s+$/.test(r)||r==="")&&a.push(Ui(l.messages.whitespace,t.fullField))},sb,jge=function(){if(sb)return sb;var e="[a-fA-F\\d:]",t=function(k){return k&&k.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+o+":){7}(?:"+o+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+o+":){6}(?:"+r+"|:"+o+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+o+":){5}(?::"+r+"|(?::"+o+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+o+":){4}(?:(?::"+o+"){0,1}:"+r+"|(?::"+o+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+o+":){3}(?:(?::"+o+"){0,2}:"+r+"|(?::"+o+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+o+":){2}(?:(?::"+o+"){0,3}:"+r+"|(?::"+o+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+o+":){1}(?:(?::"+o+"){0,4}:"+r+"|(?::"+o+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+o+"){0,5}:"+r+"|(?::"+o+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),l=new RegExp("(?:^"+r+"$)|(?:^"+a+"$)"),c=new RegExp("^"+r+"$"),d=new RegExp("^"+a+"$"),h=function(k){return k&&k.exact?l:new RegExp("(?:"+t(k)+r+t(k)+")|(?:"+t(k)+a+t(k)+")","g")};h.v4=function(R){return R&&R.exact?c:new RegExp(""+t(R)+r+t(R),"g")},h.v6=function(R){return R&&R.exact?d:new RegExp(""+t(R)+a+t(R),"g")};var m="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",v=h.v4().source,_=h.v6().source,S="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",T="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",I="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',P="(?:"+m+"|www\\.)"+g+"(?:localhost|"+v+"|"+_+"|"+S+T+b+")"+I+C;return sb=new RegExp("(?:^"+P+"$)","i"),sb},c$={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},tv={integer:function(t){return tv.number(t)&&parseInt(t,10)===t},float:function(t){return tv.number(t)&&!tv.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!tv.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(c$.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(jge())},hex:function(t){return typeof t=="string"&&!!t.match(c$.hex)}},Wge=function(t,r,o,a,l){if(t.required&&r===void 0){V6(t,r,o,a,l);return}var c=["integer","float","array","regexp","object","method","email","number","date","url","hex"],d=t.type;c.indexOf(d)>-1?tv[d](r)||a.push(Ui(l.messages.types[d],t.fullField,t.type)):d&&typeof r!==t.type&&a.push(Ui(l.messages.types[d],t.fullField,t.type))},zge=function(t,r,o,a,l){var c=typeof t.len=="number",d=typeof t.min=="number",h=typeof t.max=="number",m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=r,v=null,_=typeof r=="number",S=typeof r=="string",T=Array.isArray(r);if(_?v="number":S?v="string":T&&(v="array"),!v)return!1;T&&(g=r.length),S&&(g=r.replace(m,"_").length),c?g!==t.len&&a.push(Ui(l.messages[v].len,t.fullField,t.len)):d&&!h&&g<t.min?a.push(Ui(l.messages[v].min,t.fullField,t.min)):h&&!d&&g>t.max?a.push(Ui(l.messages[v].max,t.fullField,t.max)):d&&h&&(g<t.min||g>t.max)&&a.push(Ui(l.messages[v].range,t.fullField,t.min,t.max))},Hf="enum",Kge=function(t,r,o,a,l){t[Hf]=Array.isArray(t[Hf])?t[Hf]:[],t[Hf].indexOf(r)===-1&&a.push(Ui(l.messages[Hf],t.fullField,t[Hf].join(", ")))},Gge=function(t,r,o,a,l){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||a.push(Ui(l.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var c=new RegExp(t.pattern);c.test(r)||a.push(Ui(l.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},sr={required:V6,whitespace:Hge,type:Wge,range:zge,enum:Kge,pattern:Gge},qge=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r,"string")&&!t.required)return o();sr.required(t,r,a,c,l,"string"),Eo(r,"string")||(sr.type(t,r,a,c,l),sr.range(t,r,a,c,l),sr.pattern(t,r,a,c,l),t.whitespace===!0&&sr.whitespace(t,r,a,c,l))}o(c)},Yge=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l),r!==void 0&&sr.type(t,r,a,c,l)}o(c)},Jge=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(r===""&&(r=void 0),Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l),r!==void 0&&(sr.type(t,r,a,c,l),sr.range(t,r,a,c,l))}o(c)},Xge=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l),r!==void 0&&sr.type(t,r,a,c,l)}o(c)},Qge=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l),Eo(r)||sr.type(t,r,a,c,l)}o(c)},Zge=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l),r!==void 0&&(sr.type(t,r,a,c,l),sr.range(t,r,a,c,l))}o(c)},eye=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l),r!==void 0&&(sr.type(t,r,a,c,l),sr.range(t,r,a,c,l))}o(c)},tye=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(r==null&&!t.required)return o();sr.required(t,r,a,c,l,"array"),r!=null&&(sr.type(t,r,a,c,l),sr.range(t,r,a,c,l))}o(c)},nye=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l),r!==void 0&&sr.type(t,r,a,c,l)}o(c)},rye="enum",oye=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l),r!==void 0&&sr[rye](t,r,a,c,l)}o(c)},iye=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r,"string")&&!t.required)return o();sr.required(t,r,a,c,l),Eo(r,"string")||sr.pattern(t,r,a,c,l)}o(c)},aye=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r,"date")&&!t.required)return o();if(sr.required(t,r,a,c,l),!Eo(r,"date")){var h;r instanceof Date?h=r:h=new Date(r),sr.type(t,h,a,c,l),h&&sr.range(t,h.getTime(),a,c,l)}}o(c)},sye=function(t,r,o,a,l){var c=[],d=Array.isArray(r)?"array":typeof r;sr.required(t,r,a,c,l,d),o(c)},sI=function(t,r,o,a,l){var c=t.type,d=[],h=t.required||!t.required&&a.hasOwnProperty(t.field);if(h){if(Eo(r,c)&&!t.required)return o();sr.required(t,r,a,d,l,c),Eo(r,c)||sr.type(t,r,a,d,l)}o(d)},lye=function(t,r,o,a,l){var c=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Eo(r)&&!t.required)return o();sr.required(t,r,a,c,l)}o(c)},vv={string:qge,method:Yge,number:Jge,boolean:Xge,regexp:Qge,integer:Zge,float:eye,array:tye,object:nye,enum:oye,pattern:iye,date:aye,url:sI,hex:sI,email:sI,required:sye,any:lye};function mk(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var vk=mk(),_g=function(){function e(r){this.rules=null,this._messages=vk,this.define(r)}var t=e.prototype;return t.define=function(o){var a=this;if(!o)throw new Error("Cannot configure a schema with no rules");if(typeof o!="object"||Array.isArray(o))throw new Error("Rules must be an object");this.rules={},Object.keys(o).forEach(function(l){var c=o[l];a.rules[l]=Array.isArray(c)?c:[c]})},t.messages=function(o){return o&&(this._messages=l$(mk(),o)),this._messages},t.validate=function(o,a,l){var c=this;a===void 0&&(a={}),l===void 0&&(l=function(){});var d=o,h=a,m=l;if(typeof h=="function"&&(m=h,h={}),!this.rules||Object.keys(this.rules).length===0)return m&&m(null,d),Promise.resolve(d);function g(b){var I=[],C={};function P(k){if(Array.isArray(k)){var N;I=(N=I).concat.apply(N,k)}else I.push(k)}for(var R=0;R<b.length;R++)P(b[R]);I.length?(C=pk(I),m(I,C)):m(null,d)}if(h.messages){var v=this.messages();v===vk&&(v=mk()),l$(v,h.messages),h.messages=v}else h.messages=this.messages();var _={},S=h.keys||Object.keys(this.rules);S.forEach(function(b){var I=c.rules[b],C=d[b];I.forEach(function(P){var R=P;typeof R.transform=="function"&&(d===o&&(d=Qu({},d)),C=d[b]=R.transform(C)),typeof R=="function"?R={validator:R}:R=Qu({},R),R.validator=c.getValidationMethod(R),R.validator&&(R.field=b,R.fullField=R.fullField||b,R.type=c.getType(R),_[b]=_[b]||[],_[b].push({rule:R,value:C,source:d,field:b}))})});var T={};return $ge(_,h,function(b,I){var C=b.rule,P=(C.type==="object"||C.type==="array")&&(typeof C.fields=="object"||typeof C.defaultField=="object");P=P&&(C.required||!C.required&&b.value),C.field=b.field;function R(O,$){return Qu({},$,{fullField:C.fullField+"."+O,fullFields:C.fullFields?[].concat(C.fullFields,[O]):[O]})}function k(O){O===void 0&&(O=[]);var $=Array.isArray(O)?O:[O];!h.suppressWarning&&$.length&&e.warning("async-validator:",$),$.length&&C.message!==void 0&&($=[].concat(C.message));var L=$.map(s$(C,d));if(h.first&&L.length)return T[C.field]=1,I(L);if(!P)I(L);else{if(C.required&&!b.value)return C.message!==void 0?L=[].concat(C.message).map(s$(C,d)):h.error&&(L=[h.error(C,Ui(h.messages.required,C.field))]),I(L);var M={};C.defaultField&&Object.keys(b.value).map(function(W){M[W]=C.defaultField}),M=Qu({},M,b.rule.fields);var U={};Object.keys(M).forEach(function(W){var re=M[W],ae=Array.isArray(re)?re:[re];U[W]=ae.map(R.bind(null,W))});var j=new e(U);j.messages(h.messages),b.rule.options&&(b.rule.options.messages=h.messages,b.rule.options.error=h.error),j.validate(b.value,b.rule.options||h,function(W){var re=[];L&&L.length&&re.push.apply(re,L),W&&W.length&&re.push.apply(re,W),I(re.length?re:null)})}}var N;if(C.asyncValidator)N=C.asyncValidator(C,b.value,k,b.source,h);else if(C.validator){try{N=C.validator(C,b.value,k,b.source,h)}catch(O){console.error==null||console.error(O),h.suppressValidatorError||setTimeout(function(){throw O},0),k(O.message)}N===!0?k():N===!1?k(typeof C.message=="function"?C.message(C.fullField||C.field):C.message||(C.fullField||C.field)+" fails"):N instanceof Array?k(N):N instanceof Error&&k(N.message)}N&&N.then&&N.then(function(){return k()},function(O){return k(O)})},function(b){g(b)},d)},t.getType=function(o){if(o.type===void 0&&o.pattern instanceof RegExp&&(o.type="pattern"),typeof o.validator!="function"&&o.type&&!vv.hasOwnProperty(o.type))throw new Error(Ui("Unknown rule type %s",o.type));return o.type||"string"},t.getValidationMethod=function(o){if(typeof o.validator=="function")return o.validator;var a=Object.keys(o),l=a.indexOf("message");return l!==-1&&a.splice(l,1),a.length===1&&a[0]==="required"?vv.required:vv[this.getType(o)]||void 0},e}();_g.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");vv[t]=r};_g.warning=Mge;_g.messages=vk;_g.validators=vv;const cye=["","error","validating","success"],uye=it({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Se([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Se([Object,Array])},error:String,validateStatus:{type:String,values:cye},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:ks}}),u$="ElLabelWrap";var dye=he({name:u$,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const r=pt(Ad,void 0),o=pt(Is);o||to(u$,"usage: <el-form-item><label-wrap /></el-form-item>");const a=Je("form"),l=q(),c=q(0),d=()=>{var g;if((g=l.value)!=null&&g.firstElementChild){const v=window.getComputedStyle(l.value.firstElementChild).width;return Math.ceil(Number.parseFloat(v))}else return 0},h=(g="update")=>{wt(()=>{t.default&&e.isAutoWidth&&(g==="update"?c.value=d():g==="remove"&&(r==null||r.deregisterLabelWidth(c.value)))})},m=()=>h("update");return Zt(()=>{m()}),ur(()=>{h("remove")}),yl(()=>m()),Ge(c,(g,v)=>{e.updateAll&&(r==null||r.registerLabelWidth(g,v))}),Sr(D(()=>{var g,v;return(v=(g=l.value)==null?void 0:g.firstElementChild)!=null?v:null}),m),()=>{var g,v;if(!t)return null;const{isAutoWidth:_}=e;if(_){const S=r==null?void 0:r.autoLabelWidth,T=o==null?void 0:o.hasLabel,b={};if(T&&S&&S!=="auto"){const I=Math.max(0,Number.parseInt(S,10)-c.value),P=(o.labelPosition||r.labelPosition)==="left"?"marginRight":"marginLeft";I&&(b[P]=`${I}px`)}return se("div",{ref:l,class:[a.be("item","label-wrap")],style:b},[(g=t.default)==null?void 0:g.call(t)])}else return se(Tt,{ref:l},[(v=t.default)==null?void 0:v.call(t)])}}});const fye=he({name:"ElFormItem"}),hye=he({...fye,props:uye,setup(e,{expose:t}){const r=e,o=co(),a=pt(Ad,void 0),l=pt(Is,void 0),c=Jr(void 0,{formItem:!1}),d=Je("form-item"),h=Mo().value,m=q([]),g=q(""),v=Bae(g,100),_=q(""),S=q();let T,b=!1;const I=D(()=>r.labelPosition||(a==null?void 0:a.labelPosition)),C=D(()=>{if(I.value==="top")return{};const Le=Or(r.labelWidth||(a==null?void 0:a.labelWidth)||"");return Le?{width:Le}:{}}),P=D(()=>{if(I.value==="top"||(a==null?void 0:a.inline))return{};if(!r.label&&!r.labelWidth&&U)return{};const Le=Or(r.labelWidth||(a==null?void 0:a.labelWidth)||"");return!r.label&&!o.label?{marginLeft:Le}:{}}),R=D(()=>[d.b(),d.m(c.value),d.is("error",g.value==="error"),d.is("validating",g.value==="validating"),d.is("success",g.value==="success"),d.is("required",ee.value||r.required),d.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[d.m("feedback")]:a==null?void 0:a.statusIcon,[d.m(`label-${I.value}`)]:I.value}]),k=D(()=>Vr(r.inlineMessage)?r.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),N=D(()=>[d.e("error"),{[d.em("error","inline")]:k.value}]),O=D(()=>r.prop?Mt(r.prop)?r.prop:r.prop.join("."):""),$=D(()=>!!(r.label||o.label)),L=D(()=>r.for||(m.value.length===1?m.value[0]:void 0)),M=D(()=>!L.value&&$.value),U=!!l,j=D(()=>{const Le=a==null?void 0:a.model;if(!(!Le||!r.prop))return wb(Le,r.prop).value}),W=D(()=>{const{required:Le}=r,Te=[];r.rules&&Te.push(...Wo(r.rules));const Be=a==null?void 0:a.rules;if(Be&&r.prop){const be=wb(Be,r.prop).value;be&&Te.push(...Wo(be))}if(Le!==void 0){const be=Te.map((We,ce)=>[We,ce]).filter(([We])=>Object.keys(We).includes("required"));if(be.length>0)for(const[We,ce]of be)We.required!==Le&&(Te[ce]={...We,required:Le});else Te.push({required:Le})}return Te}),re=D(()=>W.value.length>0),ae=Le=>W.value.filter(Be=>!Be.trigger||!Le?!0:Array.isArray(Be.trigger)?Be.trigger.includes(Le):Be.trigger===Le).map(({trigger:Be,...be})=>be),ee=D(()=>W.value.some(Le=>Le.required)),G=D(()=>{var Le;return v.value==="error"&&r.showMessage&&((Le=a==null?void 0:a.showMessage)!=null?Le:!0)}),Z=D(()=>`${r.label||""}${(a==null?void 0:a.labelSuffix)||""}`),X=Le=>{g.value=Le},H=Le=>{var Te,Be;const{errors:be,fields:We}=Le;(!be||!We)&&console.error(Le),X("error"),_.value=be?(Be=(Te=be==null?void 0:be[0])==null?void 0:Te.message)!=null?Be:`${r.prop} is required`:"",a==null||a.emit("validate",r.prop,!1,_.value)},J=()=>{X("success"),a==null||a.emit("validate",r.prop,!0,"")},fe=async Le=>{const Te=O.value;return new _g({[Te]:Le}).validate({[Te]:j.value},{firstFields:!0}).then(()=>(J(),!0)).catch(be=>(H(be),Promise.reject(be)))},ge=async(Le,Te)=>{if(b||!r.prop)return!1;const Be=Lt(Te);if(!re.value)return Te==null||Te(!1),!1;const be=ae(Le);return be.length===0?(Te==null||Te(!0),!0):(X("validating"),fe(be).then(()=>(Te==null||Te(!0),!0)).catch(We=>{const{fields:ce}=We;return Te==null||Te(!1,ce),Be?!1:Promise.reject(ce)}))},me=()=>{X(""),_.value="",b=!1},Ee=async()=>{const Le=a==null?void 0:a.model;if(!Le||!r.prop)return;const Te=wb(Le,r.prop);b=!0,Te.value=AF(T),await wt(),me(),b=!1},Fe=Le=>{m.value.includes(Le)||m.value.push(Le)},$e=Le=>{m.value=m.value.filter(Te=>Te!==Le)};Ge(()=>r.error,Le=>{_.value=Le||"",X(Le?"error":"")},{immediate:!0}),Ge(()=>r.validateStatus,Le=>X(Le||""));const de=Un({...So(r),$el:S,size:c,validateState:g,labelId:h,inputIds:m,isGroup:M,hasLabel:$,fieldValue:j,addInputId:Fe,removeInputId:$e,resetField:Ee,clearValidate:me,validate:ge});return pn(Is,de),Zt(()=>{r.prop&&(a==null||a.addField(de),T=AF(j.value))}),ur(()=>{a==null||a.removeField(de)}),t({size:c,validateMessage:_,validateState:g,validate:ge,clearValidate:me,resetField:Ee}),(Le,Te)=>{var Be;return F(),Q("div",{ref_key:"formItemRef",ref:S,class:B(f(R)),role:f(M)?"group":void 0,"aria-labelledby":f(M)?f(h):void 0},[se(f(dye),{"is-auto-width":f(C).width==="auto","update-all":((Be=f(a))==null?void 0:Be.labelWidth)==="auto"},{default:ye(()=>[f($)?(F(),Ve(ln(f(L)?"label":"div"),{key:0,id:f(h),for:f(L),class:B(f(d).e("label")),style:kt(f(C))},{default:ye(()=>[Pe(Le.$slots,"label",{label:f(Z)},()=>[Jt(et(f(Z)),1)])]),_:3},8,["id","for","class","style"])):Ie("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),te("div",{class:B(f(d).e("content")),style:kt(f(P))},[Pe(Le.$slots,"default"),se(zB,{name:`${f(d).namespace.value}-zoom-in-top`},{default:ye(()=>[f(G)?Pe(Le.$slots,"error",{key:0,error:_.value},()=>[te("div",{class:B(f(N))},et(_.value),3)]):Ie("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var F6=at(hye,[["__file","form-item.vue"]]);const pye=Kt(Oge,{FormItem:F6}),mye=Tr(F6);let Pa;const vye=`
  height:0 !important;
  visibility:hidden !important;
  ${X1()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,gye=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function yye(e){const t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:gye.map(c=>`${c}:${t.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:a,boxSizing:r}}function d$(e,t=1,r){var o;Pa||(Pa=document.createElement("textarea"),document.body.appendChild(Pa));const{paddingSize:a,borderSize:l,boxSizing:c,contextStyle:d}=yye(e);Pa.setAttribute("style",`${d};${vye}`),Pa.value=e.value||e.placeholder||"";let h=Pa.scrollHeight;const m={};c==="border-box"?h=h+l:c==="content-box"&&(h=h-a),Pa.value="";const g=Pa.scrollHeight-a;if(xt(t)){let v=g*t;c==="border-box"&&(v=v+a+l),h=Math.max(v,h),m.minHeight=`${v}px`}if(xt(r)){let v=g*r;c==="border-box"&&(v=v+a+l),h=Math.min(v,h)}return m.height=`${h}px`,(o=Pa.parentNode)==null||o.removeChild(Pa),Pa=void 0,m}const zR=it({id:{type:String,default:void 0},size:no,disabled:Boolean,modelValue:{type:Se([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Se([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:ir},prefixIcon:{type:ir},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Se([Object,Array,String]),default:()=>Er({})},autofocus:Boolean,rows:{type:Number,default:2},...ko(["ariaLabel"])}),_ye={[tn]:e=>Mt(e),input:e=>Mt(e),change:e=>Mt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},bye=he({name:"ElInput",inheritAttrs:!1}),Sye=he({...bye,props:zR,emits:_ye,setup(e,{expose:t,emit:r}){const o=e,a=Td(),l=co(),c=D(()=>{const Ae={};return o.containerRole==="combobox"&&(Ae["aria-haspopup"]=a["aria-haspopup"],Ae["aria-owns"]=a["aria-owns"],Ae["aria-expanded"]=a["aria-expanded"]),Ae}),d=D(()=>[o.type==="textarea"?I.b():b.b(),b.m(S.value),b.is("disabled",T.value),b.is("exceed",fe.value),{[b.b("group")]:l.prepend||l.append,[b.m("prefix")]:l.prefix||o.prefixIcon,[b.m("suffix")]:l.suffix||o.suffixIcon||o.clearable||o.showPassword,[b.bm("suffix","password-clear")]:Z.value&&X.value,[b.b("hidden")]:o.type==="hidden"},a.class]),h=D(()=>[b.e("wrapper"),b.is("focus",M.value)]),m=CR({excludeKeys:D(()=>Object.keys(c.value))}),{form:g,formItem:v}=Go(),{inputId:_}=qa(o,{formItemContext:v}),S=Jr(),T=ui(),b=Je("input"),I=Je("textarea"),C=dr(),P=dr(),R=q(!1),k=q(!1),N=q(),O=dr(o.inputStyle),$=D(()=>C.value||P.value),{wrapperRef:L,isFocused:M}=yg($,{afterBlur(){var Ae;o.validateEvent&&((Ae=v==null?void 0:v.validate)==null||Ae.call(v,"blur").catch(qe=>void 0))}}),U=D(()=>{var Ae;return(Ae=g==null?void 0:g.statusIcon)!=null?Ae:!1}),j=D(()=>(v==null?void 0:v.validateState)||""),W=D(()=>j.value&&TR[j.value]),re=D(()=>k.value?Ope:epe),ae=D(()=>[a.style]),ee=D(()=>[o.inputStyle,O.value,{resize:o.resize}]),G=D(()=>yo(o.modelValue)?"":String(o.modelValue)),Z=D(()=>o.clearable&&!T.value&&!o.readonly&&!!G.value&&(M.value||R.value)),X=D(()=>o.showPassword&&!T.value&&!o.readonly&&!!G.value&&(!!G.value||M.value)),H=D(()=>o.showWordLimit&&!!o.maxlength&&(o.type==="text"||o.type==="textarea")&&!T.value&&!o.readonly&&!o.showPassword),J=D(()=>G.value.length),fe=D(()=>!!H.value&&J.value>Number(o.maxlength)),ge=D(()=>!!l.suffix||!!o.suffixIcon||Z.value||o.showPassword||H.value||!!j.value&&U.value),[me,Ee]=Jve(C);Sr(P,Ae=>{if(de(),!H.value||o.resize!=="both")return;const qe=Ae[0],{width:rt}=qe.contentRect;N.value={right:`calc(100% - ${rt+15+6}px)`}});const Fe=()=>{const{type:Ae,autosize:qe}=o;if(!(!Sn||Ae!=="textarea"||!P.value))if(qe){const rt=nn(qe)?qe.minRows:void 0,Ue=nn(qe)?qe.maxRows:void 0,Xe=d$(P.value,rt,Ue);O.value={overflowY:"hidden",...Xe},wt(()=>{P.value.offsetHeight,O.value=Xe})}else O.value={minHeight:d$(P.value).minHeight}},de=(Ae=>{let qe=!1;return()=>{var rt;if(qe||!o.autosize)return;((rt=P.value)==null?void 0:rt.offsetParent)===null||(Ae(),qe=!0)}})(Fe),Le=()=>{const Ae=$.value,qe=o.formatter?o.formatter(G.value):G.value;!Ae||Ae.value===qe||(Ae.value=qe)},Te=async Ae=>{me();let{value:qe}=Ae.target;if(o.formatter&&(qe=o.parser?o.parser(qe):qe),!be.value){if(qe===G.value){Le();return}r(tn,qe),r("input",qe),await wt(),Le(),Ee()}},Be=Ae=>{r("change",Ae.target.value)},{isComposing:be,handleCompositionStart:We,handleCompositionUpdate:ce,handleCompositionEnd:ie}=j0({emit:r,afterComposition:Te}),De=()=>{k.value=!k.value,tt()},tt=async()=>{var Ae;await wt(),(Ae=$.value)==null||Ae.focus()},xe=()=>{var Ae;return(Ae=$.value)==null?void 0:Ae.blur()},ze=Ae=>{R.value=!1,r("mouseleave",Ae)},ot=Ae=>{R.value=!0,r("mouseenter",Ae)},le=Ae=>{r("keydown",Ae)},pe=()=>{var Ae;(Ae=$.value)==null||Ae.select()},Re=()=>{r(tn,""),r("change",""),r("clear"),r("input","")};return Ge(()=>o.modelValue,()=>{var Ae;wt(()=>Fe()),o.validateEvent&&((Ae=v==null?void 0:v.validate)==null||Ae.call(v,"change").catch(qe=>void 0))}),Ge(G,()=>Le()),Ge(()=>o.type,async()=>{await wt(),Le(),Fe()}),Zt(()=>{!o.formatter&&o.parser,Le(),wt(Fe)}),t({input:C,textarea:P,ref:$,textareaStyle:ee,autosize:Kn(o,"autosize"),isComposing:be,focus:tt,blur:xe,select:pe,clear:Re,resizeTextarea:Fe}),(Ae,qe)=>(F(),Q("div",sn(f(c),{class:[f(d),{[f(b).bm("group","append")]:Ae.$slots.append,[f(b).bm("group","prepend")]:Ae.$slots.prepend}],style:f(ae),role:Ae.containerRole,onMouseenter:ot,onMouseleave:ze}),[Ie(" input "),Ae.type!=="textarea"?(F(),Q(Tt,{key:0},[Ie(" prepend slot "),Ae.$slots.prepend?(F(),Q("div",{key:0,class:B(f(b).be("group","prepend"))},[Pe(Ae.$slots,"prepend")],2)):Ie("v-if",!0),te("div",{ref_key:"wrapperRef",ref:L,class:B(f(h))},[Ie(" prefix slot "),Ae.$slots.prefix||Ae.prefixIcon?(F(),Q("span",{key:0,class:B(f(b).e("prefix"))},[te("span",{class:B(f(b).e("prefix-inner"))},[Pe(Ae.$slots,"prefix"),Ae.prefixIcon?(F(),Ve(f(St),{key:0,class:B(f(b).e("icon"))},{default:ye(()=>[(F(),Ve(ln(Ae.prefixIcon)))]),_:1},8,["class"])):Ie("v-if",!0)],2)],2)):Ie("v-if",!0),te("input",sn({id:f(_),ref_key:"input",ref:C,class:f(b).e("inner")},f(m),{minlength:Ae.minlength,maxlength:Ae.maxlength,type:Ae.showPassword?k.value?"text":"password":Ae.type,disabled:f(T),readonly:Ae.readonly,autocomplete:Ae.autocomplete,tabindex:Ae.tabindex,"aria-label":Ae.ariaLabel,placeholder:Ae.placeholder,style:Ae.inputStyle,form:Ae.form,autofocus:Ae.autofocus,onCompositionstart:f(We),onCompositionupdate:f(ce),onCompositionend:f(ie),onInput:Te,onChange:Be,onKeydown:le}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),Ie(" suffix slot "),f(ge)?(F(),Q("span",{key:1,class:B(f(b).e("suffix"))},[te("span",{class:B(f(b).e("suffix-inner"))},[!f(Z)||!f(X)||!f(H)?(F(),Q(Tt,{key:0},[Pe(Ae.$slots,"suffix"),Ae.suffixIcon?(F(),Ve(f(St),{key:0,class:B(f(b).e("icon"))},{default:ye(()=>[(F(),Ve(ln(Ae.suffixIcon)))]),_:1},8,["class"])):Ie("v-if",!0)],64)):Ie("v-if",!0),f(Z)?(F(),Ve(f(St),{key:1,class:B([f(b).e("icon"),f(b).e("clear")]),onMousedown:Vt(f(Gn),["prevent"]),onClick:Re},{default:ye(()=>[se(f(Gc))]),_:1},8,["class","onMousedown"])):Ie("v-if",!0),f(X)?(F(),Ve(f(St),{key:2,class:B([f(b).e("icon"),f(b).e("password")]),onClick:De},{default:ye(()=>[(F(),Ve(ln(f(re))))]),_:1},8,["class"])):Ie("v-if",!0),f(H)?(F(),Q("span",{key:3,class:B(f(b).e("count"))},[te("span",{class:B(f(b).e("count-inner"))},et(f(J))+" / "+et(Ae.maxlength),3)],2)):Ie("v-if",!0),f(j)&&f(W)&&f(U)?(F(),Ve(f(St),{key:4,class:B([f(b).e("icon"),f(b).e("validateIcon"),f(b).is("loading",f(j)==="validating")])},{default:ye(()=>[(F(),Ve(ln(f(W))))]),_:1},8,["class"])):Ie("v-if",!0)],2)],2)):Ie("v-if",!0)],2),Ie(" append slot "),Ae.$slots.append?(F(),Q("div",{key:1,class:B(f(b).be("group","append"))},[Pe(Ae.$slots,"append")],2)):Ie("v-if",!0)],64)):(F(),Q(Tt,{key:1},[Ie(" textarea "),te("textarea",sn({id:f(_),ref_key:"textarea",ref:P,class:[f(I).e("inner"),f(b).is("focus",f(M))]},f(m),{minlength:Ae.minlength,maxlength:Ae.maxlength,tabindex:Ae.tabindex,disabled:f(T),readonly:Ae.readonly,autocomplete:Ae.autocomplete,style:f(ee),"aria-label":Ae.ariaLabel,placeholder:Ae.placeholder,form:Ae.form,autofocus:Ae.autofocus,rows:Ae.rows,onCompositionstart:f(We),onCompositionupdate:f(ce),onCompositionend:f(ie),onInput:Te,onChange:Be,onKeydown:le}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend"]),f(H)?(F(),Q("span",{key:0,style:kt(N.value),class:B(f(b).e("count"))},et(f(J))+" / "+et(Ae.maxlength),7)):Ie("v-if",!0)],64))],16,["role"]))}});var Eye=at(Sye,[["__file","input.vue"]]);const wo=Kt(Eye),jf=4,$6={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Tye=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),KR=Symbol("scrollbarContextKey"),Cye=it({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),wye="Thumb",Iye=he({__name:"thumb",props:Cye,setup(e){const t=e,r=pt(KR),o=Je("scrollbar");r||to(wye,"can not inject scrollbar context");const a=q(),l=q(),c=q({}),d=q(!1);let h=!1,m=!1,g=Sn?document.onselectstart:null;const v=D(()=>$6[t.vertical?"vertical":"horizontal"]),_=D(()=>Tye({size:t.size,move:t.move,bar:v.value})),S=D(()=>a.value[v.value.offset]**2/r.wrapElement[v.value.scrollSize]/t.ratio/l.value[v.value.offset]),T=O=>{var $;if(O.stopPropagation(),O.ctrlKey||[1,2].includes(O.button))return;($=window.getSelection())==null||$.removeAllRanges(),I(O);const L=O.currentTarget;!L||(c.value[v.value.axis]=L[v.value.offset]-(O[v.value.client]-L.getBoundingClientRect()[v.value.direction]))},b=O=>{if(!l.value||!a.value||!r.wrapElement)return;const $=Math.abs(O.target.getBoundingClientRect()[v.value.direction]-O[v.value.client]),L=l.value[v.value.offset]/2,M=($-L)*100*S.value/a.value[v.value.offset];r.wrapElement[v.value.scroll]=M*r.wrapElement[v.value.scrollSize]/100},I=O=>{O.stopImmediatePropagation(),h=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",P),g=document.onselectstart,document.onselectstart=()=>!1},C=O=>{if(!a.value||!l.value||h===!1)return;const $=c.value[v.value.axis];if(!$)return;const L=(a.value.getBoundingClientRect()[v.value.direction]-O[v.value.client])*-1,M=l.value[v.value.offset]-$,U=(L-M)*100*S.value/a.value[v.value.offset];r.wrapElement[v.value.scroll]=U*r.wrapElement[v.value.scrollSize]/100},P=()=>{h=!1,c.value[v.value.axis]=0,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",P),N(),m&&(d.value=!1)},R=()=>{m=!1,d.value=!!t.size},k=()=>{m=!0,d.value=h};ur(()=>{N(),document.removeEventListener("mouseup",P)});const N=()=>{document.onselectstart!==g&&(document.onselectstart=g)};return Zn(Kn(r,"scrollbarElement"),"mousemove",R),Zn(Kn(r,"scrollbarElement"),"mouseleave",k),(O,$)=>(F(),Ve(eo,{name:f(o).b("fade"),persisted:""},{default:ye(()=>[qt(te("div",{ref_key:"instance",ref:a,class:B([f(o).e("bar"),f(o).is(f(v).key)]),onMousedown:b},[te("div",{ref_key:"thumb",ref:l,class:B(f(o).e("thumb")),style:kt(f(_)),onMousedown:T},null,38)],34),[[Nn,O.always||d.value]])]),_:1},8,["name"]))}});var f$=at(Iye,[["__file","thumb.vue"]]);const kye=it({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Rye=he({__name:"bar",props:kye,setup(e,{expose:t}){const r=e,o=pt(KR),a=q(0),l=q(0),c=q(""),d=q(""),h=q(1),m=q(1);return t({handleScroll:_=>{if(_){const S=_.offsetHeight-jf,T=_.offsetWidth-jf;l.value=_.scrollTop*100/S*h.value,a.value=_.scrollLeft*100/T*m.value}},update:()=>{const _=o==null?void 0:o.wrapElement;if(!_)return;const S=_.offsetHeight-jf,T=_.offsetWidth-jf,b=S**2/_.scrollHeight,I=T**2/_.scrollWidth,C=Math.max(b,r.minSize),P=Math.max(I,r.minSize);h.value=b/(S-b)/(C/(S-C)),m.value=I/(T-I)/(P/(T-P)),d.value=C+jf<S?`${C}px`:"",c.value=P+jf<T?`${P}px`:""}}),(_,S)=>(F(),Q(Tt,null,[se(f$,{move:a.value,ratio:m.value,size:c.value,always:_.always},null,8,["move","ratio","size","always"]),se(f$,{move:l.value,ratio:h.value,size:d.value,vertical:"",always:_.always},null,8,["move","ratio","size","always"])],64))}});var Aye=at(Rye,[["__file","bar.vue"]]);const Oye=it({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Se([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...ko(["ariaLabel","ariaOrientation"])}),Nye={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(xt)},Pye="ElScrollbar",Dye=he({name:Pye}),Lye=he({...Dye,props:Oye,emits:Nye,setup(e,{expose:t,emit:r}){const o=e,a=Je("scrollbar");let l,c,d=0,h=0;const m=q(),g=q(),v=q(),_=q(),S=D(()=>{const N={};return o.height&&(N.height=Or(o.height)),o.maxHeight&&(N.maxHeight=Or(o.maxHeight)),[o.wrapStyle,N]}),T=D(()=>[o.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!o.native}]),b=D(()=>[a.e("view"),o.viewClass]),I=()=>{var N;g.value&&((N=_.value)==null||N.handleScroll(g.value),d=g.value.scrollTop,h=g.value.scrollLeft,r("scroll",{scrollTop:g.value.scrollTop,scrollLeft:g.value.scrollLeft}))};function C(N,O){nn(N)?g.value.scrollTo(N):xt(N)&&xt(O)&&g.value.scrollTo(N,O)}const P=N=>{!xt(N)||(g.value.scrollTop=N)},R=N=>{!xt(N)||(g.value.scrollLeft=N)},k=()=>{var N;(N=_.value)==null||N.update()};return Ge(()=>o.noresize,N=>{N?(l==null||l(),c==null||c()):({stop:l}=Sr(v,k),c=Zn("resize",k))},{immediate:!0}),Ge(()=>[o.maxHeight,o.height],()=>{o.native||wt(()=>{var N;k(),g.value&&((N=_.value)==null||N.handleScroll(g.value))})}),pn(KR,Un({scrollbarElement:m,wrapElement:g})),U1(()=>{g.value.scrollTop=d,g.value.scrollLeft=h}),Zt(()=>{o.native||wt(()=>{k()})}),yl(()=>k()),t({wrapRef:g,update:k,scrollTo:C,setScrollTop:P,setScrollLeft:R,handleScroll:I}),(N,O)=>(F(),Q("div",{ref_key:"scrollbarRef",ref:m,class:B(f(a).b())},[te("div",{ref_key:"wrapRef",ref:g,class:B(f(T)),style:kt(f(S)),onScroll:I},[(F(),Ve(ln(N.tag),{id:N.id,ref_key:"resizeRef",ref:v,class:B(f(b)),style:kt(N.viewStyle),role:N.role,"aria-label":N.ariaLabel,"aria-orientation":N.ariaOrientation},{default:ye(()=>[Pe(N.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),N.native?Ie("v-if",!0):(F(),Ve(Aye,{key:0,ref_key:"barRef",ref:_,always:N.always,"min-size":N.minSize},null,8,["always","min-size"]))],2))}});var Mye=at(Lye,[["__file","scrollbar.vue"]]);const Rs=Kt(Mye),GR=Symbol("popper"),U6=Symbol("popperContent"),xye=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],B6=it({role:{type:String,values:xye,default:"tooltip"}}),Vye=he({name:"ElPopper",inheritAttrs:!1}),Fye=he({...Vye,props:B6,setup(e,{expose:t}){const r=e,o=q(),a=q(),l=q(),c=q(),d=D(()=>r.role),h={triggerRef:o,popperInstanceRef:a,contentRef:l,referenceRef:c,role:d};return t(h),pn(GR,h),(m,g)=>Pe(m.$slots,"default")}});var $ye=at(Fye,[["__file","popper.vue"]]);const H6=it({arrowOffset:{type:Number,default:5}}),Uye=he({name:"ElPopperArrow",inheritAttrs:!1}),Bye=he({...Uye,props:H6,setup(e,{expose:t}){const r=e,o=Je("popper"),{arrowOffset:a,arrowRef:l,arrowStyle:c}=pt(U6,void 0);return Ge(()=>r.arrowOffset,d=>{a.value=d}),ur(()=>{l.value=void 0}),t({arrowRef:l}),(d,h)=>(F(),Q("span",{ref_key:"arrowRef",ref:l,class:B(f(o).e("arrow")),style:kt(f(c)),"data-popper-arrow":""},null,6))}});var Hye=at(Bye,[["__file","arrow.vue"]]);const jye="ElOnlyChild",j6=he({name:jye,setup(e,{slots:t,attrs:r}){var o;const a=pt(v6),l=fve((o=a==null?void 0:a.setForwardRef)!=null?o:Gn);return()=>{var c;const d=(c=t.default)==null?void 0:c.call(t,r);if(!d||d.length>1)return null;const h=W6(d);return h?qt(hl(h,r),[[l]]):null}}});function W6(e){if(!e)return null;const t=e;for(const r of t){if(nn(r))switch(r.type){case No:continue;case Cd:case"svg":return h$(r);case Tt:return W6(r.children);default:return r}return h$(r)}return null}function h$(e){const t=Je("only-child");return se("span",{class:t.e("content")},[e])}const z6=it({virtualRef:{type:Se(Object)},virtualTriggering:Boolean,onMouseenter:{type:Se(Function)},onMouseleave:{type:Se(Function)},onClick:{type:Se(Function)},onKeydown:{type:Se(Function)},onFocus:{type:Se(Function)},onBlur:{type:Se(Function)},onContextmenu:{type:Se(Function)},id:String,open:Boolean}),Wye=he({name:"ElPopperTrigger",inheritAttrs:!1}),zye=he({...Wye,props:z6,setup(e,{expose:t}){const r=e,{role:o,triggerRef:a}=pt(GR,void 0);dve(a);const l=D(()=>d.value?r.id:void 0),c=D(()=>{if(o&&o.value==="tooltip")return r.open&&r.id?r.id:void 0}),d=D(()=>{if(o&&o.value!=="tooltip")return o.value}),h=D(()=>d.value?`${r.open}`:void 0);let m;const g=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Zt(()=>{Ge(()=>r.virtualRef,v=>{v&&(a.value=Si(v))},{immediate:!0}),Ge(a,(v,_)=>{m==null||m(),m=void 0,Bi(v)&&(g.forEach(S=>{var T;const b=r[S];b&&(v.addEventListener(S.slice(2).toLowerCase(),b),(T=_==null?void 0:_.removeEventListener)==null||T.call(_,S.slice(2).toLowerCase(),b))}),m=Ge([l,c,d,h],S=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((T,b)=>{yo(S[b])?v.removeAttribute(T):v.setAttribute(T,S[b])})},{immediate:!0})),Bi(_)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(S=>_.removeAttribute(S))},{immediate:!0})}),ur(()=>{if(m==null||m(),m=void 0,a.value&&Bi(a.value)){const v=a.value;g.forEach(_=>{const S=r[_];S&&v.removeEventListener(_.slice(2).toLowerCase(),S)}),a.value=void 0}}),t({triggerRef:a}),(v,_)=>v.virtualTriggering?Ie("v-if",!0):(F(),Ve(f(j6),sn({key:0},v.$attrs,{"aria-controls":f(l),"aria-describedby":f(c),"aria-expanded":f(h),"aria-haspopup":f(d)}),{default:ye(()=>[Pe(v.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Kye=at(zye,[["__file","trigger.vue"]]);const lI="focus-trap.focus-after-trapped",cI="focus-trap.focus-after-released",Gye="focus-trap.focusout-prevented",p$={cancelable:!0,bubbles:!1},qye={cancelable:!0,bubbles:!1},m$="focusAfterTrapped",v$="focusAfterReleased",qR=Symbol("elFocusTrap"),YR=q(),G0=q(0),JR=q(0);let lb=0;const K6=e=>{const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t},g$=(e,t)=>{for(const r of e)if(!Yye(r,t))return r},Yye=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Jye=e=>{const t=K6(e),r=g$(t,e),o=g$(t.reverse(),e);return[r,o]},Xye=e=>e instanceof HTMLInputElement&&"select"in e,hc=(e,t)=>{if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),JR.value=window.performance.now(),e!==r&&Xye(e)&&t&&e.select()}};function y$(e,t){const r=[...e],o=e.indexOf(t);return o!==-1&&r.splice(o,1),r}const Qye=()=>{let e=[];return{push:o=>{const a=e[0];a&&o!==a&&a.pause(),e=y$(e,o),e.unshift(o)},remove:o=>{var a,l;e=y$(e,o),(l=(a=e[0])==null?void 0:a.resume)==null||l.call(a)}}},Zye=(e,t=!1)=>{const r=document.activeElement;for(const o of e)if(hc(o,t),document.activeElement!==r)return},_$=Qye(),e_e=()=>G0.value>JR.value,cb=()=>{YR.value="pointer",G0.value=window.performance.now()},b$=()=>{YR.value="keyboard",G0.value=window.performance.now()},t_e=()=>(Zt(()=>{lb===0&&(document.addEventListener("mousedown",cb),document.addEventListener("touchstart",cb),document.addEventListener("keydown",b$)),lb++}),ur(()=>{lb--,lb<=0&&(document.removeEventListener("mousedown",cb),document.removeEventListener("touchstart",cb),document.removeEventListener("keydown",b$))}),{focusReason:YR,lastUserFocusTimestamp:G0,lastAutomatedFocusTimestamp:JR}),ub=e=>new CustomEvent(Gye,{...qye,detail:e}),n_e=he({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[m$,v$,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const r=q();let o,a;const{focusReason:l}=t_e();ave(T=>{e.trapped&&!c.paused&&t("release-requested",T)});const c={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},d=T=>{if(!e.loop&&!e.trapped||c.paused)return;const{key:b,altKey:I,ctrlKey:C,metaKey:P,currentTarget:R,shiftKey:k}=T,{loop:N}=e,O=b===It.tab&&!I&&!C&&!P,$=document.activeElement;if(O&&$){const L=R,[M,U]=Jye(L);if(M&&U){if(!k&&$===U){const W=ub({focusReason:l.value});t("focusout-prevented",W),W.defaultPrevented||(T.preventDefault(),N&&hc(M,!0))}else if(k&&[M,L].includes($)){const W=ub({focusReason:l.value});t("focusout-prevented",W),W.defaultPrevented||(T.preventDefault(),N&&hc(U,!0))}}else if($===L){const W=ub({focusReason:l.value});t("focusout-prevented",W),W.defaultPrevented||T.preventDefault()}}};pn(qR,{focusTrapRef:r,onKeydown:d}),Ge(()=>e.focusTrapEl,T=>{T&&(r.value=T)},{immediate:!0}),Ge([r],([T],[b])=>{T&&(T.addEventListener("keydown",d),T.addEventListener("focusin",g),T.addEventListener("focusout",v)),b&&(b.removeEventListener("keydown",d),b.removeEventListener("focusin",g),b.removeEventListener("focusout",v))});const h=T=>{t(m$,T)},m=T=>t(v$,T),g=T=>{const b=f(r);if(!b)return;const I=T.target,C=T.relatedTarget,P=I&&b.contains(I);e.trapped||C&&b.contains(C)||(o=C),P&&t("focusin",T),!c.paused&&e.trapped&&(P?a=I:hc(a,!0))},v=T=>{const b=f(r);if(!(c.paused||!b))if(e.trapped){const I=T.relatedTarget;!yo(I)&&!b.contains(I)&&setTimeout(()=>{if(!c.paused&&e.trapped){const C=ub({focusReason:l.value});t("focusout-prevented",C),C.defaultPrevented||hc(a,!0)}},0)}else{const I=T.target;I&&b.contains(I)||t("focusout",T)}};async function _(){await wt();const T=f(r);if(T){_$.push(c);const b=T.contains(document.activeElement)?o:document.activeElement;if(o=b,!T.contains(b)){const C=new Event(lI,p$);T.addEventListener(lI,h),T.dispatchEvent(C),C.defaultPrevented||wt(()=>{let P=e.focusStartEl;Mt(P)||(hc(P),document.activeElement!==P&&(P="first")),P==="first"&&Zye(K6(T),!0),(document.activeElement===b||P==="container")&&hc(T)})}}}function S(){const T=f(r);if(T){T.removeEventListener(lI,h);const b=new CustomEvent(cI,{...p$,detail:{focusReason:l.value}});T.addEventListener(cI,m),T.dispatchEvent(b),!b.defaultPrevented&&(l.value=="keyboard"||!e_e()||T.contains(document.activeElement))&&hc(o!=null?o:document.body),T.removeEventListener(cI,m),_$.remove(c)}}return Zt(()=>{e.trapped&&_(),Ge(()=>e.trapped,T=>{T?_():S()})}),ur(()=>{e.trapped&&S(),r.value&&(r.value.removeEventListener("keydown",d),r.value.removeEventListener("focusin",g),r.value.removeEventListener("focusout",v),r.value=void 0)}),{onKeydown:d}}});function r_e(e,t,r,o,a,l){return Pe(e.$slots,"default",{handleKeydown:e.onKeydown})}var bg=at(n_e,[["render",r_e],["__file","focus-trap.vue"]]);const o_e=["fixed","absolute"],i_e=it({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Se(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Rd,default:"bottom"},popperOptions:{type:Se(Object),default:()=>({})},strategy:{type:String,values:o_e,default:"absolute"}}),G6=it({...i_e,id:String,style:{type:Se([String,Array,Object])},className:{type:Se([String,Array,Object])},effect:{type:Se(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Se([String,Array,Object])},popperStyle:{type:Se([String,Array,Object])},referenceEl:{type:Se(Object)},triggerTargetEl:{type:Se(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...ko(["ariaLabel"])}),a_e={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},s_e=(e,t=[])=>{const{placement:r,strategy:o,popperOptions:a}=e,l={placement:r,strategy:o,...a,modifiers:[...c_e(e),...t]};return u_e(l,a==null?void 0:a.modifiers),l},l_e=e=>{if(!!Sn)return Si(e)};function c_e(e){const{offset:t,gpuAcceleration:r,fallbackPlacements:o}=e;return[{name:"offset",options:{offset:[0,t!=null?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function u_e(e,t){t&&(e.modifiers=[...e.modifiers,...t!=null?t:[]])}const d_e=0,f_e=e=>{const{popperInstanceRef:t,contentRef:r,triggerRef:o,role:a}=pt(GR,void 0),l=q(),c=q(),d=D(()=>({name:"eventListeners",enabled:!!e.visible})),h=D(()=>{var C;const P=f(l),R=(C=f(c))!=null?C:d_e;return{name:"arrow",enabled:!H8(P),options:{element:P,padding:R}}}),m=D(()=>({onFirstUpdate:()=>{T()},...s_e(e,[f(h),f(d)])})),g=D(()=>l_e(e.referenceEl)||f(o)),{attributes:v,state:_,styles:S,update:T,forceUpdate:b,instanceRef:I}=nve(g,r,m);return Ge(I,C=>t.value=C),Zt(()=>{Ge(()=>{var C;return(C=f(g))==null?void 0:C.getBoundingClientRect()},()=>{T()})}),{attributes:v,arrowRef:l,contentRef:r,instanceRef:I,state:_,styles:S,role:a,forceUpdate:b,update:T}},h_e=(e,{attributes:t,styles:r,role:o})=>{const{nextZIndex:a}=zh(),l=Je("popper"),c=D(()=>f(t).popper),d=q(xt(e.zIndex)?e.zIndex:a()),h=D(()=>[l.b(),l.is("pure",e.pure),l.is(e.effect),e.popperClass]),m=D(()=>[{zIndex:f(d)},f(r).popper,e.popperStyle||{}]),g=D(()=>o.value==="dialog"?"false":void 0),v=D(()=>f(r).arrow||{});return{ariaModal:g,arrowStyle:v,contentAttrs:c,contentClass:h,contentStyle:m,contentZIndex:d,updateZIndex:()=>{d.value=xt(e.zIndex)?e.zIndex:a()}}},p_e=(e,t)=>{const r=q(!1),o=q();return{focusStartRef:o,trapped:r,onFocusAfterReleased:m=>{var g;((g=m.detail)==null?void 0:g.focusReason)!=="pointer"&&(o.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:m=>{e.visible&&!r.value&&(m.target&&(o.value=m.target),r.value=!0)},onFocusoutPrevented:m=>{e.trapping||(m.detail.focusReason==="pointer"&&m.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,t("close")}}},m_e=he({name:"ElPopperContent"}),v_e=he({...m_e,props:G6,emits:a_e,setup(e,{expose:t,emit:r}){const o=e,{focusStartRef:a,trapped:l,onFocusAfterReleased:c,onFocusAfterTrapped:d,onFocusInTrap:h,onFocusoutPrevented:m,onReleaseRequested:g}=p_e(o,r),{attributes:v,arrowRef:_,contentRef:S,styles:T,instanceRef:b,role:I,update:C}=f_e(o),{ariaModal:P,arrowStyle:R,contentAttrs:k,contentClass:N,contentStyle:O,updateZIndex:$}=h_e(o,{styles:T,attributes:v,role:I}),L=pt(Is,void 0),M=q();pn(U6,{arrowStyle:R,arrowRef:_,arrowOffset:M}),L&&pn(Is,{...L,addInputId:Gn,removeInputId:Gn});let U;const j=(re=!0)=>{C(),re&&$()},W=()=>{j(!1),o.visible&&o.focusOnShow?l.value=!0:o.visible===!1&&(l.value=!1)};return Zt(()=>{Ge(()=>o.triggerTargetEl,(re,ae)=>{U==null||U(),U=void 0;const ee=f(re||S.value),G=f(ae||S.value);Bi(ee)&&(U=Ge([I,()=>o.ariaLabel,P,()=>o.id],Z=>{["role","aria-label","aria-modal","id"].forEach((X,H)=>{yo(Z[H])?ee.removeAttribute(X):ee.setAttribute(X,Z[H])})},{immediate:!0})),G!==ee&&Bi(G)&&["role","aria-label","aria-modal","id"].forEach(Z=>{G.removeAttribute(Z)})},{immediate:!0}),Ge(()=>o.visible,W,{immediate:!0})}),ur(()=>{U==null||U(),U=void 0}),t({popperContentRef:S,popperInstanceRef:b,updatePopper:j,contentStyle:O}),(re,ae)=>(F(),Q("div",sn({ref_key:"contentRef",ref:S},f(k),{style:f(O),class:f(N),tabindex:"-1",onMouseenter:ee=>re.$emit("mouseenter",ee),onMouseleave:ee=>re.$emit("mouseleave",ee)}),[se(f(bg),{trapped:f(l),"trap-on-focus-in":!0,"focus-trap-el":f(S),"focus-start-el":f(a),onFocusAfterTrapped:f(d),onFocusAfterReleased:f(c),onFocusin:f(h),onFocusoutPrevented:f(m),onReleaseRequested:f(g)},{default:ye(()=>[Pe(re.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var g_e=at(v_e,[["__file","content.vue"]]);const q6=Kt($ye),q0=Symbol("elTooltip"),mo=it({...cve,...G6,appendTo:{type:Se([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Se(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...ko(["ariaLabel"])}),$v=it({...z6,disabled:Boolean,trigger:{type:Se([String,Array]),default:"hover"},triggerKeys:{type:Se(Array),default:()=>[It.enter,It.space]}}),{useModelToggleProps:y_e,useModelToggleEmits:__e,useModelToggle:b_e}=Zpe("visible"),S_e=it({...B6,...y_e,...mo,...$v,...H6,showArrow:{type:Boolean,default:!0}}),E_e=[...__e,"before-show","before-hide","show","hide","open","close"],T_e=(e,t)=>ht(e)?e.includes(t):e===t,Wf=(e,t,r)=>o=>{T_e(f(e),t)&&r(o)},C_e=he({name:"ElTooltipTrigger"}),w_e=he({...C_e,props:$v,setup(e,{expose:t}){const r=e,o=Je("tooltip"),{controlled:a,id:l,open:c,onOpen:d,onClose:h,onToggle:m}=pt(q0,void 0),g=q(null),v=()=>{if(f(a)||r.disabled)return!0},_=Kn(r,"trigger"),S=Rr(v,Wf(_,"hover",d)),T=Rr(v,Wf(_,"hover",h)),b=Rr(v,Wf(_,"click",k=>{k.button===0&&m(k)})),I=Rr(v,Wf(_,"focus",d)),C=Rr(v,Wf(_,"focus",h)),P=Rr(v,Wf(_,"contextmenu",k=>{k.preventDefault(),m(k)})),R=Rr(v,k=>{const{code:N}=k;r.triggerKeys.includes(N)&&(k.preventDefault(),m(k))});return t({triggerRef:g}),(k,N)=>(F(),Ve(f(Kye),{id:f(l),"virtual-ref":k.virtualRef,open:f(c),"virtual-triggering":k.virtualTriggering,class:B(f(o).e("trigger")),onBlur:f(C),onClick:f(b),onContextmenu:f(P),onFocus:f(I),onMouseenter:f(S),onMouseleave:f(T),onKeydown:f(R)},{default:ye(()=>[Pe(k.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var I_e=at(w_e,[["__file","trigger.vue"]]);const k_e=it({to:{type:Se([String,Object]),required:!0},disabled:Boolean}),R_e=he({__name:"teleport",props:k_e,setup(e){return(t,r)=>t.disabled?Pe(t.$slots,"default",{key:0}):(F(),Ve(vie,{key:1,to:t.to},[Pe(t.$slots,"default")],8,["to"]))}});var A_e=at(R_e,[["__file","teleport.vue"]]);const qh=Kt(A_e),O_e=he({name:"ElTooltipContent",inheritAttrs:!1}),N_e=he({...O_e,props:mo,setup(e,{expose:t}){const r=e,{selector:o}=m6(),a=Je("tooltip"),l=q(null);let c;const{controlled:d,id:h,open:m,trigger:g,onClose:v,onOpen:_,onShow:S,onHide:T,onBeforeShow:b,onBeforeHide:I}=pt(q0,void 0),C=D(()=>r.transition||`${a.namespace.value}-fade-in-linear`),P=D(()=>r.persistent);ur(()=>{c==null||c()});const R=D(()=>f(P)?!0:f(m)),k=D(()=>r.disabled?!1:f(m)),N=D(()=>r.appendTo||o.value),O=D(()=>{var G;return(G=r.style)!=null?G:{}}),$=D(()=>!f(m)),L=()=>{T()},M=()=>{if(f(d))return!0},U=Rr(M,()=>{r.enterable&&f(g)==="hover"&&_()}),j=Rr(M,()=>{f(g)==="hover"&&v()}),W=()=>{var G,Z;(Z=(G=l.value)==null?void 0:G.updatePopper)==null||Z.call(G),b==null||b()},re=()=>{I==null||I()},ae=()=>{S(),c=J1(D(()=>{var G;return(G=l.value)==null?void 0:G.popperContentRef}),()=>{if(f(d))return;f(g)!=="hover"&&v()})},ee=()=>{r.virtualTriggering||v()};return Ge(()=>f(m),G=>{G||c==null||c()},{flush:"post"}),Ge(()=>r.content,()=>{var G,Z;(Z=(G=l.value)==null?void 0:G.updatePopper)==null||Z.call(G)}),t({contentRef:l}),(G,Z)=>(F(),Ve(f(qh),{disabled:!G.teleported,to:f(N)},{default:ye(()=>[se(eo,{name:f(C),onAfterLeave:L,onBeforeEnter:W,onAfterEnter:ae,onBeforeLeave:re},{default:ye(()=>[f(R)?qt((F(),Ve(f(g_e),sn({key:0,id:f(h),ref_key:"contentRef",ref:l},G.$attrs,{"aria-label":G.ariaLabel,"aria-hidden":f($),"boundaries-padding":G.boundariesPadding,"fallback-placements":G.fallbackPlacements,"gpu-acceleration":G.gpuAcceleration,offset:G.offset,placement:G.placement,"popper-options":G.popperOptions,strategy:G.strategy,effect:G.effect,enterable:G.enterable,pure:G.pure,"popper-class":G.popperClass,"popper-style":[G.popperStyle,f(O)],"reference-el":G.referenceEl,"trigger-target-el":G.triggerTargetEl,visible:f(k),"z-index":G.zIndex,onMouseenter:f(U),onMouseleave:f(j),onBlur:ee,onClose:f(v)}),{default:ye(()=>[Pe(G.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Nn,f(k)]]):Ie("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var P_e=at(N_e,[["__file","content.vue"]]);const D_e=he({name:"ElTooltip"}),L_e=he({...D_e,props:S_e,emits:E_e,setup(e,{expose:t,emit:r}){const o=e;lve();const a=Mo(),l=q(),c=q(),d=()=>{var C;const P=f(l);P&&((C=P.popperInstanceRef)==null||C.update())},h=q(!1),m=q(),{show:g,hide:v,hasUpdateHandler:_}=b_e({indicator:h,toggleReason:m}),{onOpen:S,onClose:T}=uve({showAfter:Kn(o,"showAfter"),hideAfter:Kn(o,"hideAfter"),autoClose:Kn(o,"autoClose"),open:g,close:v}),b=D(()=>Vr(o.visible)&&!_.value);pn(q0,{controlled:b,id:a,open:Uh(h),trigger:Kn(o,"trigger"),onOpen:C=>{S(C)},onClose:C=>{T(C)},onToggle:C=>{f(h)?T(C):S(C)},onShow:()=>{r("show",m.value)},onHide:()=>{r("hide",m.value)},onBeforeShow:()=>{r("before-show",m.value)},onBeforeHide:()=>{r("before-hide",m.value)},updatePopper:d}),Ge(()=>o.disabled,C=>{C&&h.value&&(h.value=!1)});const I=C=>{var P,R;const k=(R=(P=c.value)==null?void 0:P.contentRef)==null?void 0:R.popperContentRef,N=(C==null?void 0:C.relatedTarget)||document.activeElement;return k&&k.contains(N)};return cB(()=>h.value&&v()),t({popperRef:l,contentRef:c,isFocusInsideContent:I,updatePopper:d,onOpen:S,onClose:T,hide:v}),(C,P)=>(F(),Ve(f(q6),{ref_key:"popperRef",ref:l,role:C.role},{default:ye(()=>[se(I_e,{disabled:C.disabled,trigger:C.trigger,"trigger-keys":C.triggerKeys,"virtual-ref":C.virtualRef,"virtual-triggering":C.virtualTriggering},{default:ye(()=>[C.$slots.default?Pe(C.$slots,"default",{key:0}):Ie("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),se(P_e,{ref_key:"contentRef",ref:c,"aria-label":C.ariaLabel,"boundaries-padding":C.boundariesPadding,content:C.content,disabled:C.disabled,effect:C.effect,enterable:C.enterable,"fallback-placements":C.fallbackPlacements,"hide-after":C.hideAfter,"gpu-acceleration":C.gpuAcceleration,offset:C.offset,persistent:C.persistent,"popper-class":C.popperClass,"popper-style":C.popperStyle,placement:C.placement,"popper-options":C.popperOptions,pure:C.pure,"raw-content":C.rawContent,"reference-el":C.referenceEl,"trigger-target-el":C.triggerTargetEl,"show-after":C.showAfter,strategy:C.strategy,teleported:C.teleported,transition:C.transition,"virtual-triggering":C.virtualTriggering,"z-index":C.zIndex,"append-to":C.appendTo},{default:ye(()=>[Pe(C.$slots,"content",{},()=>[C.rawContent?(F(),Q("span",{key:0,innerHTML:C.content},null,8,["innerHTML"])):(F(),Q("span",{key:1},et(C.content),1))]),C.showArrow?(F(),Ve(f(Hye),{key:0,"arrow-offset":C.arrowOffset},null,8,["arrow-offset"])):Ie("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var M_e=at(L_e,[["__file","tooltip.vue"]]);const xo=Kt(M_e),x_e=it({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Se(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Se([Function,Array]),default:Gn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:mo.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...ko(["ariaLabel"])}),V_e={[tn]:e=>Mt(e),[si]:e=>Mt(e),[pr]:e=>Mt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>nn(e)},Y6="ElAutocomplete",F_e=he({name:Y6,inheritAttrs:!1}),$_e=he({...F_e,props:x_e,emits:V_e,setup(e,{expose:t,emit:r}){const o=e,a=CR(),l=Td(),c=ui(),d=Je("autocomplete"),h=q(),m=q(),g=q(),v=q();let _=!1,S=!1;const T=q([]),b=q(-1),I=q(""),C=q(!1),P=q(!1),R=q(!1),k=Mo(),N=D(()=>l.style),O=D(()=>(T.value.length>0||R.value)&&C.value),$=D(()=>!o.hideLoading&&R.value),L=D(()=>h.value?Array.from(h.value.$el.querySelectorAll("input")):[]),M=()=>{O.value&&(I.value=`${h.value.$el.offsetWidth}px`)},U=()=>{b.value=-1},W=Ii(async de=>{if(P.value)return;const Le=Te=>{R.value=!1,!P.value&&(ht(Te)?(T.value=Te,b.value=o.highlightFirstItem?0:-1):to(Y6,"autocomplete suggestions must be an array"))};if(R.value=!0,ht(o.fetchSuggestions))Le(o.fetchSuggestions);else{const Te=await o.fetchSuggestions(de,Le);ht(Te)&&Le(Te)}},o.debounce),re=de=>{const Le=!!de;if(r(si,de),r(tn,de),P.value=!1,C.value||(C.value=Le),!o.triggerOnFocus&&!de){P.value=!0,T.value=[];return}W(de)},ae=de=>{var Le;c.value||(((Le=de.target)==null?void 0:Le.tagName)!=="INPUT"||L.value.includes(document.activeElement))&&(C.value=!0)},ee=de=>{r(pr,de)},G=de=>{S?S=!1:(C.value=!0,r("focus",de),o.triggerOnFocus&&!_&&W(String(o.modelValue)))},Z=de=>{setTimeout(()=>{var Le;if((Le=g.value)!=null&&Le.isFocusInsideContent()){S=!0;return}C.value&&fe(),r("blur",de)})},X=()=>{C.value=!1,r(tn,""),r("clear")},H=async()=>{O.value&&b.value>=0&&b.value<T.value.length?Ee(T.value[b.value]):o.selectWhenUnmatched&&(r("select",{value:o.modelValue}),T.value=[],b.value=-1)},J=de=>{O.value&&(de.preventDefault(),de.stopPropagation(),fe())},fe=()=>{C.value=!1},ge=()=>{var de;(de=h.value)==null||de.focus()},me=()=>{var de;(de=h.value)==null||de.blur()},Ee=async de=>{r(si,de[o.valueKey]),r(tn,de[o.valueKey]),r("select",de),T.value=[],b.value=-1},Fe=de=>{if(!O.value||R.value)return;if(de<0){b.value=-1;return}de>=T.value.length&&(de=T.value.length-1);const Le=m.value.querySelector(`.${d.be("suggestion","wrap")}`),Be=Le.querySelectorAll(`.${d.be("suggestion","list")} li`)[de],be=Le.scrollTop,{offsetTop:We,scrollHeight:ce}=Be;We+ce>be+Le.clientHeight&&(Le.scrollTop+=ce),We<be&&(Le.scrollTop-=ce),b.value=de,h.value.ref.setAttribute("aria-activedescendant",`${k.value}-item-${b.value}`)},$e=J1(v,()=>{O.value&&fe()});return ur(()=>{$e==null||$e()}),Zt(()=>{h.value.ref.setAttribute("role","textbox"),h.value.ref.setAttribute("aria-autocomplete","list"),h.value.ref.setAttribute("aria-controls","id"),h.value.ref.setAttribute("aria-activedescendant",`${k.value}-item-${b.value}`),_=h.value.ref.hasAttribute("readonly")}),t({highlightedIndex:b,activated:C,loading:R,inputRef:h,popperRef:g,suggestions:T,handleSelect:Ee,handleKeyEnter:H,focus:ge,blur:me,close:fe,highlight:Fe}),(de,Le)=>(F(),Ve(f(xo),{ref_key:"popperRef",ref:g,visible:f(O),placement:de.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[f(d).e("popper"),de.popperClass],teleported:de.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${f(d).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:M,onHide:U},{content:ye(()=>[te("div",{ref_key:"regionRef",ref:m,class:B([f(d).b("suggestion"),f(d).is("loading",f($))]),style:kt({[de.fitInputWidth?"width":"minWidth"]:I.value,outline:"none"}),role:"region"},[se(f(Rs),{id:f(k),tag:"ul","wrap-class":f(d).be("suggestion","wrap"),"view-class":f(d).be("suggestion","list"),role:"listbox"},{default:ye(()=>[f($)?(F(),Q("li",{key:0},[Pe(de.$slots,"loading",{},()=>[se(f(St),{class:B(f(d).is("loading"))},{default:ye(()=>[se(f(Ts))]),_:1},8,["class"])])])):(F(!0),Q(Tt,{key:1},fn(T.value,(Te,Be)=>(F(),Q("li",{id:`${f(k)}-item-${Be}`,key:Be,class:B({highlighted:b.value===Be}),role:"option","aria-selected":b.value===Be,onClick:be=>Ee(Te)},[Pe(de.$slots,"default",{item:Te},()=>[Jt(et(Te[de.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:ye(()=>[te("div",{ref_key:"listboxRef",ref:v,class:B([f(d).b(),de.$attrs.class]),style:kt(f(N)),role:"combobox","aria-haspopup":"listbox","aria-expanded":f(O),"aria-owns":f(k)},[se(f(wo),sn({ref_key:"inputRef",ref:h},f(a),{clearable:de.clearable,disabled:f(c),name:de.name,"model-value":de.modelValue,"aria-label":de.ariaLabel,onInput:re,onChange:ee,onFocus:G,onBlur:Z,onClear:X,onKeydown:[or(Vt(Te=>Fe(b.value-1),["prevent"]),["up"]),or(Vt(Te=>Fe(b.value+1),["prevent"]),["down"]),or(H,["enter"]),or(fe,["tab"]),or(J,["esc"])],onMousedown:ae}),Ua({_:2},[de.$slots.prepend?{name:"prepend",fn:ye(()=>[Pe(de.$slots,"prepend")])}:void 0,de.$slots.append?{name:"append",fn:ye(()=>[Pe(de.$slots,"append")])}:void 0,de.$slots.prefix?{name:"prefix",fn:ye(()=>[Pe(de.$slots,"prefix")])}:void 0,de.$slots.suffix?{name:"suffix",fn:ye(()=>[Pe(de.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var U_e=at($_e,[["__file","autocomplete.vue"]]);const B_e=Kt(U_e),H_e=it({size:{type:[Number,String],values:ks,default:"",validator:e=>xt(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:ir},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Se(String),default:"cover"}}),j_e={error:e=>e instanceof Event},W_e=he({name:"ElAvatar"}),z_e=he({...W_e,props:H_e,emits:j_e,setup(e,{emit:t}){const r=e,o=Je("avatar"),a=q(!1),l=D(()=>{const{size:m,icon:g,shape:v}=r,_=[o.b()];return Mt(m)&&_.push(o.m(m)),g&&_.push(o.m("icon")),v&&_.push(o.m(v)),_}),c=D(()=>{const{size:m}=r;return xt(m)?o.cssVarBlock({size:Or(m)||""}):void 0}),d=D(()=>({objectFit:r.fit}));Ge(()=>r.src,()=>a.value=!1);function h(m){a.value=!0,t("error",m)}return(m,g)=>(F(),Q("span",{class:B(f(l)),style:kt(f(c))},[(m.src||m.srcSet)&&!a.value?(F(),Q("img",{key:0,src:m.src,alt:m.alt,srcset:m.srcSet,style:kt(f(d)),onError:h},null,44,["src","alt","srcset"])):m.icon?(F(),Ve(f(St),{key:1},{default:ye(()=>[(F(),Ve(ln(m.icon)))]),_:1})):Pe(m.$slots,"default",{key:2})],6))}});var K_e=at(z_e,[["__file","avatar.vue"]]);const G_e=Kt(K_e),q_e={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Y_e={click:e=>e instanceof MouseEvent},J_e=(e,t,r)=>{const o=dr(),a=dr(),l=q(!1),c=()=>{o.value&&(l.value=o.value.scrollTop>=e.visibilityHeight)},d=m=>{var g;(g=o.value)==null||g.scrollTo({top:0,behavior:"smooth"}),t("click",m)},h=e8(c,300,!0);return Zn(a,"scroll",h),Zt(()=>{var m;a.value=document,o.value=document.documentElement,e.target&&(o.value=(m=document.querySelector(e.target))!=null?m:void 0,o.value||to(r,`target does not exist: ${e.target}`),a.value=o.value),c()}),{visible:l,handleClick:d}},J6="ElBacktop",X_e=he({name:J6}),Q_e=he({...X_e,props:q_e,emits:Y_e,setup(e,{emit:t}){const r=e,o=Je("backtop"),{handleClick:a,visible:l}=J_e(r,t,J6),c=D(()=>({right:`${r.right}px`,bottom:`${r.bottom}px`}));return(d,h)=>(F(),Ve(eo,{name:`${f(o).namespace.value}-fade-in`},{default:ye(()=>[f(l)?(F(),Q("div",{key:0,style:kt(f(c)),class:B(f(o).b()),onClick:Vt(f(a),["stop"])},[Pe(d.$slots,"default",{},()=>[se(f(St),{class:B(f(o).e("icon"))},{default:ye(()=>[se(f(xhe))]),_:1},8,["class"])])],14,["onClick"])):Ie("v-if",!0)]),_:3},8,["name"]))}});var Z_e=at(Q_e,[["__file","backtop.vue"]]);const ebe=Kt(Z_e),tbe=it({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Se([String,Object,Array])},offset:{type:Se(Array),default:[0,0]},badgeClass:{type:String}}),nbe=he({name:"ElBadge"}),rbe=he({...nbe,props:tbe,setup(e,{expose:t}){const r=e,o=Je("badge"),a=D(()=>r.isDot?"":xt(r.value)&&xt(r.max)?r.max<r.value?`${r.max}+`:r.value===0&&!r.showZero?"":`${r.value}`:`${r.value}`),l=D(()=>{var c,d,h,m,g;return[{backgroundColor:r.color,marginRight:Or(-((d=(c=r.offset)==null?void 0:c[0])!=null?d:0)),marginTop:Or((m=(h=r.offset)==null?void 0:h[1])!=null?m:0)},(g=r.badgeStyle)!=null?g:{}]});return t({content:a}),(c,d)=>(F(),Q("div",{class:B(f(o).b())},[Pe(c.$slots,"default"),se(eo,{name:`${f(o).namespace.value}-zoom-in-center`,persisted:""},{default:ye(()=>[qt(te("sup",{class:B([f(o).e("content"),f(o).em("content",c.type),f(o).is("fixed",!!c.$slots.default),f(o).is("dot",c.isDot),c.badgeClass]),style:kt(f(l)),textContent:et(f(a))},null,14,["textContent"]),[[Nn,!c.hidden&&(f(a)||c.isDot)]])]),_:1},8,["name"])],2))}});var obe=at(rbe,[["__file","badge.vue"]]);const X6=Kt(obe),Q6=Symbol("breadcrumbKey"),ibe=it({separator:{type:String,default:"/"},separatorIcon:{type:ir}}),abe=he({name:"ElBreadcrumb"}),sbe=he({...abe,props:ibe,setup(e){const t=e,{t:r}=En(),o=Je("breadcrumb"),a=q();return pn(Q6,t),Zt(()=>{const l=a.value.querySelectorAll(`.${o.e("item")}`);l.length&&l[l.length-1].setAttribute("aria-current","page")}),(l,c)=>(F(),Q("div",{ref_key:"breadcrumb",ref:a,class:B(f(o).b()),"aria-label":f(r)("el.breadcrumb.label"),role:"navigation"},[Pe(l.$slots,"default")],10,["aria-label"]))}});var lbe=at(sbe,[["__file","breadcrumb.vue"]]);const cbe=it({to:{type:Se([String,Object]),default:""},replace:Boolean}),ube=he({name:"ElBreadcrumbItem"}),dbe=he({...ube,props:cbe,setup(e){const t=e,r=Qt(),o=pt(Q6,void 0),a=Je("breadcrumb"),l=r.appContext.config.globalProperties.$router,c=q(),d=()=>{!t.to||!l||(t.replace?l.replace(t.to):l.push(t.to))};return(h,m)=>{var g,v;return F(),Q("span",{class:B(f(a).e("item"))},[te("span",{ref_key:"link",ref:c,class:B([f(a).e("inner"),f(a).is("link",!!h.to)]),role:"link",onClick:d},[Pe(h.$slots,"default")],2),(g=f(o))!=null&&g.separatorIcon?(F(),Ve(f(St),{key:0,class:B(f(a).e("separator"))},{default:ye(()=>[(F(),Ve(ln(f(o).separatorIcon)))]),_:1},8,["class"])):(F(),Q("span",{key:1,class:B(f(a).e("separator")),role:"presentation"},et((v=f(o))==null?void 0:v.separator),3))],2)}}});var Z6=at(dbe,[["__file","breadcrumb-item.vue"]]);const fbe=Kt(lbe,{BreadcrumbItem:Z6}),hbe=Tr(Z6),eH=Symbol("buttonGroupContextKey"),pbe=(e,t)=>{Ac({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},D(()=>e.type==="text"));const r=pt(eH,void 0),o=z0("button"),{form:a}=Go(),l=Jr(D(()=>r==null?void 0:r.size)),c=ui(),d=q(),h=co(),m=D(()=>e.type||(r==null?void 0:r.type)||""),g=D(()=>{var T,b,I;return(I=(b=e.autoInsertSpace)!=null?b:(T=o.value)==null?void 0:T.autoInsertSpace)!=null?I:!1}),v=D(()=>e.tag==="button"?{ariaDisabled:c.value||e.loading,disabled:c.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),_=D(()=>{var T;const b=(T=h.default)==null?void 0:T.call(h);if(g.value&&(b==null?void 0:b.length)===1){const I=b[0];if((I==null?void 0:I.type)===Cd){const C=I.children;return/^\p{Unified_Ideograph}{2}$/u.test(C.trim())}}return!1});return{_disabled:c,_size:l,_type:m,_ref:d,_props:v,shouldAddSpace:_,handleClick:T=>{e.nativeType==="reset"&&(a==null||a.resetFields()),t("click",T)}}},gk=["default","primary","success","warning","info","danger","text",""],mbe=["button","submit","reset"],yk=it({size:no,disabled:Boolean,type:{type:String,values:gk,default:""},icon:{type:ir},nativeType:{type:String,values:mbe,default:"button"},loading:Boolean,loadingIcon:{type:ir,default:()=>Ts},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Se([String,Object]),default:"button"}}),vbe={click:e=>e instanceof MouseEvent};function Do(e,t){gbe(e)&&(e="100%");var r=ybe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function db(e){return Math.min(1,Math.max(0,e))}function gbe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function ybe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function tH(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function fb(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Zu(e){return e.length===1?"0"+e:String(e)}function _be(e,t,r){return{r:Do(e,255)*255,g:Do(t,255)*255,b:Do(r,255)*255}}function S$(e,t,r){e=Do(e,255),t=Do(t,255),r=Do(r,255);var o=Math.max(e,t,r),a=Math.min(e,t,r),l=0,c=0,d=(o+a)/2;if(o===a)c=0,l=0;else{var h=o-a;switch(c=d>.5?h/(2-o-a):h/(o+a),o){case e:l=(t-r)/h+(t<r?6:0);break;case t:l=(r-e)/h+2;break;case r:l=(e-t)/h+4;break}l/=6}return{h:l,s:c,l:d}}function uI(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function bbe(e,t,r){var o,a,l;if(e=Do(e,360),t=Do(t,100),r=Do(r,100),t===0)a=r,l=r,o=r;else{var c=r<.5?r*(1+t):r+t-r*t,d=2*r-c;o=uI(d,c,e+1/3),a=uI(d,c,e),l=uI(d,c,e-1/3)}return{r:o*255,g:a*255,b:l*255}}function E$(e,t,r){e=Do(e,255),t=Do(t,255),r=Do(r,255);var o=Math.max(e,t,r),a=Math.min(e,t,r),l=0,c=o,d=o-a,h=o===0?0:d/o;if(o===a)l=0;else{switch(o){case e:l=(t-r)/d+(t<r?6:0);break;case t:l=(r-e)/d+2;break;case r:l=(e-t)/d+4;break}l/=6}return{h:l,s:h,v:c}}function Sbe(e,t,r){e=Do(e,360)*6,t=Do(t,100),r=Do(r,100);var o=Math.floor(e),a=e-o,l=r*(1-t),c=r*(1-a*t),d=r*(1-(1-a)*t),h=o%6,m=[r,c,l,l,d,r][h],g=[d,r,r,c,l,l][h],v=[l,l,d,r,r,c][h];return{r:m*255,g:g*255,b:v*255}}function T$(e,t,r,o){var a=[Zu(Math.round(e).toString(16)),Zu(Math.round(t).toString(16)),Zu(Math.round(r).toString(16))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function Ebe(e,t,r,o,a){var l=[Zu(Math.round(e).toString(16)),Zu(Math.round(t).toString(16)),Zu(Math.round(r).toString(16)),Zu(Tbe(o))];return a&&l[0].startsWith(l[0].charAt(1))&&l[1].startsWith(l[1].charAt(1))&&l[2].startsWith(l[2].charAt(1))&&l[3].startsWith(l[3].charAt(1))?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0)+l[3].charAt(0):l.join("")}function Tbe(e){return Math.round(parseFloat(e)*255).toString(16)}function C$(e){return Vi(e)/255}function Vi(e){return parseInt(e,16)}function Cbe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var _k={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function wbe(e){var t={r:0,g:0,b:0},r=1,o=null,a=null,l=null,c=!1,d=!1;return typeof e=="string"&&(e=Rbe(e)),typeof e=="object"&&(tl(e.r)&&tl(e.g)&&tl(e.b)?(t=_be(e.r,e.g,e.b),c=!0,d=String(e.r).substr(-1)==="%"?"prgb":"rgb"):tl(e.h)&&tl(e.s)&&tl(e.v)?(o=fb(e.s),a=fb(e.v),t=Sbe(e.h,o,a),c=!0,d="hsv"):tl(e.h)&&tl(e.s)&&tl(e.l)&&(o=fb(e.s),l=fb(e.l),t=bbe(e.h,o,l),c=!0,d="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=tH(r),{ok:c,format:e.format||d,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var Ibe="[-\\+]?\\d+%?",kbe="[-\\+]?\\d*\\.\\d+%?",Cc="(?:".concat(kbe,")|(?:").concat(Ibe,")"),dI="[\\s|\\(]+(".concat(Cc,")[,|\\s]+(").concat(Cc,")[,|\\s]+(").concat(Cc,")\\s*\\)?"),fI="[\\s|\\(]+(".concat(Cc,")[,|\\s]+(").concat(Cc,")[,|\\s]+(").concat(Cc,")[,|\\s]+(").concat(Cc,")\\s*\\)?"),La={CSS_UNIT:new RegExp(Cc),rgb:new RegExp("rgb"+dI),rgba:new RegExp("rgba"+fI),hsl:new RegExp("hsl"+dI),hsla:new RegExp("hsla"+fI),hsv:new RegExp("hsv"+dI),hsva:new RegExp("hsva"+fI),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Rbe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(_k[e])e=_k[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=La.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=La.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=La.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=La.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=La.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=La.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=La.hex8.exec(e),r?{r:Vi(r[1]),g:Vi(r[2]),b:Vi(r[3]),a:C$(r[4]),format:t?"name":"hex8"}:(r=La.hex6.exec(e),r?{r:Vi(r[1]),g:Vi(r[2]),b:Vi(r[3]),format:t?"name":"hex"}:(r=La.hex4.exec(e),r?{r:Vi(r[1]+r[1]),g:Vi(r[2]+r[2]),b:Vi(r[3]+r[3]),a:C$(r[4]+r[4]),format:t?"name":"hex8"}:(r=La.hex3.exec(e),r?{r:Vi(r[1]+r[1]),g:Vi(r[2]+r[2]),b:Vi(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function tl(e){return Boolean(La.CSS_UNIT.exec(String(e)))}var nH=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var o;if(t instanceof e)return t;typeof t=="number"&&(t=Cbe(t)),this.originalInput=t;var a=wbe(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(o=r.format)!==null&&o!==void 0?o:a.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,o,a,l=t.r/255,c=t.g/255,d=t.b/255;return l<=.03928?r=l/12.92:r=Math.pow((l+.055)/1.055,2.4),c<=.03928?o=c/12.92:o=Math.pow((c+.055)/1.055,2.4),d<=.03928?a=d/12.92:a=Math.pow((d+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=tH(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=E$(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=E$(this.r,this.g,this.b),r=Math.round(t.h*360),o=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(o,"%, ").concat(a,"%)"):"hsva(".concat(r,", ").concat(o,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=S$(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=S$(this.r,this.g,this.b),r=Math.round(t.h*360),o=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(o,"%, ").concat(a,"%)"):"hsla(".concat(r,", ").concat(o,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),T$(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Ebe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),o=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(o,")"):"rgba(".concat(t,", ").concat(r,", ").concat(o,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(Do(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(Do(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+T$(this.r,this.g,this.b,!1),r=0,o=Object.entries(_k);r<o.length;r++){var a=o[r],l=a[0],c=a[1];if(t===c)return l}return!1},e.prototype.toString=function(t){var r=Boolean(t);t=t!=null?t:this.format;var o=!1,a=this.a<1&&this.a>=0,l=!r&&a&&(t.startsWith("hex")||t==="name");return l?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(o=this.toRgbString()),t==="prgb"&&(o=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(o=this.toHexString()),t==="hex3"&&(o=this.toHexString(!0)),t==="hex4"&&(o=this.toHex8String(!0)),t==="hex8"&&(o=this.toHex8String()),t==="name"&&(o=this.toName()),t==="hsl"&&(o=this.toHslString()),t==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=db(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=db(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=db(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=db(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),o=(r.h+t)%360;return r.h=o<0?360+o:o,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var o=this.toRgb(),a=new e(t).toRgb(),l=r/100,c={r:(a.r-o.r)*l+o.r,g:(a.g-o.g)*l+o.g,b:(a.b-o.b)*l+o.b,a:(a.a-o.a)*l+o.a};return new e(c)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var o=this.toHsl(),a=360/r,l=[this];for(o.h=(o.h-(a*t>>1)+720)%360;--t;)o.h=(o.h+a)%360,l.push(new e(o));return l},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),o=r.h,a=r.s,l=r.v,c=[],d=1/t;t--;)c.push(new e({h:o,s:a,v:l})),l=(l+d)%1;return c},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),o=new e(t).toRgb(),a=r.a+o.a*(1-r.a);return new e({r:(r.r*r.a+o.r*o.a*(1-r.a))/a,g:(r.g*r.a+o.g*o.a*(1-r.a))/a,b:(r.b*r.a+o.b*o.a*(1-r.a))/a,a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),o=r.h,a=[this],l=360/t,c=1;c<t;c++)a.push(new e({h:(o+c*l)%360,s:r.s,l:r.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function cc(e,t=20){return e.mix("#141414",t).toString()}function Abe(e){const t=ui(),r=Je("button");return D(()=>{let o={},a=e.color;if(a){const l=a.match(/var\((.*?)\)/);l&&(a=window.getComputedStyle(window.document.documentElement).getPropertyValue(l[1]));const c=new nH(a),d=e.dark?c.tint(20).toString():cc(c,20);if(e.plain)o=r.cssVarBlock({"bg-color":e.dark?cc(c,90):c.tint(90).toString(),"text-color":a,"border-color":e.dark?cc(c,50):c.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":d,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":d}),t.value&&(o[r.cssVarBlockName("disabled-bg-color")]=e.dark?cc(c,90):c.tint(90).toString(),o[r.cssVarBlockName("disabled-text-color")]=e.dark?cc(c,50):c.tint(50).toString(),o[r.cssVarBlockName("disabled-border-color")]=e.dark?cc(c,80):c.tint(80).toString());else{const h=e.dark?cc(c,30):c.tint(30).toString(),m=c.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(o=r.cssVarBlock({"bg-color":a,"text-color":m,"border-color":a,"hover-bg-color":h,"hover-text-color":m,"hover-border-color":h,"active-bg-color":d,"active-border-color":d}),t.value){const g=e.dark?cc(c,50):c.tint(50).toString();o[r.cssVarBlockName("disabled-bg-color")]=g,o[r.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,o[r.cssVarBlockName("disabled-border-color")]=g}}}return o})}const Obe=he({name:"ElButton"}),Nbe=he({...Obe,props:yk,emits:vbe,setup(e,{expose:t,emit:r}){const o=e,a=Abe(o),l=Je("button"),{_ref:c,_size:d,_type:h,_disabled:m,_props:g,shouldAddSpace:v,handleClick:_}=pbe(o,r),S=D(()=>[l.b(),l.m(h.value),l.m(d.value),l.is("disabled",m.value),l.is("loading",o.loading),l.is("plain",o.plain),l.is("round",o.round),l.is("circle",o.circle),l.is("text",o.text),l.is("link",o.link),l.is("has-bg",o.bg)]);return t({ref:c,size:d,type:h,disabled:m,shouldAddSpace:v}),(T,b)=>(F(),Ve(ln(T.tag),sn({ref_key:"_ref",ref:c},f(g),{class:f(S),style:f(a),onClick:f(_)}),{default:ye(()=>[T.loading?(F(),Q(Tt,{key:0},[T.$slots.loading?Pe(T.$slots,"loading",{key:0}):(F(),Ve(f(St),{key:1,class:B(f(l).is("loading"))},{default:ye(()=>[(F(),Ve(ln(T.loadingIcon)))]),_:1},8,["class"]))],64)):T.icon||T.$slots.icon?(F(),Ve(f(St),{key:1},{default:ye(()=>[T.icon?(F(),Ve(ln(T.icon),{key:0})):Pe(T.$slots,"icon",{key:1})]),_:3})):Ie("v-if",!0),T.$slots.default?(F(),Q("span",{key:2,class:B({[f(l).em("text","expand")]:f(v)})},[Pe(T.$slots,"default")],2)):Ie("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Pbe=at(Nbe,[["__file","button.vue"]]);const Dbe={size:yk.size,type:yk.type},Lbe=he({name:"ElButtonGroup"}),Mbe=he({...Lbe,props:Dbe,setup(e){const t=e;pn(eH,Un({size:Kn(t,"size"),type:Kn(t,"type")}));const r=Je("button");return(o,a)=>(F(),Q("div",{class:B(f(r).b("group"))},[Pe(o.$slots,"default")],2))}});var rH=at(Mbe,[["__file","button-group.vue"]]);const lo=Kt(Pbe,{ButtonGroup:rH}),oH=Tr(rH);var ji=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function xbe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iH={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){var r=1e3,o=6e4,a=36e5,l="millisecond",c="second",d="minute",h="hour",m="day",g="week",v="month",_="quarter",S="year",T="date",b="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ae){var ee=["th","st","nd","rd"],G=ae%100;return"["+ae+(ee[(G-20)%10]||ee[G]||ee[0])+"]"}},R=function(ae,ee,G){var Z=String(ae);return!Z||Z.length>=ee?ae:""+Array(ee+1-Z.length).join(G)+ae},k={s:R,z:function(ae){var ee=-ae.utcOffset(),G=Math.abs(ee),Z=Math.floor(G/60),X=G%60;return(ee<=0?"+":"-")+R(Z,2,"0")+":"+R(X,2,"0")},m:function ae(ee,G){if(ee.date()<G.date())return-ae(G,ee);var Z=12*(G.year()-ee.year())+(G.month()-ee.month()),X=ee.clone().add(Z,v),H=G-X<0,J=ee.clone().add(Z+(H?-1:1),v);return+(-(Z+(G-X)/(H?X-J:J-X))||0)},a:function(ae){return ae<0?Math.ceil(ae)||0:Math.floor(ae)},p:function(ae){return{M:v,y:S,w:g,d:m,D:T,h,m:d,s:c,ms:l,Q:_}[ae]||String(ae||"").toLowerCase().replace(/s$/,"")},u:function(ae){return ae===void 0}},N="en",O={};O[N]=P;var $="$isDayjsObject",L=function(ae){return ae instanceof W||!(!ae||!ae[$])},M=function ae(ee,G,Z){var X;if(!ee)return N;if(typeof ee=="string"){var H=ee.toLowerCase();O[H]&&(X=H),G&&(O[H]=G,X=H);var J=ee.split("-");if(!X&&J.length>1)return ae(J[0])}else{var fe=ee.name;O[fe]=ee,X=fe}return!Z&&X&&(N=X),X||!Z&&N},U=function(ae,ee){if(L(ae))return ae.clone();var G=typeof ee=="object"?ee:{};return G.date=ae,G.args=arguments,new W(G)},j=k;j.l=M,j.i=L,j.w=function(ae,ee){return U(ae,{locale:ee.$L,utc:ee.$u,x:ee.$x,$offset:ee.$offset})};var W=function(){function ae(G){this.$L=M(G.locale,null,!0),this.parse(G),this.$x=this.$x||G.x||{},this[$]=!0}var ee=ae.prototype;return ee.parse=function(G){this.$d=function(Z){var X=Z.date,H=Z.utc;if(X===null)return new Date(NaN);if(j.u(X))return new Date;if(X instanceof Date)return new Date(X);if(typeof X=="string"&&!/Z$/i.test(X)){var J=X.match(I);if(J){var fe=J[2]-1||0,ge=(J[7]||"0").substring(0,3);return H?new Date(Date.UTC(J[1],fe,J[3]||1,J[4]||0,J[5]||0,J[6]||0,ge)):new Date(J[1],fe,J[3]||1,J[4]||0,J[5]||0,J[6]||0,ge)}}return new Date(X)}(G),this.init()},ee.init=function(){var G=this.$d;this.$y=G.getFullYear(),this.$M=G.getMonth(),this.$D=G.getDate(),this.$W=G.getDay(),this.$H=G.getHours(),this.$m=G.getMinutes(),this.$s=G.getSeconds(),this.$ms=G.getMilliseconds()},ee.$utils=function(){return j},ee.isValid=function(){return this.$d.toString()!==b},ee.isSame=function(G,Z){var X=U(G);return this.startOf(Z)<=X&&X<=this.endOf(Z)},ee.isAfter=function(G,Z){return U(G)<this.startOf(Z)},ee.isBefore=function(G,Z){return this.endOf(Z)<U(G)},ee.$g=function(G,Z,X){return j.u(G)?this[Z]:this.set(X,G)},ee.unix=function(){return Math.floor(this.valueOf()/1e3)},ee.valueOf=function(){return this.$d.getTime()},ee.startOf=function(G,Z){var X=this,H=!!j.u(Z)||Z,J=j.p(G),fe=function(Te,Be){var be=j.w(X.$u?Date.UTC(X.$y,Be,Te):new Date(X.$y,Be,Te),X);return H?be:be.endOf(m)},ge=function(Te,Be){return j.w(X.toDate()[Te].apply(X.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(Be)),X)},me=this.$W,Ee=this.$M,Fe=this.$D,$e="set"+(this.$u?"UTC":"");switch(J){case S:return H?fe(1,0):fe(31,11);case v:return H?fe(1,Ee):fe(0,Ee+1);case g:var de=this.$locale().weekStart||0,Le=(me<de?me+7:me)-de;return fe(H?Fe-Le:Fe+(6-Le),Ee);case m:case T:return ge($e+"Hours",0);case h:return ge($e+"Minutes",1);case d:return ge($e+"Seconds",2);case c:return ge($e+"Milliseconds",3);default:return this.clone()}},ee.endOf=function(G){return this.startOf(G,!1)},ee.$set=function(G,Z){var X,H=j.p(G),J="set"+(this.$u?"UTC":""),fe=(X={},X[m]=J+"Date",X[T]=J+"Date",X[v]=J+"Month",X[S]=J+"FullYear",X[h]=J+"Hours",X[d]=J+"Minutes",X[c]=J+"Seconds",X[l]=J+"Milliseconds",X)[H],ge=H===m?this.$D+(Z-this.$W):Z;if(H===v||H===S){var me=this.clone().set(T,1);me.$d[fe](ge),me.init(),this.$d=me.set(T,Math.min(this.$D,me.daysInMonth())).$d}else fe&&this.$d[fe](ge);return this.init(),this},ee.set=function(G,Z){return this.clone().$set(G,Z)},ee.get=function(G){return this[j.p(G)]()},ee.add=function(G,Z){var X,H=this;G=Number(G);var J=j.p(Z),fe=function(Ee){var Fe=U(H);return j.w(Fe.date(Fe.date()+Math.round(Ee*G)),H)};if(J===v)return this.set(v,this.$M+G);if(J===S)return this.set(S,this.$y+G);if(J===m)return fe(1);if(J===g)return fe(7);var ge=(X={},X[d]=o,X[h]=a,X[c]=r,X)[J]||1,me=this.$d.getTime()+G*ge;return j.w(me,this)},ee.subtract=function(G,Z){return this.add(-1*G,Z)},ee.format=function(G){var Z=this,X=this.$locale();if(!this.isValid())return X.invalidDate||b;var H=G||"YYYY-MM-DDTHH:mm:ssZ",J=j.z(this),fe=this.$H,ge=this.$m,me=this.$M,Ee=X.weekdays,Fe=X.months,$e=X.meridiem,de=function(Be,be,We,ce){return Be&&(Be[be]||Be(Z,H))||We[be].slice(0,ce)},Le=function(Be){return j.s(fe%12||12,Be,"0")},Te=$e||function(Be,be,We){var ce=Be<12?"AM":"PM";return We?ce.toLowerCase():ce};return H.replace(C,function(Be,be){return be||function(We){switch(We){case"YY":return String(Z.$y).slice(-2);case"YYYY":return j.s(Z.$y,4,"0");case"M":return me+1;case"MM":return j.s(me+1,2,"0");case"MMM":return de(X.monthsShort,me,Fe,3);case"MMMM":return de(Fe,me);case"D":return Z.$D;case"DD":return j.s(Z.$D,2,"0");case"d":return String(Z.$W);case"dd":return de(X.weekdaysMin,Z.$W,Ee,2);case"ddd":return de(X.weekdaysShort,Z.$W,Ee,3);case"dddd":return Ee[Z.$W];case"H":return String(fe);case"HH":return j.s(fe,2,"0");case"h":return Le(1);case"hh":return Le(2);case"a":return Te(fe,ge,!0);case"A":return Te(fe,ge,!1);case"m":return String(ge);case"mm":return j.s(ge,2,"0");case"s":return String(Z.$s);case"ss":return j.s(Z.$s,2,"0");case"SSS":return j.s(Z.$ms,3,"0");case"Z":return J}return null}(Be)||J.replace(":","")})},ee.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ee.diff=function(G,Z,X){var H,J=this,fe=j.p(Z),ge=U(G),me=(ge.utcOffset()-this.utcOffset())*o,Ee=this-ge,Fe=function(){return j.m(J,ge)};switch(fe){case S:H=Fe()/12;break;case v:H=Fe();break;case _:H=Fe()/3;break;case g:H=(Ee-me)/6048e5;break;case m:H=(Ee-me)/864e5;break;case h:H=Ee/a;break;case d:H=Ee/o;break;case c:H=Ee/r;break;default:H=Ee}return X?H:j.a(H)},ee.daysInMonth=function(){return this.endOf(v).$D},ee.$locale=function(){return O[this.$L]},ee.locale=function(G,Z){if(!G)return this.$L;var X=this.clone(),H=M(G,Z,!0);return H&&(X.$L=H),X},ee.clone=function(){return j.w(this.$d,this)},ee.toDate=function(){return new Date(this.valueOf())},ee.toJSON=function(){return this.isValid()?this.toISOString():null},ee.toISOString=function(){return this.$d.toISOString()},ee.toString=function(){return this.$d.toUTCString()},ae}(),re=W.prototype;return U.prototype=re,[["$ms",l],["$s",c],["$m",d],["$H",h],["$W",m],["$M",v],["$y",S],["$D",T]].forEach(function(ae){re[ae[1]]=function(ee){return this.$g(ee,ae[0],ae[1])}}),U.extend=function(ae,ee){return ae.$i||(ae(ee,W,U),ae.$i=!0),U},U.locale=M,U.isDayjs=L,U.unix=function(ae){return U(1e3*ae)},U.en=O[N],U.Ls=O,U.p={},U})})(iH);var zt=iH.exports,aH={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,l=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,d={},h=function(b){return(b=+b)+(b>68?1900:2e3)},m=function(b){return function(I){this[b]=+I}},g=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(I){if(!I||I==="Z")return 0;var C=I.match(/([+-]|\d\d)/g),P=60*C[1]+(+C[2]||0);return P===0?0:C[0]==="+"?-P:P}(b)}],v=function(b){var I=d[b];return I&&(I.indexOf?I:I.s.concat(I.f))},_=function(b,I){var C,P=d.meridiem;if(P){for(var R=1;R<=24;R+=1)if(b.indexOf(P(R,0,I))>-1){C=R>12;break}}else C=b===(I?"pm":"PM");return C},S={A:[c,function(b){this.afternoon=_(b,!1)}],a:[c,function(b){this.afternoon=_(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[a,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[l,m("seconds")],ss:[l,m("seconds")],m:[l,m("minutes")],mm:[l,m("minutes")],H:[l,m("hours")],h:[l,m("hours")],HH:[l,m("hours")],hh:[l,m("hours")],D:[l,m("day")],DD:[a,m("day")],Do:[c,function(b){var I=d.ordinal,C=b.match(/\d+/);if(this.day=C[0],I)for(var P=1;P<=31;P+=1)I(P).replace(/\[|\]/g,"")===b&&(this.day=P)}],M:[l,m("month")],MM:[a,m("month")],MMM:[c,function(b){var I=v("months"),C=(v("monthsShort")||I.map(function(P){return P.slice(0,3)})).indexOf(b)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[c,function(b){var I=v("months").indexOf(b)+1;if(I<1)throw new Error;this.month=I%12||I}],Y:[/[+-]?\d+/,m("year")],YY:[a,function(b){this.year=h(b)}],YYYY:[/\d{4}/,m("year")],Z:g,ZZ:g};function T(b){var I,C;I=b,C=d&&d.formats;for(var P=(b=I.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,U,j){var W=j&&j.toUpperCase();return U||C[j]||r[j]||C[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(re,ae,ee){return ae||ee.slice(1)})})).match(o),R=P.length,k=0;k<R;k+=1){var N=P[k],O=S[N],$=O&&O[0],L=O&&O[1];P[k]=L?{regex:$,parser:L}:N.replace(/^\[|\]$/g,"")}return function(M){for(var U={},j=0,W=0;j<R;j+=1){var re=P[j];if(typeof re=="string")W+=re.length;else{var ae=re.regex,ee=re.parser,G=M.slice(W),Z=ae.exec(G)[0];ee.call(U,Z),M=M.replace(Z,"")}}return function(X){var H=X.afternoon;if(H!==void 0){var J=X.hours;H?J<12&&(X.hours+=12):J===12&&(X.hours=0),delete X.afternoon}}(U),U}}return function(b,I,C){C.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(h=b.parseTwoDigitYear);var P=I.prototype,R=P.parse;P.parse=function(k){var N=k.date,O=k.utc,$=k.args;this.$u=O;var L=$[1];if(typeof L=="string"){var M=$[2]===!0,U=$[3]===!0,j=M||U,W=$[2];U&&(W=$[2]),d=this.$locale(),!M&&W&&(d=C.Ls[W]),this.$d=function(G,Z,X){try{if(["x","X"].indexOf(Z)>-1)return new Date((Z==="X"?1e3:1)*G);var H=T(Z)(G),J=H.year,fe=H.month,ge=H.day,me=H.hours,Ee=H.minutes,Fe=H.seconds,$e=H.milliseconds,de=H.zone,Le=new Date,Te=ge||(J||fe?1:Le.getDate()),Be=J||Le.getFullYear(),be=0;J&&!fe||(be=fe>0?fe-1:Le.getMonth());var We=me||0,ce=Ee||0,ie=Fe||0,De=$e||0;return de?new Date(Date.UTC(Be,be,Te,We,ce,ie,De+60*de.offset*1e3)):X?new Date(Date.UTC(Be,be,Te,We,ce,ie,De)):new Date(Be,be,Te,We,ce,ie,De)}catch{return new Date("")}}(N,L,O),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),j&&N!=this.format(L)&&(this.$d=new Date("")),d={}}else if(L instanceof Array)for(var re=L.length,ae=1;ae<=re;ae+=1){$[1]=L[ae-1];var ee=C.apply(this,$);if(ee.isValid()){this.$d=ee.$d,this.$L=ee.$L,this.init();break}ae===re&&(this.$d=new Date(""))}else R.call(this,k)}}})})(aH);var XR=aH.exports;const w$=["hours","minutes","seconds"],bk="HH:mm:ss",Yf="YYYY-MM-DD",Vbe={date:Yf,dates:Yf,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${Yf} ${bk}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Yf,datetimerange:`${Yf} ${bk}`},hI=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],Oc=e=>Array.from(Array.from({length:e}).keys()),sH=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),lH=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),I$=function(e,t){const r=hd(e),o=hd(t);return r&&o?e.getTime()===t.getTime():!r&&!o?e===t:!1},k$=function(e,t){const r=ht(e),o=ht(t);return r&&o?e.length!==t.length?!1:e.every((a,l)=>I$(a,t[l])):!r&&!o?I$(e,t):!1},R$=function(e,t,r){const o=da(t)||t==="x"?zt(e).locale(r):zt(e,t).locale(r);return o.isValid()?o:void 0},A$=function(e,t,r){return da(t)?e:t==="x"?+e:zt(e).locale(r).format(t)},pI=(e,t)=>{var r;const o=[],a=t==null?void 0:t();for(let l=0;l<e;l++)o.push((r=a==null?void 0:a.includes(l))!=null?r:!1);return o},cH=it({disabledHours:{type:Se(Function)},disabledMinutes:{type:Se(Function)},disabledSeconds:{type:Se(Function)}}),uH=it({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),QR=it({id:{type:Se([Array,String])},name:{type:Se([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Se([String,Object]),default:Gc},editable:{type:Boolean,default:!0},prefixIcon:{type:Se([String,Object]),default:""},size:no,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Se(Object),default:()=>({})},modelValue:{type:Se([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Se([Date,Array])},defaultTime:{type:Se([Date,Array])},isRange:Boolean,...cH,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Se([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...Gh,...ko(["ariaLabel"])}),Fbe=he({name:"Picker"}),$be=he({...Fbe,props:QR,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:r}){const o=e,a=Td(),{lang:l}=En(),c=Je("date"),d=Je("input"),h=Je("range"),{form:m,formItem:g}=Go(),v=pt("ElPopperOptions",{}),{valueOnClear:_}=W0(o,null),S=q(),T=q(),b=q(!1),I=q(!1),C=q(null);let P=!1,R=!1;const k=D(()=>[c.b("editor"),c.bm("editor",o.type),d.e("wrapper"),c.is("disabled",me.value),c.is("active",b.value),h.b("editor"),le?h.bm("editor",le.value):"",a.class]),N=D(()=>[d.e("icon"),h.e("close-icon"),We.value?"":h.e("close-icon--hidden")]);Ge(b,Me=>{Me?wt(()=>{Me&&(C.value=o.modelValue)}):(qe.value=null,wt(()=>{O(o.modelValue)}))});const O=(Me,ft)=>{(ft||!k$(Me,C.value))&&(r("change",Me),o.validateEvent&&(g==null||g.validate("change").catch(In=>void 0)))},$=Me=>{if(!k$(o.modelValue,Me)){let ft;ht(Me)?ft=Me.map(In=>A$(In,o.valueFormat,l.value)):Me&&(ft=A$(Me,o.valueFormat,l.value)),r("update:modelValue",Me&&ft,l.value)}},L=Me=>{r("keydown",Me)},M=D(()=>{if(T.value){const Me=ot.value?T.value:T.value.$el;return Array.from(Me.querySelectorAll("input"))}return[]}),U=(Me,ft,In)=>{const rn=M.value;!rn.length||(!In||In==="min"?(rn[0].setSelectionRange(Me,ft),rn[0].focus()):In==="max"&&(rn[1].setSelectionRange(Me,ft),rn[1].focus()))},j=()=>{H(!0,!0),wt(()=>{R=!1})},W=(Me="",ft=!1)=>{ft||(R=!0),b.value=ft;let In;ht(Me)?In=Me.map(rn=>rn.toDate()):In=Me&&Me.toDate(),qe.value=null,$(In)},re=()=>{I.value=!0},ae=()=>{r("visible-change",!0)},ee=Me=>{(Me==null?void 0:Me.key)===It.esc&&H(!0,!0)},G=()=>{I.value=!1,b.value=!1,R=!1,r("visible-change",!1)},Z=()=>{b.value=!0},X=()=>{b.value=!1},H=(Me=!0,ft=!1)=>{R=ft;const[In,rn]=f(M);let qn=In;!Me&&ot.value&&(qn=rn),qn&&qn.focus()},J=Me=>{o.readonly||me.value||b.value||R||(b.value=!0,r("focus",Me))};let fe;const ge=Me=>{const ft=async()=>{setTimeout(()=>{var In;fe===ft&&(!(((In=S.value)==null?void 0:In.isFocusInsideContent())&&!P)&&M.value.filter(rn=>rn.contains(document.activeElement)).length===0&&(rt(),b.value=!1,r("blur",Me),o.validateEvent&&(g==null||g.validate("blur").catch(rn=>void 0))),P=!1)},0)};fe=ft,ft()},me=D(()=>o.disabled||(m==null?void 0:m.disabled)),Ee=D(()=>{let Me;if(ie.value?Ye.value.getDefaultValue&&(Me=Ye.value.getDefaultValue()):ht(o.modelValue)?Me=o.modelValue.map(ft=>R$(ft,o.valueFormat,l.value)):Me=R$(o.modelValue,o.valueFormat,l.value),Ye.value.getRangeAvailableTime){const ft=Ye.value.getRangeAvailableTime(Me);ii(ft,Me)||(Me=ft,$(ht(Me)?Me.map(In=>In.toDate()):Me.toDate()))}return ht(Me)&&Me.some(ft=>!ft)&&(Me=[]),Me}),Fe=D(()=>{if(!Ye.value.panelReady)return"";const Me=Xe(Ee.value);return ht(qe.value)?[qe.value[0]||Me&&Me[0]||"",qe.value[1]||Me&&Me[1]||""]:qe.value!==null?qe.value:!de.value&&ie.value||!b.value&&ie.value?"":Me?Le.value||Te.value||Be.value?Me.join(", "):Me:""}),$e=D(()=>o.type.includes("time")),de=D(()=>o.type.startsWith("time")),Le=D(()=>o.type==="dates"),Te=D(()=>o.type==="months"),Be=D(()=>o.type==="years"),be=D(()=>o.prefixIcon||($e.value?G8:Dhe)),We=q(!1),ce=Me=>{o.readonly||me.value||(We.value&&(Me.stopPropagation(),j(),Ye.value.handleClear?Ye.value.handleClear():$(_.value),O(_.value,!0),We.value=!1,b.value=!1),r("clear"))},ie=D(()=>{const{modelValue:Me}=o;return!Me||ht(Me)&&!Me.filter(Boolean).length}),De=async Me=>{var ft;o.readonly||me.value||(((ft=Me.target)==null?void 0:ft.tagName)!=="INPUT"||M.value.includes(document.activeElement))&&(b.value=!0)},tt=()=>{o.readonly||me.value||!ie.value&&o.clearable&&(We.value=!0)},xe=()=>{We.value=!1},ze=Me=>{var ft;o.readonly||me.value||(((ft=Me.touches[0].target)==null?void 0:ft.tagName)!=="INPUT"||M.value.includes(document.activeElement))&&(b.value=!0)},ot=D(()=>o.type.includes("range")),le=Jr(),pe=D(()=>{var Me,ft;return(ft=(Me=f(S))==null?void 0:Me.popperRef)==null?void 0:ft.contentRef}),Re=D(()=>{var Me;return f(ot)?f(T):(Me=f(T))==null?void 0:Me.$el}),Ae=J1(Re,Me=>{const ft=f(pe),In=f(Re);ft&&(Me.target===ft||Me.composedPath().includes(ft))||Me.target===In||Me.composedPath().includes(In)||(b.value=!1)});ur(()=>{Ae==null||Ae()});const qe=q(null),rt=()=>{if(qe.value){const Me=Ue(Fe.value);Me&&Nt(Me)&&($(ht(Me)?Me.map(ft=>ft.toDate()):Me.toDate()),qe.value=null)}qe.value===""&&($(_.value),O(_.value),qe.value=null)},Ue=Me=>Me?Ye.value.parseUserInput(Me):null,Xe=Me=>Me?Ye.value.formatToString(Me):null,Nt=Me=>Ye.value.isValidValue(Me),Ft=async Me=>{if(o.readonly||me.value)return;const{code:ft}=Me;if(L(Me),ft===It.esc){b.value===!0&&(b.value=!1,Me.preventDefault(),Me.stopPropagation());return}if(ft===It.down&&(Ye.value.handleFocusPicker&&(Me.preventDefault(),Me.stopPropagation()),b.value===!1&&(b.value=!0,await wt()),Ye.value.handleFocusPicker)){Ye.value.handleFocusPicker();return}if(ft===It.tab){P=!0;return}if(ft===It.enter||ft===It.numpadEnter){(qe.value===null||qe.value===""||Nt(Ue(Fe.value)))&&(rt(),b.value=!1),Me.stopPropagation();return}if(qe.value){Me.stopPropagation();return}Ye.value.handleKeydownInput&&Ye.value.handleKeydownInput(Me)},Et=Me=>{qe.value=Me,b.value||(b.value=!0)},Ut=Me=>{const ft=Me.target;qe.value?qe.value=[ft.value,qe.value[1]]:qe.value=[ft.value,null]},He=Me=>{const ft=Me.target;qe.value?qe.value=[qe.value[0],ft.value]:qe.value=[null,ft.value]},vt=()=>{var Me;const ft=qe.value,In=Ue(ft&&ft[0]),rn=f(Ee);if(In&&In.isValid()){qe.value=[Xe(In),((Me=Fe.value)==null?void 0:Me[1])||null];const qn=[In,rn&&(rn[1]||null)];Nt(qn)&&($(qn),qe.value=null)}},we=()=>{var Me;const ft=f(qe),In=Ue(ft&&ft[1]),rn=f(Ee);if(In&&In.isValid()){qe.value=[((Me=f(Fe))==null?void 0:Me[0])||null,Xe(In)];const qn=[rn&&rn[0],In];Nt(qn)&&($(qn),qe.value=null)}},Ye=q({}),nt=Me=>{Ye.value[Me[0]]=Me[1],Ye.value.panelReady=!0},jt=Me=>{r("calendar-change",Me)},Dt=(Me,ft,In)=>{r("panel-change",Me,ft,In)};return pn("EP_PICKER_BASE",{props:o}),t({focus:H,handleFocusInput:J,handleBlurInput:ge,handleOpen:Z,handleClose:X,onPick:W}),(Me,ft)=>(F(),Ve(f(xo),sn({ref_key:"refPopper",ref:S,visible:b.value,effect:"light",pure:"",trigger:"click"},Me.$attrs,{role:"dialog",teleported:"",transition:`${f(c).namespace.value}-zoom-in-top`,"popper-class":[`${f(c).namespace.value}-picker__popper`,Me.popperClass],"popper-options":f(v),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:re,onShow:ae,onHide:G}),{default:ye(()=>[f(ot)?(F(),Q("div",{key:1,ref_key:"inputRef",ref:T,class:B(f(k)),style:kt(Me.$attrs.style),onClick:J,onMouseenter:tt,onMouseleave:xe,onTouchstartPassive:ze,onKeydown:Ft},[f(be)?(F(),Ve(f(St),{key:0,class:B([f(d).e("icon"),f(h).e("icon")]),onMousedown:Vt(De,["prevent"]),onTouchstartPassive:ze},{default:ye(()=>[(F(),Ve(ln(f(be))))]),_:1},8,["class","onMousedown"])):Ie("v-if",!0),te("input",{id:Me.id&&Me.id[0],autocomplete:"off",name:Me.name&&Me.name[0],placeholder:Me.startPlaceholder,value:f(Fe)&&f(Fe)[0],disabled:f(me),readonly:!Me.editable||Me.readonly,class:B(f(h).b("input")),onMousedown:De,onInput:Ut,onChange:vt,onFocus:J,onBlur:ge},null,42,["id","name","placeholder","value","disabled","readonly"]),Pe(Me.$slots,"range-separator",{},()=>[te("span",{class:B(f(h).b("separator"))},et(Me.rangeSeparator),3)]),te("input",{id:Me.id&&Me.id[1],autocomplete:"off",name:Me.name&&Me.name[1],placeholder:Me.endPlaceholder,value:f(Fe)&&f(Fe)[1],disabled:f(me),readonly:!Me.editable||Me.readonly,class:B(f(h).b("input")),onMousedown:De,onFocus:J,onBlur:ge,onInput:He,onChange:we},null,42,["id","name","placeholder","value","disabled","readonly"]),Me.clearIcon?(F(),Ve(f(St),{key:1,class:B(f(N)),onClick:ce},{default:ye(()=>[(F(),Ve(ln(Me.clearIcon)))]),_:1},8,["class"])):Ie("v-if",!0)],38)):(F(),Ve(f(wo),{key:0,id:Me.id,ref_key:"inputRef",ref:T,"container-role":"combobox","model-value":f(Fe),name:Me.name,size:f(le),disabled:f(me),placeholder:Me.placeholder,class:B([f(c).b("editor"),f(c).bm("editor",Me.type),Me.$attrs.class]),style:kt(Me.$attrs.style),readonly:!Me.editable||Me.readonly||f(Le)||f(Te)||f(Be)||Me.type==="week","aria-label":Me.ariaLabel,tabindex:Me.tabindex,"validate-event":!1,onInput:Et,onFocus:J,onBlur:ge,onKeydown:Ft,onChange:rt,onMousedown:De,onMouseenter:tt,onMouseleave:xe,onTouchstartPassive:ze,onClick:Vt(()=>{},["stop"])},{prefix:ye(()=>[f(be)?(F(),Ve(f(St),{key:0,class:B(f(d).e("icon")),onMousedown:Vt(De,["prevent"]),onTouchstartPassive:ze},{default:ye(()=>[(F(),Ve(ln(f(be))))]),_:1},8,["class","onMousedown"])):Ie("v-if",!0)]),suffix:ye(()=>[We.value&&Me.clearIcon?(F(),Ve(f(St),{key:0,class:B(`${f(d).e("icon")} clear-icon`),onClick:Vt(ce,["stop"])},{default:ye(()=>[(F(),Ve(ln(Me.clearIcon)))]),_:1},8,["class","onClick"])):Ie("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown","onClick"]))]),content:ye(()=>[Pe(Me.$slots,"default",{visible:b.value,actualVisible:I.value,parsedValue:f(Ee),format:Me.format,dateFormat:Me.dateFormat,timeFormat:Me.timeFormat,unlinkPanels:Me.unlinkPanels,type:Me.type,defaultValue:Me.defaultValue,onPick:W,onSelectRange:U,onSetPickerOption:nt,onCalendarChange:jt,onPanelChange:Dt,onKeydown:ee,onMousedown:Vt(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var dH=at($be,[["__file","picker.vue"]]);const Ube=it({...uH,datetimeRole:String,parsedValue:{type:Se(Object)}}),fH=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:r})=>{const o=(c,d,h,m)=>{const g={hour:e,minute:t,second:r};let v=c;return["hour","minute","second"].forEach(_=>{if(g[_]){let S;const T=g[_];switch(_){case"minute":{S=T(v.hour(),d,m);break}case"second":{S=T(v.hour(),v.minute(),d,m);break}default:{S=T(d,m);break}}if((S==null?void 0:S.length)&&!S.includes(v[_]())){const b=h?0:S.length-1;v=v[_](S[b])}}}),v},a={};return{timePickerOptions:a,getAvailableTime:o,onSetOption:([c,d])=>{a[c]=d}}},mI=e=>{const t=(o,a)=>o||a,r=o=>o!==!0;return e.map(t).filter(r)},hH=(e,t,r)=>({getHoursList:(c,d)=>pI(24,e&&(()=>e==null?void 0:e(c,d))),getMinutesList:(c,d,h)=>pI(60,t&&(()=>t==null?void 0:t(c,d,h))),getSecondsList:(c,d,h,m)=>pI(60,r&&(()=>r==null?void 0:r(c,d,h,m)))}),pH=(e,t,r)=>{const{getHoursList:o,getMinutesList:a,getSecondsList:l}=hH(e,t,r);return{getAvailableHours:(m,g)=>mI(o(m,g)),getAvailableMinutes:(m,g,v)=>mI(a(m,g,v)),getAvailableSeconds:(m,g,v,_)=>mI(l(m,g,v,_))}},mH=e=>{const t=q(e.parsedValue);return Ge(()=>e.visible,r=>{r||(t.value=e.parsedValue)}),t},pc=new Map;if(Sn){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const r of pc.values())for(const{documentHandler:o}of r)o(t,e);e=void 0}})}function O$(e,t){let r=[];return Array.isArray(t.arg)?r=t.arg:Bi(t.arg)&&r.push(t.arg),function(o,a){const l=t.instance.popperRef,c=o.target,d=a==null?void 0:a.target,h=!t||!t.instance,m=!c||!d,g=e.contains(c)||e.contains(d),v=e===c,_=r.length&&r.some(T=>T==null?void 0:T.contains(c))||r.length&&r.includes(d),S=l&&(l.contains(c)||l.contains(d));h||m||g||v||_||S||t.value(o,a)}}const ml={beforeMount(e,t){pc.has(e)||pc.set(e,[]),pc.get(e).push({documentHandler:O$(e,t),bindingFn:t.value})},updated(e,t){pc.has(e)||pc.set(e,[]);const r=pc.get(e),o=r.findIndex(l=>l.bindingFn===t.oldValue),a={documentHandler:O$(e,t),bindingFn:t.value};o>=0?r.splice(o,1,a):r.push(a)},unmounted(e){pc.delete(e)}},Bbe=100,Hbe=600,n0={beforeMount(e,t){const r=t.value,{interval:o=Bbe,delay:a=Hbe}=Lt(r)?{}:r;let l,c;const d=()=>Lt(r)?r():r.handler(),h=()=>{c&&(clearTimeout(c),c=void 0),l&&(clearInterval(l),l=void 0)};e.addEventListener("mousedown",m=>{m.button===0&&(h(),d(),document.addEventListener("mouseup",()=>h(),{once:!0}),c=setTimeout(()=>{l=setInterval(()=>{d()},o)},a))})}},Sk="_trap-focus-children",ed=[],N$=e=>{if(ed.length===0)return;const t=ed[ed.length-1][Sk];if(t.length>0&&e.code===It.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const r=e.shiftKey,o=e.target===t[0],a=e.target===t[t.length-1];o&&r&&(e.preventDefault(),t[t.length-1].focus()),a&&!r&&(e.preventDefault(),t[0].focus())}},jbe={beforeMount(e){e[Sk]=j3(e),ed.push(e),ed.length<=1&&document.addEventListener("keydown",N$)},updated(e){wt(()=>{e[Sk]=j3(e)})},unmounted(){ed.shift(),ed.length===0&&document.removeEventListener("keydown",N$)}};var P$=!1,Ju,Ek,Tk,Rb,Ab,vH,Ob,Ck,wk,Ik,gH,kk,Rk,yH,_H;function yi(){if(!P$){P$=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(kk=/\b(iPhone|iP[ao]d)/.exec(e),Rk=/\b(iP[ao]d)/.exec(e),Ik=/Android/i.exec(e),yH=/FBAN\/\w+;/i.exec(e),_H=/Mobile/i.exec(e),gH=!!/Win64/.exec(e),t){Ju=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Ju&&document&&document.documentMode&&(Ju=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(e);vH=o?parseFloat(o[1])+4:Ju,Ek=t[2]?parseFloat(t[2]):NaN,Tk=t[3]?parseFloat(t[3]):NaN,Rb=t[4]?parseFloat(t[4]):NaN,Rb?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Ab=t&&t[1]?parseFloat(t[1]):NaN):Ab=NaN}else Ju=Ek=Tk=Ab=Rb=NaN;if(r){if(r[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Ob=a?parseFloat(a[1].replace("_",".")):!0}else Ob=!1;Ck=!!r[2],wk=!!r[3]}else Ob=Ck=wk=!1}}var Ak={ie:function(){return yi()||Ju},ieCompatibilityMode:function(){return yi()||vH>Ju},ie64:function(){return Ak.ie()&&gH},firefox:function(){return yi()||Ek},opera:function(){return yi()||Tk},webkit:function(){return yi()||Rb},safari:function(){return Ak.webkit()},chrome:function(){return yi()||Ab},windows:function(){return yi()||Ck},osx:function(){return yi()||Ob},linux:function(){return yi()||wk},iphone:function(){return yi()||kk},mobile:function(){return yi()||kk||Rk||Ik||_H},nativeApp:function(){return yi()||yH},android:function(){return yi()||Ik},ipad:function(){return yi()||Rk}},Wbe=Ak,hb=!!(typeof window<"u"&&window.document&&window.document.createElement),zbe={canUseDOM:hb,canUseWorkers:typeof Worker<"u",canUseEventListeners:hb&&!!(window.addEventListener||window.attachEvent),canUseViewport:hb&&!!window.screen,isInWorker:!hb},bH=zbe,SH;bH.canUseDOM&&(SH=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Kbe(e,t){if(!bH.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,o=r in document;if(!o){var a=document.createElement("div");a.setAttribute(r,"return;"),o=typeof a[r]=="function"}return!o&&SH&&e==="wheel"&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var Gbe=Kbe,D$=10,L$=40,M$=800;function EH(e){var t=0,r=0,o=0,a=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),o=t*D$,a=r*D$,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||a)&&e.deltaMode&&(e.deltaMode==1?(o*=L$,a*=L$):(o*=M$,a*=M$)),o&&!t&&(t=o<1?-1:1),a&&!r&&(r=a<1?-1:1),{spinX:t,spinY:r,pixelX:o,pixelY:a}}EH.getEventType=function(){return Wbe.firefox()?"DOMMouseScroll":Gbe("wheel")?"wheel":"mousewheel"};var qbe=EH;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Ybe=function(e,t){if(e&&e.addEventListener){const r=function(o){const a=qbe(o);t&&Reflect.apply(t,this,[o,a])};e.addEventListener("wheel",r,{passive:!0})}},Jbe={beforeMount(e,t){Ybe(e,t.value)}},Xbe=it({role:{type:String,required:!0},spinnerDate:{type:Se(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Se(String),default:""},...cH}),Qbe=he({__name:"basic-time-spinner",props:Xbe,emits:["change","select-range","set-option"],setup(e,{emit:t}){const r=e,o=Je("time"),{getHoursList:a,getMinutesList:l,getSecondsList:c}=hH(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let d=!1;const h=q(),m=q(),g=q(),v=q(),_={hours:m,minutes:g,seconds:v},S=D(()=>r.showSeconds?w$:w$.slice(0,2)),T=D(()=>{const{spinnerDate:H}=r,J=H.hour(),fe=H.minute(),ge=H.second();return{hours:J,minutes:fe,seconds:ge}}),b=D(()=>{const{hours:H,minutes:J}=f(T);return{hours:a(r.role),minutes:l(H,r.role),seconds:c(H,J,r.role)}}),I=D(()=>{const{hours:H,minutes:J,seconds:fe}=f(T);return{hours:hI(H,23),minutes:hI(J,59),seconds:hI(fe,59)}}),C=Ii(H=>{d=!1,k(H)},200),P=H=>{if(!!!r.amPmMode)return"";const fe=r.amPmMode==="A";let ge=H<12?" am":" pm";return fe&&(ge=ge.toUpperCase()),ge},R=H=>{let J;switch(H){case"hours":J=[0,2];break;case"minutes":J=[3,5];break;case"seconds":J=[6,8];break}const[fe,ge]=J;t("select-range",fe,ge),h.value=H},k=H=>{$(H,f(T)[H])},N=()=>{k("hours"),k("minutes"),k("seconds")},O=H=>H.querySelector(`.${o.namespace.value}-scrollbar__wrap`),$=(H,J)=>{if(r.arrowControl)return;const fe=f(_[H]);fe&&fe.$el&&(O(fe.$el).scrollTop=Math.max(0,J*L(H)))},L=H=>{const J=f(_[H]),fe=J==null?void 0:J.$el.querySelector("li");return fe&&Number.parseFloat(Tc(fe,"height"))||0},M=()=>{j(1)},U=()=>{j(-1)},j=H=>{h.value||R("hours");const J=h.value,fe=f(T)[J],ge=h.value==="hours"?24:60,me=W(J,fe,H,ge);re(J,me),$(J,me),wt(()=>R(J))},W=(H,J,fe,ge)=>{let me=(J+fe+ge)%ge;const Ee=f(b)[H];for(;Ee[me]&&me!==J;)me=(me+fe+ge)%ge;return me},re=(H,J)=>{if(f(b)[H][J])return;const{hours:me,minutes:Ee,seconds:Fe}=f(T);let $e;switch(H){case"hours":$e=r.spinnerDate.hour(J).minute(Ee).second(Fe);break;case"minutes":$e=r.spinnerDate.hour(me).minute(J).second(Fe);break;case"seconds":$e=r.spinnerDate.hour(me).minute(Ee).second(J);break}t("change",$e)},ae=(H,{value:J,disabled:fe})=>{fe||(re(H,J),R(H),$(H,J))},ee=H=>{d=!0,C(H);const J=Math.min(Math.round((O(f(_[H]).$el).scrollTop-(G(H)*.5-10)/L(H)+3)/L(H)),H==="hours"?23:59);re(H,J)},G=H=>f(_[H]).$el.offsetHeight,Z=()=>{const H=J=>{const fe=f(_[J]);fe&&fe.$el&&(O(fe.$el).onscroll=()=>{ee(J)})};H("hours"),H("minutes"),H("seconds")};Zt(()=>{wt(()=>{!r.arrowControl&&Z(),N(),r.role==="start"&&R("hours")})});const X=(H,J)=>{_[J].value=H};return t("set-option",[`${r.role}_scrollDown`,j]),t("set-option",[`${r.role}_emitSelectRange`,R]),Ge(()=>r.spinnerDate,()=>{d||N()}),(H,J)=>(F(),Q("div",{class:B([f(o).b("spinner"),{"has-seconds":H.showSeconds}])},[H.arrowControl?Ie("v-if",!0):(F(!0),Q(Tt,{key:0},fn(f(S),fe=>(F(),Ve(f(Rs),{key:fe,ref_for:!0,ref:ge=>X(ge,fe),class:B(f(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":f(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:ge=>R(fe),onMousemove:ge=>k(fe)},{default:ye(()=>[(F(!0),Q(Tt,null,fn(f(b)[fe],(ge,me)=>(F(),Q("li",{key:me,class:B([f(o).be("spinner","item"),f(o).is("active",me===f(T)[fe]),f(o).is("disabled",ge)]),onClick:Ee=>ae(fe,{value:me,disabled:ge})},[fe==="hours"?(F(),Q(Tt,{key:0},[Jt(et(("0"+(H.amPmMode?me%12||12:me)).slice(-2))+et(P(me)),1)],64)):(F(),Q(Tt,{key:1},[Jt(et(("0"+me).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),H.arrowControl?(F(!0),Q(Tt,{key:1},fn(f(S),fe=>(F(),Q("div",{key:fe,class:B([f(o).be("spinner","wrapper"),f(o).is("arrow")]),onMouseenter:ge=>R(fe)},[qt((F(),Ve(f(St),{class:B(["arrow-up",f(o).be("spinner","arrow")])},{default:ye(()=>[se(f(gR))]),_:1},8,["class"])),[[f(n0),U]]),qt((F(),Ve(f(St),{class:B(["arrow-down",f(o).be("spinner","arrow")])},{default:ye(()=>[se(f(El))]),_:1},8,["class"])),[[f(n0),M]]),te("ul",{class:B(f(o).be("spinner","list"))},[(F(!0),Q(Tt,null,fn(f(I)[fe],(ge,me)=>(F(),Q("li",{key:me,class:B([f(o).be("spinner","item"),f(o).is("active",ge===f(T)[fe]),f(o).is("disabled",f(b)[fe][ge])])},[typeof ge=="number"?(F(),Q(Tt,{key:0},[fe==="hours"?(F(),Q(Tt,{key:0},[Jt(et(("0"+(H.amPmMode?ge%12||12:ge)).slice(-2))+et(P(ge)),1)],64)):(F(),Q(Tt,{key:1},[Jt(et(("0"+ge).slice(-2)),1)],64))],64)):Ie("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Ie("v-if",!0)],2))}});var Ok=at(Qbe,[["__file","basic-time-spinner.vue"]]);const Zbe=he({__name:"panel-time-pick",props:Ube,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const r=e,o=pt("EP_PICKER_BASE"),{arrowControl:a,disabledHours:l,disabledMinutes:c,disabledSeconds:d,defaultValue:h}=o.props,{getAvailableHours:m,getAvailableMinutes:g,getAvailableSeconds:v}=pH(l,c,d),_=Je("time"),{t:S,lang:T}=En(),b=q([0,2]),I=mH(r),C=D(()=>Ar(r.actualVisible)?`${_.namespace.value}-zoom-in-top`:""),P=D(()=>r.format.includes("ss")),R=D(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),k=X=>{const H=zt(X).locale(T.value),J=ae(H);return H.isSame(J)},N=()=>{t("pick",I.value,!1)},O=(X=!1,H=!1)=>{H||t("pick",r.parsedValue,X)},$=X=>{if(!r.visible)return;const H=ae(X).millisecond(0);t("pick",H,!0)},L=(X,H)=>{t("select-range",X,H),b.value=[X,H]},M=X=>{const H=[0,3].concat(P.value?[6]:[]),J=["hours","minutes"].concat(P.value?["seconds"]:[]),ge=(H.indexOf(b.value[0])+X+H.length)%H.length;j.start_emitSelectRange(J[ge])},U=X=>{const H=X.code,{left:J,right:fe,up:ge,down:me}=It;if([J,fe].includes(H)){M(H===J?-1:1),X.preventDefault();return}if([ge,me].includes(H)){const Ee=H===ge?-1:1;j.start_scrollDown(Ee),X.preventDefault();return}},{timePickerOptions:j,onSetOption:W,getAvailableTime:re}=fH({getAvailableHours:m,getAvailableMinutes:g,getAvailableSeconds:v}),ae=X=>re(X,r.datetimeRole||"",!0),ee=X=>X?zt(X,r.format).locale(T.value):null,G=X=>X?X.format(r.format):null,Z=()=>zt(h).locale(T.value);return t("set-picker-option",["isValidValue",k]),t("set-picker-option",["formatToString",G]),t("set-picker-option",["parseUserInput",ee]),t("set-picker-option",["handleKeydownInput",U]),t("set-picker-option",["getRangeAvailableTime",ae]),t("set-picker-option",["getDefaultValue",Z]),(X,H)=>(F(),Ve(eo,{name:f(C)},{default:ye(()=>[X.actualVisible||X.visible?(F(),Q("div",{key:0,class:B(f(_).b("panel"))},[te("div",{class:B([f(_).be("panel","content"),{"has-seconds":f(P)}])},[se(Ok,{ref:"spinner",role:X.datetimeRole||"start","arrow-control":f(a),"show-seconds":f(P),"am-pm-mode":f(R),"spinner-date":X.parsedValue,"disabled-hours":f(l),"disabled-minutes":f(c),"disabled-seconds":f(d),onChange:$,onSetOption:f(W),onSelectRange:L},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),te("div",{class:B(f(_).be("panel","footer"))},[te("button",{type:"button",class:B([f(_).be("panel","btn"),"cancel"]),onClick:N},et(f(S)("el.datepicker.cancel")),3),te("button",{type:"button",class:B([f(_).be("panel","btn"),"confirm"]),onClick:J=>O()},et(f(S)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Ie("v-if",!0)]),_:1},8,["name"]))}});var r0=at(Zbe,[["__file","panel-time-pick.vue"]]);const e0e=it({...uH,parsedValue:{type:Se(Array)}}),t0e=he({__name:"panel-time-range",props:e0e,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const r=e,o=(be,We)=>{const ce=[];for(let ie=be;ie<=We;ie++)ce.push(ie);return ce},{t:a,lang:l}=En(),c=Je("time"),d=Je("picker"),h=pt("EP_PICKER_BASE"),{arrowControl:m,disabledHours:g,disabledMinutes:v,disabledSeconds:_,defaultValue:S}=h.props,T=D(()=>[c.be("range-picker","body"),c.be("panel","content"),c.is("arrow",m),k.value?"has-seconds":""]),b=D(()=>[c.be("range-picker","body"),c.be("panel","content"),c.is("arrow",m),k.value?"has-seconds":""]),I=D(()=>r.parsedValue[0]),C=D(()=>r.parsedValue[1]),P=mH(r),R=()=>{t("pick",P.value,!1)},k=D(()=>r.format.includes("ss")),N=D(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),O=(be=!1)=>{t("pick",[I.value,C.value],be)},$=be=>{U(be.millisecond(0),C.value)},L=be=>{U(I.value,be.millisecond(0))},M=be=>{const We=be.map(ie=>zt(ie).locale(l.value)),ce=fe(We);return We[0].isSame(ce[0])&&We[1].isSame(ce[1])},U=(be,We)=>{t("pick",[be,We],!0)},j=D(()=>I.value>C.value),W=q([0,2]),re=(be,We)=>{t("select-range",be,We,"min"),W.value=[be,We]},ae=D(()=>k.value?11:8),ee=(be,We)=>{t("select-range",be,We,"max");const ce=f(ae);W.value=[be+ce,We+ce]},G=be=>{const We=k.value?[0,3,6,11,14,17]:[0,3,8,11],ce=["hours","minutes"].concat(k.value?["seconds"]:[]),De=(We.indexOf(W.value[0])+be+We.length)%We.length,tt=We.length/2;De<tt?Fe.start_emitSelectRange(ce[De]):Fe.end_emitSelectRange(ce[De-tt])},Z=be=>{const We=be.code,{left:ce,right:ie,up:De,down:tt}=It;if([ce,ie].includes(We)){G(We===ce?-1:1),be.preventDefault();return}if([De,tt].includes(We)){const xe=We===De?-1:1,ze=W.value[0]<ae.value?"start":"end";Fe[`${ze}_scrollDown`](xe),be.preventDefault();return}},X=(be,We)=>{const ce=g?g(be):[],ie=be==="start",tt=(We||(ie?C.value:I.value)).hour(),xe=ie?o(tt+1,23):o(0,tt-1);return oI(ce,xe)},H=(be,We,ce)=>{const ie=v?v(be,We):[],De=We==="start",tt=ce||(De?C.value:I.value),xe=tt.hour();if(be!==xe)return ie;const ze=tt.minute(),ot=De?o(ze+1,59):o(0,ze-1);return oI(ie,ot)},J=(be,We,ce,ie)=>{const De=_?_(be,We,ce):[],tt=ce==="start",xe=ie||(tt?C.value:I.value),ze=xe.hour(),ot=xe.minute();if(be!==ze||We!==ot)return De;const le=xe.second(),pe=tt?o(le+1,59):o(0,le-1);return oI(De,pe)},fe=([be,We])=>[$e(be,"start",!0,We),$e(We,"end",!1,be)],{getAvailableHours:ge,getAvailableMinutes:me,getAvailableSeconds:Ee}=pH(X,H,J),{timePickerOptions:Fe,getAvailableTime:$e,onSetOption:de}=fH({getAvailableHours:ge,getAvailableMinutes:me,getAvailableSeconds:Ee}),Le=be=>be?ht(be)?be.map(We=>zt(We,r.format).locale(l.value)):zt(be,r.format).locale(l.value):null,Te=be=>be?ht(be)?be.map(We=>We.format(r.format)):be.format(r.format):null,Be=()=>{if(ht(S))return S.map(We=>zt(We).locale(l.value));const be=zt(S).locale(l.value);return[be,be.add(60,"m")]};return t("set-picker-option",["formatToString",Te]),t("set-picker-option",["parseUserInput",Le]),t("set-picker-option",["isValidValue",M]),t("set-picker-option",["handleKeydownInput",Z]),t("set-picker-option",["getDefaultValue",Be]),t("set-picker-option",["getRangeAvailableTime",fe]),(be,We)=>be.actualVisible?(F(),Q("div",{key:0,class:B([f(c).b("range-picker"),f(d).b("panel")])},[te("div",{class:B(f(c).be("range-picker","content"))},[te("div",{class:B(f(c).be("range-picker","cell"))},[te("div",{class:B(f(c).be("range-picker","header"))},et(f(a)("el.datepicker.startTime")),3),te("div",{class:B(f(T))},[se(Ok,{ref:"minSpinner",role:"start","show-seconds":f(k),"am-pm-mode":f(N),"arrow-control":f(m),"spinner-date":f(I),"disabled-hours":X,"disabled-minutes":H,"disabled-seconds":J,onChange:$,onSetOption:f(de),onSelectRange:re},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),te("div",{class:B(f(c).be("range-picker","cell"))},[te("div",{class:B(f(c).be("range-picker","header"))},et(f(a)("el.datepicker.endTime")),3),te("div",{class:B(f(b))},[se(Ok,{ref:"maxSpinner",role:"end","show-seconds":f(k),"am-pm-mode":f(N),"arrow-control":f(m),"spinner-date":f(C),"disabled-hours":X,"disabled-minutes":H,"disabled-seconds":J,onChange:L,onSetOption:f(de),onSelectRange:ee},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),te("div",{class:B(f(c).be("panel","footer"))},[te("button",{type:"button",class:B([f(c).be("panel","btn"),"cancel"]),onClick:ce=>R()},et(f(a)("el.datepicker.cancel")),11,["onClick"]),te("button",{type:"button",class:B([f(c).be("panel","btn"),"confirm"]),disabled:f(j),onClick:ce=>O()},et(f(a)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Ie("v-if",!0)}});var n0e=at(t0e,[["__file","panel-time-range.vue"]]);zt.extend(XR);var r0e=he({name:"ElTimePicker",install:null,props:{...QR,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const r=q(),[o,a]=e.isRange?["timerange",n0e]:["time",r0],l=c=>t.emit("update:modelValue",c);return pn("ElPopperOptions",e.popperOptions),t.expose({focus:c=>{var d;(d=r.value)==null||d.handleFocusInput(c)},blur:c=>{var d;(d=r.value)==null||d.handleBlurInput(c)},handleOpen:()=>{var c;(c=r.value)==null||c.handleOpen()},handleClose:()=>{var c;(c=r.value)==null||c.handleClose()}}),()=>{var c;const d=(c=e.format)!=null?c:bk;return se(dH,sn(e,{ref:r,type:o,format:d,"onUpdate:modelValue":l}),{default:h=>se(a,h,null)})}}});const o0e=Kt(r0e),i0e=(e,t)=>{const r=e.subtract(1,"month").endOf("month").date();return Oc(t).map((o,a)=>r-(t-a-1))},a0e=e=>{const t=e.daysInMonth();return Oc(t).map((r,o)=>o+1)},s0e=e=>Oc(e.length/7).map(t=>{const r=t*7;return e.slice(r,r+7)}),l0e=it({selectedDay:{type:Se(Object)},range:{type:Se(Array)},date:{type:Se(Object),required:!0},hideHeader:{type:Boolean}}),c0e={pick:e=>nn(e)};var TH={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){return function(r,o,a){var l=o.prototype,c=function(v){return v&&(v.indexOf?v:v.s)},d=function(v,_,S,T,b){var I=v.name?v:v.$locale(),C=c(I[_]),P=c(I[S]),R=C||P.map(function(N){return N.slice(0,T)});if(!b)return R;var k=I.weekStart;return R.map(function(N,O){return R[(O+(k||0))%7]})},h=function(){return a.Ls[a.locale()]},m=function(v,_){return v.formats[_]||function(S){return S.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,b,I){return b||I.slice(1)})}(v.formats[_.toUpperCase()])},g=function(){var v=this;return{months:function(_){return _?_.format("MMMM"):d(v,"months")},monthsShort:function(_){return _?_.format("MMM"):d(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(_){return _?_.format("dddd"):d(v,"weekdays")},weekdaysMin:function(_){return _?_.format("dd"):d(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(_){return _?_.format("ddd"):d(v,"weekdaysShort","weekdays",3)},longDateFormat:function(_){return m(v.$locale(),_)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};l.localeData=function(){return g.bind(this)()},a.localeData=function(){var v=h();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(_){return m(v,_)},meridiem:v.meridiem,ordinal:v.ordinal}},a.months=function(){return d(h(),"months")},a.monthsShort=function(){return d(h(),"monthsShort","months",3)},a.weekdays=function(v){return d(h(),"weekdays",null,null,v)},a.weekdaysShort=function(v){return d(h(),"weekdaysShort","weekdays",3,v)},a.weekdaysMin=function(v){return d(h(),"weekdaysMin","weekdays",2,v)}}})})(TH);var CH=TH.exports;const u0e=(e,t)=>{zt.extend(CH);const r=zt.localeData().firstDayOfWeek(),{t:o,lang:a}=En(),l=zt().locale(a.value),c=D(()=>!!e.range&&!!e.range.length),d=D(()=>{let _=[];if(c.value){const[S,T]=e.range,b=Oc(T.date()-S.date()+1).map(P=>({text:S.date()+P,type:"current"}));let I=b.length%7;I=I===0?0:7-I;const C=Oc(I).map((P,R)=>({text:R+1,type:"next"}));_=b.concat(C)}else{const S=e.date.startOf("month").day(),T=i0e(e.date,(S-r+7)%7).map(P=>({text:P,type:"prev"})),b=a0e(e.date).map(P=>({text:P,type:"current"}));_=[...T,...b];const I=7-(_.length%7||7),C=Oc(I).map((P,R)=>({text:R+1,type:"next"}));_=_.concat(C)}return s0e(_)}),h=D(()=>{const _=r;return _===0?iI.map(S=>o(`el.datepicker.weeks.${S}`)):iI.slice(_).concat(iI.slice(0,_)).map(S=>o(`el.datepicker.weeks.${S}`))}),m=(_,S)=>{switch(S){case"prev":return e.date.startOf("month").subtract(1,"month").date(_);case"next":return e.date.startOf("month").add(1,"month").date(_);case"current":return e.date.date(_)}};return{now:l,isInRange:c,rows:d,weekDays:h,getFormattedDate:m,handlePickDay:({text:_,type:S})=>{const T=m(_,S);t("pick",T)},getSlotData:({text:_,type:S})=>{const T=m(_,S);return{isSelected:T.isSame(e.selectedDay),type:`${S}-month`,day:T.format("YYYY-MM-DD"),date:T.toDate()}}}},d0e=he({name:"DateTable"}),f0e=he({...d0e,props:l0e,emits:c0e,setup(e,{expose:t,emit:r}){const o=e,{isInRange:a,now:l,rows:c,weekDays:d,getFormattedDate:h,handlePickDay:m,getSlotData:g}=u0e(o,r),v=Je("calendar-table"),_=Je("calendar-day"),S=({text:T,type:b})=>{const I=[b];if(b==="current"){const C=h(T,b);C.isSame(o.selectedDay,"day")&&I.push(_.is("selected")),C.isSame(l,"day")&&I.push(_.is("today"))}return I};return t({getFormattedDate:h}),(T,b)=>(F(),Q("table",{class:B([f(v).b(),f(v).is("range",f(a))]),cellspacing:"0",cellpadding:"0"},[T.hideHeader?Ie("v-if",!0):(F(),Q("thead",{key:0},[(F(!0),Q(Tt,null,fn(f(d),I=>(F(),Q("th",{key:I},et(I),1))),128))])),te("tbody",null,[(F(!0),Q(Tt,null,fn(f(c),(I,C)=>(F(),Q("tr",{key:C,class:B({[f(v).e("row")]:!0,[f(v).em("row","hide-border")]:C===0&&T.hideHeader})},[(F(!0),Q(Tt,null,fn(I,(P,R)=>(F(),Q("td",{key:R,class:B(S(P)),onClick:k=>f(m)(P)},[te("div",{class:B(f(_).b())},[Pe(T.$slots,"date-cell",{data:f(g)(P)},()=>[te("span",null,et(P.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var x$=at(f0e,[["__file","date-table.vue"]]);const h0e=(e,t)=>{const r=e.endOf("month"),o=t.startOf("month"),l=r.isSame(o,"week")?o.add(1,"week"):o;return[[e,r],[l.startOf("week"),t]]},p0e=(e,t)=>{const r=e.endOf("month"),o=e.add(1,"month").startOf("month"),a=r.isSame(o,"week")?o.add(1,"week"):o,l=a.endOf("month"),c=t.startOf("month"),d=l.isSame(c,"week")?c.add(1,"week"):c;return[[e,r],[a.startOf("week"),l],[d.startOf("week"),t]]},m0e=(e,t,r)=>{const{lang:o}=En(),a=q(),l=zt().locale(o.value),c=D({get(){return e.modelValue?h.value:a.value},set(I){if(!I)return;a.value=I;const C=I.toDate();t(si,C),t(tn,C)}}),d=D(()=>{if(!e.range)return[];const I=e.range.map(R=>zt(R).locale(o.value)),[C,P]=I;return C.isAfter(P)?[]:C.isSame(P,"month")?S(C,P):C.add(1,"month").month()!==P.month()?[]:S(C,P)}),h=D(()=>e.modelValue?zt(e.modelValue).locale(o.value):c.value||(d.value.length?d.value[0][0]:l)),m=D(()=>h.value.subtract(1,"month").date(1)),g=D(()=>h.value.add(1,"month").date(1)),v=D(()=>h.value.subtract(1,"year").date(1)),_=D(()=>h.value.add(1,"year").date(1)),S=(I,C)=>{const P=I.startOf("week"),R=C.endOf("week"),k=P.get("month"),N=R.get("month");return k===N?[[P,R]]:(k+1)%12===N?h0e(P,R):k+2===N||(k+1)%11===N?p0e(P,R):[]},T=I=>{c.value=I};return{calculateValidatedDateRange:S,date:h,realSelectedDay:c,pickDay:T,selectDate:I=>{const P={"prev-month":m.value,"next-month":g.value,"prev-year":v.value,"next-year":_.value,today:l}[I];P.isSame(h.value,"day")||T(P)},validatedRange:d}},v0e=e=>ht(e)&&e.length===2&&e.every(t=>hd(t)),g0e=it({modelValue:{type:Date},range:{type:Se(Array),validator:v0e}}),y0e={[tn]:e=>hd(e),[si]:e=>hd(e)},_0e="ElCalendar",b0e=he({name:_0e}),S0e=he({...b0e,props:g0e,emits:y0e,setup(e,{expose:t,emit:r}){const o=e,a=Je("calendar"),{calculateValidatedDateRange:l,date:c,pickDay:d,realSelectedDay:h,selectDate:m,validatedRange:g}=m0e(o,r),{t:v}=En(),_=D(()=>{const S=`el.datepicker.month${c.value.format("M")}`;return`${c.value.year()} ${v("el.datepicker.year")} ${v(S)}`});return t({selectedDay:h,pickDay:d,selectDate:m,calculateValidatedDateRange:l}),(S,T)=>(F(),Q("div",{class:B(f(a).b())},[te("div",{class:B(f(a).e("header"))},[Pe(S.$slots,"header",{date:f(_)},()=>[te("div",{class:B(f(a).e("title"))},et(f(_)),3),f(g).length===0?(F(),Q("div",{key:0,class:B(f(a).e("button-group"))},[se(f(oH),null,{default:ye(()=>[se(f(lo),{size:"small",onClick:b=>f(m)("prev-month")},{default:ye(()=>[Jt(et(f(v)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),se(f(lo),{size:"small",onClick:b=>f(m)("today")},{default:ye(()=>[Jt(et(f(v)("el.datepicker.today")),1)]),_:1},8,["onClick"]),se(f(lo),{size:"small",onClick:b=>f(m)("next-month")},{default:ye(()=>[Jt(et(f(v)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Ie("v-if",!0)])],2),f(g).length===0?(F(),Q("div",{key:0,class:B(f(a).e("body"))},[se(x$,{date:f(c),"selected-day":f(h),onPick:f(d)},Ua({_:2},[S.$slots["date-cell"]?{name:"date-cell",fn:ye(b=>[Pe(S.$slots,"date-cell",Ma(Pc(b)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(F(),Q("div",{key:1,class:B(f(a).e("body"))},[(F(!0),Q(Tt,null,fn(f(g),(b,I)=>(F(),Ve(x$,{key:I,date:b[0],"selected-day":f(h),range:b,"hide-header":I!==0,onPick:f(d)},Ua({_:2},[S.$slots["date-cell"]?{name:"date-cell",fn:ye(C=>[Pe(S.$slots,"date-cell",Ma(Pc(C)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var E0e=at(S0e,[["__file","calendar.vue"]]);const T0e=Kt(E0e),C0e=it({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Se([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),w0e=he({name:"ElCard"}),I0e=he({...w0e,props:C0e,setup(e){const t=Je("card");return(r,o)=>(F(),Q("div",{class:B([f(t).b(),f(t).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(F(),Q("div",{key:0,class:B(f(t).e("header"))},[Pe(r.$slots,"header",{},()=>[Jt(et(r.header),1)])],2)):Ie("v-if",!0),te("div",{class:B([f(t).e("body"),r.bodyClass]),style:kt(r.bodyStyle)},[Pe(r.$slots,"default")],6),r.$slots.footer||r.footer?(F(),Q("div",{key:1,class:B(f(t).e("footer"))},[Pe(r.$slots,"footer",{},()=>[Jt(et(r.footer),1)])],2)):Ie("v-if",!0)],2))}});var k0e=at(I0e,[["__file","card.vue"]]);const R0e=Kt(k0e),A0e=it({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),O0e={change:(e,t)=>[e,t].every(xt)},wH=Symbol("carouselContextKey"),V$=300,N0e=(e,t,r)=>{const{children:o,addChild:a,removeChild:l}=jR(Qt(),"ElCarouselItem"),c=co(),d=q(-1),h=q(null),m=q(!1),g=q(),v=q(0),_=q(!0),S=q(!0),T=q(!1),b=D(()=>e.arrow!=="never"&&!f(P)),I=D(()=>o.value.some($e=>$e.props.label.toString().length>0)),C=D(()=>e.type==="card"),P=D(()=>e.direction==="vertical"),R=D(()=>e.height!=="auto"?{height:e.height}:{height:`${v.value}px`,overflow:"hidden"}),k=ld($e=>{U($e)},V$,{trailing:!0}),N=ld($e=>{H($e)},V$),O=$e=>_.value?d.value<=1?$e<=1:$e>1:!0;function $(){h.value&&(clearInterval(h.value),h.value=null)}function L(){e.interval<=0||!e.autoplay||h.value||(h.value=setInterval(()=>M(),e.interval))}const M=()=>{S.value||(T.value=!0),S.value=!1,d.value<o.value.length-1?d.value=d.value+1:e.loop?d.value=0:T.value=!1};function U($e){if(S.value||(T.value=!0),S.value=!1,Mt($e)){const Te=o.value.filter(Be=>Be.props.name===$e);Te.length>0&&($e=o.value.indexOf(Te[0]))}if($e=Number($e),Number.isNaN($e)||$e!==Math.floor($e))return;const de=o.value.length,Le=d.value;$e<0?d.value=e.loop?de-1:0:$e>=de?d.value=e.loop?0:de-1:d.value=$e,Le===d.value&&j(Le),ge()}function j($e){o.value.forEach((de,Le)=>{de.translateItem(Le,d.value,$e)})}function W($e,de){var Le,Te,Be,be;const We=f(o),ce=We.length;if(ce===0||!$e.states.inStage)return!1;const ie=de+1,De=de-1,tt=ce-1,xe=We[tt].states.active,ze=We[0].states.active,ot=(Te=(Le=We[ie])==null?void 0:Le.states)==null?void 0:Te.active,le=(be=(Be=We[De])==null?void 0:Be.states)==null?void 0:be.active;return de===tt&&ze||ot?"left":de===0&&xe||le?"right":!1}function re(){m.value=!0,e.pauseOnHover&&$()}function ae(){m.value=!1,L()}function ee(){T.value=!1}function G($e){f(P)||o.value.forEach((de,Le)=>{$e===W(de,Le)&&(de.states.hover=!0)})}function Z(){f(P)||o.value.forEach($e=>{$e.states.hover=!1})}function X($e){$e!==d.value&&(S.value||(T.value=!0)),d.value=$e}function H($e){e.trigger==="hover"&&$e!==d.value&&(d.value=$e,S.value||(T.value=!0))}function J(){U(d.value-1)}function fe(){U(d.value+1)}function ge(){$(),e.pauseOnHover||L()}function me($e){e.height==="auto"&&(v.value=$e)}function Ee(){var $e;const de=($e=c.default)==null?void 0:$e.call(c);if(!de)return null;const Le=Rc(de),Te="ElCarouselItem",Be=Le.filter(be=>_r(be)&&be.type.name===Te);return(Be==null?void 0:Be.length)===2&&e.loop&&!C.value?(_.value=!0,Be):(_.value=!1,null)}Ge(()=>d.value,($e,de)=>{j(de),_.value&&($e=$e%2,de=de%2),de>-1&&t("change",$e,de)}),Ge(()=>e.autoplay,$e=>{$e?L():$()}),Ge(()=>e.loop,()=>{U(d.value)}),Ge(()=>e.interval,()=>{ge()});const Fe=dr();return Zt(()=>{Ge(()=>o.value,()=>{o.value.length>0&&U(e.initialIndex)},{immediate:!0}),Fe.value=Sr(g.value,()=>{j()}),L()}),ur(()=>{$(),g.value&&Fe.value&&Fe.value.stop()}),pn(wH,{root:g,isCardType:C,isVertical:P,items:o,loop:e.loop,cardScale:e.cardScale,addItem:a,removeItem:l,setActiveItem:U,setContainerHeight:me}),{root:g,activeIndex:d,arrowDisplay:b,hasLabel:I,hover:m,isCardType:C,isTransitioning:T,items:o,isVertical:P,containerStyle:R,isItemsTwoLength:_,handleButtonEnter:G,handleTransitionEnd:ee,handleButtonLeave:Z,handleIndicatorClick:X,handleMouseEnter:re,handleMouseLeave:ae,setActiveItem:U,prev:J,next:fe,PlaceholderItem:Ee,isTwoLengthShow:O,throttledArrowClick:k,throttledIndicatorHover:N}},P0e="ElCarousel",D0e=he({name:P0e}),L0e=he({...D0e,props:A0e,emits:O0e,setup(e,{expose:t,emit:r}){const o=e,{root:a,activeIndex:l,arrowDisplay:c,hasLabel:d,hover:h,isCardType:m,items:g,isVertical:v,containerStyle:_,handleButtonEnter:S,handleButtonLeave:T,isTransitioning:b,handleIndicatorClick:I,handleMouseEnter:C,handleMouseLeave:P,handleTransitionEnd:R,setActiveItem:k,prev:N,next:O,PlaceholderItem:$,isTwoLengthShow:L,throttledArrowClick:M,throttledIndicatorHover:U}=N0e(o,r),j=Je("carousel"),{t:W}=En(),re=D(()=>{const G=[j.b(),j.m(o.direction)];return f(m)&&G.push(j.m("card")),G}),ae=D(()=>{const G=[j.e("container")];return o.motionBlur&&f(b)&&G.push(f(v)?`${j.namespace.value}-transitioning-vertical`:`${j.namespace.value}-transitioning`),G}),ee=D(()=>{const G=[j.e("indicators"),j.em("indicators",o.direction)];return f(d)&&G.push(j.em("indicators","labels")),o.indicatorPosition==="outside"&&G.push(j.em("indicators","outside")),f(v)&&G.push(j.em("indicators","right")),G});return t({activeIndex:l,setActiveItem:k,prev:N,next:O}),(G,Z)=>(F(),Q("div",{ref_key:"root",ref:a,class:B(f(re)),onMouseenter:Vt(f(C),["stop"]),onMouseleave:Vt(f(P),["stop"])},[f(c)?(F(),Ve(eo,{key:0,name:"carousel-arrow-left",persisted:""},{default:ye(()=>[qt(te("button",{type:"button",class:B([f(j).e("arrow"),f(j).em("arrow","left")]),"aria-label":f(W)("el.carousel.leftArrow"),onMouseenter:X=>f(S)("left"),onMouseleave:f(T),onClick:Vt(X=>f(M)(f(l)-1),["stop"])},[se(f(St),null,{default:ye(()=>[se(f(xc))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Nn,(G.arrow==="always"||f(h))&&(o.loop||f(l)>0)]])]),_:1})):Ie("v-if",!0),f(c)?(F(),Ve(eo,{key:1,name:"carousel-arrow-right",persisted:""},{default:ye(()=>[qt(te("button",{type:"button",class:B([f(j).e("arrow"),f(j).em("arrow","right")]),"aria-label":f(W)("el.carousel.rightArrow"),onMouseenter:X=>f(S)("right"),onMouseleave:f(T),onClick:Vt(X=>f(M)(f(l)+1),["stop"])},[se(f(St),null,{default:ye(()=>[se(f(ai))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Nn,(G.arrow==="always"||f(h))&&(o.loop||f(l)<f(g).length-1)]])]),_:1})):Ie("v-if",!0),te("div",{class:B(f(ae)),style:kt(f(_)),onTransitionend:f(R)},[se(f($)),Pe(G.$slots,"default")],46,["onTransitionend"]),G.indicatorPosition!=="none"?(F(),Q("ul",{key:2,class:B(f(ee))},[(F(!0),Q(Tt,null,fn(f(g),(X,H)=>qt((F(),Q("li",{key:H,class:B([f(j).e("indicator"),f(j).em("indicator",G.direction),f(j).is("active",H===f(l))]),onMouseenter:J=>f(U)(H),onClick:Vt(J=>f(I)(H),["stop"])},[te("button",{class:B(f(j).e("button")),"aria-label":f(W)("el.carousel.indicator",{index:H+1})},[f(d)?(F(),Q("span",{key:0},et(X.props.label),1)):Ie("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[Nn,f(L)(H)]])),128))],2)):Ie("v-if",!0),o.motionBlur?(F(),Q("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[te("defs",null,[te("filter",{id:"elCarouselHorizontal"},[te("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),te("filter",{id:"elCarouselVertical"},[te("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Ie("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var M0e=at(L0e,[["__file","carousel.vue"]]);const x0e=it({name:{type:String,default:""},label:{type:[String,Number],default:""}}),V0e=(e,t)=>{const r=pt(wH),o=Qt(),a=q(),l=q(!1),c=q(0),d=q(1),h=q(!1),m=q(!1),g=q(!1),v=q(!1),{isCardType:_,isVertical:S,cardScale:T}=r;function b(k,N,O){const $=O-1,L=N-1,M=N+1,U=O/2;return N===0&&k===$?-1:N===$&&k===0?O:k<L&&N-k>=U?O+1:k>M&&k-N>=U?-2:k}function I(k,N){var O,$;const L=f(S)?((O=r.root.value)==null?void 0:O.offsetHeight)||0:(($=r.root.value)==null?void 0:$.offsetWidth)||0;return g.value?L*((2-T)*(k-N)+1)/4:k<N?-(1+T)*L/4:(3+T)*L/4}function C(k,N,O){const $=r.root.value;return $?((O?$.offsetHeight:$.offsetWidth)||0)*(k-N):0}const P=(k,N,O)=>{var $;const L=f(_),M=($=r.items.value.length)!=null?$:Number.NaN,U=k===N;!L&&!Ar(O)&&(v.value=U||k===O),!U&&M>2&&r.loop&&(k=b(k,N,M));const j=f(S);h.value=U,L?(g.value=Math.round(Math.abs(k-N))<=1,c.value=I(k,N),d.value=f(h)?1:T):c.value=C(k,N,j),m.value=!0,U&&a.value&&r.setContainerHeight(a.value.offsetHeight)};function R(){if(r&&f(_)){const k=r.items.value.findIndex(({uid:N})=>N===o.uid);r.setActiveItem(k)}}return Zt(()=>{r.addItem({props:e,states:Un({hover:l,translate:c,scale:d,active:h,ready:m,inStage:g,animating:v}),uid:o.uid,translateItem:P})}),_l(()=>{r.removeItem(o.uid)}),{carouselItemRef:a,active:h,animating:v,hover:l,inStage:g,isVertical:S,translate:c,isCardType:_,scale:d,ready:m,handleItemClick:R}},F0e=he({name:"ElCarouselItem"}),$0e=he({...F0e,props:x0e,setup(e){const t=e,r=Je("carousel"),{carouselItemRef:o,active:a,animating:l,hover:c,inStage:d,isVertical:h,translate:m,isCardType:g,scale:v,ready:_,handleItemClick:S}=V0e(t),T=D(()=>[r.e("item"),r.is("active",a.value),r.is("in-stage",d.value),r.is("hover",c.value),r.is("animating",l.value),{[r.em("item","card")]:g.value,[r.em("item","card-vertical")]:g.value&&h.value}]),b=D(()=>{const C=`${`translate${f(h)?"Y":"X"}`}(${f(m)}px)`,P=`scale(${f(v)})`;return{transform:[C,P].join(" ")}});return(I,C)=>qt((F(),Q("div",{ref_key:"carouselItemRef",ref:o,class:B(f(T)),style:kt(f(b)),onClick:f(S)},[f(g)?qt((F(),Q("div",{key:0,class:B(f(r).e("mask"))},null,2)),[[Nn,!f(a)]]):Ie("v-if",!0),Pe(I.$slots,"default")],14,["onClick"])),[[Nn,f(_)]])}});var IH=at($0e,[["__file","carousel-item.vue"]]);const U0e=Kt(M0e,{CarouselItem:IH}),B0e=Tr(IH),kH={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:no,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...ko(["ariaControls"])},RH={[tn]:e=>Mt(e)||xt(e)||Vr(e),change:e=>Mt(e)||xt(e)||Vr(e)},Yh=Symbol("checkboxGroupContextKey"),H0e=({model:e,isChecked:t})=>{const r=pt(Yh,void 0),o=D(()=>{var l,c;const d=(l=r==null?void 0:r.max)==null?void 0:l.value,h=(c=r==null?void 0:r.min)==null?void 0:c.value;return!Ar(d)&&e.value.length>=d&&!t.value||!Ar(h)&&e.value.length<=h&&t.value});return{isDisabled:ui(D(()=>(r==null?void 0:r.disabled.value)||o.value)),isLimitDisabled:o}},j0e=(e,{model:t,isLimitExceeded:r,hasOwnLabel:o,isDisabled:a,isLabeledByFormItem:l})=>{const c=pt(Yh,void 0),{formItem:d}=Go(),{emit:h}=Qt();function m(T){var b,I,C,P;return[!0,e.trueValue,e.trueLabel].includes(T)?(I=(b=e.trueValue)!=null?b:e.trueLabel)!=null?I:!0:(P=(C=e.falseValue)!=null?C:e.falseLabel)!=null?P:!1}function g(T,b){h("change",m(T),b)}function v(T){if(r.value)return;const b=T.target;h("change",m(b.checked),T)}async function _(T){r.value||!o.value&&!a.value&&l.value&&(T.composedPath().some(C=>C.tagName==="LABEL")||(t.value=m([!1,e.falseValue,e.falseLabel].includes(t.value)),await wt(),g(t.value,T)))}const S=D(()=>(c==null?void 0:c.validateEvent)||e.validateEvent);return Ge(()=>e.modelValue,()=>{S.value&&(d==null||d.validate("change").catch(T=>void 0))}),{handleChange:v,onClickRoot:_}},W0e=e=>{const t=q(!1),{emit:r}=Qt(),o=pt(Yh,void 0),a=D(()=>Ar(o)===!1),l=q(!1),c=D({get(){var d,h;return a.value?(d=o==null?void 0:o.modelValue)==null?void 0:d.value:(h=e.modelValue)!=null?h:t.value},set(d){var h,m;a.value&&ht(d)?(l.value=((h=o==null?void 0:o.max)==null?void 0:h.value)!==void 0&&d.length>(o==null?void 0:o.max.value)&&d.length>c.value.length,l.value===!1&&((m=o==null?void 0:o.changeEvent)==null||m.call(o,d))):(r(tn,d),t.value=d)}});return{model:c,isGroup:a,isLimitExceeded:l}},z0e=(e,t,{model:r})=>{const o=pt(Yh,void 0),a=q(!1),l=D(()=>gd(e.value)?e.label:e.value),c=D(()=>{const g=r.value;return Vr(g)?g:ht(g)?nn(l.value)?g.map(er).some(v=>ii(v,l.value)):g.map(er).includes(l.value):g!=null?g===e.trueValue||g===e.trueLabel:!!g}),d=Jr(D(()=>{var g;return(g=o==null?void 0:o.size)==null?void 0:g.value}),{prop:!0}),h=Jr(D(()=>{var g;return(g=o==null?void 0:o.size)==null?void 0:g.value})),m=D(()=>!!t.default||!gd(l.value));return{checkboxButtonSize:d,isChecked:c,isFocused:a,checkboxSize:h,hasOwnLabel:m,actualValue:l}},AH=(e,t)=>{const{formItem:r}=Go(),{model:o,isGroup:a,isLimitExceeded:l}=W0e(e),{isFocused:c,isChecked:d,checkboxButtonSize:h,checkboxSize:m,hasOwnLabel:g,actualValue:v}=z0e(e,t,{model:o}),{isDisabled:_}=H0e({model:o,isChecked:d}),{inputId:S,isLabeledByFormItem:T}=qa(e,{formItemContext:r,disableIdGeneration:g,disableIdManagement:a}),{handleChange:b,onClickRoot:I}=j0e(e,{model:o,isLimitExceeded:l,hasOwnLabel:g,isDisabled:_,isLabeledByFormItem:T});return(()=>{function P(){var R,k;ht(o.value)&&!o.value.includes(v.value)?o.value.push(v.value):o.value=(k=(R=e.trueValue)!=null?R:e.trueLabel)!=null?k:!0}e.checked&&P()})(),Ac({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},D(()=>a.value&&gd(e.value))),Ac({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},D(()=>!!e.trueLabel)),Ac({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},D(()=>!!e.falseLabel)),{inputId:S,isLabeledByFormItem:T,isChecked:d,isDisabled:_,isFocused:c,checkboxButtonSize:h,checkboxSize:m,hasOwnLabel:g,model:o,actualValue:v,handleChange:b,onClickRoot:I}},K0e=he({name:"ElCheckbox"}),G0e=he({...K0e,props:kH,emits:RH,setup(e){const t=e,r=co(),{inputId:o,isLabeledByFormItem:a,isChecked:l,isDisabled:c,isFocused:d,checkboxSize:h,hasOwnLabel:m,model:g,actualValue:v,handleChange:_,onClickRoot:S}=AH(t,r),T=Je("checkbox"),b=D(()=>[T.b(),T.m(h.value),T.is("disabled",c.value),T.is("bordered",t.border),T.is("checked",l.value)]),I=D(()=>[T.e("input"),T.is("disabled",c.value),T.is("checked",l.value),T.is("indeterminate",t.indeterminate),T.is("focus",d.value)]);return(C,P)=>(F(),Ve(ln(!f(m)&&f(a)?"span":"label"),{class:B(f(b)),"aria-controls":C.indeterminate?C.ariaControls:null,onClick:f(S)},{default:ye(()=>{var R,k;return[te("span",{class:B(f(I))},[C.trueValue||C.falseValue||C.trueLabel||C.falseLabel?qt((F(),Q("input",{key:0,id:f(o),"onUpdate:modelValue":N=>lr(g)?g.value=N:null,class:B(f(T).e("original")),type:"checkbox",indeterminate:C.indeterminate,name:C.name,tabindex:C.tabindex,disabled:f(c),"true-value":(R=C.trueValue)!=null?R:C.trueLabel,"false-value":(k=C.falseValue)!=null?k:C.falseLabel,onChange:f(_),onFocus:N=>d.value=!0,onBlur:N=>d.value=!1,onClick:Vt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Gb,f(g)]]):qt((F(),Q("input",{key:1,id:f(o),"onUpdate:modelValue":N=>lr(g)?g.value=N:null,class:B(f(T).e("original")),type:"checkbox",indeterminate:C.indeterminate,disabled:f(c),value:f(v),name:C.name,tabindex:C.tabindex,onChange:f(_),onFocus:N=>d.value=!0,onBlur:N=>d.value=!1,onClick:Vt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[Gb,f(g)]]),te("span",{class:B(f(T).e("inner"))},null,2)],2),f(m)?(F(),Q("span",{key:0,class:B(f(T).e("label"))},[Pe(C.$slots,"default"),C.$slots.default?Ie("v-if",!0):(F(),Q(Tt,{key:0},[Jt(et(C.label),1)],64))],2)):Ie("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var q0e=at(G0e,[["__file","checkbox.vue"]]);const Y0e=he({name:"ElCheckboxButton"}),J0e=he({...Y0e,props:kH,emits:RH,setup(e){const t=e,r=co(),{isFocused:o,isChecked:a,isDisabled:l,checkboxButtonSize:c,model:d,actualValue:h,handleChange:m}=AH(t,r),g=pt(Yh,void 0),v=Je("checkbox"),_=D(()=>{var T,b,I,C;const P=(b=(T=g==null?void 0:g.fill)==null?void 0:T.value)!=null?b:"";return{backgroundColor:P,borderColor:P,color:(C=(I=g==null?void 0:g.textColor)==null?void 0:I.value)!=null?C:"",boxShadow:P?`-1px 0 0 0 ${P}`:void 0}}),S=D(()=>[v.b("button"),v.bm("button",c.value),v.is("disabled",l.value),v.is("checked",a.value),v.is("focus",o.value)]);return(T,b)=>{var I,C;return F(),Q("label",{class:B(f(S))},[T.trueValue||T.falseValue||T.trueLabel||T.falseLabel?qt((F(),Q("input",{key:0,"onUpdate:modelValue":P=>lr(d)?d.value=P:null,class:B(f(v).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:f(l),"true-value":(I=T.trueValue)!=null?I:T.trueLabel,"false-value":(C=T.falseValue)!=null?C:T.falseLabel,onChange:f(m),onFocus:P=>o.value=!0,onBlur:P=>o.value=!1,onClick:Vt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Gb,f(d)]]):qt((F(),Q("input",{key:1,"onUpdate:modelValue":P=>lr(d)?d.value=P:null,class:B(f(v).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:f(l),value:f(h),onChange:f(m),onFocus:P=>o.value=!0,onBlur:P=>o.value=!1,onClick:Vt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[Gb,f(d)]]),T.$slots.default||T.label?(F(),Q("span",{key:2,class:B(f(v).be("button","inner")),style:kt(f(a)?f(_):void 0)},[Pe(T.$slots,"default",{},()=>[Jt(et(T.label),1)])],6)):Ie("v-if",!0)],2)}}});var OH=at(J0e,[["__file","checkbox-button.vue"]]);const X0e=it({modelValue:{type:Se(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:no,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...ko(["ariaLabel"])}),Q0e={[tn]:e=>ht(e),change:e=>ht(e)},Z0e=he({name:"ElCheckboxGroup"}),eSe=he({...Z0e,props:X0e,emits:Q0e,setup(e,{emit:t}){const r=e,o=Je("checkbox"),{formItem:a}=Go(),{inputId:l,isLabeledByFormItem:c}=qa(r,{formItemContext:a}),d=async m=>{t(tn,m),await wt(),t("change",m)},h=D({get(){return r.modelValue},set(m){d(m)}});return pn(Yh,{...xa(So(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:h,changeEvent:d}),Ge(()=>r.modelValue,()=>{r.validateEvent&&(a==null||a.validate("change").catch(m=>void 0))}),(m,g)=>{var v;return F(),Ve(ln(m.tag),{id:f(l),class:B(f(o).b("group")),role:"group","aria-label":f(c)?void 0:m.ariaLabel||"checkbox-group","aria-labelledby":f(c)?(v=f(a))==null?void 0:v.labelId:void 0},{default:ye(()=>[Pe(m.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var NH=at(eSe,[["__file","checkbox-group.vue"]]);const _a=Kt(q0e,{CheckboxButton:OH,CheckboxGroup:NH}),tSe=Tr(OH),PH=Tr(NH),DH=it({modelValue:{type:[String,Number,Boolean],default:void 0},size:no,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),nSe=it({...DH,border:Boolean}),LH={[tn]:e=>Mt(e)||xt(e)||Vr(e),[pr]:e=>Mt(e)||xt(e)||Vr(e)},MH=Symbol("radioGroupKey"),xH=(e,t)=>{const r=q(),o=pt(MH,void 0),a=D(()=>!!o),l=D(()=>gd(e.value)?e.label:e.value),c=D({get(){return a.value?o.modelValue:e.modelValue},set(v){a.value?o.changeEvent(v):t&&t(tn,v),r.value.checked=e.modelValue===l.value}}),d=Jr(D(()=>o==null?void 0:o.size)),h=ui(D(()=>o==null?void 0:o.disabled)),m=q(!1),g=D(()=>h.value||a.value&&c.value!==l.value?-1:0);return Ac({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},D(()=>a.value&&gd(e.value))),{radioRef:r,isGroup:a,radioGroup:o,focus:m,size:d,disabled:h,tabIndex:g,modelValue:c,actualValue:l}},rSe=he({name:"ElRadio"}),oSe=he({...rSe,props:nSe,emits:LH,setup(e,{emit:t}){const r=e,o=Je("radio"),{radioRef:a,radioGroup:l,focus:c,size:d,disabled:h,modelValue:m,actualValue:g}=xH(r,t);function v(){wt(()=>t("change",m.value))}return(_,S)=>{var T;return F(),Q("label",{class:B([f(o).b(),f(o).is("disabled",f(h)),f(o).is("focus",f(c)),f(o).is("bordered",_.border),f(o).is("checked",f(m)===f(g)),f(o).m(f(d))])},[te("span",{class:B([f(o).e("input"),f(o).is("disabled",f(h)),f(o).is("checked",f(m)===f(g))])},[qt(te("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":b=>lr(m)?m.value=b:null,class:B(f(o).e("original")),value:f(g),name:_.name||((T=f(l))==null?void 0:T.name),disabled:f(h),checked:f(m)===f(g),type:"radio",onFocus:b=>c.value=!0,onBlur:b=>c.value=!1,onChange:v,onClick:Vt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[KB,f(m)]]),te("span",{class:B(f(o).e("inner"))},null,2)],2),te("span",{class:B(f(o).e("label")),onKeydown:Vt(()=>{},["stop"])},[Pe(_.$slots,"default",{},()=>[Jt(et(_.label),1)])],42,["onKeydown"])],2)}}});var iSe=at(oSe,[["__file","radio.vue"]]);const aSe=it({...DH}),sSe=he({name:"ElRadioButton"}),lSe=he({...sSe,props:aSe,setup(e){const t=e,r=Je("radio"),{radioRef:o,focus:a,size:l,disabled:c,modelValue:d,radioGroup:h,actualValue:m}=xH(t),g=D(()=>({backgroundColor:(h==null?void 0:h.fill)||"",borderColor:(h==null?void 0:h.fill)||"",boxShadow:h!=null&&h.fill?`-1px 0 0 0 ${h.fill}`:"",color:(h==null?void 0:h.textColor)||""}));return(v,_)=>{var S;return F(),Q("label",{class:B([f(r).b("button"),f(r).is("active",f(d)===f(m)),f(r).is("disabled",f(c)),f(r).is("focus",f(a)),f(r).bm("button",f(l))])},[qt(te("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":T=>lr(d)?d.value=T:null,class:B(f(r).be("button","original-radio")),value:f(m),type:"radio",name:v.name||((S=f(h))==null?void 0:S.name),disabled:f(c),onFocus:T=>a.value=!0,onBlur:T=>a.value=!1,onClick:Vt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[KB,f(d)]]),te("span",{class:B(f(r).be("button","inner")),style:kt(f(d)===f(m)?f(g):{}),onKeydown:Vt(()=>{},["stop"])},[Pe(v.$slots,"default",{},()=>[Jt(et(v.label),1)])],46,["onKeydown"])],2)}}});var VH=at(lSe,[["__file","radio-button.vue"]]);const cSe=it({id:{type:String,default:void 0},size:no,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...ko(["ariaLabel"])}),uSe=LH,dSe=he({name:"ElRadioGroup"}),fSe=he({...dSe,props:cSe,emits:uSe,setup(e,{emit:t}){const r=e,o=Je("radio"),a=Mo(),l=q(),{formItem:c}=Go(),{inputId:d,isLabeledByFormItem:h}=qa(r,{formItemContext:c}),m=v=>{t(tn,v),wt(()=>t("change",v))};Zt(()=>{const v=l.value.querySelectorAll("[type=radio]"),_=v[0];!Array.from(v).some(S=>S.checked)&&_&&(_.tabIndex=0)});const g=D(()=>r.name||a.value);return pn(MH,Un({...So(r),changeEvent:m,name:g})),Ge(()=>r.modelValue,()=>{r.validateEvent&&(c==null||c.validate("change").catch(v=>void 0))}),(v,_)=>(F(),Q("div",{id:f(d),ref_key:"radioGroupRef",ref:l,class:B(f(o).b("group")),role:"radiogroup","aria-label":f(h)?void 0:v.ariaLabel||"radio-group","aria-labelledby":f(h)?f(c).labelId:void 0},[Pe(v.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var FH=at(fSe,[["__file","radio-group.vue"]]);const $H=Kt(iSe,{RadioButton:VH,RadioGroup:FH}),hSe=Tr(FH),pSe=Tr(VH);var mSe=he({name:"NodeContent",setup(){return{ns:Je("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:r}=this.$parent,{data:o,label:a}=t,{renderLabelFn:l}=r;return Ot("span",{class:e.e("label")},l?l({node:t,data:o}):a)}});const ZR=Symbol(),vSe=he({name:"ElCascaderNode",components:{ElCheckbox:_a,ElRadio:$H,NodeContent:mSe,ElIcon:St,Check:fg,Loading:Ts,ArrowRight:ai},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const r=pt(ZR),o=Je("cascader-node"),a=D(()=>r.isHoverMenu),l=D(()=>r.config.multiple),c=D(()=>r.config.checkStrictly),d=D(()=>{var O;return(O=r.checkedNodes[0])==null?void 0:O.uid}),h=D(()=>e.node.isDisabled),m=D(()=>e.node.isLeaf),g=D(()=>c.value&&!m.value||!h.value),v=D(()=>S(r.expandingNode)),_=D(()=>c.value&&r.checkedNodes.some(S)),S=O=>{var $;const{level:L,uid:M}=e.node;return(($=O==null?void 0:O.pathNodes[L-1])==null?void 0:$.uid)===M},T=()=>{v.value||r.expandNode(e.node)},b=O=>{const{node:$}=e;O!==$.checked&&r.handleCheckChange($,O)},I=()=>{r.lazyLoad(e.node,()=>{m.value||T()})},C=O=>{!a.value||(P(),!m.value&&t("expand",O))},P=()=>{const{node:O}=e;!g.value||O.loading||(O.loaded?T():I())},R=()=>{a.value&&!m.value||(m.value&&!h.value&&!c.value&&!l.value?N(!0):P())},k=O=>{c.value?(b(O),e.node.loaded&&T()):N(O)},N=O=>{e.node.loaded?(b(O),!c.value&&T()):I()};return{panel:r,isHoverMenu:a,multiple:l,checkStrictly:c,checkedNodeId:d,isDisabled:h,isLeaf:m,expandable:g,inExpandingPath:v,inCheckedPath:_,ns:o,handleHoverExpand:C,handleExpand:P,handleClick:R,handleCheck:N,handleSelectCheck:k}}});function gSe(e,t,r,o,a,l){const c=en("el-checkbox"),d=en("el-radio"),h=en("check"),m=en("el-icon"),g=en("node-content"),v=en("loading"),_=en("arrow-right");return F(),Q("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:B([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[Ie(" prefix "),e.multiple?(F(),Ve(c,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:Vt(()=>{},["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(F(),Ve(d,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:Vt(()=>{},["stop"])},{default:ye(()=>[Ie(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),te("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(F(),Ve(m,{key:2,class:B(e.ns.e("prefix"))},{default:ye(()=>[se(h)]),_:1},8,["class"])):Ie("v-if",!0),Ie(" content "),se(g),Ie(" postfix "),e.isLeaf?Ie("v-if",!0):(F(),Q(Tt,{key:3},[e.node.loading?(F(),Ve(m,{key:0,class:B([e.ns.is("loading"),e.ns.e("postfix")])},{default:ye(()=>[se(v)]),_:1},8,["class"])):(F(),Ve(m,{key:1,class:B(["arrow-right",e.ns.e("postfix")])},{default:ye(()=>[se(_)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var ySe=at(vSe,[["render",gSe],["__file","node.vue"]]);const _Se=he({name:"ElCascaderMenu",components:{Loading:Ts,ElIcon:St,ElScrollbar:Rs,ElCascaderNode:ySe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Qt(),r=Je("cascader-menu"),{t:o}=En(),a=Mo();let l=null,c=null;const d=pt(ZR),h=q(null),m=D(()=>!e.nodes.length),g=D(()=>!d.initialLoaded),v=D(()=>`${a.value}-${e.index}`),_=I=>{l=I.target},S=I=>{if(!(!d.isHoverMenu||!l||!h.value))if(l.contains(I.target)){T();const C=t.vnode.el,{left:P}=C.getBoundingClientRect(),{offsetWidth:R,offsetHeight:k}=C,N=I.clientX-P,O=l.offsetTop,$=O+l.offsetHeight;h.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${N} ${O} L${R} 0 V${O} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${N} ${$} L${R} ${k} V${$} Z" />
        `}else c||(c=window.setTimeout(b,d.config.hoverThreshold))},T=()=>{!c||(clearTimeout(c),c=null)},b=()=>{!h.value||(h.value.innerHTML="",T())};return{ns:r,panel:d,hoverZone:h,isEmpty:m,isLoading:g,menuId:v,t:o,handleExpand:_,handleMouseMove:S,clearHoverZone:b}}});function bSe(e,t,r,o,a,l){const c=en("el-cascader-node"),d=en("loading"),h=en("el-icon"),m=en("el-scrollbar");return F(),Ve(m,{key:e.menuId,tag:"ul",role:"menu",class:B(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:ye(()=>{var g;return[(F(!0),Q(Tt,null,fn(e.nodes,v=>(F(),Ve(c,{key:v.uid,node:v,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(F(),Q("div",{key:0,class:B(e.ns.e("empty-text"))},[se(h,{size:"14",class:B(e.ns.is("loading"))},{default:ye(()=>[se(d)]),_:1},8,["class"]),Jt(" "+et(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(F(),Q("div",{key:1,class:B(e.ns.e("empty-text"))},et(e.t("el.cascader.noData")),3)):(g=e.panel)!=null&&g.isHoverMenu?(F(),Q("svg",{key:2,ref:"hoverZone",class:B(e.ns.e("hover-zone"))},null,2)):Ie("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var SSe=at(_Se,[["render",bSe],["__file","menu.vue"]]);let ESe=0;const TSe=e=>{const t=[e];let{parent:r}=e;for(;r;)t.unshift(r),r=r.parent;return t};class Ah{constructor(t,r,o,a=!1){this.data=t,this.config=r,this.parent=o,this.root=a,this.uid=ESe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:l,label:c,children:d}=r,h=t[d],m=TSe(this);this.level=a?0:o?o.level+1:1,this.value=t[l],this.label=t[c],this.pathNodes=m,this.pathValues=m.map(g=>g.value),this.pathLabels=m.map(g=>g.label),this.childrenData=h,this.children=(h||[]).map(g=>new Ah(g,r,this)),this.loaded=!r.lazy||this.isLeaf||!da(h)}get isDisabled(){const{data:t,parent:r,config:o}=this,{disabled:a,checkStrictly:l}=o;return(Lt(a)?a(t,this):!!t[a])||!l&&(r==null?void 0:r.isDisabled)}get isLeaf(){const{data:t,config:r,childrenData:o,loaded:a}=this,{lazy:l,leaf:c}=r,d=Lt(c)?c(t,this):t[c];return Ar(d)?l&&!a?!1:!(Array.isArray(o)&&o.length):!!d}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:r,children:o}=this,a=new Ah(t,this.config,this);return Array.isArray(r)?r.push(t):this.childrenData=[t],o.push(a),a}calcText(t,r){const o=t?this.pathLabels.join(r):this.label;return this.text=o,o}broadcast(t,...r){const o=`onParent${vs(t)}`;this.children.forEach(a=>{a&&(a.broadcast(t,...r),a[o]&&a[o](...r))})}emit(t,...r){const{parent:o}=this,a=`onChild${vs(t)}`;o&&(o[a]&&o[a](...r),o.emit(t,...r))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,r=t.filter(a=>!a.isDisabled),o=r.length?r.every(a=>a.checked):!1;this.setCheckState(o)}setCheckState(t){const r=this.children.length,o=this.children.reduce((a,l)=>{const c=l.checked?1:l.indeterminate?.5:0;return a+c},0);this.checked=this.loaded&&this.children.filter(a=>!a.isDisabled).every(a=>a.loaded&&a.checked)&&t,this.indeterminate=this.loaded&&o!==r&&o>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:r,multiple:o}=this.config;r||!o?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}}const Nk=(e,t)=>e.reduce((r,o)=>(o.isLeaf?r.push(o):(!t&&r.push(o),r=r.concat(Nk(o.children,t))),r),[]);class F${constructor(t,r){this.config=r;const o=(t||[]).map(a=>new Ah(a,this.config));this.nodes=o,this.allNodes=Nk(o,!1),this.leafNodes=Nk(o,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,r){const o=r?r.appendChild(t):new Ah(t,this.config);r||this.nodes.push(o),this.allNodes.push(o),o.isLeaf&&this.leafNodes.push(o)}appendNodes(t,r){t.forEach(o=>this.appendNode(o,r))}getNodeByValue(t,r=!1){return!t&&t!==0?null:this.getFlattedNodes(r).find(a=>ii(a.value,t)||ii(a.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:o,level:a})=>ii(t.value,o)&&t.level===a)||null}}const UH=it({modelValue:{type:Se([Number,String,Array])},options:{type:Se(Array),default:()=>[]},props:{type:Se(Object),default:()=>({})}}),CSe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Gn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},wSe=e=>D(()=>({...CSe,...e.props})),$$=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},ISe=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():XB(e)&&e.click()},kSe=(e,t)=>{const r=t.slice(0),o=r.map(l=>l.uid),a=e.reduce((l,c)=>{const d=o.indexOf(c.uid);return d>-1&&(l.push(c),r.splice(d,1),o.splice(d,1)),l},[]);return a.push(...r),a},RSe=he({name:"ElCascaderPanel",components:{ElCascaderMenu:SSe},props:{...UH,border:{type:Boolean,default:!0},renderLabel:Function},emits:[tn,pr,"close","expand-change"],setup(e,{emit:t,slots:r}){let o=!1;const a=Je("cascader"),l=wSe(e);let c=null;const d=q(!0),h=q([]),m=q(null),g=q([]),v=q(null),_=q([]),S=D(()=>l.value.expandTrigger==="hover"),T=D(()=>e.renderLabel||r.default),b=()=>{const{options:W}=e,re=l.value;o=!1,c=new F$(W,re),g.value=[c.getNodes()],re.lazy&&da(e.options)?(d.value=!1,I(void 0,ae=>{ae&&(c=new F$(ae,re),g.value=[c.getNodes()]),d.value=!0,L(!1,!0)})):L(!1,!0)},I=(W,re)=>{const ae=l.value;W=W||new Ah({},ae,void 0,!0),W.loading=!0;const ee=G=>{const Z=W,X=Z.root?null:Z;G&&(c==null||c.appendNodes(G,X)),Z.loading=!1,Z.loaded=!0,Z.childrenData=Z.childrenData||[],re&&re(G)};ae.lazyLoad(W,ee)},C=(W,re)=>{var ae;const{level:ee}=W,G=g.value.slice(0,ee);let Z;W.isLeaf?Z=W.pathNodes[ee-2]:(Z=W,G.push(W.children)),((ae=v.value)==null?void 0:ae.uid)!==(Z==null?void 0:Z.uid)&&(v.value=W,g.value=G,!re&&t("expand-change",(W==null?void 0:W.pathValues)||[]))},P=(W,re,ae=!0)=>{const{checkStrictly:ee,multiple:G}=l.value,Z=_.value[0];o=!0,!G&&(Z==null||Z.doCheck(!1)),W.doCheck(re),$(),ae&&!G&&!ee&&t("close"),!ae&&!G&&!ee&&R(W)},R=W=>{!W||(W=W.parent,R(W),W&&C(W))},k=W=>c==null?void 0:c.getFlattedNodes(W),N=W=>{var re;return(re=k(W))==null?void 0:re.filter(ae=>ae.checked!==!1)},O=()=>{_.value.forEach(W=>W.doCheck(!1)),$(),g.value=g.value.slice(0,1),v.value=null,t("expand-change",[])},$=()=>{var W;const{checkStrictly:re,multiple:ae}=l.value,ee=_.value,G=N(!re),Z=kSe(ee,G),X=Z.map(H=>H.valueByOption);_.value=Z,m.value=ae?X:(W=X[0])!=null?W:null},L=(W=!1,re=!1)=>{const{modelValue:ae}=e,{lazy:ee,multiple:G,checkStrictly:Z}=l.value,X=!Z;if(!(!d.value||o||!re&&ii(ae,m.value)))if(ee&&!W){const J=FF(Zfe(oi(ae))).map(fe=>c==null?void 0:c.getNodeByValue(fe)).filter(fe=>!!fe&&!fe.loaded&&!fe.loading);J.length?J.forEach(fe=>{I(fe,()=>L(!1,re))}):L(!0,re)}else{const H=G?oi(ae):[ae],J=FF(H.map(fe=>c==null?void 0:c.getNodeByValue(fe,X)));M(J,re),m.value=Jb(ae)}},M=(W,re=!0)=>{const{checkStrictly:ae}=l.value,ee=_.value,G=W.filter(H=>!!H&&(ae||H.isLeaf)),Z=c==null?void 0:c.getSameNode(v.value),X=re&&Z||G[0];X?X.pathNodes.forEach(H=>C(H,!0)):v.value=null,ee.forEach(H=>H.doCheck(!1)),Un(G).forEach(H=>H.doCheck(!0)),_.value=G,wt(U)},U=()=>{!Sn||h.value.forEach(W=>{const re=W==null?void 0:W.$el;if(re){const ae=re.querySelector(`.${a.namespace.value}-scrollbar__wrap`),ee=re.querySelector(`.${a.b("node")}.${a.is("active")}`)||re.querySelector(`.${a.b("node")}.in-active-path`);vR(ae,ee)}})},j=W=>{const re=W.target,{code:ae}=W;switch(ae){case It.up:case It.down:{W.preventDefault();const ee=ae===It.up?-1:1;Cb(QB(re,ee,`.${a.b("node")}[tabindex="-1"]`));break}case It.left:{W.preventDefault();const ee=h.value[$$(re)-1],G=ee==null?void 0:ee.$el.querySelector(`.${a.b("node")}[aria-expanded="true"]`);Cb(G);break}case It.right:{W.preventDefault();const ee=h.value[$$(re)+1],G=ee==null?void 0:ee.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`);Cb(G);break}case It.enter:ISe(re);break}};return pn(ZR,Un({config:l,expandingNode:v,checkedNodes:_,isHoverMenu:S,initialLoaded:d,renderLabelFn:T,lazyLoad:I,expandNode:C,handleCheckChange:P})),Ge([l,()=>e.options],b,{deep:!0,immediate:!0}),Ge(()=>e.modelValue,()=>{o=!1,L()},{deep:!0}),Ge(()=>m.value,W=>{ii(W,e.modelValue)||(t(tn,W),t(pr,W))}),dB(()=>h.value=[]),Zt(()=>!da(e.modelValue)&&L()),{ns:a,menuList:h,menus:g,checkedNodes:_,handleKeyDown:j,handleCheckChange:P,getFlattedNodes:k,getCheckedNodes:N,clearCheckedNodes:O,calculateCheckedValue:$,scrollToExpandingNode:U}}});function ASe(e,t,r,o,a,l){const c=en("el-cascader-menu");return F(),Q("div",{class:B([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(F(!0),Q(Tt,null,fn(e.menus,(d,h)=>(F(),Ve(c,{key:h,ref_for:!0,ref:m=>e.menuList[h]=m,index:h,nodes:[...d]},null,8,["index","nodes"]))),128))],42,["onKeydown"])}var OSe=at(RSe,[["render",ASe],["__file","index.vue"]]);const BH=Kt(OSe),Sd=it({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:ks},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),NSe={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},PSe=he({name:"ElTag"}),DSe=he({...PSe,props:Sd,emits:NSe,setup(e,{emit:t}){const r=e,o=Jr(),a=Je("tag"),l=D(()=>{const{type:h,hit:m,effect:g,closable:v,round:_}=r;return[a.b(),a.is("closable",v),a.m(h||"primary"),a.m(o.value),a.m(g),a.is("hit",m),a.is("round",_)]}),c=h=>{t("close",h)},d=h=>{t("click",h)};return(h,m)=>h.disableTransitions?(F(),Q("span",{key:0,class:B(f(l)),style:kt({backgroundColor:h.color}),onClick:d},[te("span",{class:B(f(a).e("content"))},[Pe(h.$slots,"default")],2),h.closable?(F(),Ve(f(St),{key:0,class:B(f(a).e("close")),onClick:Vt(c,["stop"])},{default:ye(()=>[se(f(Ba))]),_:1},8,["class","onClick"])):Ie("v-if",!0)],6)):(F(),Ve(eo,{key:1,name:`${f(a).namespace.value}-zoom-in-center`,appear:""},{default:ye(()=>[te("span",{class:B(f(l)),style:kt({backgroundColor:h.color}),onClick:d},[te("span",{class:B(f(a).e("content"))},[Pe(h.$slots,"default")],2),h.closable?(F(),Ve(f(St),{key:0,class:B(f(a).e("close")),onClick:Vt(c,["stop"])},{default:ye(()=>[se(f(Ba))]),_:1},8,["class","onClick"])):Ie("v-if",!0)],6)]),_:3},8,["name"]))}});var LSe=at(DSe,[["__file","tag.vue"]]);const Uv=Kt(LSe),MSe=it({...UH,size:no,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Se(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Se(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:mo.teleported,tagType:{...Sd.type,default:"info"},tagEffect:{...Sd.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Gh}),xSe={[tn]:e=>!0,[pr]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>Vr(e),expandChange:e=>!!e,removeTag:e=>!!e},VSe="ElCascader",FSe=he({name:VSe}),$Se=he({...FSe,props:MSe,emits:xSe,setup(e,{expose:t,emit:r}){const o=e,a={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:we})=>{const{modifiersData:Ye,placement:nt}=we;["right","left","bottom","top"].includes(nt)||(Ye.arrow.x=35)},requires:["arrow"]}]},l=Td();let c=0,d=0;const h=Je("cascader"),m=Je("input"),{t:g}=En(),{form:v,formItem:_}=Go(),{valueOnClear:S}=W0(o),{isComposing:T,handleComposition:b}=j0({afterComposition(we){var Ye;const nt=(Ye=we.target)==null?void 0:Ye.value;He(nt)}}),I=q(null),C=q(null),P=q(null),R=q(null),k=q(null),N=q(!1),O=q(!1),$=q(!1),L=q(!1),M=q(""),U=q(""),j=q([]),W=q([]),re=q([]),ae=D(()=>l.style),ee=D(()=>o.disabled||(v==null?void 0:v.disabled)),G=D(()=>o.placeholder||g("el.cascader.placeholder")),Z=D(()=>U.value||j.value.length>0||T.value?"":G.value),X=Jr(),H=D(()=>["small"].includes(X.value)?"small":"default"),J=D(()=>!!o.props.multiple),fe=D(()=>!o.filterable||J.value),ge=D(()=>J.value?U.value:M.value),me=D(()=>{var we;return((we=R.value)==null?void 0:we.checkedNodes)||[]}),Ee=D(()=>!o.clearable||ee.value||$.value||!O.value?!1:!!me.value.length),Fe=D(()=>{const{showAllLevels:we,separator:Ye}=o,nt=me.value;return nt.length?J.value?"":nt[0].calcText(we,Ye):""}),$e=D(()=>(_==null?void 0:_.validateState)||""),de=D({get(){return Jb(o.modelValue)},set(we){const Ye=we!=null?we:S.value;r(tn,Ye),r(pr,Ye),o.validateEvent&&(_==null||_.validate("change").catch(nt=>void 0))}}),Le=D(()=>[h.b(),h.m(X.value),h.is("disabled",ee.value),l.class]),Te=D(()=>[m.e("icon"),"icon-arrow-down",h.is("reverse",N.value)]),Be=D(()=>h.is("focus",N.value||L.value)),be=D(()=>{var we,Ye;return(Ye=(we=I.value)==null?void 0:we.popperRef)==null?void 0:Ye.contentRef}),We=we=>{var Ye,nt,jt;ee.value||(we=we!=null?we:!N.value,we!==N.value&&(N.value=we,(nt=(Ye=C.value)==null?void 0:Ye.input)==null||nt.setAttribute("aria-expanded",`${we}`),we?(ce(),wt((jt=R.value)==null?void 0:jt.scrollToExpandingNode)):o.filterable&&rt(),r("visibleChange",we)))},ce=()=>{wt(()=>{var we;(we=I.value)==null||we.updatePopper()})},ie=()=>{$.value=!1},De=we=>{const{showAllLevels:Ye,separator:nt}=o;return{node:we,key:we.uid,text:we.calcText(Ye,nt),hitState:!1,closable:!ee.value&&!we.isDisabled,isCollapseTag:!1}},tt=we=>{var Ye;const nt=we.node;nt.doCheck(!1),(Ye=R.value)==null||Ye.calculateCheckedValue(),r("removeTag",nt.valueByOption)},xe=()=>{if(!J.value)return;const we=me.value,Ye=[],nt=[];if(we.forEach(jt=>nt.push(De(jt))),W.value=nt,we.length){we.slice(0,o.maxCollapseTags).forEach(Me=>Ye.push(De(Me)));const jt=we.slice(o.maxCollapseTags),Dt=jt.length;Dt&&(o.collapseTags?Ye.push({key:-1,text:`+ ${Dt}`,closable:!1,isCollapseTag:!0}):jt.forEach(Me=>Ye.push(De(Me))))}j.value=Ye},ze=()=>{var we,Ye;const{filterMethod:nt,showAllLevels:jt,separator:Dt}=o,Me=(Ye=(we=R.value)==null?void 0:we.getFlattedNodes(!o.props.checkStrictly))==null?void 0:Ye.filter(ft=>ft.isDisabled?!1:(ft.calcText(jt,Dt),nt(ft,ge.value)));J.value&&(j.value.forEach(ft=>{ft.hitState=!1}),W.value.forEach(ft=>{ft.hitState=!1})),$.value=!0,re.value=Me,ce()},ot=()=>{var we;let Ye;$.value&&k.value?Ye=k.value.$el.querySelector(`.${h.e("suggestion-item")}`):Ye=(we=R.value)==null?void 0:we.$el.querySelector(`.${h.b("node")}[tabindex="-1"]`),Ye&&(Ye.focus(),!$.value&&Ye.click())},le=()=>{var we,Ye;const nt=(we=C.value)==null?void 0:we.input,jt=P.value,Dt=(Ye=k.value)==null?void 0:Ye.$el;if(!(!Sn||!nt)){if(Dt){const Me=Dt.querySelector(`.${h.e("suggestion-list")}`);Me.style.minWidth=`${nt.offsetWidth}px`}if(jt){const{offsetHeight:Me}=jt,ft=j.value.length>0?`${Math.max(Me+6,c)}px`:`${c}px`;nt.style.height=ft,ce()}}},pe=we=>{var Ye;return(Ye=R.value)==null?void 0:Ye.getCheckedNodes(we)},Re=we=>{ce(),r("expandChange",we)},Ae=we=>{if(!T.value)switch(we.code){case It.enter:We();break;case It.down:We(!0),wt(ot),we.preventDefault();break;case It.esc:N.value===!0&&(we.preventDefault(),we.stopPropagation(),We(!1));break;case It.tab:We(!1);break}},qe=()=>{var we;(we=R.value)==null||we.clearCheckedNodes(),!N.value&&o.filterable&&rt(),We(!1),r("clear")},rt=()=>{const{value:we}=Fe;M.value=we,U.value=we},Ue=we=>{var Ye,nt;const{checked:jt}=we;J.value?(Ye=R.value)==null||Ye.handleCheckChange(we,!jt,!1):(!jt&&((nt=R.value)==null||nt.handleCheckChange(we,!0,!1)),We(!1))},Xe=we=>{const Ye=we.target,{code:nt}=we;switch(nt){case It.up:case It.down:{const jt=nt===It.up?-1:1;Cb(QB(Ye,jt,`.${h.e("suggestion-item")}[tabindex="-1"]`));break}case It.enter:Ye.click();break}},Nt=()=>{const we=j.value,Ye=we[we.length-1];d=U.value?0:d+1,!(!Ye||!d||o.collapseTags&&we.length>1)&&(Ye.hitState?tt(Ye):Ye.hitState=!0)},Ft=we=>{const Ye=we.target,nt=h.e("search-input");Ye.className===nt&&(L.value=!0),r("focus",we)},Et=we=>{L.value=!1,r("blur",we)},Ut=Ii(()=>{const{value:we}=ge;if(!we)return;const Ye=o.beforeFilter(we);Ev(Ye)?Ye.then(ze).catch(()=>{}):Ye!==!1?ze():ie()},o.debounce),He=(we,Ye)=>{!N.value&&We(!0),!(Ye!=null&&Ye.isComposing)&&(we?Ut():ie())},vt=we=>Number.parseFloat(zae(m.cssVarName("input-height"),we).value)-2;return Ge($,ce),Ge([me,ee,()=>o.collapseTags],xe),Ge(j,()=>{wt(()=>le())}),Ge(X,async()=>{await wt();const we=C.value.input;c=vt(we)||c,le()}),Ge(Fe,rt,{immediate:!0}),Zt(()=>{const we=C.value.input,Ye=vt(we);c=we.offsetHeight||Ye,Sr(we,le)}),t({getCheckedNodes:pe,cascaderPanelRef:R,togglePopperVisible:We,contentRef:be}),(we,Ye)=>(F(),Ve(f(xo),{ref_key:"tooltipRef",ref:I,visible:N.value,teleported:we.teleported,"popper-class":[f(h).e("dropdown"),we.popperClass],"popper-options":a,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${f(h).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:we.persistent,onHide:ie},{default:ye(()=>[qt((F(),Q("div",{class:B(f(Le)),style:kt(f(ae)),onClick:()=>We(f(fe)?void 0:!0),onKeydown:Ae,onMouseenter:nt=>O.value=!0,onMouseleave:nt=>O.value=!1},[se(f(wo),{ref_key:"input",ref:C,modelValue:M.value,"onUpdate:modelValue":nt=>M.value=nt,placeholder:f(Z),readonly:f(fe),disabled:f(ee),"validate-event":!1,size:f(X),class:B(f(Be)),tabindex:f(J)&&we.filterable&&!f(ee)?-1:void 0,onCompositionstart:f(b),onCompositionupdate:f(b),onCompositionend:f(b),onFocus:Ft,onBlur:Et,onInput:He},{suffix:ye(()=>[f(Ee)?(F(),Ve(f(St),{key:"clear",class:B([f(m).e("icon"),"icon-circle-close"]),onClick:Vt(qe,["stop"])},{default:ye(()=>[se(f(Gc))]),_:1},8,["class","onClick"])):(F(),Ve(f(St),{key:"arrow-down",class:B(f(Te)),onClick:Vt(nt=>We(),["stop"])},{default:ye(()=>[se(f(El))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),f(J)?(F(),Q("div",{key:0,ref_key:"tagWrapper",ref:P,class:B([f(h).e("tags"),f(h).is("validate",Boolean(f($e)))])},[(F(!0),Q(Tt,null,fn(j.value,nt=>(F(),Ve(f(Uv),{key:nt.key,type:we.tagType,size:f(H),effect:we.tagEffect,hit:nt.hitState,closable:nt.closable,"disable-transitions":"",onClose:jt=>tt(nt)},{default:ye(()=>[nt.isCollapseTag===!1?(F(),Q("span",{key:0},et(nt.text),1)):(F(),Ve(f(xo),{key:1,disabled:N.value||!we.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:ye(()=>[te("span",null,et(nt.text),1)]),content:ye(()=>[te("div",{class:B(f(h).e("collapse-tags"))},[(F(!0),Q(Tt,null,fn(W.value.slice(we.maxCollapseTags),(jt,Dt)=>(F(),Q("div",{key:Dt,class:B(f(h).e("collapse-tag"))},[(F(),Ve(f(Uv),{key:jt.key,class:"in-tooltip",type:we.tagType,size:f(H),effect:we.tagEffect,hit:jt.hitState,closable:jt.closable,"disable-transitions":"",onClose:Me=>tt(jt)},{default:ye(()=>[te("span",null,et(jt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),we.filterable&&!f(ee)?qt((F(),Q("input",{key:0,"onUpdate:modelValue":nt=>U.value=nt,type:"text",class:B(f(h).e("search-input")),placeholder:f(Fe)?"":f(G),onInput:nt=>He(U.value,nt),onClick:Vt(nt=>We(!0),["stop"]),onKeydown:or(Nt,["delete"]),onCompositionstart:f(b),onCompositionupdate:f(b),onCompositionend:f(b),onFocus:Ft,onBlur:Et},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[q1,U.value]]):Ie("v-if",!0)],2)):Ie("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[f(ml),()=>We(!1),f(be)]])]),content:ye(()=>[qt(se(f(BH),{ref_key:"cascaderPanelRef",ref:R,modelValue:f(de),"onUpdate:modelValue":nt=>lr(de)?de.value=nt:null,options:we.options,props:o.props,border:!1,"render-label":we.$slots.default,onExpandChange:Re,onClose:nt=>we.$nextTick(()=>We(!1))},null,8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[Nn,!$.value]]),we.filterable?qt((F(),Ve(f(Rs),{key:0,ref_key:"suggestionPanel",ref:k,tag:"ul",class:B(f(h).e("suggestion-panel")),"view-class":f(h).e("suggestion-list"),onKeydown:Xe},{default:ye(()=>[re.value.length?(F(!0),Q(Tt,{key:0},fn(re.value,nt=>(F(),Q("li",{key:nt.uid,class:B([f(h).e("suggestion-item"),f(h).is("checked",nt.checked)]),tabindex:-1,onClick:jt=>Ue(nt)},[te("span",null,et(nt.text),1),nt.checked?(F(),Ve(f(St),{key:0},{default:ye(()=>[se(f(fg))]),_:1})):Ie("v-if",!0)],10,["onClick"]))),128)):Pe(we.$slots,"empty",{key:1},()=>[te("li",{class:B(f(h).e("empty-text"))},et(f(g)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Nn,$.value]]):Ie("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition","persistent"]))}});var USe=at($Se,[["__file","cascader.vue"]]);const BSe=Kt(USe),HSe=it({checked:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),jSe={"update:checked":e=>Vr(e),[pr]:e=>Vr(e)},WSe=he({name:"ElCheckTag"}),zSe=he({...WSe,props:HSe,emits:jSe,setup(e,{emit:t}){const r=e,o=Je("check-tag"),a=D(()=>[o.b(),o.is("checked",r.checked),o.m(r.type||"primary")]),l=()=>{const c=!r.checked;t(pr,c),t("update:checked",c)};return(c,d)=>(F(),Q("span",{class:B(f(a)),onClick:l},[Pe(c.$slots,"default")],2))}});var KSe=at(zSe,[["__file","check-tag.vue"]]);const GSe=Kt(KSe),HH=Symbol("rowContextKey"),qSe=["start","center","end","space-around","space-between","space-evenly"],YSe=["top","middle","bottom"],JSe=it({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:qSe,default:"start"},align:{type:String,values:YSe}}),XSe=he({name:"ElRow"}),QSe=he({...XSe,props:JSe,setup(e){const t=e,r=Je("row"),o=D(()=>t.gutter);pn(HH,{gutter:o});const a=D(()=>{const c={};return t.gutter&&(c.marginRight=c.marginLeft=`-${t.gutter/2}px`),c}),l=D(()=>[r.b(),r.is(`justify-${t.justify}`,t.justify!=="start"),r.is(`align-${t.align}`,!!t.align)]);return(c,d)=>(F(),Ve(ln(c.tag),{class:B(f(l)),style:kt(f(a))},{default:ye(()=>[Pe(c.$slots,"default")]),_:3},8,["class","style"]))}});var ZSe=at(QSe,[["__file","row.vue"]]);const Y0=Kt(ZSe),eEe=it({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Se([Number,Object]),default:()=>Er({})},sm:{type:Se([Number,Object]),default:()=>Er({})},md:{type:Se([Number,Object]),default:()=>Er({})},lg:{type:Se([Number,Object]),default:()=>Er({})},xl:{type:Se([Number,Object]),default:()=>Er({})}}),tEe=he({name:"ElCol"}),nEe=he({...tEe,props:eEe,setup(e){const t=e,{gutter:r}=pt(HH,{gutter:D(()=>0)}),o=Je("col"),a=D(()=>{const c={};return r.value&&(c.paddingLeft=c.paddingRight=`${r.value/2}px`),c}),l=D(()=>{const c=[];return["span","offset","pull","push"].forEach(m=>{const g=t[m];xt(g)&&(m==="span"?c.push(o.b(`${t[m]}`)):g>0&&c.push(o.b(`${m}-${t[m]}`)))}),["xs","sm","md","lg","xl"].forEach(m=>{xt(t[m])?c.push(o.b(`${m}-${t[m]}`)):nn(t[m])&&Object.entries(t[m]).forEach(([g,v])=>{c.push(g!=="span"?o.b(`${m}-${g}-${v}`):o.b(`${m}-${v}`))})}),r.value&&c.push(o.is("guttered")),[o.b(),c]});return(c,d)=>(F(),Ve(ln(c.tag),{class:B(f(l)),style:kt(f(a))},{default:ye(()=>[Pe(c.$slots,"default")]),_:3},8,["class","style"]))}});var rEe=at(nEe,[["__file","col.vue"]]);const J0=Kt(rEe),U$=e=>xt(e)||Mt(e)||ht(e),oEe=it({accordion:Boolean,modelValue:{type:Se([Array,String,Number]),default:()=>Er([])}}),iEe={[tn]:U$,[pr]:U$},jH=Symbol("collapseContextKey"),aEe=(e,t)=>{const r=q(Wo(e.modelValue)),o=l=>{r.value=l;const c=e.accordion?r.value[0]:r.value;t(tn,c),t(pr,c)},a=l=>{if(e.accordion)o([r.value[0]===l?"":l]);else{const c=[...r.value],d=c.indexOf(l);d>-1?c.splice(d,1):c.push(l),o(c)}};return Ge(()=>e.modelValue,()=>r.value=Wo(e.modelValue),{deep:!0}),pn(jH,{activeNames:r,handleItemClick:a}),{activeNames:r,setActiveNames:o}},sEe=()=>{const e=Je("collapse");return{rootKls:D(()=>e.b())}},lEe=he({name:"ElCollapse"}),cEe=he({...lEe,props:oEe,emits:iEe,setup(e,{expose:t,emit:r}){const o=e,{activeNames:a,setActiveNames:l}=aEe(o,r),{rootKls:c}=sEe();return t({activeNames:a,setActiveNames:l}),(d,h)=>(F(),Q("div",{class:B(f(c))},[Pe(d.$slots,"default")],2))}});var uEe=at(cEe,[["__file","collapse.vue"]]);const dEe=he({name:"ElCollapseTransition"}),fEe=he({...dEe,setup(e){const t=Je("collapse-transition"),r=a=>{a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom},o={beforeEnter(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.style.height&&(a.dataset.elExistsHeight=a.style.height),a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0},enter(a){requestAnimationFrame(()=>{a.dataset.oldOverflow=a.style.overflow,a.dataset.elExistsHeight?a.style.maxHeight=a.dataset.elExistsHeight:a.scrollHeight!==0?a.style.maxHeight=`${a.scrollHeight}px`:a.style.maxHeight=0,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom,a.style.overflow="hidden"})},afterEnter(a){a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow},enterCancelled(a){r(a)},beforeLeave(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.dataset.oldOverflow=a.style.overflow,a.style.maxHeight=`${a.scrollHeight}px`,a.style.overflow="hidden"},leave(a){a.scrollHeight!==0&&(a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0)},afterLeave(a){r(a)},leaveCancelled(a){r(a)}};return(a,l)=>(F(),Ve(eo,sn({name:f(t).b()},Xoe(o)),{default:ye(()=>[Pe(a.$slots,"default")]),_:3},16,["name"]))}});var hEe=at(fEe,[["__file","collapse-transition.vue"]]);const X0=Kt(hEe),pEe=it({title:{type:String,default:""},name:{type:Se([String,Number]),default:void 0},disabled:Boolean}),mEe=e=>{const t=pt(jH),{namespace:r}=Je("collapse"),o=q(!1),a=q(!1),l=xR(),c=D(()=>l.current++),d=D(()=>{var _;return(_=e.name)!=null?_:`${r.value}-id-${l.prefix}-${f(c)}`}),h=D(()=>t==null?void 0:t.activeNames.value.includes(f(d)));return{focusing:o,id:c,isActive:h,handleFocus:()=>{setTimeout(()=>{a.value?a.value=!1:o.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(f(d)),o.value=!1,a.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(f(d))}}},vEe=(e,{focusing:t,isActive:r,id:o})=>{const a=Je("collapse"),l=D(()=>[a.b("item"),a.is("active",f(r)),a.is("disabled",e.disabled)]),c=D(()=>[a.be("item","header"),a.is("active",f(r)),{focusing:f(t)&&!e.disabled}]),d=D(()=>[a.be("item","arrow"),a.is("active",f(r))]),h=D(()=>a.be("item","wrap")),m=D(()=>a.be("item","content")),g=D(()=>a.b(`content-${f(o)}`)),v=D(()=>a.b(`head-${f(o)}`));return{arrowKls:d,headKls:c,rootKls:l,itemWrapperKls:h,itemContentKls:m,scopedContentId:g,scopedHeadId:v}},gEe=he({name:"ElCollapseItem"}),yEe=he({...gEe,props:pEe,setup(e,{expose:t}){const r=e,{focusing:o,id:a,isActive:l,handleFocus:c,handleHeaderClick:d,handleEnterClick:h}=mEe(r),{arrowKls:m,headKls:g,rootKls:v,itemWrapperKls:_,itemContentKls:S,scopedContentId:T,scopedHeadId:b}=vEe(r,{focusing:o,isActive:l,id:a});return t({isActive:l}),(I,C)=>(F(),Q("div",{class:B(f(v))},[te("button",{id:f(b),class:B(f(g)),"aria-expanded":f(l),"aria-controls":f(T),"aria-describedby":f(T),tabindex:I.disabled?-1:0,type:"button",onClick:f(d),onKeydown:or(Vt(f(h),["stop","prevent"]),["space","enter"]),onFocus:f(c),onBlur:P=>o.value=!1},[Pe(I.$slots,"title",{},()=>[Jt(et(I.title),1)]),se(f(St),{class:B(f(m))},{default:ye(()=>[se(f(ai))]),_:1},8,["class"])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),se(f(X0),null,{default:ye(()=>[qt(te("div",{id:f(T),role:"region",class:B(f(_)),"aria-hidden":!f(l),"aria-labelledby":f(b)},[te("div",{class:B(f(S))},[Pe(I.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[Nn,f(l)]])]),_:3})],2))}});var WH=at(yEe,[["__file","collapse-item.vue"]]);const zH=Kt(uEe,{CollapseItem:WH}),KH=Tr(WH),_Ee=it({color:{type:Se(Object),required:!0},vertical:{type:Boolean,default:!1}});let vI=!1;function Bv(e,t){if(!Sn)return;const r=function(l){var c;(c=t.drag)==null||c.call(t,l)},o=function(l){var c;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",o),document.onselectstart=null,document.ondragstart=null,vI=!1,(c=t.end)==null||c.call(t,l)},a=function(l){var c;vI||(l.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",o),document.addEventListener("touchmove",r),document.addEventListener("touchend",o),vI=!0,(c=t.start)==null||c.call(t,l))};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a,{passive:!1})}const bEe=e=>{const t=Qt(),{t:r}=En(),o=dr(),a=dr(),l=D(()=>e.color.get("alpha")),c=D(()=>r("el.colorpicker.alphaLabel"));function d(v){var _;v.target!==o.value&&h(v),(_=o.value)==null||_.focus()}function h(v){if(!a.value||!o.value)return;const S=t.vnode.el.getBoundingClientRect(),{clientX:T,clientY:b}=Q1(v);if(e.vertical){let I=b-S.top;I=Math.max(o.value.offsetHeight/2,I),I=Math.min(I,S.height-o.value.offsetHeight/2),e.color.set("alpha",Math.round((I-o.value.offsetHeight/2)/(S.height-o.value.offsetHeight)*100))}else{let I=T-S.left;I=Math.max(o.value.offsetWidth/2,I),I=Math.min(I,S.width-o.value.offsetWidth/2),e.color.set("alpha",Math.round((I-o.value.offsetWidth/2)/(S.width-o.value.offsetWidth)*100))}}function m(v){const{code:_,shiftKey:S}=v,T=S?10:1;switch(_){case It.left:case It.down:v.preventDefault(),v.stopPropagation(),g(-T);break;case It.right:case It.up:v.preventDefault(),v.stopPropagation(),g(T);break}}function g(v){let _=l.value+v;_=_<0?0:_>100?100:_,e.color.set("alpha",_)}return{thumb:o,bar:a,alpha:l,alphaLabel:c,handleDrag:h,handleClick:d,handleKeydown:m}},SEe=(e,{bar:t,thumb:r,handleDrag:o})=>{const a=Qt(),l=Je("color-alpha-slider"),c=q(0),d=q(0),h=q();function m(){if(!r.value||e.vertical)return 0;const P=a.vnode.el,R=e.color.get("alpha");return P?Math.round(R*(P.offsetWidth-r.value.offsetWidth/2)/100):0}function g(){if(!r.value)return 0;const P=a.vnode.el;if(!e.vertical)return 0;const R=e.color.get("alpha");return P?Math.round(R*(P.offsetHeight-r.value.offsetHeight/2)/100):0}function v(){if(e.color&&e.color.value){const{r:P,g:R,b:k}=e.color.toRgb();return`linear-gradient(to right, rgba(${P}, ${R}, ${k}, 0) 0%, rgba(${P}, ${R}, ${k}, 1) 100%)`}return""}function _(){c.value=m(),d.value=g(),h.value=v()}Zt(()=>{if(!t.value||!r.value)return;const P={drag:R=>{o(R)},end:R=>{o(R)}};Bv(t.value,P),Bv(r.value,P),_()}),Ge(()=>e.color.get("alpha"),()=>_()),Ge(()=>e.color.value,()=>_());const S=D(()=>[l.b(),l.is("vertical",e.vertical)]),T=D(()=>l.e("bar")),b=D(()=>l.e("thumb")),I=D(()=>({background:h.value})),C=D(()=>({left:Or(c.value),top:Or(d.value)}));return{rootKls:S,barKls:T,barStyle:I,thumbKls:b,thumbStyle:C,update:_}},EEe="ElColorAlphaSlider",TEe=he({name:EEe}),CEe=he({...TEe,props:_Ee,setup(e,{expose:t}){const r=e,{alpha:o,alphaLabel:a,bar:l,thumb:c,handleDrag:d,handleClick:h,handleKeydown:m}=bEe(r),{rootKls:g,barKls:v,barStyle:_,thumbKls:S,thumbStyle:T,update:b}=SEe(r,{bar:l,thumb:c,handleDrag:d});return t({update:b,bar:l,thumb:c}),(I,C)=>(F(),Q("div",{class:B(f(g))},[te("div",{ref_key:"bar",ref:l,class:B(f(v)),style:kt(f(_)),onClick:f(h)},null,14,["onClick"]),te("div",{ref_key:"thumb",ref:c,class:B(f(S)),style:kt(f(T)),"aria-label":f(a),"aria-valuenow":f(o),"aria-orientation":I.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:f(m)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var wEe=at(CEe,[["__file","alpha-slider.vue"]]);const IEe=he({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=Je("color-hue-slider"),r=Qt(),o=q(),a=q(),l=q(0),c=q(0),d=D(()=>e.color.get("hue"));Ge(()=>d.value,()=>{_()});function h(S){S.target!==o.value&&m(S)}function m(S){if(!a.value||!o.value)return;const b=r.vnode.el.getBoundingClientRect(),{clientX:I,clientY:C}=Q1(S);let P;if(e.vertical){let R=C-b.top;R=Math.min(R,b.height-o.value.offsetHeight/2),R=Math.max(o.value.offsetHeight/2,R),P=Math.round((R-o.value.offsetHeight/2)/(b.height-o.value.offsetHeight)*360)}else{let R=I-b.left;R=Math.min(R,b.width-o.value.offsetWidth/2),R=Math.max(o.value.offsetWidth/2,R),P=Math.round((R-o.value.offsetWidth/2)/(b.width-o.value.offsetWidth)*360)}e.color.set("hue",P)}function g(){if(!o.value)return 0;const S=r.vnode.el;if(e.vertical)return 0;const T=e.color.get("hue");return S?Math.round(T*(S.offsetWidth-o.value.offsetWidth/2)/360):0}function v(){if(!o.value)return 0;const S=r.vnode.el;if(!e.vertical)return 0;const T=e.color.get("hue");return S?Math.round(T*(S.offsetHeight-o.value.offsetHeight/2)/360):0}function _(){l.value=g(),c.value=v()}return Zt(()=>{if(!a.value||!o.value)return;const S={drag:T=>{m(T)},end:T=>{m(T)}};Bv(a.value,S),Bv(o.value,S),_()}),{bar:a,thumb:o,thumbLeft:l,thumbTop:c,hueValue:d,handleClick:h,update:_,ns:t}}});function kEe(e,t,r,o,a,l){return F(),Q("div",{class:B([e.ns.b(),e.ns.is("vertical",e.vertical)])},[te("div",{ref:"bar",class:B(e.ns.e("bar")),onClick:e.handleClick},null,10,["onClick"]),te("div",{ref:"thumb",class:B(e.ns.e("thumb")),style:kt({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var REe=at(IEe,[["render",kEe],["__file","hue-slider.vue"]]);const AEe=it({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:no,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:mo.teleported,predefine:{type:Se(Array)},validateEvent:{type:Boolean,default:!0},...ko(["ariaLabel"])}),OEe={[tn]:e=>Mt(e)||yo(e),[pr]:e=>Mt(e)||yo(e),activeChange:e=>Mt(e)||yo(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},GH=Symbol("colorPickerContextKey"),B$=function(e,t,r){return[e,t*r/((e=(2-t)*r)<1?e:2-e)||0,e/2]},NEe=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},PEe=function(e){return typeof e=="string"&&e.includes("%")},uh=function(e,t){NEe(e)&&(e="100%");const r=PEe(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),r&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},H$={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Nb=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),r=e%16;return`${H$[t]||t}${H$[r]||r}`},j$=function({r:e,g:t,b:r}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+r)?"":`#${Nb(e)}${Nb(t)}${Nb(r)}`},gI={A:10,B:11,C:12,D:13,E:14,F:15},Wu=function(e){return e.length===2?(gI[e[0].toUpperCase()]||+e[0])*16+(gI[e[1].toUpperCase()]||+e[1]):gI[e[1].toUpperCase()]||+e[1]},DEe=function(e,t,r){t=t/100,r=r/100;let o=t;const a=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,o*=a<=1?a:2-a;const l=(r+t)/2,c=r===0?2*o/(a+o):2*t/(r+t);return{h:e,s:c*100,v:l*100}},W$=(e,t,r)=>{e=uh(e,255),t=uh(t,255),r=uh(r,255);const o=Math.max(e,t,r),a=Math.min(e,t,r);let l;const c=o,d=o-a,h=o===0?0:d/o;if(o===a)l=0;else{switch(o){case e:{l=(t-r)/d+(t<r?6:0);break}case t:{l=(r-e)/d+2;break}case r:{l=(e-t)/d+4;break}}l/=6}return{h:l*360,s:h*100,v:c*100}},qm=function(e,t,r){e=uh(e,360)*6,t=uh(t,100),r=uh(r,100);const o=Math.floor(e),a=e-o,l=r*(1-t),c=r*(1-a*t),d=r*(1-(1-a)*t),h=o%6,m=[r,c,l,l,d,r][h],g=[d,r,r,c,l,l][h],v=[l,l,d,r,r,c][h];return{r:Math.round(m*255),g:Math.round(g*255),b:Math.round(v*255)}};class gv{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const r in t)wn(t,r)&&(this[r]=t[r]);t.value?this.fromString(t.value):this.doOnChange()}set(t,r){if(arguments.length===1&&typeof t=="object"){for(const o in t)wn(t,o)&&this.set(o,t[o]);return}this[`_${t}`]=r,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return qm(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const r=(o,a,l)=>{this._hue=Math.max(0,Math.min(360,o)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,l)),this.doOnChange()};if(t.includes("hsl")){const o=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,l)=>l>2?Number.parseFloat(a):Number.parseInt(a,10));if(o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3){const{h:a,s:l,v:c}=DEe(o[0],o[1],o[2]);r(a,l,c)}}else if(t.includes("hsv")){const o=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,l)=>l>2?Number.parseFloat(a):Number.parseInt(a,10));o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3&&r(o[0],o[1],o[2])}else if(t.includes("rgb")){const o=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,l)=>l>2?Number.parseFloat(a):Number.parseInt(a,10));if(o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3){const{h:a,s:l,v:c}=W$(o[0],o[1],o[2]);r(a,l,c)}}else if(t.includes("#")){const o=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(o))return;let a,l,c;o.length===3?(a=Wu(o[0]+o[0]),l=Wu(o[1]+o[1]),c=Wu(o[2]+o[2])):(o.length===6||o.length===8)&&(a=Wu(o.slice(0,2)),l=Wu(o.slice(2,4)),c=Wu(o.slice(4,6))),o.length===8?this._alpha=Wu(o.slice(6))/255*100:(o.length===3||o.length===6)&&(this._alpha=100);const{h:d,s:h,v:m}=W$(a,l,c);r(d,h,m)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:r,_value:o,_alpha:a,format:l}=this;if(this.enableAlpha)switch(l){case"hsl":{const c=B$(t,r/100,o/100);this.value=`hsla(${t}, ${Math.round(c[1]*100)}%, ${Math.round(c[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(r)}%, ${Math.round(o)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${j$(qm(t,r,o))}${Nb(a*255/100)}`;break}default:{const{r:c,g:d,b:h}=qm(t,r,o);this.value=`rgba(${c}, ${d}, ${h}, ${this.get("alpha")/100})`}}else switch(l){case"hsl":{const c=B$(t,r/100,o/100);this.value=`hsl(${t}, ${Math.round(c[1]*100)}%, ${Math.round(c[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(r)}%, ${Math.round(o)}%)`;break}case"rgb":{const{r:c,g:d,b:h}=qm(t,r,o);this.value=`rgb(${c}, ${d}, ${h})`;break}default:this.value=j$(qm(t,r,o))}}}const LEe=he({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(e){const t=Je("color-predefine"),{currentColor:r}=pt(GH),o=q(l(e.colors,e.color));Ge(()=>r.value,c=>{const d=new gv;d.fromString(c),o.value.forEach(h=>{h.selected=d.compare(h)})}),Po(()=>{o.value=l(e.colors,e.color)});function a(c){e.color.fromString(e.colors[c])}function l(c,d){return c.map(h=>{const m=new gv;return m.enableAlpha=e.enableAlpha,m.format="rgba",m.fromString(h),m.selected=m.value===d.value,m})}return{rgbaColors:o,handleSelect:a,ns:t}}});function MEe(e,t,r,o,a,l){return F(),Q("div",{class:B(e.ns.b())},[te("div",{class:B(e.ns.e("colors"))},[(F(!0),Q(Tt,null,fn(e.rgbaColors,(c,d)=>(F(),Q("div",{key:e.colors[d],class:B([e.ns.e("color-selector"),e.ns.is("alpha",c._alpha<100),{selected:c.selected}]),onClick:h=>e.handleSelect(d)},[te("div",{style:kt({backgroundColor:c.value})},null,4)],10,["onClick"]))),128))],2)],2)}var xEe=at(LEe,[["render",MEe],["__file","predefine.vue"]]);const VEe=he({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=Je("color-svpanel"),r=Qt(),o=q(0),a=q(0),l=q("hsl(0, 100%, 50%)"),c=D(()=>{const m=e.color.get("hue"),g=e.color.get("value");return{hue:m,value:g}});function d(){const m=e.color.get("saturation"),g=e.color.get("value"),v=r.vnode.el,{clientWidth:_,clientHeight:S}=v;a.value=m*_/100,o.value=(100-g)*S/100,l.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function h(m){const v=r.vnode.el.getBoundingClientRect(),{clientX:_,clientY:S}=Q1(m);let T=_-v.left,b=S-v.top;T=Math.max(0,T),T=Math.min(T,v.width),b=Math.max(0,b),b=Math.min(b,v.height),a.value=T,o.value=b,e.color.set({saturation:T/v.width*100,value:100-b/v.height*100})}return Ge(()=>c.value,()=>{d()}),Zt(()=>{Bv(r.vnode.el,{drag:m=>{h(m)},end:m=>{h(m)}}),d()}),{cursorTop:o,cursorLeft:a,background:l,colorValue:c,handleDrag:h,update:d,ns:t}}});function FEe(e,t,r,o,a,l){return F(),Q("div",{class:B(e.ns.b()),style:kt({backgroundColor:e.background})},[te("div",{class:B(e.ns.e("white"))},null,2),te("div",{class:B(e.ns.e("black"))},null,2),te("div",{class:B(e.ns.e("cursor")),style:kt({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},[te("div")],6)],6)}var $Ee=at(VEe,[["render",FEe],["__file","sv-panel.vue"]]);const UEe=he({name:"ElColorPicker"}),BEe=he({...UEe,props:AEe,emits:OEe,setup(e,{expose:t,emit:r}){const o=e,{t:a}=En(),l=Je("color"),{formItem:c}=Go(),d=Jr(),h=ui(),{inputId:m,isLabeledByFormItem:g}=qa(o,{formItemContext:c}),v=q(),_=q(),S=q(),T=q(),b=q(),I=q(),{isFocused:C,handleFocus:P,handleBlur:R}=yg(b,{beforeFocus(){return h.value},beforeBlur(Te){var Be;return(Be=T.value)==null?void 0:Be.isFocusInsideContent(Te)},afterBlur(){ee(!1),H()}});let k=!0;const N=Un(new gv({enableAlpha:o.showAlpha,format:o.colorFormat||"",value:o.modelValue})),O=q(!1),$=q(!1),L=q(""),M=D(()=>!o.modelValue&&!$.value?"transparent":ae(N,o.showAlpha)),U=D(()=>!o.modelValue&&!$.value?"":N.value),j=D(()=>g.value?void 0:o.ariaLabel||a("el.colorpicker.defaultLabel")),W=D(()=>g.value?c==null?void 0:c.labelId:void 0),re=D(()=>[l.b("picker"),l.is("disabled",h.value),l.bm("picker",d.value),l.is("focused",C.value)]);function ae(Te,Be){if(!(Te instanceof gv))throw new TypeError("color should be instance of _color Class");const{r:be,g:We,b:ce}=Te.toRgb();return Be?`rgba(${be}, ${We}, ${ce}, ${Te.get("alpha")/100})`:`rgb(${be}, ${We}, ${ce})`}function ee(Te){O.value=Te}const G=Ii(ee,100,{leading:!0});function Z(){h.value||ee(!0)}function X(){G(!1),H()}function H(){wt(()=>{o.modelValue?N.fromString(o.modelValue):(N.value="",wt(()=>{$.value=!1}))})}function J(){h.value||G(!O.value)}function fe(){N.fromString(L.value)}function ge(){const Te=N.value;r(tn,Te),r("change",Te),o.validateEvent&&(c==null||c.validate("change").catch(Be=>void 0)),G(!1),wt(()=>{const Be=new gv({enableAlpha:o.showAlpha,format:o.colorFormat||"",value:o.modelValue});N.compare(Be)||H()})}function me(){G(!1),r(tn,null),r("change",null),o.modelValue!==null&&o.validateEvent&&(c==null||c.validate("change").catch(Te=>void 0)),H()}function Ee(){!O.value||(X(),C.value&&de())}function Fe(Te){Te.preventDefault(),Te.stopPropagation(),ee(!1),H()}function $e(Te){switch(Te.code){case It.enter:case It.space:Te.preventDefault(),Te.stopPropagation(),Z(),I.value.focus();break;case It.esc:Fe(Te);break}}function de(){b.value.focus()}function Le(){b.value.blur()}return Zt(()=>{o.modelValue&&(L.value=U.value)}),Ge(()=>o.modelValue,Te=>{Te?Te&&Te!==N.value&&(k=!1,N.fromString(Te)):$.value=!1}),Ge(()=>U.value,Te=>{L.value=Te,k&&r("activeChange",Te),k=!0}),Ge(()=>N.value,()=>{!o.modelValue&&!$.value&&($.value=!0)}),Ge(()=>O.value,()=>{wt(()=>{var Te,Be,be;(Te=v.value)==null||Te.update(),(Be=_.value)==null||Be.update(),(be=S.value)==null||be.update()})}),pn(GH,{currentColor:U}),t({color:N,show:Z,hide:X,focus:de,blur:Le}),(Te,Be)=>(F(),Ve(f(xo),{ref_key:"popper",ref:T,visible:O.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[f(l).be("picker","panel"),f(l).b("dropdown"),Te.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Te.teleported,transition:`${f(l).namespace.value}-zoom-in-top`,persistent:"",onHide:be=>ee(!1)},{content:ye(()=>[qt((F(),Q("div",{onKeydown:or(Fe,["esc"])},[te("div",{class:B(f(l).be("dropdown","main-wrapper"))},[se(REe,{ref_key:"hue",ref:v,class:"hue-slider",color:f(N),vertical:""},null,8,["color"]),se($Ee,{ref_key:"sv",ref:_,color:f(N)},null,8,["color"])],2),Te.showAlpha?(F(),Ve(wEe,{key:0,ref_key:"alpha",ref:S,color:f(N)},null,8,["color"])):Ie("v-if",!0),Te.predefine?(F(),Ve(xEe,{key:1,ref:"predefine","enable-alpha":Te.showAlpha,color:f(N),colors:Te.predefine},null,8,["enable-alpha","color","colors"])):Ie("v-if",!0),te("div",{class:B(f(l).be("dropdown","btns"))},[te("span",{class:B(f(l).be("dropdown","value"))},[se(f(wo),{ref_key:"inputRef",ref:I,modelValue:L.value,"onUpdate:modelValue":be=>L.value=be,"validate-event":!1,size:"small",onKeyup:or(fe,["enter"]),onBlur:fe},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),se(f(lo),{class:B(f(l).be("dropdown","link-btn")),text:"",size:"small",onClick:me},{default:ye(()=>[Jt(et(f(a)("el.colorpicker.clear")),1)]),_:1},8,["class"]),se(f(lo),{plain:"",size:"small",class:B(f(l).be("dropdown","btn")),onClick:ge},{default:ye(()=>[Jt(et(f(a)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[f(ml),Ee]])]),default:ye(()=>[te("div",sn({id:f(m),ref_key:"triggerRef",ref:b},Te.$attrs,{class:f(re),role:"button","aria-label":f(j),"aria-labelledby":f(W),"aria-description":f(a)("el.colorpicker.description",{color:Te.modelValue||""}),"aria-disabled":f(h),tabindex:f(h)?-1:Te.tabindex,onKeydown:$e,onFocus:f(P),onBlur:f(R)}),[f(h)?(F(),Q("div",{key:0,class:B(f(l).be("picker","mask"))},null,2)):Ie("v-if",!0),te("div",{class:B(f(l).be("picker","trigger")),onClick:J},[te("span",{class:B([f(l).be("picker","color"),f(l).is("alpha",Te.showAlpha)])},[te("span",{class:B(f(l).be("picker","color-inner")),style:kt({backgroundColor:f(M)})},[qt(se(f(St),{class:B([f(l).be("picker","icon"),f(l).is("icon-arrow-down")])},{default:ye(()=>[se(f(El))]),_:1},8,["class"]),[[Nn,Te.modelValue||$.value]]),qt(se(f(St),{class:B([f(l).be("picker","empty"),f(l).is("icon-close")])},{default:ye(()=>[se(f(Ba))]),_:1},8,["class"]),[[Nn,!Te.modelValue&&!$.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var HEe=at(BEe,[["__file","color-picker.vue"]]);const jEe=Kt(HEe),WEe=he({name:"ElContainer"}),zEe=he({...WEe,props:{direction:{type:String}},setup(e){const t=e,r=co(),o=Je("container"),a=D(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:r&&r.default?r.default().some(c=>{const d=c.type.name;return d==="ElHeader"||d==="ElFooter"}):!1);return(l,c)=>(F(),Q("section",{class:B([f(o).b(),f(o).is("vertical",f(a))])},[Pe(l.$slots,"default")],2))}});var KEe=at(zEe,[["__file","container.vue"]]);const GEe=he({name:"ElAside"}),qEe=he({...GEe,props:{width:{type:String,default:null}},setup(e){const t=e,r=Je("aside"),o=D(()=>t.width?r.cssVarBlock({width:t.width}):{});return(a,l)=>(F(),Q("aside",{class:B(f(r).b()),style:kt(f(o))},[Pe(a.$slots,"default")],6))}});var qH=at(qEe,[["__file","aside.vue"]]);const YEe=he({name:"ElFooter"}),JEe=he({...YEe,props:{height:{type:String,default:null}},setup(e){const t=e,r=Je("footer"),o=D(()=>t.height?r.cssVarBlock({height:t.height}):{});return(a,l)=>(F(),Q("footer",{class:B(f(r).b()),style:kt(f(o))},[Pe(a.$slots,"default")],6))}});var YH=at(JEe,[["__file","footer.vue"]]);const XEe=he({name:"ElHeader"}),QEe=he({...XEe,props:{height:{type:String,default:null}},setup(e){const t=e,r=Je("header"),o=D(()=>t.height?r.cssVarBlock({height:t.height}):{});return(a,l)=>(F(),Q("header",{class:B(f(r).b()),style:kt(f(o))},[Pe(a.$slots,"default")],6))}});var JH=at(QEe,[["__file","header.vue"]]);const ZEe=he({name:"ElMain"}),eTe=he({...ZEe,setup(e){const t=Je("main");return(r,o)=>(F(),Q("main",{class:B(f(t).b())},[Pe(r.$slots,"default")],2))}});var XH=at(eTe,[["__file","main.vue"]]);const tTe=Kt(KEe,{Aside:qH,Footer:YH,Header:JH,Main:XH}),nTe=Tr(qH),rTe=Tr(YH),oTe=Tr(JH),iTe=Tr(XH);var QH={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){return function(r,o){var a=o.prototype,l=a.format;a.format=function(c){var d=this,h=this.$locale();if(!this.isValid())return l.bind(this)(c);var m=this.$utils(),g=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(v){switch(v){case"Q":return Math.ceil((d.$M+1)/3);case"Do":return h.ordinal(d.$D);case"gggg":return d.weekYear();case"GGGG":return d.isoWeekYear();case"wo":return h.ordinal(d.week(),"W");case"w":case"ww":return m.s(d.week(),v==="w"?1:2,"0");case"W":case"WW":return m.s(d.isoWeek(),v==="W"?1:2,"0");case"k":case"kk":return m.s(String(d.$H===0?24:d.$H),v==="k"?1:2,"0");case"X":return Math.floor(d.$d.getTime()/1e3);case"x":return d.$d.getTime();case"z":return"["+d.offsetName()+"]";case"zzz":return"["+d.offsetName("long")+"]";default:return v}});return l.bind(this)(g)}}})})(QH);var aTe=QH.exports,ZH={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){var r="week",o="year";return function(a,l,c){var d=l.prototype;d.week=function(h){if(h===void 0&&(h=null),h!==null)return this.add(7*(h-this.week()),"day");var m=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var g=c(this).startOf(o).add(1,o).date(m),v=c(this).endOf(r);if(g.isBefore(v))return 1}var _=c(this).startOf(o).date(m).startOf(r).subtract(1,"millisecond"),S=this.diff(_,r,!0);return S<0?c(this).startOf("week").week():Math.ceil(S)},d.weeks=function(h){return h===void 0&&(h=null),this.week(h)}}})})(ZH);var sTe=ZH.exports,e5={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){return function(r,o){o.prototype.weekYear=function(){var a=this.month(),l=this.week(),c=this.year();return l===1&&a===11?c+1:a===0&&l>=52?c-1:c}}})})(e5);var lTe=e5.exports,t5={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){return function(r,o,a){o.prototype.dayOfYear=function(l){var c=Math.round((a(this).startOf("day")-a(this).startOf("year"))/864e5)+1;return l==null?c:this.add(l-c,"day")}}})})(t5);var cTe=t5.exports,n5={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){return function(r,o){o.prototype.isSameOrAfter=function(a,l){return this.isSame(a,l)||this.isAfter(a,l)}}})})(n5);var uTe=n5.exports,r5={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){return function(r,o){o.prototype.isSameOrBefore=function(a,l){return this.isSame(a,l)||this.isBefore(a,l)}}})})(r5);var dTe=r5.exports;const Q0=Symbol(),fTe=it({...QR,type:{type:Se(String),default:"date"}}),hTe=["date","dates","year","years","month","months","week","range"],eA=it({disabledDate:{type:Se(Function)},date:{type:Se(Object),required:!0},minDate:{type:Se(Object)},maxDate:{type:Se(Object)},parsedValue:{type:Se([Object,Array])},rangeState:{type:Se(Object),default:()=>({endDate:null,selecting:!1})}}),o5=it({type:{type:Se(String),required:!0,values:Vpe},dateFormat:String,timeFormat:String}),tA=it({unlinkPanels:Boolean,parsedValue:{type:Se(Array)}}),nA=e=>({type:String,values:hTe,default:e}),pTe=it({...o5,parsedValue:{type:Se([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),mTe=it({...eA,cellClassName:{type:Se(Function)},showWeekNumber:Boolean,selectionMode:nA("date")}),vTe=["changerange","pick","select"],Oh=e=>{if(!ht(e))return!1;const[t,r]=e;return zt.isDayjs(t)&&zt.isDayjs(r)&&t.isSameOrBefore(r)},rA=(e,{lang:t,unit:r,unlinkPanels:o})=>{let a;if(ht(e)){let[l,c]=e.map(d=>zt(d).locale(t));return o||(c=l.add(1,r)),[l,c]}else e?a=zt(e):a=zt();return a=a.locale(t),[a,a.add(1,r)]},gTe=(e,t,{columnIndexOffset:r,startDate:o,nextEndDate:a,now:l,unit:c,relativeDateGetter:d,setCellMetadata:h,setRowMetadata:m})=>{for(let g=0;g<e.row;g++){const v=t[g];for(let _=0;_<e.column;_++){let S=v[_+r];S||(S={row:g,column:_,type:"normal",inRange:!1,start:!1,end:!1});const T=g*e.column+_,b=d(T);S.dayjs=b,S.date=b.toDate(),S.timestamp=b.valueOf(),S.type="normal",S.inRange=!!(o&&b.isSameOrAfter(o,c)&&a&&b.isSameOrBefore(a,c))||!!(o&&b.isSameOrBefore(o,c)&&a&&b.isSameOrAfter(a,c)),o!=null&&o.isSameOrAfter(a)?(S.start=!!a&&b.isSame(a,c),S.end=o&&b.isSame(o,c)):(S.start=!!o&&b.isSame(o,c),S.end=!!a&&b.isSame(a,c)),b.isSame(l,c)&&(S.type="today"),h==null||h(S,{rowIndex:g,columnIndex:_}),v[_+r]=S}m==null||m(v)}},Pk=(e="")=>["normal","today"].includes(e),yTe=(e,t)=>{const{lang:r}=En(),o=q(),a=q(),l=q(),c=q(),d=q([[],[],[],[],[],[]]);let h=!1;const m=e.date.$locale().weekStart||7,g=e.date.locale("en").localeData().weekdaysShort().map(H=>H.toLowerCase()),v=D(()=>m>3?7-m:-m),_=D(()=>{const H=e.date.startOf("month");return H.subtract(H.day()||7,"day")}),S=D(()=>g.concat(g).slice(m,m+7)),T=D(()=>g8(f(k)).some(H=>H.isCurrent)),b=D(()=>{const H=e.date.startOf("month"),J=H.day()||7,fe=H.daysInMonth(),ge=H.subtract(1,"month").daysInMonth();return{startOfMonthDay:J,dateCountOfMonth:fe,dateCountOfLastMonth:ge}}),I=D(()=>e.selectionMode==="dates"?oi(e.parsedValue):[]),C=(H,{count:J,rowIndex:fe,columnIndex:ge})=>{const{startOfMonthDay:me,dateCountOfMonth:Ee,dateCountOfLastMonth:Fe}=f(b),$e=f(v);if(fe>=0&&fe<=1){const de=me+$e<0?7+me+$e:me+$e;if(ge+fe*7>=de)return H.text=J,!0;H.text=Fe-(de-ge%7)+1+fe*7,H.type="prev-month"}else return J<=Ee?H.text=J:(H.text=J-Ee,H.type="next-month"),!0;return!1},P=(H,{columnIndex:J,rowIndex:fe},ge)=>{const{disabledDate:me,cellClassName:Ee}=e,Fe=f(I),$e=C(H,{count:ge,rowIndex:fe,columnIndex:J}),de=H.dayjs.toDate();return H.selected=Fe.find(Le=>Le.isSame(H.dayjs,"day")),H.isSelected=!!H.selected,H.isCurrent=O(H),H.disabled=me==null?void 0:me(de),H.customClass=Ee==null?void 0:Ee(de),$e},R=H=>{if(e.selectionMode==="week"){const[J,fe]=e.showWeekNumber?[1,7]:[0,6],ge=X(H[J+1]);H[J].inRange=ge,H[J].start=ge,H[fe].inRange=ge,H[fe].end=ge}},k=D(()=>{const{minDate:H,maxDate:J,rangeState:fe,showWeekNumber:ge}=e,me=f(v),Ee=f(d),Fe="day";let $e=1;if(ge)for(let de=0;de<6;de++)Ee[de][0]||(Ee[de][0]={type:"week",text:f(_).add(de*7+1,Fe).week()});return gTe({row:6,column:7},Ee,{startDate:H,columnIndexOffset:ge?1:0,nextEndDate:fe.endDate||J||fe.selecting&&H||null,now:zt().locale(f(r)).startOf(Fe),unit:Fe,relativeDateGetter:de=>f(_).add(de-me,Fe),setCellMetadata:(...de)=>{P(...de,$e)&&($e+=1)},setRowMetadata:R}),Ee});Ge(()=>e.date,async()=>{var H;(H=f(o))!=null&&H.contains(document.activeElement)&&(await wt(),await N())});const N=async()=>{var H;return(H=f(a))==null?void 0:H.focus()},O=H=>e.selectionMode==="date"&&Pk(H.type)&&$(H,e.parsedValue),$=(H,J)=>J?zt(J).locale(f(r)).isSame(e.date.date(Number(H.text)),"day"):!1,L=(H,J)=>{const fe=H*7+(J-(e.showWeekNumber?1:0))-f(v);return f(_).add(fe,"day")},M=H=>{var J;if(!e.rangeState.selecting)return;let fe=H.target;if(fe.tagName==="SPAN"&&(fe=(J=fe.parentNode)==null?void 0:J.parentNode),fe.tagName==="DIV"&&(fe=fe.parentNode),fe.tagName!=="TD")return;const ge=fe.parentNode.rowIndex-1,me=fe.cellIndex;f(k)[ge][me].disabled||(ge!==f(l)||me!==f(c))&&(l.value=ge,c.value=me,t("changerange",{selecting:!0,endDate:L(ge,me)}))},U=H=>!f(T)&&(H==null?void 0:H.text)===1&&H.type==="normal"||H.isCurrent,j=H=>{h||f(T)||e.selectionMode!=="date"||Z(H,!0)},W=H=>{!H.target.closest("td")||(h=!0)},re=H=>{!H.target.closest("td")||(h=!1)},ae=H=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:H,maxDate:null}),t("select",!0)):(H>=e.minDate?t("pick",{minDate:e.minDate,maxDate:H}):t("pick",{minDate:H,maxDate:e.minDate}),t("select",!1))},ee=H=>{const J=H.week(),fe=`${H.year()}w${J}`;t("pick",{year:H.year(),week:J,value:fe,date:H.startOf("week")})},G=(H,J)=>{const fe=J?oi(e.parsedValue).filter(ge=>(ge==null?void 0:ge.valueOf())!==H.valueOf()):oi(e.parsedValue).concat([H]);t("pick",fe)},Z=(H,J=!1)=>{const fe=H.target.closest("td");if(!fe)return;const ge=fe.parentNode.rowIndex-1,me=fe.cellIndex,Ee=f(k)[ge][me];if(Ee.disabled||Ee.type==="week")return;const Fe=L(ge,me);switch(e.selectionMode){case"range":{ae(Fe);break}case"date":{t("pick",Fe,J);break}case"week":{ee(Fe);break}case"dates":{G(Fe,!!Ee.selected);break}}},X=H=>{if(e.selectionMode!=="week")return!1;let J=e.date.startOf("day");if(H.type==="prev-month"&&(J=J.subtract(1,"month")),H.type==="next-month"&&(J=J.add(1,"month")),J=J.date(Number.parseInt(H.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const fe=(e.parsedValue.day()-m+7)%7-1;return e.parsedValue.subtract(fe,"day").isSame(J,"day")}return!1};return{WEEKS:S,rows:k,tbodyRef:o,currentCellRef:a,focus:N,isCurrent:O,isWeekActive:X,isSelectedCell:U,handlePickDate:Z,handleMouseUp:re,handleMouseDown:W,handleMouseMove:M,handleFocus:j}},_Te=(e,{isCurrent:t,isWeekActive:r})=>{const o=Je("date-table"),{t:a}=En(),l=D(()=>[o.b(),{"is-week-mode":e.selectionMode==="week"}]),c=D(()=>a("el.datepicker.dateTablePrompt")),d=D(()=>a("el.datepicker.week"));return{tableKls:l,tableLabel:c,weekLabel:d,getCellClasses:g=>{const v=[];return Pk(g.type)&&!g.disabled?(v.push("available"),g.type==="today"&&v.push("today")):v.push(g.type),t(g)&&v.push("current"),g.inRange&&(Pk(g.type)||e.selectionMode==="week")&&(v.push("in-range"),g.start&&v.push("start-date"),g.end&&v.push("end-date")),g.disabled&&v.push("disabled"),g.selected&&v.push("selected"),g.customClass&&v.push(g.customClass),v.join(" ")},getRowKls:g=>[o.e("row"),{current:r(g)}],t:a}},bTe=it({cell:{type:Se(Object)}});var oA=he({name:"ElDatePickerCell",props:bTe,setup(e){const t=Je("date-table-cell"),{slots:r}=pt(Q0);return()=>{const{cell:o}=e;return Pe(r,"default",{...o},()=>{var a;return[se("div",{class:t.b()},[se("span",{class:t.e("text")},[(a=o==null?void 0:o.renderText)!=null?a:o==null?void 0:o.text])])]})}}});const STe=he({__name:"basic-date-table",props:mTe,emits:vTe,setup(e,{expose:t,emit:r}){const o=e,{WEEKS:a,rows:l,tbodyRef:c,currentCellRef:d,focus:h,isCurrent:m,isWeekActive:g,isSelectedCell:v,handlePickDate:_,handleMouseUp:S,handleMouseDown:T,handleMouseMove:b,handleFocus:I}=yTe(o,r),{tableLabel:C,tableKls:P,weekLabel:R,getCellClasses:k,getRowKls:N,t:O}=_Te(o,{isCurrent:m,isWeekActive:g});return t({focus:h}),($,L)=>(F(),Q("table",{"aria-label":f(C),class:B(f(P)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:f(_),onMousemove:f(b),onMousedown:Vt(f(T),["prevent"]),onMouseup:f(S)},[te("tbody",{ref_key:"tbodyRef",ref:c},[te("tr",null,[$.showWeekNumber?(F(),Q("th",{key:0,scope:"col"},et(f(R)),1)):Ie("v-if",!0),(F(!0),Q(Tt,null,fn(f(a),(M,U)=>(F(),Q("th",{key:U,"aria-label":f(O)("el.datepicker.weeksFull."+M),scope:"col"},et(f(O)("el.datepicker.weeks."+M)),9,["aria-label"]))),128))]),(F(!0),Q(Tt,null,fn(f(l),(M,U)=>(F(),Q("tr",{key:U,class:B(f(N)(M[1]))},[(F(!0),Q(Tt,null,fn(M,(j,W)=>(F(),Q("td",{key:`${U}.${W}`,ref_for:!0,ref:re=>f(v)(j)&&(d.value=re),class:B(f(k)(j)),"aria-current":j.isCurrent?"date":void 0,"aria-selected":j.isCurrent,tabindex:f(v)(j)?0:-1,onFocus:f(I)},[se(f(oA),{cell:j},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var Dk=at(STe,[["__file","basic-date-table.vue"]]);const ETe=it({...eA,selectionMode:nA("month")}),TTe=he({__name:"basic-month-table",props:ETe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:r}){const o=e,a=(k,N,O)=>{const $=zt().locale(O).startOf("month").month(N).year(k),L=$.daysInMonth();return Oc(L).map(M=>$.add(M,"day").toDate())},l=Je("month-table"),{t:c,lang:d}=En(),h=q(),m=q(),g=q(o.date.locale("en").localeData().monthsShort().map(k=>k.toLowerCase())),v=q([[],[],[]]),_=q(),S=q(),T=D(()=>{var k,N;const O=v.value,$=zt().locale(d.value).startOf("month");for(let L=0;L<3;L++){const M=O[L];for(let U=0;U<4;U++){const j=M[U]||(M[U]={row:L,column:U,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});j.type="normal";const W=L*4+U,re=o.date.startOf("year").month(W),ae=o.rangeState.endDate||o.maxDate||o.rangeState.selecting&&o.minDate||null;j.inRange=!!(o.minDate&&re.isSameOrAfter(o.minDate,"month")&&ae&&re.isSameOrBefore(ae,"month"))||!!(o.minDate&&re.isSameOrBefore(o.minDate,"month")&&ae&&re.isSameOrAfter(ae,"month")),(k=o.minDate)!=null&&k.isSameOrAfter(ae)?(j.start=!!(ae&&re.isSame(ae,"month")),j.end=o.minDate&&re.isSame(o.minDate,"month")):(j.start=!!(o.minDate&&re.isSame(o.minDate,"month")),j.end=!!(ae&&re.isSame(ae,"month"))),$.isSame(re)&&(j.type="today"),j.text=W,j.disabled=((N=o.disabledDate)==null?void 0:N.call(o,re.toDate()))||!1}}return O}),b=()=>{var k;(k=m.value)==null||k.focus()},I=k=>{const N={},O=o.date.year(),$=new Date,L=k.text;return N.disabled=o.disabledDate?a(O,L,d.value).every(o.disabledDate):!1,N.current=oi(o.parsedValue).findIndex(M=>zt.isDayjs(M)&&M.year()===O&&M.month()===L)>=0,N.today=$.getFullYear()===O&&$.getMonth()===L,k.inRange&&(N["in-range"]=!0,k.start&&(N["start-date"]=!0),k.end&&(N["end-date"]=!0)),N},C=k=>{const N=o.date.year(),O=k.text;return oi(o.date).findIndex($=>$.year()===N&&$.month()===O)>=0},P=k=>{var N;if(!o.rangeState.selecting)return;let O=k.target;if(O.tagName==="SPAN"&&(O=(N=O.parentNode)==null?void 0:N.parentNode),O.tagName==="DIV"&&(O=O.parentNode),O.tagName!=="TD")return;const $=O.parentNode.rowIndex,L=O.cellIndex;T.value[$][L].disabled||($!==_.value||L!==S.value)&&(_.value=$,S.value=L,r("changerange",{selecting:!0,endDate:o.date.startOf("year").month($*4+L)}))},R=k=>{var N;const O=(N=k.target)==null?void 0:N.closest("td");if((O==null?void 0:O.tagName)!=="TD"||Ei(O,"disabled"))return;const $=O.cellIndex,M=O.parentNode.rowIndex*4+$,U=o.date.startOf("year").month(M);if(o.selectionMode==="months"){if(k.type==="keydown"){r("pick",oi(o.parsedValue),!1);return}const j=o.date.startOf("month").month(M),W=Ei(O,"current")?oi(o.parsedValue).filter(re=>Number(re)!==Number(j)):oi(o.parsedValue).concat([zt(j)]);r("pick",W)}else o.selectionMode==="range"?o.rangeState.selecting?(o.minDate&&U>=o.minDate?r("pick",{minDate:o.minDate,maxDate:U}):r("pick",{minDate:U,maxDate:o.minDate}),r("select",!1)):(r("pick",{minDate:U,maxDate:null}),r("select",!0)):r("pick",M)};return Ge(()=>o.date,async()=>{var k,N;(k=h.value)!=null&&k.contains(document.activeElement)&&(await wt(),(N=m.value)==null||N.focus())}),t({focus:b}),(k,N)=>(F(),Q("table",{role:"grid","aria-label":f(c)("el.datepicker.monthTablePrompt"),class:B(f(l).b()),onClick:R,onMousemove:P},[te("tbody",{ref_key:"tbodyRef",ref:h},[(F(!0),Q(Tt,null,fn(f(T),(O,$)=>(F(),Q("tr",{key:$},[(F(!0),Q(Tt,null,fn(O,(L,M)=>(F(),Q("td",{key:M,ref_for:!0,ref:U=>C(L)&&(m.value=U),class:B(I(L)),"aria-selected":`${C(L)}`,"aria-label":f(c)(`el.datepicker.month${+L.text+1}`),tabindex:C(L)?0:-1,onKeydown:[or(Vt(R,["prevent","stop"]),["space"]),or(Vt(R,["prevent","stop"]),["enter"])]},[se(f(oA),{cell:{...L,renderText:f(c)("el.datepicker.months."+g.value[L.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Lk=at(TTe,[["__file","basic-month-table.vue"]]);const CTe=it({...eA,selectionMode:nA("year")}),wTe=he({__name:"basic-year-table",props:CTe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:r}){const o=e,a=(k,N)=>{const O=zt(String(k)).locale(N).startOf("year"),L=O.endOf("year").dayOfYear();return Oc(L).map(M=>O.add(M,"day").toDate())},l=Je("year-table"),{t:c,lang:d}=En(),h=q(),m=q(),g=D(()=>Math.floor(o.date.year()/10)*10),v=q([[],[],[]]),_=q(),S=q(),T=D(()=>{var k;const N=v.value,O=zt().locale(d.value).startOf("year");for(let $=0;$<3;$++){const L=N[$];for(let M=0;M<4&&!($*4+M>=10);M++){let U=L[M];U||(U={row:$,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),U.type="normal";const j=$*4+M+g.value,W=zt().year(j),re=o.rangeState.endDate||o.maxDate||o.rangeState.selecting&&o.minDate||null;U.inRange=!!(o.minDate&&W.isSameOrAfter(o.minDate,"year")&&re&&W.isSameOrBefore(re,"year"))||!!(o.minDate&&W.isSameOrBefore(o.minDate,"year")&&re&&W.isSameOrAfter(re,"year")),(k=o.minDate)!=null&&k.isSameOrAfter(re)?(U.start=!!(re&&W.isSame(re,"year")),U.end=!!(o.minDate&&W.isSame(o.minDate,"year"))):(U.start=!!(o.minDate&&W.isSame(o.minDate,"year")),U.end=!!(re&&W.isSame(re,"year"))),O.isSame(W)&&(U.type="today"),U.text=j;const ee=W.toDate();U.disabled=o.disabledDate&&o.disabledDate(ee)||!1,L[M]=U}}return N}),b=()=>{var k;(k=m.value)==null||k.focus()},I=k=>{const N={},O=zt().locale(d.value),$=k.text;return N.disabled=o.disabledDate?a($,d.value).every(o.disabledDate):!1,N.today=O.year()===$,N.current=oi(o.parsedValue).findIndex(L=>L.year()===$)>=0,k.inRange&&(N["in-range"]=!0,k.start&&(N["start-date"]=!0),k.end&&(N["end-date"]=!0)),N},C=k=>{const N=k.text;return oi(o.date).findIndex(O=>O.year()===N)>=0},P=k=>{var N;const O=(N=k.target)==null?void 0:N.closest("td");if(!O||!O.textContent||Ei(O,"disabled"))return;const $=O.cellIndex,M=O.parentNode.rowIndex*4+$+g.value,U=zt().year(M);if(o.selectionMode==="range")o.rangeState.selecting?(o.minDate&&U>=o.minDate?r("pick",{minDate:o.minDate,maxDate:U}):r("pick",{minDate:U,maxDate:o.minDate}),r("select",!1)):(r("pick",{minDate:U,maxDate:null}),r("select",!0));else if(o.selectionMode==="years"){if(k.type==="keydown"){r("pick",oi(o.parsedValue),!1);return}const j=Ei(O,"current")?oi(o.parsedValue).filter(W=>(W==null?void 0:W.year())!==M):oi(o.parsedValue).concat([U]);r("pick",j)}else r("pick",M)},R=k=>{var N;if(!o.rangeState.selecting)return;const O=(N=k.target)==null?void 0:N.closest("td");if(!O)return;const $=O.parentNode.rowIndex,L=O.cellIndex;T.value[$][L].disabled||($!==_.value||L!==S.value)&&(_.value=$,S.value=L,r("changerange",{selecting:!0,endDate:zt().year(g.value).add($*4+L,"year")}))};return Ge(()=>o.date,async()=>{var k,N;(k=h.value)!=null&&k.contains(document.activeElement)&&(await wt(),(N=m.value)==null||N.focus())}),t({focus:b}),(k,N)=>(F(),Q("table",{role:"grid","aria-label":f(c)("el.datepicker.yearTablePrompt"),class:B(f(l).b()),onClick:P,onMousemove:R},[te("tbody",{ref_key:"tbodyRef",ref:h},[(F(!0),Q(Tt,null,fn(f(T),(O,$)=>(F(),Q("tr",{key:$},[(F(!0),Q(Tt,null,fn(O,(L,M)=>(F(),Q("td",{key:`${$}_${M}`,ref_for:!0,ref:U=>C(L)&&(m.value=U),class:B(["available",I(L)]),"aria-selected":C(L),"aria-label":String(L.text),tabindex:C(L)?0:-1,onKeydown:[or(Vt(P,["prevent","stop"]),["space"]),or(Vt(P,["prevent","stop"]),["enter"])]},[se(f(oA),{cell:L},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Mk=at(wTe,[["__file","basic-year-table.vue"]]);const ITe=he({__name:"panel-date-pick",props:pTe,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const r=e,o=(He,vt,we)=>!0,a=Je("picker-panel"),l=Je("date-picker"),c=Td(),d=co(),{t:h,lang:m}=En(),g=pt("EP_PICKER_BASE"),v=pt(q0),{shortcuts:_,disabledDate:S,cellClassName:T,defaultTime:b}=g.props,I=Kn(g.props,"defaultValue"),C=q(),P=q(zt().locale(m.value)),R=q(!1);let k=!1;const N=D(()=>zt(b).locale(m.value)),O=D(()=>P.value.month()),$=D(()=>P.value.year()),L=q([]),M=q(null),U=q(null),j=He=>L.value.length>0?o(He,L.value,r.format||"HH:mm:ss"):!0,W=He=>b&&!De.value&&!R.value&&!k?N.value.year(He.year()).month(He.month()).date(He.date()):de.value?He.millisecond(0):He.startOf("day"),re=(He,...vt)=>{if(!He)t("pick",He,...vt);else if(ht(He)){const we=He.map(W);t("pick",we,...vt)}else t("pick",W(He),...vt);M.value=null,U.value=null,R.value=!1,k=!1},ae=async(He,vt)=>{if(J.value==="date"){He=He;let we=r.parsedValue?r.parsedValue.year(He.year()).month(He.month()).date(He.date()):He;j(we)||(we=L.value[0][0].year(He.year()).month(He.month()).date(He.date())),P.value=we,re(we,de.value||vt),r.type==="datetime"&&(await wt(),Nt())}else J.value==="week"?re(He.date):J.value==="dates"&&re(He,!0)},ee=He=>{const vt=He?"add":"subtract";P.value=P.value[vt](1,"month"),Ut("month")},G=He=>{const vt=P.value,we=He?"add":"subtract";P.value=Z.value==="year"?vt[we](10,"year"):vt[we](1,"year"),Ut("year")},Z=q("date"),X=D(()=>{const He=h("el.datepicker.year");if(Z.value==="year"){const vt=Math.floor($.value/10)*10;return He?`${vt} ${He} - ${vt+9} ${He}`:`${vt} - ${vt+9}`}return`${$.value} ${He}`}),H=He=>{const vt=Lt(He.value)?He.value():He.value;if(vt){k=!0,re(zt(vt).locale(m.value));return}He.onClick&&He.onClick({attrs:c,slots:d,emit:t})},J=D(()=>{const{type:He}=r;return["week","month","months","year","years","dates"].includes(He)?He:"date"}),fe=D(()=>J.value==="dates"||J.value==="months"||J.value==="years"),ge=D(()=>J.value==="date"?Z.value:J.value),me=D(()=>!!_.length),Ee=async(He,vt)=>{J.value==="month"?(P.value=P.value.startOf("month").month(He),re(P.value,!1)):J.value==="months"?re(He,vt!=null?vt:!0):(P.value=P.value.startOf("month").month(He),Z.value="date",["month","year","date","week"].includes(J.value)&&(re(P.value,!0),await wt(),Nt())),Ut("month")},Fe=async(He,vt)=>{J.value==="year"?(P.value=P.value.startOf("year").year(He),re(P.value,!1)):J.value==="years"?re(He,vt!=null?vt:!0):(P.value=P.value.year(He),Z.value="month",["month","year","date","week"].includes(J.value)&&(re(P.value,!0),await wt(),Nt())),Ut("year")},$e=async He=>{Z.value=He,await wt(),Nt()},de=D(()=>r.type==="datetime"||r.type==="datetimerange"),Le=D(()=>{const He=de.value||J.value==="dates",vt=J.value==="years",we=J.value==="months",Ye=Z.value==="date",nt=Z.value==="year",jt=Z.value==="month";return He&&Ye||vt&&nt||we&&jt}),Te=D(()=>S?r.parsedValue?ht(r.parsedValue)?S(r.parsedValue[0].toDate()):S(r.parsedValue.toDate()):!0:!1),Be=()=>{if(fe.value)re(r.parsedValue);else{let He=r.parsedValue;if(!He){const vt=zt(b).locale(m.value),we=Xe();He=vt.year(we.year()).month(we.month()).date(we.date())}P.value=He,re(He)}},be=D(()=>S?S(zt().locale(m.value).toDate()):!1),We=()=>{const vt=zt().locale(m.value).toDate();R.value=!0,(!S||!S(vt))&&j(vt)&&(P.value=zt().locale(m.value),re(P.value))},ce=D(()=>r.timeFormat||lH(r.format)),ie=D(()=>r.dateFormat||sH(r.format)),De=D(()=>{if(U.value)return U.value;if(!(!r.parsedValue&&!I.value))return(r.parsedValue||P.value).format(ce.value)}),tt=D(()=>{if(M.value)return M.value;if(!(!r.parsedValue&&!I.value))return(r.parsedValue||P.value).format(ie.value)}),xe=q(!1),ze=()=>{xe.value=!0},ot=()=>{xe.value=!1},le=He=>({hour:He.hour(),minute:He.minute(),second:He.second(),year:He.year(),month:He.month(),date:He.date()}),pe=(He,vt,we)=>{const{hour:Ye,minute:nt,second:jt}=le(He),Dt=r.parsedValue?r.parsedValue.hour(Ye).minute(nt).second(jt):He;P.value=Dt,re(P.value,!0),we||(xe.value=vt)},Re=He=>{const vt=zt(He,ce.value).locale(m.value);if(vt.isValid()&&j(vt)){const{year:we,month:Ye,date:nt}=le(P.value);P.value=vt.year(we).month(Ye).date(nt),U.value=null,xe.value=!1,re(P.value,!0)}},Ae=He=>{const vt=zt(He,ie.value).locale(m.value);if(vt.isValid()){if(S&&S(vt.toDate()))return;const{hour:we,minute:Ye,second:nt}=le(P.value);P.value=vt.hour(we).minute(Ye).second(nt),M.value=null,re(P.value,!0)}},qe=He=>zt.isDayjs(He)&&He.isValid()&&(S?!S(He.toDate()):!0),rt=He=>ht(He)?He.map(vt=>vt.format(r.format)):He.format(r.format),Ue=He=>zt(He,r.format).locale(m.value),Xe=()=>{const He=zt(I.value).locale(m.value);if(!I.value){const vt=N.value;return zt().hour(vt.hour()).minute(vt.minute()).second(vt.second()).locale(m.value)}return He},Nt=async()=>{var He;["week","month","year","date"].includes(J.value)&&((He=C.value)==null||He.focus(),J.value==="week"&&Et(It.down))},Ft=He=>{const{code:vt}=He;[It.up,It.down,It.left,It.right,It.home,It.end,It.pageUp,It.pageDown].includes(vt)&&(Et(vt),He.stopPropagation(),He.preventDefault()),[It.enter,It.space,It.numpadEnter].includes(vt)&&M.value===null&&U.value===null&&(He.preventDefault(),re(P.value,!1))},Et=He=>{var vt;const{up:we,down:Ye,left:nt,right:jt,home:Dt,end:Me,pageUp:ft,pageDown:In}=It,rn={year:{[we]:-4,[Ye]:4,[nt]:-1,[jt]:1,offset:(Pn,Xr)=>Pn.setFullYear(Pn.getFullYear()+Xr)},month:{[we]:-4,[Ye]:4,[nt]:-1,[jt]:1,offset:(Pn,Xr)=>Pn.setMonth(Pn.getMonth()+Xr)},week:{[we]:-1,[Ye]:1,[nt]:-1,[jt]:1,offset:(Pn,Xr)=>Pn.setDate(Pn.getDate()+Xr*7)},date:{[we]:-7,[Ye]:7,[nt]:-1,[jt]:1,[Dt]:Pn=>-Pn.getDay(),[Me]:Pn=>-Pn.getDay()+6,[ft]:Pn=>-new Date(Pn.getFullYear(),Pn.getMonth(),0).getDate(),[In]:Pn=>new Date(Pn.getFullYear(),Pn.getMonth()+1,0).getDate(),offset:(Pn,Xr)=>Pn.setDate(Pn.getDate()+Xr)}},qn=P.value.toDate();for(;Math.abs(P.value.diff(qn,"year",!0))<1;){const Pn=rn[ge.value];if(!Pn)return;if(Pn.offset(qn,Lt(Pn[He])?Pn[He](qn):(vt=Pn[He])!=null?vt:0),S&&S(qn))break;const Xr=zt(qn).locale(m.value);P.value=Xr,t("pick",Xr,!0);break}},Ut=He=>{t("panel-change",P.value.toDate(),He,Z.value)};return Ge(()=>J.value,He=>{if(["month","year"].includes(He)){Z.value=He;return}else if(He==="years"){Z.value="year";return}else if(He==="months"){Z.value="month";return}Z.value="date"},{immediate:!0}),Ge(()=>Z.value,()=>{v==null||v.updatePopper()}),Ge(()=>I.value,He=>{He&&(P.value=Xe())},{immediate:!0}),Ge(()=>r.parsedValue,He=>{if(He){if(fe.value||Array.isArray(He))return;P.value=He}else P.value=Xe()},{immediate:!0}),t("set-picker-option",["isValidValue",qe]),t("set-picker-option",["formatToString",rt]),t("set-picker-option",["parseUserInput",Ue]),t("set-picker-option",["handleFocusPicker",Nt]),(He,vt)=>(F(),Q("div",{class:B([f(a).b(),f(l).b(),{"has-sidebar":He.$slots.sidebar||f(me),"has-time":f(de)}])},[te("div",{class:B(f(a).e("body-wrapper"))},[Pe(He.$slots,"sidebar",{class:B(f(a).e("sidebar"))}),f(me)?(F(),Q("div",{key:0,class:B(f(a).e("sidebar"))},[(F(!0),Q(Tt,null,fn(f(_),(we,Ye)=>(F(),Q("button",{key:Ye,type:"button",class:B(f(a).e("shortcut")),onClick:nt=>H(we)},et(we.text),11,["onClick"]))),128))],2)):Ie("v-if",!0),te("div",{class:B(f(a).e("body"))},[f(de)?(F(),Q("div",{key:0,class:B(f(l).e("time-header"))},[te("span",{class:B(f(l).e("editor-wrap"))},[se(f(wo),{placeholder:f(h)("el.datepicker.selectDate"),"model-value":f(tt),size:"small","validate-event":!1,onInput:we=>M.value=we,onChange:Ae},null,8,["placeholder","model-value","onInput"])],2),qt((F(),Q("span",{class:B(f(l).e("editor-wrap"))},[se(f(wo),{placeholder:f(h)("el.datepicker.selectTime"),"model-value":f(De),size:"small","validate-event":!1,onFocus:ze,onInput:we=>U.value=we,onChange:Re},null,8,["placeholder","model-value","onInput"]),se(f(r0),{visible:xe.value,format:f(ce),"parsed-value":P.value,onPick:pe},null,8,["visible","format","parsed-value"])],2)),[[f(ml),ot]])],2)):Ie("v-if",!0),qt(te("div",{class:B([f(l).e("header"),(Z.value==="year"||Z.value==="month")&&f(l).e("header--bordered")])},[te("span",{class:B(f(l).e("prev-btn"))},[te("button",{type:"button","aria-label":f(h)("el.datepicker.prevYear"),class:B(["d-arrow-left",f(a).e("icon-btn")]),onClick:we=>G(!1)},[Pe(He.$slots,"prev-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Vc))]),_:1})])],10,["aria-label","onClick"]),qt(te("button",{type:"button","aria-label":f(h)("el.datepicker.prevMonth"),class:B([f(a).e("icon-btn"),"arrow-left"]),onClick:we=>ee(!1)},[Pe(He.$slots,"prev-month",{},()=>[se(f(St),null,{default:ye(()=>[se(f(xc))]),_:1})])],10,["aria-label","onClick"]),[[Nn,Z.value==="date"]])],2),te("span",{role:"button",class:B(f(l).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:or(we=>$e("year"),["enter"]),onClick:we=>$e("year")},et(f(X)),43,["onKeydown","onClick"]),qt(te("span",{role:"button","aria-live":"polite",tabindex:"0",class:B([f(l).e("header-label"),{active:Z.value==="month"}]),onKeydown:or(we=>$e("month"),["enter"]),onClick:we=>$e("month")},et(f(h)(`el.datepicker.month${f(O)+1}`)),43,["onKeydown","onClick"]),[[Nn,Z.value==="date"]]),te("span",{class:B(f(l).e("next-btn"))},[qt(te("button",{type:"button","aria-label":f(h)("el.datepicker.nextMonth"),class:B([f(a).e("icon-btn"),"arrow-right"]),onClick:we=>ee(!0)},[Pe(He.$slots,"next-month",{},()=>[se(f(St),null,{default:ye(()=>[se(f(ai))]),_:1})])],10,["aria-label","onClick"]),[[Nn,Z.value==="date"]]),te("button",{type:"button","aria-label":f(h)("el.datepicker.nextYear"),class:B([f(a).e("icon-btn"),"d-arrow-right"]),onClick:we=>G(!0)},[Pe(He.$slots,"next-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Fc))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[Nn,Z.value!=="time"]]),te("div",{class:B(f(a).e("content")),onKeydown:Ft},[Z.value==="date"?(F(),Ve(Dk,{key:0,ref_key:"currentViewRef",ref:C,"selection-mode":f(J),date:P.value,"parsed-value":He.parsedValue,"disabled-date":f(S),"cell-class-name":f(T),onPick:ae},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Ie("v-if",!0),Z.value==="year"?(F(),Ve(Mk,{key:1,ref_key:"currentViewRef",ref:C,"selection-mode":f(J),date:P.value,"disabled-date":f(S),"parsed-value":He.parsedValue,onPick:Fe},null,8,["selection-mode","date","disabled-date","parsed-value"])):Ie("v-if",!0),Z.value==="month"?(F(),Ve(Lk,{key:2,ref_key:"currentViewRef",ref:C,"selection-mode":f(J),date:P.value,"parsed-value":He.parsedValue,"disabled-date":f(S),onPick:Ee},null,8,["selection-mode","date","parsed-value","disabled-date"])):Ie("v-if",!0)],34)],2)],2),qt(te("div",{class:B(f(a).e("footer"))},[qt(se(f(lo),{text:"",size:"small",class:B(f(a).e("link-btn")),disabled:f(be),onClick:We},{default:ye(()=>[Jt(et(f(h)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Nn,!f(fe)]]),se(f(lo),{plain:"",size:"small",class:B(f(a).e("link-btn")),disabled:f(Te),onClick:Be},{default:ye(()=>[Jt(et(f(h)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Nn,f(Le)]])],2))}});var kTe=at(ITe,[["__file","panel-date-pick.vue"]]);const RTe=it({...o5,...tA,visible:Boolean}),i5=e=>{const{emit:t}=Qt(),r=Td(),o=co();return l=>{const c=Lt(l.value)?l.value():l.value;if(c){t("pick",[zt(c[0]).locale(e.value),zt(c[1]).locale(e.value)]);return}l.onClick&&l.onClick({attrs:r,slots:o,emit:t})}},a5=(e,{defaultValue:t,leftDate:r,rightDate:o,unit:a,onParsedValueChanged:l})=>{const{emit:c}=Qt(),{pickerNs:d}=pt(Q0),h=Je("date-range-picker"),{t:m,lang:g}=En(),v=i5(g),_=q(),S=q(),T=q({endDate:null,selecting:!1}),b=k=>{T.value=k},I=(k=!1)=>{const N=f(_),O=f(S);Oh([N,O])&&c("pick",[N,O],k)},C=k=>{T.value.selecting=k,k||(T.value.endDate=null)},P=k=>{if(ht(k)&&k.length===2){const[N,O]=k;_.value=N,r.value=N,S.value=O,l(f(_),f(S))}else R()},R=()=>{const[k,N]=rA(f(t),{lang:f(g),unit:a,unlinkPanels:e.unlinkPanels});_.value=void 0,S.value=void 0,r.value=k,o.value=N};return Ge(t,k=>{k&&R()},{immediate:!0}),Ge(()=>e.parsedValue,P,{immediate:!0}),{minDate:_,maxDate:S,rangeState:T,lang:g,ppNs:d,drpNs:h,handleChangeRange:b,handleRangeConfirm:I,handleShortcutClick:v,onSelect:C,onReset:P,t:m}},pb="month",ATe=he({__name:"panel-date-range",props:RTe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const r=e,o=pt("EP_PICKER_BASE"),{disabledDate:a,cellClassName:l,defaultTime:c,clearable:d}=o.props,h=Kn(o.props,"format"),m=Kn(o.props,"shortcuts"),g=Kn(o.props,"defaultValue"),{lang:v}=En(),_=q(zt().locale(v.value)),S=q(zt().locale(v.value).add(1,pb)),{minDate:T,maxDate:b,rangeState:I,ppNs:C,drpNs:P,handleChangeRange:R,handleRangeConfirm:k,handleShortcutClick:N,onSelect:O,onReset:$,t:L}=a5(r,{defaultValue:g,leftDate:_,rightDate:S,unit:pb,onParsedValueChanged:vt});Ge(()=>r.visible,we=>{!we&&I.value.selecting&&($(r.parsedValue),O(!1))});const M=q({min:null,max:null}),U=q({min:null,max:null}),j=D(()=>`${_.value.year()} ${L("el.datepicker.year")} ${L(`el.datepicker.month${_.value.month()+1}`)}`),W=D(()=>`${S.value.year()} ${L("el.datepicker.year")} ${L(`el.datepicker.month${S.value.month()+1}`)}`),re=D(()=>_.value.year()),ae=D(()=>_.value.month()),ee=D(()=>S.value.year()),G=D(()=>S.value.month()),Z=D(()=>!!m.value.length),X=D(()=>M.value.min!==null?M.value.min:T.value?T.value.format(me.value):""),H=D(()=>M.value.max!==null?M.value.max:b.value||T.value?(b.value||T.value).format(me.value):""),J=D(()=>U.value.min!==null?U.value.min:T.value?T.value.format(ge.value):""),fe=D(()=>U.value.max!==null?U.value.max:b.value||T.value?(b.value||T.value).format(ge.value):""),ge=D(()=>r.timeFormat||lH(h.value)),me=D(()=>r.dateFormat||sH(h.value)),Ee=we=>Oh(we)&&(a?!a(we[0].toDate())&&!a(we[1].toDate()):!0),Fe=()=>{_.value=_.value.subtract(1,"year"),r.unlinkPanels||(S.value=_.value.add(1,"month")),ce("year")},$e=()=>{_.value=_.value.subtract(1,"month"),r.unlinkPanels||(S.value=_.value.add(1,"month")),ce("month")},de=()=>{r.unlinkPanels?S.value=S.value.add(1,"year"):(_.value=_.value.add(1,"year"),S.value=_.value.add(1,"month")),ce("year")},Le=()=>{r.unlinkPanels?S.value=S.value.add(1,"month"):(_.value=_.value.add(1,"month"),S.value=_.value.add(1,"month")),ce("month")},Te=()=>{_.value=_.value.add(1,"year"),ce("year")},Be=()=>{_.value=_.value.add(1,"month"),ce("month")},be=()=>{S.value=S.value.subtract(1,"year"),ce("year")},We=()=>{S.value=S.value.subtract(1,"month"),ce("month")},ce=we=>{t("panel-change",[_.value.toDate(),S.value.toDate()],we)},ie=D(()=>{const we=(ae.value+1)%12,Ye=ae.value+1>=12?1:0;return r.unlinkPanels&&new Date(re.value+Ye,we)<new Date(ee.value,G.value)}),De=D(()=>r.unlinkPanels&&ee.value*12+G.value-(re.value*12+ae.value+1)>=12),tt=D(()=>!(T.value&&b.value&&!I.value.selecting&&Oh([T.value,b.value]))),xe=D(()=>r.type==="datetime"||r.type==="datetimerange"),ze=(we,Ye)=>{if(!!we)return c?zt(c[Ye]||c).locale(v.value).year(we.year()).month(we.month()).date(we.date()):we},ot=(we,Ye=!0)=>{const nt=we.minDate,jt=we.maxDate,Dt=ze(nt,0),Me=ze(jt,1);b.value===Me&&T.value===Dt||(t("calendar-change",[nt.toDate(),jt&&jt.toDate()]),b.value=Me,T.value=Dt,!(!Ye||xe.value)&&k())},le=q(!1),pe=q(!1),Re=()=>{le.value=!1},Ae=()=>{pe.value=!1},qe=(we,Ye)=>{M.value[Ye]=we;const nt=zt(we,me.value).locale(v.value);if(nt.isValid()){if(a&&a(nt.toDate()))return;Ye==="min"?(_.value=nt,T.value=(T.value||_.value).year(nt.year()).month(nt.month()).date(nt.date()),!r.unlinkPanels&&(!b.value||b.value.isBefore(T.value))&&(S.value=nt.add(1,"month"),b.value=T.value.add(1,"month"))):(S.value=nt,b.value=(b.value||S.value).year(nt.year()).month(nt.month()).date(nt.date()),!r.unlinkPanels&&(!T.value||T.value.isAfter(b.value))&&(_.value=nt.subtract(1,"month"),T.value=b.value.subtract(1,"month")))}},rt=(we,Ye)=>{M.value[Ye]=null},Ue=(we,Ye)=>{U.value[Ye]=we;const nt=zt(we,ge.value).locale(v.value);nt.isValid()&&(Ye==="min"?(le.value=!0,T.value=(T.value||_.value).hour(nt.hour()).minute(nt.minute()).second(nt.second())):(pe.value=!0,b.value=(b.value||S.value).hour(nt.hour()).minute(nt.minute()).second(nt.second()),S.value=b.value))},Xe=(we,Ye)=>{U.value[Ye]=null,Ye==="min"?(_.value=T.value,le.value=!1,(!b.value||b.value.isBefore(T.value))&&(b.value=T.value)):(S.value=b.value,pe.value=!1,b.value&&b.value.isBefore(T.value)&&(T.value=b.value))},Nt=(we,Ye,nt)=>{U.value.min||(we&&(_.value=we,T.value=(T.value||_.value).hour(we.hour()).minute(we.minute()).second(we.second())),nt||(le.value=Ye),(!b.value||b.value.isBefore(T.value))&&(b.value=T.value,S.value=we))},Ft=(we,Ye,nt)=>{U.value.max||(we&&(S.value=we,b.value=(b.value||S.value).hour(we.hour()).minute(we.minute()).second(we.second())),nt||(pe.value=Ye),b.value&&b.value.isBefore(T.value)&&(T.value=b.value))},Et=()=>{_.value=rA(f(g),{lang:f(v),unit:"month",unlinkPanels:r.unlinkPanels})[0],S.value=_.value.add(1,"month"),b.value=void 0,T.value=void 0,t("pick",null)},Ut=we=>ht(we)?we.map(Ye=>Ye.format(h.value)):we.format(h.value),He=we=>ht(we)?we.map(Ye=>zt(Ye,h.value).locale(v.value)):zt(we,h.value).locale(v.value);function vt(we,Ye){if(r.unlinkPanels&&Ye){const nt=(we==null?void 0:we.year())||0,jt=(we==null?void 0:we.month())||0,Dt=Ye.year(),Me=Ye.month();S.value=nt===Dt&&jt===Me?Ye.add(1,pb):Ye}else S.value=_.value.add(1,pb),Ye&&(S.value=S.value.hour(Ye.hour()).minute(Ye.minute()).second(Ye.second()))}return t("set-picker-option",["isValidValue",Ee]),t("set-picker-option",["parseUserInput",He]),t("set-picker-option",["formatToString",Ut]),t("set-picker-option",["handleClear",Et]),(we,Ye)=>(F(),Q("div",{class:B([f(C).b(),f(P).b(),{"has-sidebar":we.$slots.sidebar||f(Z),"has-time":f(xe)}])},[te("div",{class:B(f(C).e("body-wrapper"))},[Pe(we.$slots,"sidebar",{class:B(f(C).e("sidebar"))}),f(Z)?(F(),Q("div",{key:0,class:B(f(C).e("sidebar"))},[(F(!0),Q(Tt,null,fn(f(m),(nt,jt)=>(F(),Q("button",{key:jt,type:"button",class:B(f(C).e("shortcut")),onClick:Dt=>f(N)(nt)},et(nt.text),11,["onClick"]))),128))],2)):Ie("v-if",!0),te("div",{class:B(f(C).e("body"))},[f(xe)?(F(),Q("div",{key:0,class:B(f(P).e("time-header"))},[te("span",{class:B(f(P).e("editors-wrap"))},[te("span",{class:B(f(P).e("time-picker-wrap"))},[se(f(wo),{size:"small",disabled:f(I).selecting,placeholder:f(L)("el.datepicker.startDate"),class:B(f(P).e("editor")),"model-value":f(X),"validate-event":!1,onInput:nt=>qe(nt,"min"),onChange:nt=>rt(nt,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),qt((F(),Q("span",{class:B(f(P).e("time-picker-wrap"))},[se(f(wo),{size:"small",class:B(f(P).e("editor")),disabled:f(I).selecting,placeholder:f(L)("el.datepicker.startTime"),"model-value":f(J),"validate-event":!1,onFocus:nt=>le.value=!0,onInput:nt=>Ue(nt,"min"),onChange:nt=>Xe(nt,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),se(f(r0),{visible:le.value,format:f(ge),"datetime-role":"start","parsed-value":_.value,onPick:Nt},null,8,["visible","format","parsed-value"])],2)),[[f(ml),Re]])],2),te("span",null,[se(f(St),null,{default:ye(()=>[se(f(ai))]),_:1})]),te("span",{class:B([f(P).e("editors-wrap"),"is-right"])},[te("span",{class:B(f(P).e("time-picker-wrap"))},[se(f(wo),{size:"small",class:B(f(P).e("editor")),disabled:f(I).selecting,placeholder:f(L)("el.datepicker.endDate"),"model-value":f(H),readonly:!f(T),"validate-event":!1,onInput:nt=>qe(nt,"max"),onChange:nt=>rt(nt,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),qt((F(),Q("span",{class:B(f(P).e("time-picker-wrap"))},[se(f(wo),{size:"small",class:B(f(P).e("editor")),disabled:f(I).selecting,placeholder:f(L)("el.datepicker.endTime"),"model-value":f(fe),readonly:!f(T),"validate-event":!1,onFocus:nt=>f(T)&&(pe.value=!0),onInput:nt=>Ue(nt,"max"),onChange:nt=>Xe(nt,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),se(f(r0),{"datetime-role":"end",visible:pe.value,format:f(ge),"parsed-value":S.value,onPick:Ft},null,8,["visible","format","parsed-value"])],2)),[[f(ml),Ae]])],2)],2)):Ie("v-if",!0),te("div",{class:B([[f(C).e("content"),f(P).e("content")],"is-left"])},[te("div",{class:B(f(P).e("header"))},[te("button",{type:"button",class:B([f(C).e("icon-btn"),"d-arrow-left"]),"aria-label":f(L)("el.datepicker.prevYear"),onClick:Fe},[Pe(we.$slots,"prev-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Vc))]),_:1})])],10,["aria-label"]),te("button",{type:"button",class:B([f(C).e("icon-btn"),"arrow-left"]),"aria-label":f(L)("el.datepicker.prevMonth"),onClick:$e},[Pe(we.$slots,"prev-month",{},()=>[se(f(St),null,{default:ye(()=>[se(f(xc))]),_:1})])],10,["aria-label"]),we.unlinkPanels?(F(),Q("button",{key:0,type:"button",disabled:!f(De),class:B([[f(C).e("icon-btn"),{"is-disabled":!f(De)}],"d-arrow-right"]),"aria-label":f(L)("el.datepicker.nextYear"),onClick:Te},[Pe(we.$slots,"next-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Fc))]),_:1})])],10,["disabled","aria-label"])):Ie("v-if",!0),we.unlinkPanels?(F(),Q("button",{key:1,type:"button",disabled:!f(ie),class:B([[f(C).e("icon-btn"),{"is-disabled":!f(ie)}],"arrow-right"]),"aria-label":f(L)("el.datepicker.nextMonth"),onClick:Be},[Pe(we.$slots,"next-month",{},()=>[se(f(St),null,{default:ye(()=>[se(f(ai))]),_:1})])],10,["disabled","aria-label"])):Ie("v-if",!0),te("div",null,et(f(j)),1)],2),se(Dk,{"selection-mode":"range",date:_.value,"min-date":f(T),"max-date":f(b),"range-state":f(I),"disabled-date":f(a),"cell-class-name":f(l),onChangerange:f(R),onPick:ot,onSelect:f(O)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),te("div",{class:B([[f(C).e("content"),f(P).e("content")],"is-right"])},[te("div",{class:B(f(P).e("header"))},[we.unlinkPanels?(F(),Q("button",{key:0,type:"button",disabled:!f(De),class:B([[f(C).e("icon-btn"),{"is-disabled":!f(De)}],"d-arrow-left"]),"aria-label":f(L)("el.datepicker.prevYear"),onClick:be},[Pe(we.$slots,"prev-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Vc))]),_:1})])],10,["disabled","aria-label"])):Ie("v-if",!0),we.unlinkPanels?(F(),Q("button",{key:1,type:"button",disabled:!f(ie),class:B([[f(C).e("icon-btn"),{"is-disabled":!f(ie)}],"arrow-left"]),"aria-label":f(L)("el.datepicker.prevMonth"),onClick:We},[Pe(we.$slots,"prev-month",{},()=>[se(f(St),null,{default:ye(()=>[se(f(xc))]),_:1})])],10,["disabled","aria-label"])):Ie("v-if",!0),te("button",{type:"button","aria-label":f(L)("el.datepicker.nextYear"),class:B([f(C).e("icon-btn"),"d-arrow-right"]),onClick:de},[Pe(we.$slots,"next-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Fc))]),_:1})])],10,["aria-label"]),te("button",{type:"button",class:B([f(C).e("icon-btn"),"arrow-right"]),"aria-label":f(L)("el.datepicker.nextMonth"),onClick:Le},[Pe(we.$slots,"next-month",{},()=>[se(f(St),null,{default:ye(()=>[se(f(ai))]),_:1})])],10,["aria-label"]),te("div",null,et(f(W)),1)],2),se(Dk,{"selection-mode":"range",date:S.value,"min-date":f(T),"max-date":f(b),"range-state":f(I),"disabled-date":f(a),"cell-class-name":f(l),onChangerange:f(R),onPick:ot,onSelect:f(O)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),f(xe)?(F(),Q("div",{key:0,class:B(f(C).e("footer"))},[f(d)?(F(),Ve(f(lo),{key:0,text:"",size:"small",class:B(f(C).e("link-btn")),onClick:Et},{default:ye(()=>[Jt(et(f(L)("el.datepicker.clear")),1)]),_:1},8,["class"])):Ie("v-if",!0),se(f(lo),{plain:"",size:"small",class:B(f(C).e("link-btn")),disabled:f(tt),onClick:nt=>f(k)(!1)},{default:ye(()=>[Jt(et(f(L)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Ie("v-if",!0)],2))}});var OTe=at(ATe,[["__file","panel-date-range.vue"]]);const NTe=it({...tA}),PTe=["pick","set-picker-option","calendar-change"],DTe=({unlinkPanels:e,leftDate:t,rightDate:r})=>{const{t:o}=En(),a=()=>{t.value=t.value.subtract(1,"year"),e.value||(r.value=r.value.subtract(1,"year"))},l=()=>{e.value||(t.value=t.value.add(1,"year")),r.value=r.value.add(1,"year")},c=()=>{t.value=t.value.add(1,"year")},d=()=>{r.value=r.value.subtract(1,"year")},h=D(()=>`${t.value.year()} ${o("el.datepicker.year")}`),m=D(()=>`${r.value.year()} ${o("el.datepicker.year")}`),g=D(()=>t.value.year()),v=D(()=>r.value.year()===t.value.year()?t.value.year()+1:r.value.year());return{leftPrevYear:a,rightNextYear:l,leftNextYear:c,rightPrevYear:d,leftLabel:h,rightLabel:m,leftYear:g,rightYear:v}},mb="year",LTe=he({name:"DatePickerMonthRange"}),MTe=he({...LTe,props:NTe,emits:PTe,setup(e,{emit:t}){const r=e,{lang:o}=En(),a=pt("EP_PICKER_BASE"),{shortcuts:l,disabledDate:c}=a.props,d=Kn(a.props,"format"),h=Kn(a.props,"defaultValue"),m=q(zt().locale(o.value)),g=q(zt().locale(o.value).add(1,mb)),{minDate:v,maxDate:_,rangeState:S,ppNs:T,drpNs:b,handleChangeRange:I,handleRangeConfirm:C,handleShortcutClick:P,onSelect:R}=a5(r,{defaultValue:h,leftDate:m,rightDate:g,unit:mb,onParsedValueChanged:X}),k=D(()=>!!l.length),{leftPrevYear:N,rightNextYear:O,leftNextYear:$,rightPrevYear:L,leftLabel:M,rightLabel:U,leftYear:j,rightYear:W}=DTe({unlinkPanels:Kn(r,"unlinkPanels"),leftDate:m,rightDate:g}),re=D(()=>r.unlinkPanels&&W.value>j.value+1),ae=(H,J=!0)=>{const fe=H.minDate,ge=H.maxDate;_.value===ge&&v.value===fe||(t("calendar-change",[fe.toDate(),ge&&ge.toDate()]),_.value=ge,v.value=fe,J&&C())},ee=()=>{m.value=rA(f(h),{lang:f(o),unit:"year",unlinkPanels:r.unlinkPanels})[0],g.value=m.value.add(1,"year"),t("pick",null)},G=H=>ht(H)?H.map(J=>J.format(d.value)):H.format(d.value),Z=H=>ht(H)?H.map(J=>zt(J,d.value).locale(o.value)):zt(H,d.value).locale(o.value);function X(H,J){if(r.unlinkPanels&&J){const fe=(H==null?void 0:H.year())||0,ge=J.year();g.value=fe===ge?J.add(1,mb):J}else g.value=m.value.add(1,mb)}return t("set-picker-option",["isValidValue",Oh]),t("set-picker-option",["formatToString",G]),t("set-picker-option",["parseUserInput",Z]),t("set-picker-option",["handleClear",ee]),(H,J)=>(F(),Q("div",{class:B([f(T).b(),f(b).b(),{"has-sidebar":Boolean(H.$slots.sidebar)||f(k)}])},[te("div",{class:B(f(T).e("body-wrapper"))},[Pe(H.$slots,"sidebar",{class:B(f(T).e("sidebar"))}),f(k)?(F(),Q("div",{key:0,class:B(f(T).e("sidebar"))},[(F(!0),Q(Tt,null,fn(f(l),(fe,ge)=>(F(),Q("button",{key:ge,type:"button",class:B(f(T).e("shortcut")),onClick:me=>f(P)(fe)},et(fe.text),11,["onClick"]))),128))],2)):Ie("v-if",!0),te("div",{class:B(f(T).e("body"))},[te("div",{class:B([[f(T).e("content"),f(b).e("content")],"is-left"])},[te("div",{class:B(f(b).e("header"))},[te("button",{type:"button",class:B([f(T).e("icon-btn"),"d-arrow-left"]),onClick:f(N)},[Pe(H.$slots,"prev-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Vc))]),_:1})])],10,["onClick"]),H.unlinkPanels?(F(),Q("button",{key:0,type:"button",disabled:!f(re),class:B([[f(T).e("icon-btn"),{[f(T).is("disabled")]:!f(re)}],"d-arrow-right"]),onClick:f($)},[Pe(H.$slots,"next-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Fc))]),_:1})])],10,["disabled","onClick"])):Ie("v-if",!0),te("div",null,et(f(M)),1)],2),se(Lk,{"selection-mode":"range",date:m.value,"min-date":f(v),"max-date":f(_),"range-state":f(S),"disabled-date":f(c),onChangerange:f(I),onPick:ae,onSelect:f(R)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),te("div",{class:B([[f(T).e("content"),f(b).e("content")],"is-right"])},[te("div",{class:B(f(b).e("header"))},[H.unlinkPanels?(F(),Q("button",{key:0,type:"button",disabled:!f(re),class:B([[f(T).e("icon-btn"),{"is-disabled":!f(re)}],"d-arrow-left"]),onClick:f(L)},[Pe(H.$slots,"prev-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Vc))]),_:1})])],10,["disabled","onClick"])):Ie("v-if",!0),te("button",{type:"button",class:B([f(T).e("icon-btn"),"d-arrow-right"]),onClick:f(O)},[Pe(H.$slots,"next-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Fc))]),_:1})])],10,["onClick"]),te("div",null,et(f(U)),1)],2),se(Lk,{"selection-mode":"range",date:g.value,"min-date":f(v),"max-date":f(_),"range-state":f(S),"disabled-date":f(c),onChangerange:f(I),onPick:ae,onSelect:f(R)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var xTe=at(MTe,[["__file","panel-month-range.vue"]]);const VTe=it({...tA}),FTe=["pick","set-picker-option","calendar-change"],$Te=({unlinkPanels:e,leftDate:t,rightDate:r})=>{const o=()=>{t.value=t.value.subtract(10,"year"),e.value||(r.value=r.value.subtract(10,"year"))},a=()=>{e.value||(t.value=t.value.add(10,"year")),r.value=r.value.add(10,"year")},l=()=>{t.value=t.value.add(10,"year")},c=()=>{r.value=r.value.subtract(10,"year")},d=D(()=>{const v=Math.floor(t.value.year()/10)*10;return`${v}-${v+9}`}),h=D(()=>{const v=Math.floor(r.value.year()/10)*10;return`${v}-${v+9}`}),m=D(()=>Math.floor(t.value.year()/10)*10+9),g=D(()=>Math.floor(r.value.year()/10)*10);return{leftPrevYear:o,rightNextYear:a,leftNextYear:l,rightPrevYear:c,leftLabel:d,rightLabel:h,leftYear:m,rightYear:g}},z$="year",UTe=he({name:"DatePickerYearRange"}),BTe=he({...UTe,props:VTe,emits:FTe,setup(e,{emit:t}){const r=e,{lang:o}=En(),a=q(zt().locale(o.value)),l=q(a.value.add(10,"year")),{pickerNs:c}=pt(Q0),d=Je("date-range-picker"),h=D(()=>!!ae.length),m=D(()=>[c.b(),d.b(),{"has-sidebar":Boolean(co().sidebar)||h.value}]),g=D(()=>({content:[c.e("content"),d.e("content"),"is-left"],arrowLeftBtn:[c.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[c.e("icon-btn"),{[c.is("disabled")]:!N.value},"d-arrow-right"]})),v=D(()=>({content:[c.e("content"),d.e("content"),"is-right"],arrowLeftBtn:[c.e("icon-btn"),{"is-disabled":!N.value},"d-arrow-left"],arrowRightBtn:[c.e("icon-btn"),"d-arrow-right"]})),_=i5(o),{leftPrevYear:S,rightNextYear:T,leftNextYear:b,rightPrevYear:I,leftLabel:C,rightLabel:P,leftYear:R,rightYear:k}=$Te({unlinkPanels:Kn(r,"unlinkPanels"),leftDate:a,rightDate:l}),N=D(()=>r.unlinkPanels&&k.value>R.value+1),O=q(),$=q(),L=q({endDate:null,selecting:!1}),M=me=>{L.value=me},U=(me,Ee=!0)=>{const Fe=me.minDate,$e=me.maxDate;$.value===$e&&O.value===Fe||(t("calendar-change",[Fe.toDate(),$e&&$e.toDate()]),$.value=$e,O.value=Fe,Ee&&j())},j=(me=!1)=>{Oh([O.value,$.value])&&t("pick",[O.value,$.value],me)},W=me=>{L.value.selecting=me,me||(L.value.endDate=null)},re=pt("EP_PICKER_BASE"),{shortcuts:ae,disabledDate:ee}=re.props,G=Kn(re.props,"format"),Z=Kn(re.props,"defaultValue"),X=()=>{let me;if(ht(Z.value)){const Ee=zt(Z.value[0]);let Fe=zt(Z.value[1]);return r.unlinkPanels||(Fe=Ee.add(10,z$)),[Ee,Fe]}else Z.value?me=zt(Z.value):me=zt();return me=me.locale(o.value),[me,me.add(10,z$)]};Ge(()=>Z.value,me=>{if(me){const Ee=X();a.value=Ee[0],l.value=Ee[1]}},{immediate:!0}),Ge(()=>r.parsedValue,me=>{if(me&&me.length===2)if(O.value=me[0],$.value=me[1],a.value=O.value,r.unlinkPanels&&$.value){const Ee=O.value.year(),Fe=$.value.year();l.value=Ee===Fe?$.value.add(10,"year"):$.value}else l.value=a.value.add(10,"year");else{const Ee=X();O.value=void 0,$.value=void 0,a.value=Ee[0],l.value=Ee[1]}},{immediate:!0});const H=me=>ht(me)?me.map(Ee=>zt(Ee,G.value).locale(o.value)):zt(me,G.value).locale(o.value),J=me=>ht(me)?me.map(Ee=>Ee.format(G.value)):me.format(G.value),fe=me=>Oh(me)&&(ee?!ee(me[0].toDate())&&!ee(me[1].toDate()):!0),ge=()=>{const me=X();a.value=me[0],l.value=me[1],$.value=void 0,O.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",fe]),t("set-picker-option",["parseUserInput",H]),t("set-picker-option",["formatToString",J]),t("set-picker-option",["handleClear",ge]),(me,Ee)=>(F(),Q("div",{class:B(f(m))},[te("div",{class:B(f(c).e("body-wrapper"))},[Pe(me.$slots,"sidebar",{class:B(f(c).e("sidebar"))}),f(h)?(F(),Q("div",{key:0,class:B(f(c).e("sidebar"))},[(F(!0),Q(Tt,null,fn(f(ae),(Fe,$e)=>(F(),Q("button",{key:$e,type:"button",class:B(f(c).e("shortcut")),onClick:de=>f(_)(Fe)},et(Fe.text),11,["onClick"]))),128))],2)):Ie("v-if",!0),te("div",{class:B(f(c).e("body"))},[te("div",{class:B(f(g).content)},[te("div",{class:B(f(d).e("header"))},[te("button",{type:"button",class:B(f(g).arrowLeftBtn),onClick:f(S)},[Pe(me.$slots,"prev-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Vc))]),_:1})])],10,["onClick"]),me.unlinkPanels?(F(),Q("button",{key:0,type:"button",disabled:!f(N),class:B(f(g).arrowRightBtn),onClick:f(b)},[Pe(me.$slots,"next-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Fc))]),_:1})])],10,["disabled","onClick"])):Ie("v-if",!0),te("div",null,et(f(C)),1)],2),se(Mk,{"selection-mode":"range",date:a.value,"min-date":O.value,"max-date":$.value,"range-state":L.value,"disabled-date":f(ee),onChangerange:M,onPick:U,onSelect:W},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),te("div",{class:B(f(v).content)},[te("div",{class:B(f(d).e("header"))},[me.unlinkPanels?(F(),Q("button",{key:0,type:"button",disabled:!f(N),class:B(f(v).arrowLeftBtn),onClick:f(I)},[Pe(me.$slots,"prev-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Vc))]),_:1})])],10,["disabled","onClick"])):Ie("v-if",!0),te("button",{type:"button",class:B(f(v).arrowRightBtn),onClick:f(T)},[Pe(me.$slots,"next-year",{},()=>[se(f(St),null,{default:ye(()=>[se(f(Fc))]),_:1})])],10,["onClick"]),te("div",null,et(f(P)),1)],2),se(Mk,{"selection-mode":"range",date:l.value,"min-date":O.value,"max-date":$.value,"range-state":L.value,"disabled-date":f(ee),onChangerange:M,onPick:U,onSelect:W},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var HTe=at(BTe,[["__file","panel-year-range.vue"]]);const jTe=function(e){switch(e){case"daterange":case"datetimerange":return OTe;case"monthrange":return xTe;case"yearrange":return HTe;default:return kTe}};zt.extend(CH);zt.extend(aTe);zt.extend(XR);zt.extend(sTe);zt.extend(lTe);zt.extend(cTe);zt.extend(uTe);zt.extend(dTe);var WTe=he({name:"ElDatePicker",install:null,props:fTe,emits:["update:modelValue"],setup(e,{expose:t,emit:r,slots:o}){const a=Je("picker-panel");pn("ElPopperOptions",Un(Kn(e,"popperOptions"))),pn(Q0,{slots:o,pickerNs:a});const l=q();t({focus:(h=!0)=>{var m;(m=l.value)==null||m.focus(h)},handleOpen:()=>{var h;(h=l.value)==null||h.handleOpen()},handleClose:()=>{var h;(h=l.value)==null||h.handleClose()}});const d=h=>{r("update:modelValue",h)};return()=>{var h;const m=(h=e.format)!=null?h:Vbe[e.type]||Yf,g=jTe(e.type);return se(dH,sn(e,{format:m,type:e.type,ref:l,"onUpdate:modelValue":d}),{default:v=>se(g,v,{"prev-month":o["prev-month"],"next-month":o["next-month"],"prev-year":o["prev-year"],"next-year":o["next-year"]}),"range-separator":o["range-separator"]})}}});const zTe=Kt(WTe),iA=Symbol("elDescriptions");var Ym=he({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:pt(iA,{})}},render(){var e,t,r,o,a,l,c;const d=Upe(this.cell),h=(((e=this.cell)==null?void 0:e.dirs)||[]).map(N=>{const{dir:O,arg:$,modifiers:L,value:M}=N;return[O,M,$,L]}),{border:m,direction:g}=this.descriptions,v=g==="vertical",_=((o=(r=(t=this.cell)==null?void 0:t.children)==null?void 0:r.label)==null?void 0:o.call(r))||d.label,S=(c=(l=(a=this.cell)==null?void 0:a.children)==null?void 0:l.default)==null?void 0:c.call(l),T=d.span,b=d.align?`is-${d.align}`:"",I=d.labelAlign?`is-${d.labelAlign}`:b,C=d.className,P=d.labelClassName,R={width:Or(d.width),minWidth:Or(d.minWidth)},k=Je("descriptions");switch(this.type){case"label":return qt(Ot(this.tag,{style:R,class:[k.e("cell"),k.e("label"),k.is("bordered-label",m),k.is("vertical-label",v),I,P],colSpan:v?T:1},_),h);case"content":return qt(Ot(this.tag,{style:R,class:[k.e("cell"),k.e("content"),k.is("bordered-content",m),k.is("vertical-content",v),b,C],colSpan:v?T:T*2-1},S),h);default:return qt(Ot("td",{style:R,class:[k.e("cell"),b],colSpan:T},[yo(_)?void 0:Ot("span",{class:[k.e("label"),P]},_),Ot("span",{class:[k.e("content"),C]},S)]),h)}}});const KTe=it({row:{type:Se(Array),default:()=>[]}}),GTe=he({name:"ElDescriptionsRow"}),qTe=he({...GTe,props:KTe,setup(e){const t=pt(iA,{});return(r,o)=>f(t).direction==="vertical"?(F(),Q(Tt,{key:0},[te("tr",null,[(F(!0),Q(Tt,null,fn(r.row,(a,l)=>(F(),Ve(f(Ym),{key:`tr1-${l}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),te("tr",null,[(F(!0),Q(Tt,null,fn(r.row,(a,l)=>(F(),Ve(f(Ym),{key:`tr2-${l}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(F(),Q("tr",{key:1},[(F(!0),Q(Tt,null,fn(r.row,(a,l)=>(F(),Q(Tt,{key:`tr3-${l}`},[f(t).border?(F(),Q(Tt,{key:0},[se(f(Ym),{cell:a,tag:"td",type:"label"},null,8,["cell"]),se(f(Ym),{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(F(),Ve(f(Ym),{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var YTe=at(qTe,[["__file","descriptions-row.vue"]]);const JTe=it({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:no,title:{type:String,default:""},extra:{type:String,default:""}}),XTe=he({name:"ElDescriptions"}),QTe=he({...XTe,props:JTe,setup(e){const t=e,r=Je("descriptions"),o=Jr(),a=co();pn(iA,t);const l=D(()=>[r.b(),r.m(o.value)]),c=(h,m,g,v=!1)=>(h.props||(h.props={}),m>g&&(h.props.span=g),v&&(h.props.span=m),h),d=()=>{if(!a.default)return[];const h=Rc(a.default()).filter(S=>{var T;return((T=S==null?void 0:S.type)==null?void 0:T.name)==="ElDescriptionsItem"}),m=[];let g=[],v=t.column,_=0;return h.forEach((S,T)=>{var b;const I=((b=S.props)==null?void 0:b.span)||1;if(T<h.length-1&&(_+=I>v?v:I),T===h.length-1){const C=t.column-_%t.column;g.push(c(S,C,v,!0)),m.push(g);return}I<v?(v-=I,g.push(S)):(g.push(c(S,I,v)),m.push(g),v=t.column,g=[])}),m};return(h,m)=>(F(),Q("div",{class:B(f(l))},[h.title||h.extra||h.$slots.title||h.$slots.extra?(F(),Q("div",{key:0,class:B(f(r).e("header"))},[te("div",{class:B(f(r).e("title"))},[Pe(h.$slots,"title",{},()=>[Jt(et(h.title),1)])],2),te("div",{class:B(f(r).e("extra"))},[Pe(h.$slots,"extra",{},()=>[Jt(et(h.extra),1)])],2)],2)):Ie("v-if",!0),te("div",{class:B(f(r).e("body"))},[te("table",{class:B([f(r).e("table"),f(r).is("bordered",h.border)])},[te("tbody",null,[(F(!0),Q(Tt,null,fn(d(),(g,v)=>(F(),Ve(YTe,{key:v,row:g},null,8,["row"]))),128))])],2)],2)],2))}});var ZTe=at(QTe,[["__file","description.vue"]]);const eCe=it({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),s5=he({name:"ElDescriptionsItem",props:eCe}),tCe=Kt(ZTe,{DescriptionsItem:s5}),nCe=Tr(s5),rCe=it({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Se([String,Array,Object])},zIndex:{type:Se([String,Number])}}),oCe={click:e=>e instanceof MouseEvent},iCe="overlay";var aCe=he({name:"ElOverlay",props:rCe,emits:oCe,setup(e,{slots:t,emit:r}){const o=Je(iCe),a=h=>{r("click",h)},{onClick:l,onMousedown:c,onMouseup:d}=MR(e.customMaskEvent?void 0:a);return()=>e.mask?se("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:l,onMousedown:c,onMouseup:d},[Pe(t,"default")],la.STYLE|la.CLASS|la.PROPS,["onClick","onMouseup","onMousedown"]):Ot("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Pe(t,"default")])}});const aA=aCe,l5=Symbol("dialogInjectionKey"),c5=it({center:Boolean,alignCenter:Boolean,closeIcon:{type:ir},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),sCe={close:()=>!0},lCe=he({name:"ElDialogContent"}),cCe=he({...lCe,props:c5,emits:sCe,setup(e,{expose:t}){const r=e,{t:o}=En(),{Close:a}=SR,{dialogRef:l,headerRef:c,bodyId:d,ns:h,style:m}=pt(l5),{focusTrapRef:g}=pt(qR),v=D(()=>[h.b(),h.is("fullscreen",r.fullscreen),h.is("draggable",r.draggable),h.is("align-center",r.alignCenter),{[h.m("center")]:r.center}]),_=$0(g,l),S=D(()=>r.draggable),T=D(()=>r.overflow),{resetPostion:b}=e6(l,c,S,T);return t({resetPostion:b}),(I,C)=>(F(),Q("div",{ref:f(_),class:B(f(v)),style:kt(f(m)),tabindex:"-1"},[te("header",{ref_key:"headerRef",ref:c,class:B([f(h).e("header"),{"show-close":I.showClose}])},[Pe(I.$slots,"header",{},()=>[te("span",{role:"heading","aria-level":I.ariaLevel,class:B(f(h).e("title"))},et(I.title),11,["aria-level"])]),I.showClose?(F(),Q("button",{key:0,"aria-label":f(o)("el.dialog.close"),class:B(f(h).e("headerbtn")),type:"button",onClick:P=>I.$emit("close")},[se(f(St),{class:B(f(h).e("close"))},{default:ye(()=>[(F(),Ve(ln(I.closeIcon||f(a))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Ie("v-if",!0)],2),te("div",{id:f(d),class:B(f(h).e("body"))},[Pe(I.$slots,"default")],10,["id"]),I.$slots.footer?(F(),Q("footer",{key:0,class:B(f(h).e("footer"))},[Pe(I.$slots,"footer")],2)):Ie("v-if",!0)],6))}});var uCe=at(cCe,[["__file","dialog-content.vue"]]);const u5=it({...c5,appendToBody:Boolean,appendTo:{type:Se([String,Object]),default:"body"},beforeClose:{type:Se(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),d5={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[tn]:e=>Vr(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},f5=(e,t)=>{var r;const a=Qt().emit,{nextZIndex:l}=zh();let c="";const d=Mo(),h=Mo(),m=q(!1),g=q(!1),v=q(!1),_=q((r=e.zIndex)!=null?r:l());let S,T;const b=z0("namespace",hv),I=D(()=>{const ee={},G=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(ee[`${G}-margin-top`]=e.top),e.width&&(ee[`${G}-width`]=Or(e.width))),ee}),C=D(()=>e.alignCenter?{display:"flex"}:{});function P(){a("opened")}function R(){a("closed"),a(tn,!1),e.destroyOnClose&&(v.value=!1)}function k(){a("close")}function N(){T==null||T(),S==null||S(),e.openDelay&&e.openDelay>0?{stop:S}=md(()=>M(),e.openDelay):M()}function O(){S==null||S(),T==null||T(),e.closeDelay&&e.closeDelay>0?{stop:T}=md(()=>U(),e.closeDelay):U()}function $(){function ee(G){G||(g.value=!0,m.value=!1)}e.beforeClose?e.beforeClose(ee):O()}function L(){e.closeOnClickModal&&$()}function M(){!Sn||(m.value=!0)}function U(){m.value=!1}function j(){a("openAutoFocus")}function W(){a("closeAutoFocus")}function re(ee){var G;((G=ee.detail)==null?void 0:G.focusReason)==="pointer"&&ee.preventDefault()}e.lockScroll&&IR(m);function ae(){e.closeOnPressEscape&&$()}return Ge(()=>e.modelValue,ee=>{ee?(g.value=!1,N(),v.value=!0,_.value=H8(e.zIndex)?l():_.value++,wt(()=>{a("open"),t.value&&(t.value.scrollTop=0)})):m.value&&O()}),Ge(()=>e.fullscreen,ee=>{!t.value||(ee?(c=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=c)}),Zt(()=>{e.modelValue&&(m.value=!0,v.value=!0,N())}),{afterEnter:P,afterLeave:R,beforeLeave:k,handleClose:$,onModalClick:L,close:O,doClose:U,onOpenAutoFocus:j,onCloseAutoFocus:W,onCloseRequested:ae,onFocusoutPrevented:re,titleId:d,bodyId:h,closed:g,style:I,overlayDialogStyle:C,rendered:v,visible:m,zIndex:_}},dCe=he({name:"ElDialog",inheritAttrs:!1}),fCe=he({...dCe,props:u5,emits:d5,setup(e,{expose:t}){const r=e,o=co();Ac({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},D(()=>!!o.title));const a=Je("dialog"),l=q(),c=q(),d=q(),{visible:h,titleId:m,bodyId:g,style:v,overlayDialogStyle:_,rendered:S,zIndex:T,afterEnter:b,afterLeave:I,beforeLeave:C,handleClose:P,onModalClick:R,onOpenAutoFocus:k,onCloseAutoFocus:N,onCloseRequested:O,onFocusoutPrevented:$}=f5(r,l);pn(l5,{dialogRef:l,headerRef:c,bodyId:g,ns:a,rendered:S,style:v});const L=MR(R),M=D(()=>r.draggable&&!r.fullscreen);return t({visible:h,dialogContentRef:d,resetPostion:()=>{d.value.resetPostion()}}),(j,W)=>(F(),Ve(f(qh),{to:j.appendTo,disabled:j.appendTo!=="body"?!1:!j.appendToBody},{default:ye(()=>[se(eo,{name:"dialog-fade",onAfterEnter:f(b),onAfterLeave:f(I),onBeforeLeave:f(C),persisted:""},{default:ye(()=>[qt(se(f(aA),{"custom-mask-event":"",mask:j.modal,"overlay-class":j.modalClass,"z-index":f(T)},{default:ye(()=>[te("div",{role:"dialog","aria-modal":"true","aria-label":j.title||void 0,"aria-labelledby":j.title?void 0:f(m),"aria-describedby":f(g),class:B(`${f(a).namespace.value}-overlay-dialog`),style:kt(f(_)),onClick:f(L).onClick,onMousedown:f(L).onMousedown,onMouseup:f(L).onMouseup},[se(f(bg),{loop:"",trapped:f(h),"focus-start-el":"container",onFocusAfterTrapped:f(k),onFocusAfterReleased:f(N),onFocusoutPrevented:f($),onReleaseRequested:f(O)},{default:ye(()=>[f(S)?(F(),Ve(uCe,sn({key:0,ref_key:"dialogContentRef",ref:d},j.$attrs,{center:j.center,"align-center":j.alignCenter,"close-icon":j.closeIcon,draggable:f(M),overflow:j.overflow,fullscreen:j.fullscreen,"show-close":j.showClose,title:j.title,"aria-level":j.headerAriaLevel,onClose:f(P)}),Ua({header:ye(()=>[j.$slots.title?Pe(j.$slots,"title",{key:1}):Pe(j.$slots,"header",{key:0,close:f(P),titleId:f(m),titleClass:f(a).e("title")})]),default:ye(()=>[Pe(j.$slots,"default")]),_:2},[j.$slots.footer?{name:"footer",fn:ye(()=>[Pe(j.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Ie("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Nn,f(h)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var hCe=at(fCe,[["__file","dialog.vue"]]);const pCe=Kt(hCe),mCe=it({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Se(String),default:"solid"}}),vCe=he({name:"ElDivider"}),gCe=he({...vCe,props:mCe,setup(e){const t=e,r=Je("divider"),o=D(()=>r.cssVar({"border-style":t.borderStyle}));return(a,l)=>(F(),Q("div",{class:B([f(r).b(),f(r).m(a.direction)]),style:kt(f(o)),role:"separator"},[a.$slots.default&&a.direction!=="vertical"?(F(),Q("div",{key:0,class:B([f(r).e("text"),f(r).is(a.contentPosition)])},[Pe(a.$slots,"default")],2)):Ie("v-if",!0)],6))}});var yCe=at(gCe,[["__file","divider.vue"]]);const h5=Kt(yCe),_Ce=it({...u5,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),bCe=d5,SCe=he({name:"ElDrawer",inheritAttrs:!1}),ECe=he({...SCe,props:_Ce,emits:bCe,setup(e,{expose:t}){const r=e,o=co();Ac({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},D(()=>!!o.title));const a=q(),l=q(),c=Je("drawer"),{t:d}=En(),{afterEnter:h,afterLeave:m,beforeLeave:g,visible:v,rendered:_,titleId:S,bodyId:T,zIndex:b,onModalClick:I,onOpenAutoFocus:C,onCloseAutoFocus:P,onFocusoutPrevented:R,onCloseRequested:k,handleClose:N}=f5(r,a),O=D(()=>r.direction==="rtl"||r.direction==="ltr"),$=D(()=>Or(r.size));return t({handleClose:N,afterEnter:h,afterLeave:m}),(L,M)=>(F(),Ve(f(qh),{to:L.appendTo,disabled:L.appendTo!=="body"?!1:!L.appendToBody},{default:ye(()=>[se(eo,{name:f(c).b("fade"),onAfterEnter:f(h),onAfterLeave:f(m),onBeforeLeave:f(g),persisted:""},{default:ye(()=>[qt(se(f(aA),{mask:L.modal,"overlay-class":L.modalClass,"z-index":f(b),onClick:f(I)},{default:ye(()=>[se(f(bg),{loop:"",trapped:f(v),"focus-trap-el":a.value,"focus-start-el":l.value,onFocusAfterTrapped:f(C),onFocusAfterReleased:f(P),onFocusoutPrevented:f(R),onReleaseRequested:f(k)},{default:ye(()=>[te("div",sn({ref_key:"drawerRef",ref:a,"aria-modal":"true","aria-label":L.title||void 0,"aria-labelledby":L.title?void 0:f(S),"aria-describedby":f(T)},L.$attrs,{class:[f(c).b(),L.direction,f(v)&&"open"],style:f(O)?"width: "+f($):"height: "+f($),role:"dialog",onClick:Vt(()=>{},["stop"])}),[te("span",{ref_key:"focusStartRef",ref:l,class:B(f(c).e("sr-focus")),tabindex:"-1"},null,2),L.withHeader?(F(),Q("header",{key:0,class:B(f(c).e("header"))},[L.$slots.title?Pe(L.$slots,"title",{key:1},()=>[Ie(" DEPRECATED SLOT ")]):Pe(L.$slots,"header",{key:0,close:f(N),titleId:f(S),titleClass:f(c).e("title")},()=>[L.$slots.title?Ie("v-if",!0):(F(),Q("span",{key:0,id:f(S),role:"heading","aria-level":L.headerAriaLevel,class:B(f(c).e("title"))},et(L.title),11,["id","aria-level"]))]),L.showClose?(F(),Q("button",{key:2,"aria-label":f(d)("el.drawer.close"),class:B(f(c).e("close-btn")),type:"button",onClick:f(N)},[se(f(St),{class:B(f(c).e("close"))},{default:ye(()=>[se(f(Ba))]),_:1},8,["class"])],10,["aria-label","onClick"])):Ie("v-if",!0)],2)):Ie("v-if",!0),f(_)?(F(),Q("div",{key:1,id:f(T),class:B(f(c).e("body"))},[Pe(L.$slots,"default")],10,["id"])):Ie("v-if",!0),L.$slots.footer?(F(),Q("div",{key:2,class:B(f(c).e("footer"))},[Pe(L.$slots,"footer")],2)):Ie("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Nn,f(v)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var TCe=at(ECe,[["__file","drawer.vue"]]);const CCe=Kt(TCe),wCe=he({inheritAttrs:!1});function ICe(e,t,r,o,a,l){return Pe(e.$slots,"default")}var kCe=at(wCe,[["render",ICe],["__file","collection.vue"]]);const RCe=he({name:"ElCollectionItem",inheritAttrs:!1});function ACe(e,t,r,o,a,l){return Pe(e.$slots,"default")}var OCe=at(RCe,[["render",ACe],["__file","collection-item.vue"]]);const p5="data-el-collection-item",m5=e=>{const t=`El${e}Collection`,r=`${t}Item`,o=Symbol(t),a=Symbol(r),l={...kCe,name:t,setup(){const d=q(null),h=new Map;pn(o,{itemMap:h,getItems:()=>{const g=f(d);if(!g)return[];const v=Array.from(g.querySelectorAll(`[${p5}]`));return[...h.values()].sort((S,T)=>v.indexOf(S.ref)-v.indexOf(T.ref))},collectionRef:d})}},c={...OCe,name:r,setup(d,{attrs:h}){const m=q(null),g=pt(o,void 0);pn(a,{collectionItemRef:m}),Zt(()=>{const v=f(m);v&&g.itemMap.set(v,{ref:v,...h})}),ur(()=>{const v=f(m);g.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:o,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:l,ElCollectionItem:c}},NCe=it({style:{type:Se([String,Array,Object])},currentTabId:{type:Se(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Se(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:PCe,ElCollectionItem:DCe,COLLECTION_INJECTION_KEY:sA,COLLECTION_ITEM_INJECTION_KEY:LCe}=m5("RovingFocusGroup"),lA=Symbol("elRovingFocusGroup"),v5=Symbol("elRovingFocusGroupItem"),MCe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},xCe=(e,t)=>{if(t!=="rtl")return e;switch(e){case It.right:return It.left;case It.left:return It.right;default:return e}},VCe=(e,t,r)=>{const o=xCe(e.key,r);if(!(t==="vertical"&&[It.left,It.right].includes(o))&&!(t==="horizontal"&&[It.up,It.down].includes(o)))return MCe[o]},FCe=(e,t)=>e.map((r,o)=>e[(o+t)%e.length]),cA=e=>{const{activeElement:t}=document;for(const r of e)if(r===t||(r.focus(),t!==document.activeElement))return},K$="currentTabIdChange",G$="rovingFocusGroup.entryFocus",$Ce={bubbles:!1,cancelable:!0},UCe=he({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:NCe,emits:[K$,"entryFocus"],setup(e,{emit:t}){var r;const o=q((r=e.currentTabId||e.defaultCurrentTabId)!=null?r:null),a=q(!1),l=q(!1),c=q(null),{getItems:d}=pt(sA,void 0),h=D(()=>[{outline:"none"},e.style]),m=b=>{t(K$,b)},g=()=>{a.value=!0},v=Rr(b=>{var I;(I=e.onMousedown)==null||I.call(e,b)},()=>{l.value=!0}),_=Rr(b=>{var I;(I=e.onFocus)==null||I.call(e,b)},b=>{const I=!f(l),{target:C,currentTarget:P}=b;if(C===P&&I&&!f(a)){const R=new Event(G$,$Ce);if(P==null||P.dispatchEvent(R),!R.defaultPrevented){const k=d().filter(M=>M.focusable),N=k.find(M=>M.active),O=k.find(M=>M.id===f(o)),L=[N,O,...k].filter(Boolean).map(M=>M.ref);cA(L)}}l.value=!1}),S=Rr(b=>{var I;(I=e.onBlur)==null||I.call(e,b)},()=>{a.value=!1}),T=(...b)=>{t("entryFocus",...b)};pn(lA,{currentTabbedId:Uh(o),loop:Kn(e,"loop"),tabIndex:D(()=>f(a)?-1:0),rovingFocusGroupRef:c,rovingFocusGroupRootStyle:h,orientation:Kn(e,"orientation"),dir:Kn(e,"dir"),onItemFocus:m,onItemShiftTab:g,onBlur:S,onFocus:_,onMousedown:v}),Ge(()=>e.currentTabId,b=>{o.value=b!=null?b:null}),Zn(c,G$,T)}});function BCe(e,t,r,o,a,l){return Pe(e.$slots,"default")}var HCe=at(UCe,[["render",BCe],["__file","roving-focus-group-impl.vue"]]);const jCe=he({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:PCe,ElRovingFocusGroupImpl:HCe}});function WCe(e,t,r,o,a,l){const c=en("el-roving-focus-group-impl"),d=en("el-focus-group-collection");return F(),Ve(d,null,{default:ye(()=>[se(c,Ma(Pc(e.$attrs)),{default:ye(()=>[Pe(e.$slots,"default")]),_:3},16)]),_:3})}var zCe=at(jCe,[["render",WCe],["__file","roving-focus-group.vue"]]);const KCe=he({components:{ElRovingFocusCollectionItem:DCe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:r,loop:o,onItemFocus:a,onItemShiftTab:l}=pt(lA,void 0),{getItems:c}=pt(sA,void 0),d=Mo(),h=q(null),m=Rr(S=>{t("mousedown",S)},S=>{e.focusable?a(f(d)):S.preventDefault()}),g=Rr(S=>{t("focus",S)},()=>{a(f(d))}),v=Rr(S=>{t("keydown",S)},S=>{const{key:T,shiftKey:b,target:I,currentTarget:C}=S;if(T===It.tab&&b){l();return}if(I!==C)return;const P=VCe(S);if(P){S.preventDefault();let k=c().filter(N=>N.focusable).map(N=>N.ref);switch(P){case"last":{k.reverse();break}case"prev":case"next":{P==="prev"&&k.reverse();const N=k.indexOf(C);k=o.value?FCe(k,N+1):k.slice(N+1);break}}wt(()=>{cA(k)})}}),_=D(()=>r.value===f(d));return pn(v5,{rovingFocusGroupItemRef:h,tabIndex:D(()=>f(_)?0:-1),handleMousedown:m,handleFocus:g,handleKeydown:v}),{id:d,handleKeydown:v,handleFocus:g,handleMousedown:m}}});function GCe(e,t,r,o,a,l){const c=en("el-roving-focus-collection-item");return F(),Ve(c,{id:e.id,focusable:e.focusable,active:e.active},{default:ye(()=>[Pe(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var qCe=at(KCe,[["render",GCe],["__file","roving-focus-item.vue"]]);const Pb=it({trigger:$v.trigger,effect:{...mo.effect,default:"light"},type:{type:Se(String)},placement:{type:Se(String),default:"bottom"},popperOptions:{type:Se(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Se([Number,String]),default:0},maxHeight:{type:Se([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Se(Object)},teleported:mo.teleported}),g5=it({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ir}}),YCe=it({onKeydown:{type:Se(Function)}}),JCe=[It.down,It.pageDown,It.home],y5=[It.up,It.pageUp,It.end],XCe=[...JCe,...y5],{ElCollection:QCe,ElCollectionItem:ZCe,COLLECTION_INJECTION_KEY:ewe,COLLECTION_ITEM_INJECTION_KEY:twe}=m5("Dropdown"),Z0=Symbol("elDropdown"),{ButtonGroup:nwe}=lo,rwe=he({name:"ElDropdown",components:{ElButton:lo,ElButtonGroup:nwe,ElScrollbar:Rs,ElDropdownCollection:QCe,ElTooltip:xo,ElRovingFocusGroup:zCe,ElOnlyChild:j6,ElIcon:St,ArrowDown:El},props:Pb,emits:["visible-change","click","command"],setup(e,{emit:t}){const r=Qt(),o=Je("dropdown"),{t:a}=En(),l=q(),c=q(),d=q(null),h=q(null),m=q(null),g=q(null),v=q(!1),_=[It.enter,It.space,It.down],S=D(()=>({maxHeight:Or(e.maxHeight)})),T=D(()=>[o.m(N.value)]),b=D(()=>Wo(e.trigger)),I=Mo().value,C=D(()=>e.id||I);Ge([l,b],([Z,X],[H])=>{var J,fe,ge;(J=H==null?void 0:H.$el)!=null&&J.removeEventListener&&H.$el.removeEventListener("pointerenter",$),(fe=Z==null?void 0:Z.$el)!=null&&fe.removeEventListener&&Z.$el.removeEventListener("pointerenter",$),((ge=Z==null?void 0:Z.$el)==null?void 0:ge.addEventListener)&&X.includes("hover")&&Z.$el.addEventListener("pointerenter",$)},{immediate:!0}),ur(()=>{var Z,X;(X=(Z=l.value)==null?void 0:Z.$el)!=null&&X.removeEventListener&&l.value.$el.removeEventListener("pointerenter",$)});function P(){R()}function R(){var Z;(Z=d.value)==null||Z.onClose()}function k(){var Z;(Z=d.value)==null||Z.onOpen()}const N=Jr();function O(...Z){t("command",...Z)}function $(){var Z,X;(X=(Z=l.value)==null?void 0:Z.$el)==null||X.focus()}function L(){}function M(){const Z=f(h);b.value.includes("hover")&&(Z==null||Z.focus()),g.value=null}function U(Z){g.value=Z}function j(Z){v.value||(Z.preventDefault(),Z.stopImmediatePropagation())}function W(){t("visible-change",!0)}function re(Z){(Z==null?void 0:Z.type)==="keydown"&&h.value.focus()}function ae(){t("visible-change",!1)}return pn(Z0,{contentRef:h,role:D(()=>e.role),triggerId:C,isUsingKeyboard:v,onItemEnter:L,onItemLeave:M}),pn("elDropdown",{instance:r,dropdownSize:N,handleClick:P,commandHandler:O,trigger:Kn(e,"trigger"),hideOnClick:Kn(e,"hideOnClick")}),{t:a,ns:o,scrollbar:m,wrapStyle:S,dropdownTriggerKls:T,dropdownSize:N,triggerId:C,triggerKeys:_,currentTabId:g,handleCurrentTabIdChange:U,handlerMainButtonClick:Z=>{t("click",Z)},handleEntryFocus:j,handleClose:R,handleOpen:k,handleBeforeShowTooltip:W,handleShowTooltip:re,handleBeforeHideTooltip:ae,onFocusAfterTrapped:Z=>{var X,H;Z.preventDefault(),(H=(X=h.value)==null?void 0:X.focus)==null||H.call(X,{preventScroll:!0})},popperRef:d,contentRef:h,triggeringElementRef:l,referenceElementRef:c}}});function owe(e,t,r,o,a,l){var c;const d=en("el-dropdown-collection"),h=en("el-roving-focus-group"),m=en("el-scrollbar"),g=en("el-only-child"),v=en("el-tooltip"),_=en("el-button"),S=en("arrow-down"),T=en("el-icon"),b=en("el-button-group");return F(),Q("div",{class:B([e.ns.b(),e.ns.is("disabled",e.disabled)])},[se(v,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(c=e.referenceElementRef)==null?void 0:c.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Ua({content:ye(()=>[se(m,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:ye(()=>[se(h,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:ye(()=>[se(d,null,{default:ye(()=>[Pe(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:ye(()=>[se(g,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:ye(()=>[Pe(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(F(),Ve(b,{key:0},{default:ye(()=>[se(_,sn({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:ye(()=>[Pe(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),se(_,sn({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:ye(()=>[se(T,{class:B(e.ns.e("icon"))},{default:ye(()=>[se(S)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Ie("v-if",!0)],2)}var iwe=at(rwe,[["render",owe],["__file","dropdown.vue"]]);const awe=he({name:"DropdownItemImpl",components:{ElIcon:St},props:g5,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const r=Je("dropdown"),{role:o}=pt(Z0,void 0),{collectionItemRef:a}=pt(twe,void 0),{collectionItemRef:l}=pt(LCe,void 0),{rovingFocusGroupItemRef:c,tabIndex:d,handleFocus:h,handleKeydown:m,handleMousedown:g}=pt(v5,void 0),v=$0(a,l,c),_=D(()=>o.value==="menu"?"menuitem":o.value==="navigation"?"link":"button"),S=Rr(T=>{const{code:b}=T;if(b===It.enter||b===It.space)return T.preventDefault(),T.stopImmediatePropagation(),t("clickimpl",T),!0},m);return{ns:r,itemRef:v,dataset:{[p5]:""},role:_,tabIndex:d,handleFocus:h,handleKeydown:S,handleMousedown:g}}});function swe(e,t,r,o,a,l){const c=en("el-icon");return F(),Q(Tt,null,[e.divided?(F(),Q("li",sn({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Ie("v-if",!0),te("li",sn({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:d=>e.$emit("clickimpl",d),onFocus:e.handleFocus,onKeydown:Vt(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:d=>e.$emit("pointermove",d),onPointerleave:d=>e.$emit("pointerleave",d)}),[e.icon?(F(),Ve(c,{key:0},{default:ye(()=>[(F(),Ve(ln(e.icon)))]),_:1})):Ie("v-if",!0),Pe(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var lwe=at(awe,[["render",swe],["__file","dropdown-item-impl.vue"]]);const _5=()=>{const e=pt("elDropdown",{}),t=D(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},cwe=he({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ZCe,ElRovingFocusItem:qCe,ElDropdownItemImpl:lwe},inheritAttrs:!1,props:g5,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:r}){const{elDropdown:o}=_5(),a=Qt(),l=q(null),c=D(()=>{var S,T;return(T=(S=f(l))==null?void 0:S.textContent)!=null?T:""}),{onItemEnter:d,onItemLeave:h}=pt(Z0,void 0),m=Rr(S=>(t("pointermove",S),S.defaultPrevented),W3(S=>{if(e.disabled){h(S);return}const T=S.currentTarget;T===document.activeElement||T.contains(document.activeElement)||(d(S),S.defaultPrevented||T==null||T.focus())})),g=Rr(S=>(t("pointerleave",S),S.defaultPrevented),W3(h)),v=Rr(S=>{if(!e.disabled)return t("click",S),S.type!=="keydown"&&S.defaultPrevented},S=>{var T,b,I;if(e.disabled){S.stopImmediatePropagation();return}(T=o==null?void 0:o.hideOnClick)!=null&&T.value&&((b=o.handleClick)==null||b.call(o)),(I=o.commandHandler)==null||I.call(o,e.command,a,S)}),_=D(()=>({...e,...r}));return{handleClick:v,handlePointerMove:m,handlePointerLeave:g,textContent:c,propsAndAttrs:_}}});function uwe(e,t,r,o,a,l){var c;const d=en("el-dropdown-item-impl"),h=en("el-roving-focus-item"),m=en("el-dropdown-collection-item");return F(),Ve(m,{disabled:e.disabled,"text-value":(c=e.textValue)!=null?c:e.textContent},{default:ye(()=>[se(h,{focusable:!e.disabled},{default:ye(()=>[se(d,sn(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:ye(()=>[Pe(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var b5=at(cwe,[["render",uwe],["__file","dropdown-item.vue"]]);const dwe=he({name:"ElDropdownMenu",props:YCe,setup(e){const t=Je("dropdown"),{_elDropdownSize:r}=_5(),o=r.value,{focusTrapRef:a,onKeydown:l}=pt(qR,void 0),{contentRef:c,role:d,triggerId:h}=pt(Z0,void 0),{collectionRef:m,getItems:g}=pt(ewe,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:_,tabIndex:S,onBlur:T,onFocus:b,onMousedown:I}=pt(lA,void 0),{collectionRef:C}=pt(sA,void 0),P=D(()=>[t.b("menu"),t.bm("menu",o==null?void 0:o.value)]),R=$0(c,m,a,v,C),k=Rr(O=>{var $;($=e.onKeydown)==null||$.call(e,O)},O=>{const{currentTarget:$,code:L,target:M}=O;if($.contains(M),It.tab===L&&O.stopImmediatePropagation(),O.preventDefault(),M!==f(c)||!XCe.includes(L))return;const j=g().filter(W=>!W.disabled).map(W=>W.ref);y5.includes(L)&&j.reverse(),cA(j)});return{size:o,rovingFocusGroupRootStyle:_,tabIndex:S,dropdownKls:P,role:d,triggerId:h,dropdownListWrapperRef:R,handleKeydown:O=>{k(O),l(O)},onBlur:T,onFocus:b,onMousedown:I}}});function fwe(e,t,r,o,a,l){return F(),Q("ul",{ref:e.dropdownListWrapperRef,class:B(e.dropdownKls),style:kt(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:Vt(e.handleKeydown,["self"]),onMousedown:Vt(e.onMousedown,["self"])},[Pe(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var S5=at(dwe,[["render",fwe],["__file","dropdown-menu.vue"]]);const hwe=Kt(iwe,{DropdownItem:b5,DropdownMenu:S5}),pwe=Tr(b5),mwe=Tr(S5),vwe=he({name:"ImgEmpty"}),gwe=he({...vwe,setup(e){const t=Je("empty"),r=Mo();return(o,a)=>(F(),Q("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[te("defs",null,[te("linearGradient",{id:`linearGradient-1-${f(r)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[te("stop",{"stop-color":`var(${f(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),te("stop",{"stop-color":`var(${f(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),te("linearGradient",{id:`linearGradient-2-${f(r)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[te("stop",{"stop-color":`var(${f(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),te("stop",{"stop-color":`var(${f(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),te("rect",{id:`path-3-${f(r)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),te("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[te("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[te("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[te("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${f(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),te("polygon",{id:"Rectangle-Copy-14",fill:`var(${f(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),te("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[te("polygon",{id:"Rectangle-Copy-10",fill:`var(${f(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),te("polygon",{id:"Rectangle-Copy-11",fill:`var(${f(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),te("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${f(r)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),te("polygon",{id:"Rectangle-Copy-13",fill:`var(${f(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),te("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${f(r)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),te("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[te("use",{id:"Mask",fill:`var(${f(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${f(r)}`},null,8,["fill","xlink:href"]),te("polygon",{id:"Rectangle-Copy",fill:`var(${f(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${f(r)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),te("polygon",{id:"Rectangle-Copy-18",fill:`var(${f(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var ywe=at(gwe,[["__file","img-empty.vue"]]);const _we=it({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),bwe=he({name:"ElEmpty"}),Swe=he({...bwe,props:_we,setup(e){const t=e,{t:r}=En(),o=Je("empty"),a=D(()=>t.description||r("el.table.emptyText")),l=D(()=>({width:Or(t.imageSize)}));return(c,d)=>(F(),Q("div",{class:B(f(o).b())},[te("div",{class:B(f(o).e("image")),style:kt(f(l))},[c.image?(F(),Q("img",{key:0,src:c.image,ondragstart:"return false"},null,8,["src"])):Pe(c.$slots,"image",{key:1},()=>[se(ywe)])],6),te("div",{class:B(f(o).e("description"))},[c.$slots.description?Pe(c.$slots,"description",{key:0}):(F(),Q("p",{key:1},et(f(a)),1))],2),c.$slots.default?(F(),Q("div",{key:0,class:B(f(o).e("bottom"))},[Pe(c.$slots,"default")],2)):Ie("v-if",!0)],2))}});var Ewe=at(Swe,[["__file","empty.vue"]]);const E5=Kt(Ewe),Twe=it({urlList:{type:Se(Array),default:()=>Er([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Se(String)}}),Cwe={close:()=>!0,switch:e=>xt(e),rotate:e=>xt(e)},wwe=he({name:"ElImageViewer"}),Iwe=he({...wwe,props:Twe,emits:Cwe,setup(e,{expose:t,emit:r}){var o;const a=e,l={CONTAIN:{name:"contain",icon:_s(Qhe)},ORIGINAL:{name:"original",icon:_s(ype)}},{t:c}=En(),d=Je("image-viewer"),{nextZIndex:h}=zh(),m=q(),g=q([]),v=b0(),_=q(!0),S=q(a.initialIndex),T=dr(l.CONTAIN),b=q({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),I=q((o=a.zIndex)!=null?o:h()),C=D(()=>{const{urlList:J}=a;return J.length<=1}),P=D(()=>S.value===0),R=D(()=>S.value===a.urlList.length-1),k=D(()=>a.urlList[S.value]),N=D(()=>[d.e("btn"),d.e("prev"),d.is("disabled",!a.infinite&&P.value)]),O=D(()=>[d.e("btn"),d.e("next"),d.is("disabled",!a.infinite&&R.value)]),$=D(()=>{const{scale:J,deg:fe,offsetX:ge,offsetY:me,enableTransition:Ee}=b.value;let Fe=ge/J,$e=me/J;const de=fe*Math.PI/180,Le=Math.cos(de),Te=Math.sin(de);Fe=Fe*Le+$e*Te,$e=$e*Le-ge/J*Te;const Be={transform:`scale(${J}) rotate(${fe}deg) translate(${Fe}px, ${$e}px)`,transition:Ee?"transform .3s":""};return T.value.name===l.CONTAIN.name&&(Be.maxWidth=Be.maxHeight="100%"),Be});function L(){U(),r("close")}function M(){const J=ld(ge=>{switch(ge.code){case It.esc:a.closeOnPressEscape&&L();break;case It.space:ee();break;case It.left:Z();break;case It.up:H("zoomIn");break;case It.right:X();break;case It.down:H("zoomOut");break}}),fe=ld(ge=>{const me=ge.deltaY||ge.deltaX;H(me<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});v.run(()=>{Zn(document,"keydown",J),Zn(document,"wheel",fe)})}function U(){v.stop()}function j(){_.value=!1}function W(J){_.value=!1,J.target.alt=c("el.image.error")}function re(J){if(_.value||J.button!==0||!m.value)return;b.value.enableTransition=!1;const{offsetX:fe,offsetY:ge}=b.value,me=J.pageX,Ee=J.pageY,Fe=ld(de=>{b.value={...b.value,offsetX:fe+de.pageX-me,offsetY:ge+de.pageY-Ee}}),$e=Zn(document,"mousemove",Fe);Zn(document,"mouseup",()=>{$e()}),J.preventDefault()}function ae(){b.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(_.value)return;const J=bh(l),fe=Object.values(l),ge=T.value.name,Ee=(fe.findIndex(Fe=>Fe.name===ge)+1)%J.length;T.value=l[J[Ee]],ae()}function G(J){const fe=a.urlList.length;S.value=(J+fe)%fe}function Z(){P.value&&!a.infinite||G(S.value-1)}function X(){R.value&&!a.infinite||G(S.value+1)}function H(J,fe={}){if(_.value)return;const{minScale:ge,maxScale:me}=a,{zoomRate:Ee,rotateDeg:Fe,enableTransition:$e}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...fe};switch(J){case"zoomOut":b.value.scale>ge&&(b.value.scale=Number.parseFloat((b.value.scale/Ee).toFixed(3)));break;case"zoomIn":b.value.scale<me&&(b.value.scale=Number.parseFloat((b.value.scale*Ee).toFixed(3)));break;case"clockwise":b.value.deg+=Fe,r("rotate",b.value.deg);break;case"anticlockwise":b.value.deg-=Fe,r("rotate",b.value.deg);break}b.value.enableTransition=$e}return Ge(k,()=>{wt(()=>{const J=g.value[0];J!=null&&J.complete||(_.value=!0)})}),Ge(S,J=>{ae(),r("switch",J)}),Zt(()=>{var J,fe;M(),(fe=(J=m.value)==null?void 0:J.focus)==null||fe.call(J)}),t({setActiveItem:G}),(J,fe)=>(F(),Ve(f(qh),{to:"body",disabled:!J.teleported},{default:ye(()=>[se(eo,{name:"viewer-fade",appear:""},{default:ye(()=>[te("div",{ref_key:"wrapper",ref:m,tabindex:-1,class:B(f(d).e("wrapper")),style:kt({zIndex:I.value})},[te("div",{class:B(f(d).e("mask")),onClick:Vt(ge=>J.hideOnClickModal&&L(),["self"])},null,10,["onClick"]),Ie(" CLOSE "),te("span",{class:B([f(d).e("btn"),f(d).e("close")]),onClick:L},[se(f(St),null,{default:ye(()=>[se(f(Ba))]),_:1})],2),Ie(" ARROW "),f(C)?Ie("v-if",!0):(F(),Q(Tt,{key:0},[te("span",{class:B(f(N)),onClick:Z},[se(f(St),null,{default:ye(()=>[se(f(xc))]),_:1})],2),te("span",{class:B(f(O)),onClick:X},[se(f(St),null,{default:ye(()=>[se(f(ai))]),_:1})],2)],64)),Ie(" ACTIONS "),te("div",{class:B([f(d).e("btn"),f(d).e("actions")])},[te("div",{class:B(f(d).e("actions__inner"))},[se(f(St),{onClick:ge=>H("zoomOut")},{default:ye(()=>[se(f(Lpe))]),_:1},8,["onClick"]),se(f(St),{onClick:ge=>H("zoomIn")},{default:ye(()=>[se(f(J8))]),_:1},8,["onClick"]),te("i",{class:B(f(d).e("actions__divider"))},null,2),se(f(St),{onClick:ee},{default:ye(()=>[(F(),Ve(ln(f(T).icon)))]),_:1}),te("i",{class:B(f(d).e("actions__divider"))},null,2),se(f(St),{onClick:ge=>H("anticlockwise")},{default:ye(()=>[se(f(ppe))]),_:1},8,["onClick"]),se(f(St),{onClick:ge=>H("clockwise")},{default:ye(()=>[se(f(vpe))]),_:1},8,["onClick"])],2)],2),Ie(" CANVAS "),te("div",{class:B(f(d).e("canvas"))},[(F(!0),Q(Tt,null,fn(J.urlList,(ge,me)=>qt((F(),Q("img",{ref_for:!0,ref:Ee=>g.value[me]=Ee,key:ge,src:ge,style:kt(f($)),class:B(f(d).e("img")),crossorigin:J.crossorigin,onLoad:j,onError:W,onMousedown:re},null,46,["src","crossorigin"])),[[Nn,me===S.value]])),128))],2),Pe(J.$slots,"default")],6)]),_:3})]),_:3},8,["disabled"]))}});var kwe=at(Iwe,[["__file","image-viewer.vue"]]);const T5=Kt(kwe),Rwe=it({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Se([String,Object])},previewSrcList:{type:Se(Array),default:()=>Er([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Se(String)}}),Awe={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>xt(e),close:()=>!0,show:()=>!0},Owe=he({name:"ElImage",inheritAttrs:!1}),Nwe=he({...Owe,props:Rwe,emits:Awe,setup(e,{emit:t}){const r=e;let o="";const{t:a}=En(),l=Je("image"),c=Td(),d=D(()=>Lv(Object.entries(c).filter(([X])=>/^(data-|on[A-Z])/i.test(X)||["id","style"].includes(X)))),h=CR({excludeListeners:!0,excludeKeys:D(()=>Object.keys(d.value))}),m=q(),g=q(!1),v=q(!0),_=q(!1),S=q(),T=q(),b=Sn&&"loading"in HTMLImageElement.prototype;let I,C;const P=D(()=>[l.e("inner"),k.value&&l.e("preview"),v.value&&l.is("loading")]),R=D(()=>{const{fit:X}=r;return Sn&&X?{objectFit:X}:{}}),k=D(()=>{const{previewSrcList:X}=r;return Array.isArray(X)&&X.length>0}),N=D(()=>{const{previewSrcList:X,initialIndex:H}=r;let J=H;return H>X.length-1&&(J=0),J}),O=D(()=>r.loading==="eager"?!1:!b&&r.loading==="lazy"||r.lazy),$=()=>{!Sn||(v.value=!0,g.value=!1,m.value=r.src)};function L(X){v.value=!1,g.value=!1,t("load",X)}function M(X){v.value=!1,g.value=!0,t("error",X)}function U(){ase(S.value,T.value)&&($(),re())}const j=e8(U,200,!0);async function W(){var X;if(!Sn)return;await wt();const{scrollContainer:H}=r;Bi(H)?T.value=H:Mt(H)&&H!==""?T.value=(X=document.querySelector(H))!=null?X:void 0:S.value&&(T.value=mR(S.value)),T.value&&(I=Zn(T,"scroll",j),setTimeout(()=>U(),100))}function re(){!Sn||!T.value||!j||(I==null||I(),T.value=void 0)}function ae(X){if(!!X.ctrlKey){if(X.deltaY<0)return X.preventDefault(),!1;if(X.deltaY>0)return X.preventDefault(),!1}}function ee(){!k.value||(C=Zn("wheel",ae,{passive:!1}),o=document.body.style.overflow,document.body.style.overflow="hidden",_.value=!0,t("show"))}function G(){C==null||C(),document.body.style.overflow=o,_.value=!1,t("close")}function Z(X){t("switch",X)}return Ge(()=>r.src,()=>{O.value?(v.value=!0,g.value=!1,re(),W()):$()}),Zt(()=>{O.value?W():$()}),(X,H)=>(F(),Q("div",sn({ref_key:"container",ref:S},f(d),{class:[f(l).b(),X.$attrs.class]}),[g.value?Pe(X.$slots,"error",{key:0},()=>[te("div",{class:B(f(l).e("error"))},et(f(a)("el.image.error")),3)]):(F(),Q(Tt,{key:1},[m.value!==void 0?(F(),Q("img",sn({key:0},f(h),{src:m.value,loading:X.loading,style:f(R),class:f(P),crossorigin:X.crossorigin,onClick:ee,onLoad:L,onError:M}),null,16,["src","loading","crossorigin"])):Ie("v-if",!0),v.value?(F(),Q("div",{key:1,class:B(f(l).e("wrapper"))},[Pe(X.$slots,"placeholder",{},()=>[te("div",{class:B(f(l).e("placeholder"))},null,2)])],2)):Ie("v-if",!0)],64)),f(k)?(F(),Q(Tt,{key:2},[_.value?(F(),Ve(f(T5),{key:0,"z-index":X.zIndex,"initial-index":f(N),infinite:X.infinite,"zoom-rate":X.zoomRate,"min-scale":X.minScale,"max-scale":X.maxScale,"url-list":X.previewSrcList,crossorigin:X.crossorigin,"hide-on-click-modal":X.hideOnClickModal,teleported:X.previewTeleported,"close-on-press-escape":X.closeOnPressEscape,onClose:G,onSwitch:Z},{default:ye(()=>[X.$slots.viewer?(F(),Q("div",{key:0},[Pe(X.$slots,"viewer")])):Ie("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Ie("v-if",!0)],64)):Ie("v-if",!0)],16))}});var Pwe=at(Nwe,[["__file","image.vue"]]);const Dwe=Kt(Pwe),Lwe=it({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:no,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||xt(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...ko(["ariaLabel"])}),Mwe={[pr]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[si]:e=>xt(e)||yo(e),[tn]:e=>xt(e)||yo(e)},xwe=he({name:"ElInputNumber"}),Vwe=he({...xwe,props:Lwe,emits:Mwe,setup(e,{expose:t,emit:r}){const o=e,{t:a}=En(),l=Je("input-number"),c=q(),d=Un({currentValue:o.modelValue,userInput:null}),{formItem:h}=Go(),m=D(()=>xt(o.modelValue)&&o.modelValue<=o.min),g=D(()=>xt(o.modelValue)&&o.modelValue>=o.max),v=D(()=>{const ee=C(o.step);return Ar(o.precision)?Math.max(C(o.modelValue),ee):(ee>o.precision,o.precision)}),_=D(()=>o.controls&&o.controlsPosition==="right"),S=Jr(),T=ui(),b=D(()=>{if(d.userInput!==null)return d.userInput;let ee=d.currentValue;if(yo(ee))return"";if(xt(ee)){if(Number.isNaN(ee))return"";Ar(o.precision)||(ee=ee.toFixed(o.precision))}return ee}),I=(ee,G)=>{if(Ar(G)&&(G=v.value),G===0)return Math.round(ee);let Z=String(ee);const X=Z.indexOf(".");if(X===-1||!Z.replace(".","").split("")[X+G])return ee;const fe=Z.length;return Z.charAt(fe-1)==="5"&&(Z=`${Z.slice(0,Math.max(0,fe-1))}6`),Number.parseFloat(Number(Z).toFixed(G))},C=ee=>{if(yo(ee))return 0;const G=ee.toString(),Z=G.indexOf(".");let X=0;return Z!==-1&&(X=G.length-Z-1),X},P=(ee,G=1)=>xt(ee)?I(ee+o.step*G):d.currentValue,R=()=>{if(o.readonly||T.value||g.value)return;const ee=Number(b.value)||0,G=P(ee);O(G),r(si,d.currentValue),re()},k=()=>{if(o.readonly||T.value||m.value)return;const ee=Number(b.value)||0,G=P(ee,-1);O(G),r(si,d.currentValue),re()},N=(ee,G)=>{const{max:Z,min:X,step:H,precision:J,stepStrictly:fe,valueOnClear:ge}=o;Z<X&&to("InputNumber","min should not be greater than max.");let me=Number(ee);if(yo(ee)||Number.isNaN(me))return null;if(ee===""){if(ge===null)return null;me=Mt(ge)?{min:X,max:Z}[ge]:ge}return fe&&(me=I(Math.round(me/H)*H,J)),Ar(J)||(me=I(me,J)),(me>Z||me<X)&&(me=me>Z?Z:X,G&&r(tn,me)),me},O=(ee,G=!0)=>{var Z;const X=d.currentValue,H=N(ee);if(!G){r(tn,H);return}X===H&&ee||(d.userInput=null,r(tn,H),X!==H&&r(pr,H,X),o.validateEvent&&((Z=h==null?void 0:h.validate)==null||Z.call(h,"change").catch(J=>void 0)),d.currentValue=H)},$=ee=>{d.userInput=ee;const G=ee===""?null:Number(ee);r(si,G),O(G,!1)},L=ee=>{const G=ee!==""?Number(ee):"";(xt(G)&&!Number.isNaN(G)||ee==="")&&O(G),re(),d.userInput=null},M=()=>{var ee,G;(G=(ee=c.value)==null?void 0:ee.focus)==null||G.call(ee)},U=()=>{var ee,G;(G=(ee=c.value)==null?void 0:ee.blur)==null||G.call(ee)},j=ee=>{r("focus",ee)},W=ee=>{var G;d.userInput=null,r("blur",ee),o.validateEvent&&((G=h==null?void 0:h.validate)==null||G.call(h,"blur").catch(Z=>void 0))},re=()=>{d.currentValue!==o.modelValue&&(d.currentValue=o.modelValue)},ae=ee=>{document.activeElement===ee.target&&ee.preventDefault()};return Ge(()=>o.modelValue,(ee,G)=>{const Z=N(ee,!0);d.userInput===null&&Z!==G&&(d.currentValue=Z)},{immediate:!0}),Zt(()=>{var ee;const{min:G,max:Z,modelValue:X}=o,H=(ee=c.value)==null?void 0:ee.input;if(H.setAttribute("role","spinbutton"),Number.isFinite(Z)?H.setAttribute("aria-valuemax",String(Z)):H.removeAttribute("aria-valuemax"),Number.isFinite(G)?H.setAttribute("aria-valuemin",String(G)):H.removeAttribute("aria-valuemin"),H.setAttribute("aria-valuenow",d.currentValue||d.currentValue===0?String(d.currentValue):""),H.setAttribute("aria-disabled",String(T.value)),!xt(X)&&X!=null){let J=Number(X);Number.isNaN(J)&&(J=null),r(tn,J)}H.addEventListener("wheel",ae,{passive:!1})}),yl(()=>{var ee,G;const Z=(ee=c.value)==null?void 0:ee.input;Z==null||Z.setAttribute("aria-valuenow",`${(G=d.currentValue)!=null?G:""}`)}),t({focus:M,blur:U}),(ee,G)=>(F(),Q("div",{class:B([f(l).b(),f(l).m(f(S)),f(l).is("disabled",f(T)),f(l).is("without-controls",!ee.controls),f(l).is("controls-right",f(_))]),onDragstart:Vt(()=>{},["prevent"])},[ee.controls?qt((F(),Q("span",{key:0,role:"button","aria-label":f(a)("el.inputNumber.decrease"),class:B([f(l).e("decrease"),f(l).is("disabled",f(m))]),onKeydown:or(k,["enter"])},[Pe(ee.$slots,"decrease-icon",{},()=>[se(f(St),null,{default:ye(()=>[f(_)?(F(),Ve(f(El),{key:0})):(F(),Ve(f(ope),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[f(n0),k]]):Ie("v-if",!0),ee.controls?qt((F(),Q("span",{key:1,role:"button","aria-label":f(a)("el.inputNumber.increase"),class:B([f(l).e("increase"),f(l).is("disabled",f(g))]),onKeydown:or(R,["enter"])},[Pe(ee.$slots,"increase-icon",{},()=>[se(f(St),null,{default:ye(()=>[f(_)?(F(),Ve(f(gR),{key:0})):(F(),Ve(f(q8),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[f(n0),R]]):Ie("v-if",!0),se(f(wo),{id:ee.id,ref_key:"input",ref:c,type:"number",step:ee.step,"model-value":f(b),placeholder:ee.placeholder,readonly:ee.readonly,disabled:f(T),size:f(S),max:ee.max,min:ee.min,name:ee.name,"aria-label":ee.ariaLabel,"validate-event":!1,onKeydown:[or(Vt(R,["prevent"]),["up"]),or(Vt(k,["prevent"]),["down"])],onBlur:W,onFocus:j,onInput:$,onChange:L},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var Fwe=at(Vwe,[["__file","input-number.vue"]]);const C5=Kt(Fwe),$we=it({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:ir}}),Uwe={click:e=>e instanceof MouseEvent},Bwe=he({name:"ElLink"}),Hwe=he({...Bwe,props:$we,emits:Uwe,setup(e,{emit:t}){const r=e,o=Je("link"),a=D(()=>[o.b(),o.m(r.type),o.is("disabled",r.disabled),o.is("underline",r.underline&&!r.disabled)]);function l(c){r.disabled||t("click",c)}return(c,d)=>(F(),Q("a",{class:B(f(a)),href:c.disabled||!c.href?void 0:c.href,target:c.disabled||!c.href?void 0:c.target,onClick:l},[c.icon?(F(),Ve(f(St),{key:0},{default:ye(()=>[(F(),Ve(ln(c.icon)))]),_:1})):Ie("v-if",!0),c.$slots.default?(F(),Q("span",{key:1,class:B(f(o).e("inner"))},[Pe(c.$slots,"default")],2)):Ie("v-if",!0),c.$slots.icon?Pe(c.$slots,"icon",{key:2}):Ie("v-if",!0)],10,["href","target"]))}});var jwe=at(Hwe,[["__file","link.vue"]]);const Wwe=Kt(jwe);class zwe{constructor(t,r){this.parent=t,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",o=>{let a=!1;switch(o.code){case It.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case It.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case It.tab:{Tb(t,"mouseleave");break}case It.enter:case It.space:{a=!0,o.currentTarget.click();break}}return a&&(o.preventDefault(),o.stopPropagation()),!1})})}}class Kwe{constructor(t,r){this.domNode=t,this.submenu=null,this.submenu=null,this.init(r)}init(t){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${t}-menu`);r&&(this.submenu=new zwe(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let r=!1;switch(t.code){case It.down:{Tb(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case It.up:{Tb(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case It.tab:{Tb(t.currentTarget,"mouseleave");break}case It.enter:case It.space:{r=!0,t.currentTarget.click();break}}r&&t.preventDefault()})}}class Gwe{constructor(t,r){this.domNode=t,this.init(r)}init(t){const r=this.domNode.childNodes;Array.from(r).forEach(o=>{o.nodeType===1&&new Kwe(o,t)})}}const qwe=he({name:"ElMenuCollapseTransition",setup(){const e=Je("menu");return{listeners:{onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,o){fa(r,`${e.namespace.value}-opacity-transition`),r.style.opacity="1",o()},onAfterEnter(r){Ko(r,`${e.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),Ei(r,e.m("collapse"))?(Ko(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),fa(r,e.m("collapse"))):(fa(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Ko(r,e.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){fa(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}}}}});function Ywe(e,t,r,o,a,l){return F(),Ve(eo,sn({mode:"out-in"},e.listeners),{default:ye(()=>[Pe(e.$slots,"default")]),_:3},16)}var Jwe=at(qwe,[["render",Ywe],["__file","menu-collapse-transition.vue"]]);function w5(e,t){const r=D(()=>{let a=e.parent;const l=[t.value];for(;a.type.name!=="ElMenu";)a.props.index&&l.unshift(a.props.index),a=a.parent;return l});return{parentMenu:D(()=>{let a=e.parent;for(;a&&!["ElMenu","ElSubMenu"].includes(a.type.name);)a=a.parent;return a}),indexPath:r}}function Xwe(e){return D(()=>{const r=e.backgroundColor;return r?new nH(r).shade(20).toString():""})}const I5=(e,t)=>{const r=Je("menu");return D(()=>r.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Xwe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},Qwe=it({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:ir},expandOpenIcon:{type:ir},collapseCloseIcon:{type:ir},collapseOpenIcon:{type:ir}}),yI="ElSubMenu";var uA=he({name:yI,props:Qwe,setup(e,{slots:t,expose:r}){const o=Qt(),{indexPath:a,parentMenu:l}=w5(o,D(()=>e.index)),c=Je("menu"),d=Je("sub-menu"),h=pt("rootMenu");h||to(yI,"can not inject root menu");const m=pt(`subMenu:${l.value.uid}`);m||to(yI,"can not inject sub menu");const g=q({}),v=q({});let _;const S=q(!1),T=q(),b=q(null),I=D(()=>L.value==="horizontal"&&P.value?"bottom-start":"right-start"),C=D(()=>L.value==="horizontal"&&P.value||L.value==="vertical"&&!h.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?O.value?e.expandOpenIcon:e.expandCloseIcon:El:e.collapseCloseIcon&&e.collapseOpenIcon?O.value?e.collapseOpenIcon:e.collapseCloseIcon:ai),P=D(()=>m.level===0),R=D(()=>{const J=e.teleported;return J===void 0?P.value:J}),k=D(()=>h.props.collapse?`${c.namespace.value}-zoom-in-left`:`${c.namespace.value}-zoom-in-top`),N=D(()=>L.value==="horizontal"&&P.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),O=D(()=>h.openedMenus.includes(e.index)),$=D(()=>{let J=!1;return Object.values(g.value).forEach(fe=>{fe.active&&(J=!0)}),Object.values(v.value).forEach(fe=>{fe.active&&(J=!0)}),J}),L=D(()=>h.props.mode),M=Un({index:e.index,indexPath:a,active:$}),U=I5(h.props,m.level+1),j=D(()=>{var J;return(J=e.popperOffset)!=null?J:h.props.popperOffset}),W=D(()=>{var J;return(J=e.popperClass)!=null?J:h.props.popperClass}),re=D(()=>{var J;return(J=e.showTimeout)!=null?J:h.props.showTimeout}),ae=D(()=>{var J;return(J=e.hideTimeout)!=null?J:h.props.hideTimeout}),ee=()=>{var J,fe,ge;return(ge=(fe=(J=b.value)==null?void 0:J.popperRef)==null?void 0:fe.popperInstanceRef)==null?void 0:ge.destroy()},G=J=>{J||ee()},Z=()=>{h.props.menuTrigger==="hover"&&h.props.mode==="horizontal"||h.props.collapse&&h.props.mode==="vertical"||e.disabled||h.handleSubMenuClick({index:e.index,indexPath:a.value,active:$.value})},X=(J,fe=re.value)=>{var ge;if(J.type!=="focus"){if(h.props.menuTrigger==="click"&&h.props.mode==="horizontal"||!h.props.collapse&&h.props.mode==="vertical"||e.disabled){m.mouseInChild.value=!0;return}m.mouseInChild.value=!0,_==null||_(),{stop:_}=md(()=>{h.openMenu(e.index,a.value)},fe),R.value&&((ge=l.value.vnode.el)==null||ge.dispatchEvent(new MouseEvent("mouseenter")))}},H=(J=!1)=>{var fe;if(h.props.menuTrigger==="click"&&h.props.mode==="horizontal"||!h.props.collapse&&h.props.mode==="vertical"){m.mouseInChild.value=!1;return}_==null||_(),m.mouseInChild.value=!1,{stop:_}=md(()=>!S.value&&h.closeMenu(e.index,a.value),ae.value),R.value&&J&&((fe=m.handleMouseleave)==null||fe.call(m,!0))};Ge(()=>h.props.collapse,J=>G(Boolean(J)));{const J=ge=>{v.value[ge.index]=ge},fe=ge=>{delete v.value[ge.index]};pn(`subMenu:${o.uid}`,{addSubMenu:J,removeSubMenu:fe,handleMouseleave:H,mouseInChild:S,level:m.level+1})}return r({opened:O}),Zt(()=>{h.addSubMenu(M),m.addSubMenu(M)}),ur(()=>{m.removeSubMenu(M),h.removeSubMenu(M)}),()=>{var J;const fe=[(J=t.title)==null?void 0:J.call(t),Ot(St,{class:d.e("icon-arrow"),style:{transform:O.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&h.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Mt(C.value)?Ot(o.appContext.components[C.value]):Ot(C.value)})],ge=h.isMenuPopup?Ot(xo,{ref:b,visible:O.value,effect:"light",pure:!0,offset:j.value,showArrow:!1,persistent:!0,popperClass:W.value,placement:I.value,teleported:R.value,fallbackPlacements:N.value,transition:k.value,gpuAcceleration:!1},{content:()=>{var me;return Ot("div",{class:[c.m(L.value),c.m("popup-container"),W.value],onMouseenter:Ee=>X(Ee,100),onMouseleave:()=>H(!0),onFocus:Ee=>X(Ee,100)},[Ot("ul",{class:[c.b(),c.m("popup"),c.m(`popup-${I.value}`)],style:U.value},[(me=t.default)==null?void 0:me.call(t)])])},default:()=>Ot("div",{class:d.e("title"),onClick:Z},fe)}):Ot(Tt,{},[Ot("div",{class:d.e("title"),ref:T,onClick:Z},fe),Ot(X0,{},{default:()=>{var me;return qt(Ot("ul",{role:"menu",class:[c.b(),c.m("inline")],style:U.value},[(me=t.default)==null?void 0:me.call(t)]),[[Nn,O.value]])}})]);return Ot("li",{class:[d.b(),d.is("active",$.value),d.is("opened",O.value),d.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:O.value,onMouseenter:X,onMouseleave:()=>H(),onFocus:X},[ge])}}});const Zwe=it({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Se(Array),default:()=>Er([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:ir,default:()=>spe},popperEffect:{type:Se(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),_I=e=>Array.isArray(e)&&e.every(t=>Mt(t)),eIe={close:(e,t)=>Mt(e)&&_I(t),open:(e,t)=>Mt(e)&&_I(t),select:(e,t,r,o)=>Mt(e)&&_I(t)&&nn(r)&&(o===void 0||o instanceof Promise)};var tIe=he({name:"ElMenu",props:Zwe,emits:eIe,setup(e,{emit:t,slots:r,expose:o}){const a=Qt(),l=a.appContext.config.globalProperties.$router,c=q(),d=Je("menu"),h=Je("sub-menu"),m=q(-1),g=q(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),v=q(e.defaultActive),_=q({}),S=q({}),T=D(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),b=()=>{const ae=v.value&&_.value[v.value];if(!ae||e.mode==="horizontal"||e.collapse)return;ae.indexPath.forEach(G=>{const Z=S.value[G];Z&&I(G,Z.indexPath)})},I=(ae,ee)=>{g.value.includes(ae)||(e.uniqueOpened&&(g.value=g.value.filter(G=>ee.includes(G))),g.value.push(ae),t("open",ae,ee))},C=ae=>{const ee=g.value.indexOf(ae);ee!==-1&&g.value.splice(ee,1)},P=(ae,ee)=>{C(ae),t("close",ae,ee)},R=({index:ae,indexPath:ee})=>{g.value.includes(ae)?P(ae,ee):I(ae,ee)},k=ae=>{(e.mode==="horizontal"||e.collapse)&&(g.value=[]);const{index:ee,indexPath:G}=ae;if(!(yo(ee)||yo(G)))if(e.router&&l){const Z=ae.route||ee,X=l.push(Z).then(H=>(H||(v.value=ee),H));t("select",ee,G,{index:ee,indexPath:G,route:Z},X)}else v.value=ee,t("select",ee,G,{index:ee,indexPath:G})},N=ae=>{const ee=_.value,G=ee[ae]||v.value&&ee[v.value]||ee[e.defaultActive];G?v.value=G.index:v.value=ae},O=ae=>{const ee=getComputedStyle(ae),G=Number.parseInt(ee.marginLeft,10),Z=Number.parseInt(ee.marginRight,10);return ae.offsetWidth+G+Z||0},$=()=>{var ae,ee;if(!c.value)return-1;const G=Array.from((ee=(ae=c.value)==null?void 0:ae.childNodes)!=null?ee:[]).filter(Ee=>Ee.nodeName!=="#comment"&&(Ee.nodeName!=="#text"||Ee.nodeValue)),Z=64,X=getComputedStyle(c.value),H=Number.parseInt(X.paddingLeft,10),J=Number.parseInt(X.paddingRight,10),fe=c.value.clientWidth-H-J;let ge=0,me=0;return G.forEach((Ee,Fe)=>{ge+=O(Ee),ge<=fe-Z&&(me=Fe+1)}),me===G.length?-1:me},L=ae=>S.value[ae].indexPath,M=(ae,ee=33.34)=>{let G;return()=>{G&&clearTimeout(G),G=setTimeout(()=>{ae()},ee)}};let U=!0;const j=()=>{if(m.value===$())return;const ae=()=>{m.value=-1,wt(()=>{m.value=$()})};U?ae():M(ae)(),U=!1};Ge(()=>e.defaultActive,ae=>{_.value[ae]||(v.value=""),N(ae)}),Ge(()=>e.collapse,ae=>{ae&&(g.value=[])}),Ge(_.value,b);let W;Po(()=>{e.mode==="horizontal"&&e.ellipsis?W=Sr(c,j).stop:W==null||W()});const re=q(!1);{const ae=X=>{S.value[X.index]=X},ee=X=>{delete S.value[X.index]};pn("rootMenu",Un({props:e,openedMenus:g,items:_,subMenus:S,activeIndex:v,isMenuPopup:T,addMenuItem:X=>{_.value[X.index]=X},removeMenuItem:X=>{delete _.value[X.index]},addSubMenu:ae,removeSubMenu:ee,openMenu:I,closeMenu:P,handleMenuItemClick:k,handleSubMenuClick:R})),pn(`subMenu:${a.uid}`,{addSubMenu:ae,removeSubMenu:ee,mouseInChild:re,level:0})}return Zt(()=>{e.mode==="horizontal"&&new Gwe(a.vnode.el,d.namespace.value)}),o({open:ee=>{const{indexPath:G}=S.value[ee];G.forEach(Z=>I(Z,G))},close:C,handleResize:j}),()=>{var ae,ee;let G=(ee=(ae=r.default)==null?void 0:ae.call(r))!=null?ee:[];const Z=[];if(e.mode==="horizontal"&&c.value){const fe=Rc(G),ge=m.value===-1?fe:fe.slice(0,m.value),me=m.value===-1?[]:fe.slice(m.value);(me==null?void 0:me.length)&&e.ellipsis&&(G=ge,Z.push(Ot(uA,{index:"sub-menu-more",class:h.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>Ot(St,{class:h.e("icon-more")},{default:()=>Ot(e.ellipsisIcon)}),default:()=>me})))}const X=I5(e,0),H=e.closeOnClickOutside?[[ml,()=>{!g.value.length||re.value||(g.value.forEach(fe=>t("close",fe,L(fe))),g.value=[])}]]:[],J=qt(Ot("ul",{key:String(e.collapse),role:"menubar",ref:c,style:X.value,class:{[d.b()]:!0,[d.m(e.mode)]:!0,[d.m("collapse")]:e.collapse}},[...G,...Z]),H);return e.collapseTransition&&e.mode==="vertical"?Ot(Jwe,()=>J):J}}});const nIe=it({index:{type:Se([String,null]),default:null},route:{type:Se([String,Object])},disabled:Boolean}),rIe={click:e=>Mt(e.index)&&Array.isArray(e.indexPath)},bI="ElMenuItem",oIe=he({name:bI,components:{ElTooltip:xo},props:nIe,emits:rIe,setup(e,{emit:t}){const r=Qt(),o=pt("rootMenu"),a=Je("menu"),l=Je("menu-item");o||to(bI,"can not inject root menu");const{parentMenu:c,indexPath:d}=w5(r,Kn(e,"index")),h=pt(`subMenu:${c.value.uid}`);h||to(bI,"can not inject sub menu");const m=D(()=>e.index===o.activeIndex),g=Un({index:e.index,indexPath:d,active:m}),v=()=>{e.disabled||(o.handleMenuItemClick({index:e.index,indexPath:d.value,route:e.route}),t("click",g))};return Zt(()=>{h.addSubMenu(g),o.addMenuItem(g)}),ur(()=>{h.removeSubMenu(g),o.removeMenuItem(g)}),{parentMenu:c,rootMenu:o,active:m,nsMenu:a,nsMenuItem:l,handleClick:v}}});function iIe(e,t,r,o,a,l){const c=en("el-tooltip");return F(),Q("li",{class:B([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(F(),Ve(c,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ye(()=>[Pe(e.$slots,"title")]),default:ye(()=>[te("div",{class:B(e.nsMenu.be("tooltip","trigger"))},[Pe(e.$slots,"default")],2)]),_:3},8,["effect"])):(F(),Q(Tt,{key:1},[Pe(e.$slots,"default"),Pe(e.$slots,"title")],64))],10,["onClick"])}var k5=at(oIe,[["render",iIe],["__file","menu-item.vue"]]);const aIe={title:String},sIe="ElMenuItemGroup",lIe=he({name:sIe,props:aIe,setup(){return{ns:Je("menu-item-group")}}});function cIe(e,t,r,o,a,l){return F(),Q("li",{class:B(e.ns.b())},[te("div",{class:B(e.ns.e("title"))},[e.$slots.title?Pe(e.$slots,"title",{key:1}):(F(),Q(Tt,{key:0},[Jt(et(e.title),1)],64))],2),te("ul",null,[Pe(e.$slots,"default")])],2)}var R5=at(lIe,[["render",cIe],["__file","menu-item-group.vue"]]);const uIe=Kt(tIe,{MenuItem:k5,MenuItemGroup:R5,SubMenu:uA}),dIe=Tr(k5),fIe=Tr(R5),hIe=Tr(uA),pIe=it({icon:{type:ir,default:()=>Nhe},title:String,content:{type:String,default:""}}),mIe={back:()=>!0},vIe=he({name:"ElPageHeader"}),gIe=he({...vIe,props:pIe,emits:mIe,setup(e,{emit:t}){const r=co(),{t:o}=En(),a=Je("page-header"),l=D(()=>[a.b(),{[a.m("has-breadcrumb")]:!!r.breadcrumb,[a.m("has-extra")]:!!r.extra,[a.is("contentful")]:!!r.default}]);function c(){t("back")}return(d,h)=>(F(),Q("div",{class:B(f(l))},[d.$slots.breadcrumb?(F(),Q("div",{key:0,class:B(f(a).e("breadcrumb"))},[Pe(d.$slots,"breadcrumb")],2)):Ie("v-if",!0),te("div",{class:B(f(a).e("header"))},[te("div",{class:B(f(a).e("left"))},[te("div",{class:B(f(a).e("back")),role:"button",tabindex:"0",onClick:c},[d.icon||d.$slots.icon?(F(),Q("div",{key:0,"aria-label":d.title||f(o)("el.pageHeader.title"),class:B(f(a).e("icon"))},[Pe(d.$slots,"icon",{},()=>[d.icon?(F(),Ve(f(St),{key:0},{default:ye(()=>[(F(),Ve(ln(d.icon)))]),_:1})):Ie("v-if",!0)])],10,["aria-label"])):Ie("v-if",!0),te("div",{class:B(f(a).e("title"))},[Pe(d.$slots,"title",{},()=>[Jt(et(d.title||f(o)("el.pageHeader.title")),1)])],2)],2),se(f(h5),{direction:"vertical"}),te("div",{class:B(f(a).e("content"))},[Pe(d.$slots,"content",{},()=>[Jt(et(d.content),1)])],2)],2),d.$slots.extra?(F(),Q("div",{key:0,class:B(f(a).e("extra"))},[Pe(d.$slots,"extra")],2)):Ie("v-if",!0)],2),d.$slots.default?(F(),Q("div",{key:1,class:B(f(a).e("main"))},[Pe(d.$slots,"default")],2)):Ie("v-if",!0)],2))}});var yIe=at(gIe,[["__file","page-header.vue"]]);const _Ie=Kt(yIe),A5=Symbol("elPaginationKey"),bIe=it({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:ir}}),SIe={click:e=>e instanceof MouseEvent},EIe=he({name:"ElPaginationPrev"}),TIe=he({...EIe,props:bIe,emits:SIe,setup(e){const t=e,{t:r}=En(),o=D(()=>t.disabled||t.currentPage<=1);return(a,l)=>(F(),Q("button",{type:"button",class:"btn-prev",disabled:f(o),"aria-label":a.prevText||f(r)("el.pagination.prev"),"aria-disabled":f(o),onClick:c=>a.$emit("click",c)},[a.prevText?(F(),Q("span",{key:0},et(a.prevText),1)):(F(),Ve(f(St),{key:1},{default:ye(()=>[(F(),Ve(ln(a.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var CIe=at(TIe,[["__file","prev.vue"]]);const wIe=it({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:ir}}),IIe=he({name:"ElPaginationNext"}),kIe=he({...IIe,props:wIe,emits:["click"],setup(e){const t=e,{t:r}=En(),o=D(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(a,l)=>(F(),Q("button",{type:"button",class:"btn-next",disabled:f(o),"aria-label":a.nextText||f(r)("el.pagination.next"),"aria-disabled":f(o),onClick:c=>a.$emit("click",c)},[a.nextText?(F(),Q("span",{key:0},et(a.nextText),1)):(F(),Ve(f(St),{key:1},{default:ye(()=>[(F(),Ve(ln(a.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var RIe=at(kIe,[["__file","next.vue"]]);const O5=Symbol("ElSelectGroup"),Jh=Symbol("ElSelect");function AIe(e,t){const r=pt(Jh),o=pt(O5,{disabled:!1}),a=D(()=>g(Wo(r.props.modelValue),e.value)),l=D(()=>{var S;if(r.props.multiple){const T=Wo((S=r.props.modelValue)!=null?S:[]);return!a.value&&T.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),c=D(()=>e.label||(nn(e.value)?"":e.value)),d=D(()=>e.value||e.label||""),h=D(()=>e.disabled||t.groupDisabled||l.value),m=Qt(),g=(S=[],T)=>{if(nn(e.value)){const b=r.props.valueKey;return S&&S.some(I=>er(Mr(I,b))===Mr(T,b))}else return S&&S.includes(T)},v=()=>{!e.disabled&&!o.disabled&&(r.states.hoveringIndex=r.optionsArray.indexOf(m.proxy))},_=S=>{const T=new RegExp(pR(S),"i");t.visible=T.test(c.value)||e.created};return Ge(()=>c.value,()=>{!e.created&&!r.props.remote&&r.setSelected()}),Ge(()=>e.value,(S,T)=>{const{remote:b,valueKey:I}=r.props;if(S!==T&&(r.onOptionDestroy(T,m.proxy),r.onOptionCreate(m.proxy)),!e.created&&!b){if(I&&nn(S)&&nn(T)&&S[I]===T[I])return;r.setSelected()}}),Ge(()=>o.disabled,()=>{t.groupDisabled=o.disabled},{immediate:!0}),{select:r,currentLabel:c,currentValue:d,itemSelected:a,isDisabled:h,hoverItem:v,updateOption:_}}const OIe=he({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=Je("select"),r=Mo(),o=D(()=>[t.be("dropdown","item"),t.is("disabled",f(d)),t.is("selected",f(c)),t.is("hovering",f(_))]),a=Un({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:l,itemSelected:c,isDisabled:d,select:h,hoverItem:m,updateOption:g}=AIe(e,a),{visible:v,hover:_}=So(a),S=Qt().proxy;h.onOptionCreate(S),ur(()=>{const b=S.value,{selected:I}=h.states,P=(h.props.multiple?I:[I]).some(R=>R.value===S.value);wt(()=>{h.states.cachedOptions.get(b)===S&&!P&&h.states.cachedOptions.delete(b)}),h.onOptionDestroy(b,S)});function T(){d.value||h.handleOptionSelect(S)}return{ns:t,id:r,containerKls:o,currentLabel:l,itemSelected:c,isDisabled:d,select:h,hoverItem:m,updateOption:g,visible:v,hover:_,selectOptionClick:T,states:a}}});function NIe(e,t,r,o,a,l){return qt((F(),Q("li",{id:e.id,class:B(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:e.hoverItem,onClick:Vt(e.selectOptionClick,["stop"])},[Pe(e.$slots,"default",{},()=>[te("span",null,et(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"])),[[Nn,e.visible]])}var dA=at(OIe,[["render",NIe],["__file","option.vue"]]);const PIe=he({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=pt(Jh),t=Je("select"),r=D(()=>e.props.popperClass),o=D(()=>e.props.multiple),a=D(()=>e.props.fitInputWidth),l=q("");function c(){var d;l.value=`${(d=e.selectRef)==null?void 0:d.offsetWidth}px`}return Zt(()=>{c(),Sr(e.selectRef,c)}),{ns:t,minWidth:l,popperClass:r,isMultiple:o,isFitInputWidth:a}}});function DIe(e,t,r,o,a,l){return F(),Q("div",{class:B([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:kt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(F(),Q("div",{key:0,class:B(e.ns.be("dropdown","header"))},[Pe(e.$slots,"header")],2)):Ie("v-if",!0),Pe(e.$slots,"default"),e.$slots.footer?(F(),Q("div",{key:1,class:B(e.ns.be("dropdown","footer"))},[Pe(e.$slots,"footer")],2)):Ie("v-if",!0)],6)}var LIe=at(PIe,[["render",DIe],["__file","select-dropdown.vue"]]);const MIe=11,xIe=(e,t)=>{const{t:r}=En(),o=Mo(),a=Je("select"),l=Je("input"),c=Un({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:e.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),d=q(null),h=q(null),m=q(null),g=q(null),v=q(null),_=q(null),S=q(null),T=q(null),b=q(null),I=q(null),C=q(null),P=q(null),{isComposing:R,handleCompositionStart:k,handleCompositionUpdate:N,handleCompositionEnd:O}=j0({afterComposition:st=>Nt(st)}),{wrapperRef:$,isFocused:L,handleBlur:M}=yg(v,{afterFocus(){e.automaticDropdown&&!U.value&&(U.value=!0,c.menuVisibleOnFocus=!0)},beforeBlur(st){var Rt,Rn;return((Rt=m.value)==null?void 0:Rt.isFocusInsideContent(st))||((Rn=g.value)==null?void 0:Rn.isFocusInsideContent(st))},afterBlur(){U.value=!1,c.menuVisibleOnFocus=!1}}),U=q(!1),j=q(),{form:W,formItem:re}=Go(),{inputId:ae}=qa(e,{formItemContext:re}),{valueOnClear:ee,isEmptyValue:G}=W0(e),Z=D(()=>e.disabled||(W==null?void 0:W.disabled)),X=D(()=>ht(e.modelValue)?e.modelValue.length>0:!G(e.modelValue)),H=D(()=>e.clearable&&!Z.value&&c.inputHovering&&X.value),J=D(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),fe=D(()=>a.is("reverse",J.value&&U.value)),ge=D(()=>(re==null?void 0:re.validateState)||""),me=D(()=>TR[ge.value]),Ee=D(()=>e.remote?300:0),Fe=D(()=>e.loading?e.loadingText||r("el.select.loading"):e.remote&&!c.inputValue&&c.options.size===0?!1:e.filterable&&c.inputValue&&c.options.size>0&&$e.value===0?e.noMatchText||r("el.select.noMatch"):c.options.size===0?e.noDataText||r("el.select.noData"):null),$e=D(()=>de.value.filter(st=>st.visible).length),de=D(()=>{const st=Array.from(c.options.values()),Rt=[];return c.optionValues.forEach(Rn=>{const fr=st.findIndex(mr=>mr.value===Rn);fr>-1&&Rt.push(st[fr])}),Rt.length>=st.length?Rt:st}),Le=D(()=>Array.from(c.cachedOptions.values())),Te=D(()=>{const st=de.value.filter(Rt=>!Rt.created).some(Rt=>Rt.currentLabel===c.inputValue);return e.filterable&&e.allowCreate&&c.inputValue!==""&&!st}),Be=()=>{e.filterable&&Lt(e.filterMethod)||e.filterable&&e.remote&&Lt(e.remoteMethod)||de.value.forEach(st=>{var Rt;(Rt=st.updateOption)==null||Rt.call(st,c.inputValue)})},be=Jr(),We=D(()=>["small"].includes(be.value)?"small":"default"),ce=D({get(){return U.value&&Fe.value!==!1},set(st){U.value=st}}),ie=D(()=>{if(e.multiple&&!Ar(e.modelValue))return Wo(e.modelValue).length===0&&!c.inputValue;const st=ht(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Ar(st)?!c.inputValue:!0}),De=D(()=>{var st;const Rt=(st=e.placeholder)!=null?st:r("el.select.placeholder");return e.multiple||!X.value?Rt:c.selectedLabel}),tt=D(()=>YI?null:"mouseenter");Ge(()=>e.modelValue,(st,Rt)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(c.inputValue="",xe("")),ot(),!ii(st,Rt)&&e.validateEvent&&(re==null||re.validate("change").catch(Rn=>void 0))},{flush:"post",deep:!0}),Ge(()=>U.value,st=>{st?xe(c.inputValue):(c.inputValue="",c.previousQuery=null,c.isBeforeHide=!0),t("visible-change",st)}),Ge(()=>c.options.entries(),()=>{var st;if(!Sn)return;const Rt=((st=d.value)==null?void 0:st.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!Ar(e.modelValue)||!Array.from(Rt).includes(document.activeElement))&&ot(),e.defaultFirstOption&&(e.filterable||e.remote)&&$e.value&&ze()},{flush:"post"}),Ge(()=>c.hoveringIndex,st=>{xt(st)&&st>-1?j.value=de.value[st]||{}:j.value={},de.value.forEach(Rt=>{Rt.hover=j.value===Rt})}),Po(()=>{c.isBeforeHide||Be()});const xe=st=>{c.previousQuery===st||R.value||(c.previousQuery=st,e.filterable&&Lt(e.filterMethod)?e.filterMethod(st):e.filterable&&e.remote&&Lt(e.remoteMethod)&&e.remoteMethod(st),e.defaultFirstOption&&(e.filterable||e.remote)&&$e.value?wt(ze):wt(pe))},ze=()=>{const st=de.value.filter(fr=>fr.visible&&!fr.disabled&&!fr.states.groupDisabled),Rt=st.find(fr=>fr.created),Rn=st[0];c.hoveringIndex=nt(de.value,Rt||Rn)},ot=()=>{if(e.multiple)c.selectedLabel="";else{const Rt=ht(e.modelValue)?e.modelValue[0]:e.modelValue,Rn=le(Rt);c.selectedLabel=Rn.currentLabel,c.selected=Rn;return}const st=[];Ar(e.modelValue)||Wo(e.modelValue).forEach(Rt=>{st.push(le(Rt))}),c.selected=st},le=st=>{let Rt;const Rn=_b(st).toLowerCase()==="object",fr=_b(st).toLowerCase()==="null",mr=_b(st).toLowerCase()==="undefined";for(let Ro=c.cachedOptions.size-1;Ro>=0;Ro--){const fo=Le.value[Ro];if(Rn?Mr(fo.value,e.valueKey)===Mr(st,e.valueKey):fo.value===st){Rt={value:st,currentLabel:fo.currentLabel,get isDisabled(){return fo.isDisabled}};break}}if(Rt)return Rt;const Fr=Rn?st.label:!fr&&!mr?st:"";return{value:st,currentLabel:Fr}},pe=()=>{e.multiple?c.hoveringIndex=de.value.findIndex(st=>c.selected.some(Rt=>qo(Rt)===qo(st))):c.hoveringIndex=de.value.findIndex(st=>qo(st)===qo(c.selected))},Re=()=>{c.selectionWidth=h.value.getBoundingClientRect().width},Ae=()=>{c.calculatorWidth=_.value.getBoundingClientRect().width},qe=()=>{c.collapseItemWidth=C.value.getBoundingClientRect().width},rt=()=>{var st,Rt;(Rt=(st=m.value)==null?void 0:st.updatePopper)==null||Rt.call(st)},Ue=()=>{var st,Rt;(Rt=(st=g.value)==null?void 0:st.updatePopper)==null||Rt.call(st)},Xe=()=>{c.inputValue.length>0&&!U.value&&(U.value=!0),xe(c.inputValue)},Nt=st=>{if(c.inputValue=st.target.value,e.remote)Ft();else return Xe()},Ft=Ii(()=>{Xe()},Ee.value),Et=st=>{ii(e.modelValue,st)||t(pr,st)},Ut=st=>B8(st,Rt=>!c.disabledOptions.has(Rt)),He=st=>{if(!!e.multiple&&st.code!==It.delete&&st.target.value.length<=0){const Rt=Wo(e.modelValue).slice(),Rn=Ut(Rt);if(Rn<0)return;const fr=Rt[Rn];Rt.splice(Rn,1),t(tn,Rt),Et(Rt),t("remove-tag",fr)}},vt=(st,Rt)=>{const Rn=c.selected.indexOf(Rt);if(Rn>-1&&!Z.value){const fr=Wo(e.modelValue).slice();fr.splice(Rn,1),t(tn,fr),Et(fr),t("remove-tag",Rt.value)}st.stopPropagation(),rn()},we=st=>{st.stopPropagation();const Rt=e.multiple?[]:ee.value;if(e.multiple)for(const Rn of c.selected)Rn.isDisabled&&Rt.push(Rn.value);t(tn,Rt),Et(Rt),c.hoveringIndex=-1,U.value=!1,t("clear"),rn()},Ye=st=>{var Rt;if(e.multiple){const Rn=Wo((Rt=e.modelValue)!=null?Rt:[]).slice(),fr=nt(Rn,st.value);fr>-1?Rn.splice(fr,1):(e.multipleLimit<=0||Rn.length<e.multipleLimit)&&Rn.push(st.value),t(tn,Rn),Et(Rn),st.created&&xe(""),e.filterable&&!e.reserveKeyword&&(c.inputValue="")}else t(tn,st.value),Et(st.value),U.value=!1;rn(),!U.value&&wt(()=>{jt(st)})},nt=(st=[],Rt)=>{if(!nn(Rt))return st.indexOf(Rt);const Rn=e.valueKey;let fr=-1;return st.some((mr,Fr)=>er(Mr(mr,Rn))===Mr(Rt,Rn)?(fr=Fr,!0):!1),fr},jt=st=>{var Rt,Rn,fr,mr,Fr;const uo=ht(st)?st[0]:st;let Ro=null;if(uo!=null&&uo.value){const fo=de.value.filter(ct=>ct.value===uo.value);fo.length>0&&(Ro=fo[0].$el)}if(m.value&&Ro){const fo=(mr=(fr=(Rn=(Rt=m.value)==null?void 0:Rt.popperRef)==null?void 0:Rn.contentRef)==null?void 0:fr.querySelector)==null?void 0:mr.call(fr,`.${a.be("dropdown","wrap")}`);fo&&vR(fo,Ro)}(Fr=P.value)==null||Fr.handleScroll()},Dt=st=>{c.options.set(st.value,st),c.cachedOptions.set(st.value,st),st.disabled&&c.disabledOptions.set(st.value,st)},Me=(st,Rt)=>{c.options.get(st)===Rt&&c.options.delete(st)},ft=D(()=>{var st,Rt;return(Rt=(st=m.value)==null?void 0:st.popperRef)==null?void 0:Rt.contentRef}),In=()=>{c.isBeforeHide=!1,wt(()=>jt(c.selected))},rn=()=>{var st;(st=v.value)==null||st.focus()},qn=()=>{Xr()},Pn=st=>{we(st)},Xr=st=>{if(U.value=!1,L.value){const Rt=new FocusEvent("focus",st);wt(()=>M(Rt))}},Nr=()=>{c.inputValue.length>0?c.inputValue="":U.value=!1},zi=()=>{Z.value||(YI&&(c.inputHovering=!0),c.menuVisibleOnFocus?c.menuVisibleOnFocus=!1:U.value=!U.value)},Cr=()=>{U.value?de.value[c.hoveringIndex]&&Ye(de.value[c.hoveringIndex]):zi()},qo=st=>nn(st.value)?Mr(st.value,e.valueKey):st.value,ro=D(()=>de.value.filter(st=>st.visible).every(st=>st.disabled)),Gr=D(()=>e.multiple?e.collapseTags?c.selected.slice(0,e.maxCollapseTags):c.selected:[]),Ki=D(()=>e.multiple?e.collapseTags?c.selected.slice(e.maxCollapseTags):[]:[]),ba=st=>{if(!U.value){U.value=!0;return}if(!(c.options.size===0||c.filteredOptionsCount===0||R.value)&&!ro.value){st==="next"?(c.hoveringIndex++,c.hoveringIndex===c.options.size&&(c.hoveringIndex=0)):st==="prev"&&(c.hoveringIndex--,c.hoveringIndex<0&&(c.hoveringIndex=c.options.size-1));const Rt=de.value[c.hoveringIndex];(Rt.disabled===!0||Rt.states.groupDisabled===!0||!Rt.visible)&&ba(st),wt(()=>jt(j.value))}},Sa=()=>{if(!h.value)return 0;const st=window.getComputedStyle(h.value);return Number.parseFloat(st.gap||"6px")},di=D(()=>{const st=Sa();return{maxWidth:`${C.value&&e.maxCollapseTags===1?c.selectionWidth-c.collapseItemWidth-st:c.selectionWidth}px`}}),Os=D(()=>({maxWidth:`${c.selectionWidth}px`})),Ns=D(()=>({width:`${Math.max(c.calculatorWidth,MIe)}px`}));return Sr(h,Re),Sr(_,Ae),Sr(b,rt),Sr($,rt),Sr(I,Ue),Sr(C,qe),Zt(()=>{ot()}),{inputId:ae,contentId:o,nsSelect:a,nsInput:l,states:c,isFocused:L,expanded:U,optionsArray:de,hoverOption:j,selectSize:be,filteredOptionsCount:$e,resetCalculatorWidth:Ae,updateTooltip:rt,updateTagTooltip:Ue,debouncedOnInputChange:Ft,onInput:Nt,deletePrevTag:He,deleteTag:vt,deleteSelected:we,handleOptionSelect:Ye,scrollToOption:jt,hasModelValue:X,shouldShowPlaceholder:ie,currentPlaceholder:De,mouseEnterEventName:tt,showClose:H,iconComponent:J,iconReverse:fe,validateState:ge,validateIcon:me,showNewOption:Te,updateOptions:Be,collapseTagSize:We,setSelected:ot,selectDisabled:Z,emptyText:Fe,handleCompositionStart:k,handleCompositionUpdate:N,handleCompositionEnd:O,onOptionCreate:Dt,onOptionDestroy:Me,handleMenuEnter:In,focus:rn,blur:qn,handleClearClick:Pn,handleClickOutside:Xr,handleEsc:Nr,toggleMenu:zi,selectOption:Cr,getValueKey:qo,navigateOptions:ba,dropdownMenuVisible:ce,showTagList:Gr,collapseTagList:Ki,tagStyle:di,collapseTagStyle:Os,inputStyle:Ns,popperRef:ft,inputRef:v,tooltipRef:m,tagTooltipRef:g,calculatorRef:_,prefixRef:S,suffixRef:T,selectRef:d,wrapperRef:$,selectionRef:h,scrollbarRef:P,menuRef:b,tagMenuRef:I,collapseItemRef:C}};var VIe=he({name:"ElOptions",setup(e,{slots:t}){const r=pt(Jh);let o=[];return()=>{var a,l;const c=(a=t.default)==null?void 0:a.call(t),d=[];function h(m){!ht(m)||m.forEach(g=>{var v,_,S,T;const b=(v=(g==null?void 0:g.type)||{})==null?void 0:v.name;b==="ElOptionGroup"?h(!Mt(g.children)&&!ht(g.children)&&Lt((_=g.children)==null?void 0:_.default)?(S=g.children)==null?void 0:S.default():g.children):b==="ElOption"?d.push((T=g.props)==null?void 0:T.value):ht(g.children)&&h(g.children)})}return c.length&&h((l=c[0])==null?void 0:l.children),ii(d,o)||(o=d,r&&(r.states.optionValues=d)),c}}});const FIe=it({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:no,effect:{type:Se(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Se(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:mo.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ir,default:Gc},fitInputWidth:Boolean,suffixIcon:{type:ir,default:El},tagType:{...Sd.type,default:"info"},tagEffect:{...Sd.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:Se(String),values:Rd,default:"bottom-start"},fallbackPlacements:{type:Se(Array),default:["bottom-start","top-start","right","left"]},...Gh,...ko(["ariaLabel"])}),q$="ElSelect",$Ie=he({name:q$,componentName:q$,components:{ElSelectMenu:LIe,ElOption:dA,ElOptions:VIe,ElTag:Uv,ElScrollbar:Rs,ElTooltip:xo,ElIcon:St},directives:{ClickOutside:ml},props:FIe,emits:[tn,pr,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const r=xIe(e,t);return pn(Jh,Un({props:e,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected})),{...r}}});function UIe(e,t,r,o,a,l){const c=en("el-tag"),d=en("el-tooltip"),h=en("el-icon"),m=en("el-option"),g=en("el-options"),v=en("el-scrollbar"),_=en("el-select-menu"),S=I0("click-outside");return qt((F(),Q("div",{ref:"selectRef",class:B([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[av(e.mouseEnterEventName)]:T=>e.states.inputHovering=!0,onMouseleave:T=>e.states.inputHovering=!1},[se(d,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:T=>e.states.isBeforeHide=!1},{default:ye(()=>{var T;return[te("div",{ref:"wrapperRef",class:B([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:Vt(e.toggleMenu,["prevent","stop"])},[e.$slots.prefix?(F(),Q("div",{key:0,ref:"prefixRef",class:B(e.nsSelect.e("prefix"))},[Pe(e.$slots,"prefix")],2)):Ie("v-if",!0),te("div",{ref:"selectionRef",class:B([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Pe(e.$slots,"tag",{key:0},()=>[(F(!0),Q(Tt,null,fn(e.showTagList,b=>(F(),Q("div",{key:e.getValueKey(b),class:B(e.nsSelect.e("selected-item"))},[se(c,{closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:kt(e.tagStyle),onClose:I=>e.deleteTag(I,b)},{default:ye(()=>[te("span",{class:B(e.nsSelect.e("tags-text"))},[Pe(e.$slots,"label",{label:b.currentLabel,value:b.value},()=>[Jt(et(b.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(F(),Ve(d,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:ye(()=>[te("div",{ref:"collapseItemRef",class:B(e.nsSelect.e("selected-item"))},[se(c,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:kt(e.collapseTagStyle)},{default:ye(()=>[te("span",{class:B(e.nsSelect.e("tags-text"))}," + "+et(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ye(()=>[te("div",{ref:"tagMenuRef",class:B(e.nsSelect.e("selection"))},[(F(!0),Q(Tt,null,fn(e.collapseTagList,b=>(F(),Q("div",{key:e.getValueKey(b),class:B(e.nsSelect.e("selected-item"))},[se(c,{class:"in-tooltip",closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:I=>e.deleteTag(I,b)},{default:ye(()=>[te("span",{class:B(e.nsSelect.e("tags-text"))},[Pe(e.$slots,"label",{label:b.currentLabel,value:b.value},()=>[Jt(et(b.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Ie("v-if",!0)]):Ie("v-if",!0),e.selectDisabled?Ie("v-if",!0):(F(),Q("div",{key:1,class:B([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[qt(te("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":b=>e.states.inputValue=b,type:"text",name:e.name,class:B([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:kt(e.inputStyle),role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((T=e.hoverOption)==null?void 0:T.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[or(Vt(b=>e.navigateOptions("next"),["stop","prevent"]),["down"]),or(Vt(b=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),or(Vt(e.handleEsc,["stop","prevent"]),["esc"]),or(Vt(e.selectOption,["stop","prevent"]),["enter"]),or(Vt(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:Vt(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[q1,e.states.inputValue]]),e.filterable?(F(),Q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:B(e.nsSelect.e("input-calculator")),textContent:et(e.states.inputValue)},null,10,["textContent"])):Ie("v-if",!0)],2)),e.shouldShowPlaceholder?(F(),Q("div",{key:2,class:B([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Pe(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[te("span",null,et(e.currentPlaceholder),1)]):(F(),Q("span",{key:1},et(e.currentPlaceholder),1))],2)):Ie("v-if",!0)],2),te("div",{ref:"suffixRef",class:B(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(F(),Ve(h,{key:0,class:B([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:ye(()=>[(F(),Ve(ln(e.iconComponent)))]),_:1},8,["class"])):Ie("v-if",!0),e.showClose&&e.clearIcon?(F(),Ve(h,{key:1,class:B([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:ye(()=>[(F(),Ve(ln(e.clearIcon)))]),_:1},8,["class","onClick"])):Ie("v-if",!0),e.validateState&&e.validateIcon?(F(),Ve(h,{key:2,class:B([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:ye(()=>[(F(),Ve(ln(e.validateIcon)))]),_:1},8,["class"])):Ie("v-if",!0)],2)],10,["onClick"])]}),content:ye(()=>[se(_,{ref:"menuRef"},{default:ye(()=>[e.$slots.header?(F(),Q("div",{key:0,class:B(e.nsSelect.be("dropdown","header")),onClick:Vt(()=>{},["stop"])},[Pe(e.$slots,"header")],10,["onClick"])):Ie("v-if",!0),qt(se(v,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:B([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:ye(()=>[e.showNewOption?(F(),Ve(m,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):Ie("v-if",!0),se(g,null,{default:ye(()=>[Pe(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Nn,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(F(),Q("div",{key:1,class:B(e.nsSelect.be("dropdown","loading"))},[Pe(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(F(),Q("div",{key:2,class:B(e.nsSelect.be("dropdown","empty"))},[Pe(e.$slots,"empty",{},()=>[te("span",null,et(e.emptyText),1)])],2)):Ie("v-if",!0),e.$slots.footer?(F(),Q("div",{key:3,class:B(e.nsSelect.be("dropdown","footer")),onClick:Vt(()=>{},["stop"])},[Pe(e.$slots,"footer")],10,["onClick"])):Ie("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow","onHide"])],16,["onMouseleave"])),[[S,e.handleClickOutside,e.popperRef]])}var BIe=at($Ie,[["render",UIe],["__file","select.vue"]]);const HIe=he({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=Je("select"),r=q(null),o=Qt(),a=q([]);pn(O5,Un({...So(e)}));const l=D(()=>a.value.some(m=>m.visible===!0)),c=m=>{var g,v;return((g=m.type)==null?void 0:g.name)==="ElOption"&&!!((v=m.component)!=null&&v.proxy)},d=m=>{const g=Wo(m),v=[];return g.forEach(_=>{var S,T;c(_)?v.push(_.component.proxy):(S=_.children)!=null&&S.length?v.push(...d(_.children)):(T=_.component)!=null&&T.subTree&&v.push(...d(_.component.subTree))}),v},h=()=>{a.value=d(o.subTree)};return Zt(()=>{h()}),n8(r,h,{attributes:!0,subtree:!0,childList:!0}),{groupRef:r,visible:l,ns:t}}});function jIe(e,t,r,o,a,l){return qt((F(),Q("ul",{ref:"groupRef",class:B(e.ns.be("group","wrap"))},[te("li",{class:B(e.ns.be("group","title"))},et(e.label),3),te("li",null,[te("ul",{class:B(e.ns.b("group"))},[Pe(e.$slots,"default")],2)])],2)),[[Nn,e.visible]])}var N5=at(HIe,[["render",jIe],["__file","option-group.vue"]]);const Hc=Kt(BIe,{Option:dA,OptionGroup:N5}),Hv=Tr(dA),WIe=Tr(N5),fA=()=>pt(A5,{}),zIe=it({pageSize:{type:Number,required:!0},pageSizes:{type:Se(Array),default:()=>Er([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:ks}}),KIe=he({name:"ElPaginationSizes"}),GIe=he({...KIe,props:zIe,emits:["page-size-change"],setup(e,{emit:t}){const r=e,{t:o}=En(),a=Je("pagination"),l=fA(),c=q(r.pageSize);Ge(()=>r.pageSizes,(m,g)=>{if(!ii(m,g)&&Array.isArray(m)){const v=m.includes(r.pageSize)?r.pageSize:r.pageSizes[0];t("page-size-change",v)}}),Ge(()=>r.pageSize,m=>{c.value=m});const d=D(()=>r.pageSizes);function h(m){var g;m!==c.value&&(c.value=m,(g=l.handleSizeChange)==null||g.call(l,Number(m)))}return(m,g)=>(F(),Q("span",{class:B(f(a).e("sizes"))},[se(f(Hc),{"model-value":c.value,disabled:m.disabled,"popper-class":m.popperClass,size:m.size,teleported:m.teleported,"validate-event":!1,onChange:h},{default:ye(()=>[(F(!0),Q(Tt,null,fn(f(d),v=>(F(),Ve(f(Hv),{key:v,value:v,label:v+f(o)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var qIe=at(GIe,[["__file","sizes.vue"]]);const YIe=it({size:{type:String,values:ks}}),JIe=he({name:"ElPaginationJumper"}),XIe=he({...JIe,props:YIe,setup(e){const{t}=En(),r=Je("pagination"),{pageCount:o,disabled:a,currentPage:l,changeEvent:c}=fA(),d=q(),h=D(()=>{var v;return(v=d.value)!=null?v:l==null?void 0:l.value});function m(v){d.value=v?+v:""}function g(v){v=Math.trunc(+v),c==null||c(v),d.value=void 0}return(v,_)=>(F(),Q("span",{class:B(f(r).e("jump")),disabled:f(a)},[te("span",{class:B([f(r).e("goto")])},et(f(t)("el.pagination.goto")),3),se(f(wo),{size:v.size,class:B([f(r).e("editor"),f(r).is("in-pagination")]),min:1,max:f(o),disabled:f(a),"model-value":f(h),"validate-event":!1,"aria-label":f(t)("el.pagination.page"),type:"number","onUpdate:modelValue":m,onChange:g},null,8,["size","class","max","disabled","model-value","aria-label"]),te("span",{class:B([f(r).e("classifier")])},et(f(t)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var QIe=at(XIe,[["__file","jumper.vue"]]);const ZIe=it({total:{type:Number,default:1e3}}),eke=he({name:"ElPaginationTotal"}),tke=he({...eke,props:ZIe,setup(e){const{t}=En(),r=Je("pagination"),{disabled:o}=fA();return(a,l)=>(F(),Q("span",{class:B(f(r).e("total")),disabled:f(o)},et(f(t)("el.pagination.total",{total:a.total})),11,["disabled"]))}});var nke=at(tke,[["__file","total.vue"]]);const rke=it({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),oke=he({name:"ElPaginationPager"}),ike=he({...oke,props:rke,emits:["change"],setup(e,{emit:t}){const r=e,o=Je("pager"),a=Je("icon"),{t:l}=En(),c=q(!1),d=q(!1),h=q(!1),m=q(!1),g=q(!1),v=q(!1),_=D(()=>{const k=r.pagerCount,N=(k-1)/2,O=Number(r.currentPage),$=Number(r.pageCount);let L=!1,M=!1;$>k&&(O>k-N&&(L=!0),O<$-N&&(M=!0));const U=[];if(L&&!M){const j=$-(k-2);for(let W=j;W<$;W++)U.push(W)}else if(!L&&M)for(let j=2;j<k;j++)U.push(j);else if(L&&M){const j=Math.floor(k/2)-1;for(let W=O-j;W<=O+j;W++)U.push(W)}else for(let j=2;j<$;j++)U.push(j);return U}),S=D(()=>["more","btn-quickprev",a.b(),o.is("disabled",r.disabled)]),T=D(()=>["more","btn-quicknext",a.b(),o.is("disabled",r.disabled)]),b=D(()=>r.disabled?-1:0);Po(()=>{const k=(r.pagerCount-1)/2;c.value=!1,d.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-k&&(c.value=!0),r.currentPage<r.pageCount-k&&(d.value=!0))});function I(k=!1){r.disabled||(k?h.value=!0:m.value=!0)}function C(k=!1){k?g.value=!0:v.value=!0}function P(k){const N=k.target;if(N.tagName.toLowerCase()==="li"&&Array.from(N.classList).includes("number")){const O=Number(N.textContent);O!==r.currentPage&&t("change",O)}else N.tagName.toLowerCase()==="li"&&Array.from(N.classList).includes("more")&&R(k)}function R(k){const N=k.target;if(N.tagName.toLowerCase()==="ul"||r.disabled)return;let O=Number(N.textContent);const $=r.pageCount,L=r.currentPage,M=r.pagerCount-2;N.className.includes("more")&&(N.className.includes("quickprev")?O=L-M:N.className.includes("quicknext")&&(O=L+M)),Number.isNaN(+O)||(O<1&&(O=1),O>$&&(O=$)),O!==L&&t("change",O)}return(k,N)=>(F(),Q("ul",{class:B(f(o).b()),onClick:R,onKeyup:or(P,["enter"])},[k.pageCount>0?(F(),Q("li",{key:0,class:B([[f(o).is("active",k.currentPage===1),f(o).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===1,"aria-label":f(l)("el.pagination.currentPage",{pager:1}),tabindex:f(b)}," 1 ",10,["aria-current","aria-label","tabindex"])):Ie("v-if",!0),c.value?(F(),Q("li",{key:1,class:B(f(S)),tabindex:f(b),"aria-label":f(l)("el.pagination.prevPages",{pager:k.pagerCount-2}),onMouseenter:O=>I(!0),onMouseleave:O=>h.value=!1,onFocus:O=>C(!0),onBlur:O=>g.value=!1},[(h.value||g.value)&&!k.disabled?(F(),Ve(f(Vc),{key:0})):(F(),Ve(f(xF),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Ie("v-if",!0),(F(!0),Q(Tt,null,fn(f(_),O=>(F(),Q("li",{key:O,class:B([[f(o).is("active",k.currentPage===O),f(o).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===O,"aria-label":f(l)("el.pagination.currentPage",{pager:O}),tabindex:f(b)},et(O),11,["aria-current","aria-label","tabindex"]))),128)),d.value?(F(),Q("li",{key:2,class:B(f(T)),tabindex:f(b),"aria-label":f(l)("el.pagination.nextPages",{pager:k.pagerCount-2}),onMouseenter:O=>I(),onMouseleave:O=>m.value=!1,onFocus:O=>C(),onBlur:O=>v.value=!1},[(m.value||v.value)&&!k.disabled?(F(),Ve(f(Fc),{key:0})):(F(),Ve(f(xF),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Ie("v-if",!0),k.pageCount>1?(F(),Q("li",{key:3,class:B([[f(o).is("active",k.currentPage===k.pageCount),f(o).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===k.pageCount,"aria-label":f(l)("el.pagination.currentPage",{pager:k.pageCount}),tabindex:f(b)},et(k.pageCount),11,["aria-current","aria-label","tabindex"])):Ie("v-if",!0)],42,["onKeyup"]))}});var ake=at(ike,[["__file","pager.vue"]]);const ti=e=>typeof e!="number",ske=it({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>xt(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Se(Array),default:()=>Er([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:ir,default:()=>xc},nextText:{type:String,default:""},nextIcon:{type:ir,default:()=>ai},teleported:{type:Boolean,default:!0},small:Boolean,size:no,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),lke={"update:current-page":e=>xt(e),"update:page-size":e=>xt(e),"size-change":e=>xt(e),change:(e,t)=>xt(e)&&xt(t),"current-change":e=>xt(e),"prev-click":e=>xt(e),"next-click":e=>xt(e)},Y$="ElPagination";var cke=he({name:Y$,props:ske,emits:lke,setup(e,{emit:t,slots:r}){const{t:o}=En(),a=Je("pagination"),l=Qt().vnode.props||{},c=D(()=>{var k;return e.small?"small":(k=e.size)!=null?k:P6().value});Ac({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},D(()=>!!e.small));const d="onUpdate:currentPage"in l||"onUpdate:current-page"in l||"onCurrentChange"in l,h="onUpdate:pageSize"in l||"onUpdate:page-size"in l||"onSizeChange"in l,m=D(()=>{if(ti(e.total)&&ti(e.pageCount)||!ti(e.currentPage)&&!d)return!1;if(e.layout.includes("sizes")){if(ti(e.pageCount)){if(!ti(e.total)&&!ti(e.pageSize)&&!h)return!1}else if(!h)return!1}return!0}),g=q(ti(e.defaultPageSize)?10:e.defaultPageSize),v=q(ti(e.defaultCurrentPage)?1:e.defaultCurrentPage),_=D({get(){return ti(e.pageSize)?g.value:e.pageSize},set(k){ti(e.pageSize)&&(g.value=k),h&&(t("update:page-size",k),t("size-change",k))}}),S=D(()=>{let k=0;return ti(e.pageCount)?ti(e.total)||(k=Math.max(1,Math.ceil(e.total/_.value))):k=e.pageCount,k}),T=D({get(){return ti(e.currentPage)?v.value:e.currentPage},set(k){let N=k;k<1?N=1:k>S.value&&(N=S.value),ti(e.currentPage)&&(v.value=N),d&&(t("update:current-page",N),t("current-change",N))}});Ge(S,k=>{T.value>k&&(T.value=k)}),Ge([T,_],k=>{t("change",...k)},{flush:"post"});function b(k){T.value=k}function I(k){_.value=k;const N=S.value;T.value>N&&(T.value=N)}function C(){e.disabled||(T.value-=1,t("prev-click",T.value))}function P(){e.disabled||(T.value+=1,t("next-click",T.value))}function R(k,N){k&&(k.props||(k.props={}),k.props.class=[k.props.class,N].join(" "))}return pn(A5,{pageCount:S,disabled:D(()=>e.disabled),currentPage:T,changeEvent:b,handleSizeChange:I}),()=>{var k,N;if(!m.value)return o("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&S.value<=1)return null;const O=[],$=[],L=Ot("div",{class:a.e("rightwrapper")},$),M={prev:Ot(CIe,{disabled:e.disabled,currentPage:T.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:C}),jumper:Ot(QIe,{size:c.value}),pager:Ot(ake,{currentPage:T.value,pageCount:S.value,pagerCount:e.pagerCount,onChange:b,disabled:e.disabled}),next:Ot(RIe,{disabled:e.disabled,currentPage:T.value,pageCount:S.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:P}),sizes:Ot(qIe,{pageSize:_.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:c.value}),slot:(N=(k=r==null?void 0:r.default)==null?void 0:k.call(r))!=null?N:null,total:Ot(nke,{total:ti(e.total)?0:e.total})},U=e.layout.split(",").map(W=>W.trim());let j=!1;return U.forEach(W=>{if(W==="->"){j=!0;return}j?$.push(M[W]):O.push(M[W])}),R(O[0],a.is("first")),R(O[O.length-1],a.is("last")),j&&$.length>0&&(R($[0],a.is("first")),R($[$.length-1],a.is("last")),O.push(L)),Ot("div",{class:[a.b(),a.is("background",e.background),a.m(c.value)]},O)}}});const uke=Kt(cke),dke=it({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:gk,default:"primary"},cancelButtonType:{type:String,values:gk,default:"text"},icon:{type:ir,default:()=>fpe},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:mo.teleported,persistent:mo.persistent,width:{type:[String,Number],default:150}}),fke={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},hke=he({name:"ElPopconfirm"}),pke=he({...hke,props:dke,emits:fke,setup(e,{emit:t}){const r=e,{t:o}=En(),a=Je("popconfirm"),l=q(),c=()=>{var _,S;(S=(_=l.value)==null?void 0:_.onClose)==null||S.call(_)},d=D(()=>({width:Or(r.width)})),h=_=>{t("confirm",_),c()},m=_=>{t("cancel",_),c()},g=D(()=>r.confirmButtonText||o("el.popconfirm.confirmButtonText")),v=D(()=>r.cancelButtonText||o("el.popconfirm.cancelButtonText"));return(_,S)=>(F(),Ve(f(xo),sn({ref_key:"tooltipRef",ref:l,trigger:"click",effect:"light"},_.$attrs,{"popper-class":`${f(a).namespace.value}-popover`,"popper-style":f(d),teleported:_.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":_.hideAfter,persistent:_.persistent}),{content:ye(()=>[te("div",{class:B(f(a).b())},[te("div",{class:B(f(a).e("main"))},[!_.hideIcon&&_.icon?(F(),Ve(f(St),{key:0,class:B(f(a).e("icon")),style:kt({color:_.iconColor})},{default:ye(()=>[(F(),Ve(ln(_.icon)))]),_:1},8,["class","style"])):Ie("v-if",!0),Jt(" "+et(_.title),1)],2),te("div",{class:B(f(a).e("action"))},[se(f(lo),{size:"small",type:_.cancelButtonType==="text"?"":_.cancelButtonType,text:_.cancelButtonType==="text",onClick:m},{default:ye(()=>[Jt(et(f(v)),1)]),_:1},8,["type","text"]),se(f(lo),{size:"small",type:_.confirmButtonType==="text"?"":_.confirmButtonType,text:_.confirmButtonType==="text",onClick:h},{default:ye(()=>[Jt(et(f(g)),1)]),_:1},8,["type","text"])],2)],2)]),default:ye(()=>[_.$slots.reference?Pe(_.$slots,"reference",{key:0}):Ie("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var mke=at(pke,[["__file","popconfirm.vue"]]);const vke=Kt(mke),gke=it({trigger:$v.trigger,placement:Pb.placement,disabled:$v.disabled,visible:mo.visible,transition:mo.transition,popperOptions:Pb.popperOptions,tabindex:Pb.tabindex,content:mo.content,popperStyle:mo.popperStyle,popperClass:mo.popperClass,enterable:{...mo.enterable,default:!0},effect:{...mo.effect,default:"light"},teleported:mo.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),yke={"update:visible":e=>Vr(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},_ke="onUpdate:visible",bke=he({name:"ElPopover"}),Ske=he({...bke,props:gke,emits:yke,setup(e,{expose:t,emit:r}){const o=e,a=D(()=>o[_ke]),l=Je("popover"),c=q(),d=D(()=>{var I;return(I=f(c))==null?void 0:I.popperRef}),h=D(()=>[{width:Or(o.width)},o.popperStyle]),m=D(()=>[l.b(),o.popperClass,{[l.m("plain")]:!!o.content}]),g=D(()=>o.transition===`${l.namespace.value}-fade-in-linear`),v=()=>{var I;(I=c.value)==null||I.hide()},_=()=>{r("before-enter")},S=()=>{r("before-leave")},T=()=>{r("after-enter")},b=()=>{r("update:visible",!1),r("after-leave")};return t({popperRef:d,hide:v}),(I,C)=>(F(),Ve(f(xo),sn({ref_key:"tooltipRef",ref:c},I.$attrs,{trigger:I.trigger,placement:I.placement,disabled:I.disabled,visible:I.visible,transition:I.transition,"popper-options":I.popperOptions,tabindex:I.tabindex,content:I.content,offset:I.offset,"show-after":I.showAfter,"hide-after":I.hideAfter,"auto-close":I.autoClose,"show-arrow":I.showArrow,"aria-label":I.title,effect:I.effect,enterable:I.enterable,"popper-class":f(m),"popper-style":f(h),teleported:I.teleported,persistent:I.persistent,"gpu-acceleration":f(g),"onUpdate:visible":f(a),onBeforeShow:_,onBeforeHide:S,onShow:T,onHide:b}),{content:ye(()=>[I.title?(F(),Q("div",{key:0,class:B(f(l).e("title")),role:"title"},et(I.title),3)):Ie("v-if",!0),Pe(I.$slots,"default",{},()=>[Jt(et(I.content),1)])]),default:ye(()=>[I.$slots.reference?Pe(I.$slots,"reference",{key:0}):Ie("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Eke=at(Ske,[["__file","popover.vue"]]);const J$=(e,t)=>{const r=t.arg||t.value,o=r==null?void 0:r.popperRef;o&&(o.triggerRef=e)};var Tke={mounted(e,t){J$(e,t)},updated(e,t){J$(e,t)}};const Cke="popover",P5=xpe(Tke,Cke),wke=Kt(Eke,{directive:P5}),Ike=it({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Se(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Se([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Se(Function),default:e=>`${e}%`}}),kke=he({name:"ElProgress"}),Rke=he({...kke,props:Ike,setup(e){const t=e,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},o=Je("progress"),a=D(()=>{const R={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},k=P(t.percentage);return k.includes("gradient")?R.background=k:R.backgroundColor=k,R}),l=D(()=>(t.strokeWidth/t.width*100).toFixed(1)),c=D(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(l.value)/2}`,10):0),d=D(()=>{const R=c.value,k=t.type==="dashboard";return`
          M 50 50
          m 0 ${k?"":"-"}${R}
          a ${R} ${R} 0 1 1 0 ${k?"-":""}${R*2}
          a ${R} ${R} 0 1 1 0 ${k?"":"-"}${R*2}
          `}),h=D(()=>2*Math.PI*c.value),m=D(()=>t.type==="dashboard"?.75:1),g=D(()=>`${-1*h.value*(1-m.value)/2}px`),v=D(()=>({strokeDasharray:`${h.value*m.value}px, ${h.value}px`,strokeDashoffset:g.value})),_=D(()=>({strokeDasharray:`${h.value*m.value*(t.percentage/100)}px, ${h.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),S=D(()=>{let R;return t.color?R=P(t.percentage):R=r[t.status]||r.default,R}),T=D(()=>t.status==="warning"?F0:t.type==="line"?t.status==="success"?yR:Gc:t.status==="success"?fg:Ba),b=D(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),I=D(()=>t.format(t.percentage));function C(R){const k=100/R.length;return R.map((O,$)=>Mt(O)?{color:O,percentage:($+1)*k}:O).sort((O,$)=>O.percentage-$.percentage)}const P=R=>{var k;const{color:N}=t;if(Lt(N))return N(R);if(Mt(N))return N;{const O=C(N);for(const $ of O)if($.percentage>R)return $.color;return(k=O[O.length-1])==null?void 0:k.color}};return(R,k)=>(F(),Q("div",{class:B([f(o).b(),f(o).m(R.type),f(o).is(R.status),{[f(o).m("without-text")]:!R.showText,[f(o).m("text-inside")]:R.textInside}]),role:"progressbar","aria-valuenow":R.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[R.type==="line"?(F(),Q("div",{key:0,class:B(f(o).b("bar"))},[te("div",{class:B(f(o).be("bar","outer")),style:kt({height:`${R.strokeWidth}px`})},[te("div",{class:B([f(o).be("bar","inner"),{[f(o).bem("bar","inner","indeterminate")]:R.indeterminate},{[f(o).bem("bar","inner","striped")]:R.striped},{[f(o).bem("bar","inner","striped-flow")]:R.stripedFlow}]),style:kt(f(a))},[(R.showText||R.$slots.default)&&R.textInside?(F(),Q("div",{key:0,class:B(f(o).be("bar","innerText"))},[Pe(R.$slots,"default",{percentage:R.percentage},()=>[te("span",null,et(f(I)),1)])],2)):Ie("v-if",!0)],6)],6)],2)):(F(),Q("div",{key:1,class:B(f(o).b("circle")),style:kt({height:`${R.width}px`,width:`${R.width}px`})},[(F(),Q("svg",{viewBox:"0 0 100 100"},[te("path",{class:B(f(o).be("circle","track")),d:f(d),stroke:`var(${f(o).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":R.strokeLinecap,"stroke-width":f(l),fill:"none",style:kt(f(v))},null,14,["d","stroke","stroke-linecap","stroke-width"]),te("path",{class:B(f(o).be("circle","path")),d:f(d),stroke:f(S),fill:"none",opacity:R.percentage?1:0,"stroke-linecap":R.strokeLinecap,"stroke-width":f(l),style:kt(f(_))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(R.showText||R.$slots.default)&&!R.textInside?(F(),Q("div",{key:2,class:B(f(o).e("text")),style:kt({fontSize:`${f(b)}px`})},[Pe(R.$slots,"default",{percentage:R.percentage},()=>[R.status?(F(),Ve(f(St),{key:1},{default:ye(()=>[(F(),Ve(ln(f(T))))]),_:1})):(F(),Q("span",{key:0},et(f(I)),1))])],6)):Ie("v-if",!0)],10,["aria-valuenow"]))}});var Ake=at(Rke,[["__file","progress.vue"]]);const D5=Kt(Ake),Oke=it({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Se([Array,Object]),default:()=>Er(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Se([Array,Object]),default:()=>[rb,rb,rb]},voidIcon:{type:ir,default:()=>kpe},disabledVoidIcon:{type:ir,default:()=>rb},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Se(Array),default:()=>Er(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:no,clearable:Boolean,...ko(["ariaLabel"])}),Nke={[pr]:e=>xt(e),[tn]:e=>xt(e)},Pke=he({name:"ElRate"}),Dke=he({...Pke,props:Oke,emits:Nke,setup(e,{expose:t,emit:r}){const o=e;function a(G,Z){const X=fe=>nn(fe),H=Object.keys(Z).map(fe=>+fe).filter(fe=>{const ge=Z[fe];return(X(ge)?ge.excluded:!1)?G<fe:G<=fe}).sort((fe,ge)=>fe-ge),J=Z[H[0]];return X(J)&&J.value||J}const l=pt(Ad,void 0),c=pt(Is,void 0),d=Jr(),h=Je("rate"),{inputId:m,isLabeledByFormItem:g}=qa(o,{formItemContext:c}),v=q(o.modelValue),_=q(-1),S=q(!0),T=D(()=>[h.b(),h.m(d.value)]),b=D(()=>o.disabled||(l==null?void 0:l.disabled)),I=D(()=>h.cssVarBlock({"void-color":o.voidColor,"disabled-void-color":o.disabledVoidColor,"fill-color":k.value})),C=D(()=>{let G="";return o.showScore?G=o.scoreTemplate.replace(/\{\s*value\s*\}/,b.value?`${o.modelValue}`:`${v.value}`):o.showText&&(G=o.texts[Math.ceil(v.value)-1]),G}),P=D(()=>o.modelValue*100-Math.floor(o.modelValue)*100),R=D(()=>ht(o.colors)?{[o.lowThreshold]:o.colors[0],[o.highThreshold]:{value:o.colors[1],excluded:!0},[o.max]:o.colors[2]}:o.colors),k=D(()=>{const G=a(v.value,R.value);return nn(G)?"":G}),N=D(()=>{let G="";return b.value?G=`${P.value}%`:o.allowHalf&&(G="50%"),{color:k.value,width:G}}),O=D(()=>{let G=ht(o.icons)?[...o.icons]:{...o.icons};return G=_s(G),ht(G)?{[o.lowThreshold]:G[0],[o.highThreshold]:{value:G[1],excluded:!0},[o.max]:G[2]}:G}),$=D(()=>a(o.modelValue,O.value)),L=D(()=>b.value?Mt(o.disabledVoidIcon)?o.disabledVoidIcon:_s(o.disabledVoidIcon):Mt(o.voidIcon)?o.voidIcon:_s(o.voidIcon)),M=D(()=>a(v.value,O.value));function U(G){const Z=b.value&&P.value>0&&G-1<o.modelValue&&G>o.modelValue,X=o.allowHalf&&S.value&&G-.5<=v.value&&G>v.value;return Z||X}function j(G){o.clearable&&G===o.modelValue&&(G=0),r(tn,G),o.modelValue!==G&&r("change",G)}function W(G){b.value||(o.allowHalf&&S.value?j(v.value):j(G))}function re(G){if(b.value)return;let Z=v.value;const X=G.code;return X===It.up||X===It.right?(o.allowHalf?Z+=.5:Z+=1,G.stopPropagation(),G.preventDefault()):(X===It.left||X===It.down)&&(o.allowHalf?Z-=.5:Z-=1,G.stopPropagation(),G.preventDefault()),Z=Z<0?0:Z,Z=Z>o.max?o.max:Z,r(tn,Z),r("change",Z),Z}function ae(G,Z){if(!b.value){if(o.allowHalf&&Z){let X=Z.target;Ei(X,h.e("item"))&&(X=X.querySelector(`.${h.e("icon")}`)),(X.clientWidth===0||Ei(X,h.e("decimal")))&&(X=X.parentNode),S.value=Z.offsetX*2<=X.clientWidth,v.value=S.value?G-.5:G}else v.value=G;_.value=G}}function ee(){b.value||(o.allowHalf&&(S.value=o.modelValue!==Math.floor(o.modelValue)),v.value=o.modelValue,_.value=-1)}return Ge(()=>o.modelValue,G=>{v.value=G,S.value=o.modelValue!==Math.floor(o.modelValue)}),o.modelValue||r(tn,0),t({setCurrentValue:ae,resetCurrentValue:ee}),(G,Z)=>{var X;return F(),Q("div",{id:f(m),class:B([f(T),f(h).is("disabled",f(b))]),role:"slider","aria-label":f(g)?void 0:G.ariaLabel||"rating","aria-labelledby":f(g)?(X=f(c))==null?void 0:X.labelId:void 0,"aria-valuenow":v.value,"aria-valuetext":f(C)||void 0,"aria-valuemin":"0","aria-valuemax":G.max,tabindex:"0",style:kt(f(I)),onKeydown:re},[(F(!0),Q(Tt,null,fn(G.max,(H,J)=>(F(),Q("span",{key:J,class:B(f(h).e("item")),onMousemove:fe=>ae(H,fe),onMouseleave:ee,onClick:fe=>W(H)},[se(f(St),{class:B([f(h).e("icon"),{hover:_.value===H},f(h).is("active",H<=v.value)])},{default:ye(()=>[U(H)?Ie("v-if",!0):(F(),Q(Tt,{key:0},[qt((F(),Ve(ln(f(M)),null,null,512)),[[Nn,H<=v.value]]),qt((F(),Ve(ln(f(L)),null,null,512)),[[Nn,!(H<=v.value)]])],64)),U(H)?(F(),Q(Tt,{key:1},[(F(),Ve(ln(f(L)),{class:B([f(h).em("decimal","box")])},null,8,["class"])),se(f(St),{style:kt(f(N)),class:B([f(h).e("icon"),f(h).e("decimal")])},{default:ye(()=>[(F(),Ve(ln(f($))))]),_:1},8,["style","class"])],64)):Ie("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),G.showText||G.showScore?(F(),Q("span",{key:0,class:B(f(h).e("text")),style:kt({color:G.textColor})},et(f(C)),7)):Ie("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var Lke=at(Dke,[["__file","rate.vue"]]);const Mke=Kt(Lke),eh={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},X$={[eh.success]:$he,[eh.warning]:F0,[eh.error]:_R,[eh.info]:bR},xke=it({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),Vke=he({name:"ElResult"}),Fke=he({...Vke,props:xke,setup(e){const t=e,r=Je("result"),o=D(()=>{const a=t.icon,l=a&&eh[a]?eh[a]:"icon-info",c=X$[l]||X$["icon-info"];return{class:l,component:c}});return(a,l)=>(F(),Q("div",{class:B(f(r).b())},[te("div",{class:B(f(r).e("icon"))},[Pe(a.$slots,"icon",{},()=>[f(o).component?(F(),Ve(ln(f(o).component),{key:0,class:B(f(o).class)},null,8,["class"])):Ie("v-if",!0)])],2),a.title||a.$slots.title?(F(),Q("div",{key:0,class:B(f(r).e("title"))},[Pe(a.$slots,"title",{},()=>[te("p",null,et(a.title),1)])],2)):Ie("v-if",!0),a.subTitle||a.$slots["sub-title"]?(F(),Q("div",{key:1,class:B(f(r).e("subtitle"))},[Pe(a.$slots,"sub-title",{},()=>[te("p",null,et(a.subTitle),1)])],2)):Ie("v-if",!0),a.$slots.extra?(F(),Q("div",{key:2,class:B(f(r).e("extra"))},[Pe(a.$slots,"extra")],2)):Ie("v-if",!0)],2))}});var $ke=at(Fke,[["__file","result.vue"]]);const Uke=Kt($ke);var Q$=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Bke(e,t){return!!(e===t||Q$(e)&&Q$(t))}function Hke(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Bke(e[r],t[r]))return!1;return!0}function jke(e,t){t===void 0&&(t=Hke);var r=null;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var c=e.apply(this,a);return r={lastResult:c,lastArgs:a,lastThis:this},c}return o.clear=function(){r=null},o}const L5=()=>{const t=Qt().proxy.$props;return D(()=>{const r=(o,a,l)=>({});return t.perfMode?L0(r):jke(r)})},xk=50,o0="itemRendered",i0="scroll",th="forward",a0="backward",ha="auto",eS="smart",jv="start",gs="center",Wv="end",Nh="horizontal",hA="vertical",Wke="ltr",dh="rtl",zv="negative",pA="positive-ascending",mA="positive-descending",zke={[Nh]:"left",[hA]:"top"},Kke=20,Gke={[Nh]:"deltaX",[hA]:"deltaY"},qke=({atEndEdge:e,atStartEdge:t,layout:r},o)=>{let a,l=0;const c=h=>h<0&&t.value||h>0&&e.value;return{hasReachedEdge:c,onWheel:h=>{yd(a);const m=h[Gke[r.value]];c(l)&&c(l+m)||(l+=m,X1()||h.preventDefault(),a=Mc(()=>{o(l),l=0}))}}},Vk=Ka({type:Se([Number,Function]),required:!0}),Fk=Ka({type:Number}),$k=Ka({type:Number,default:2}),Yke=Ka({type:String,values:["ltr","rtl"],default:"ltr"}),Uk=Ka({type:Number,default:0}),s0=Ka({type:Number,required:!0}),M5=Ka({type:String,values:["horizontal","vertical"],default:hA}),x5=it({className:{type:String,default:""},containerElement:{type:Se([String,Object]),default:"div"},data:{type:Se(Array),default:()=>Er([])},direction:Yke,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Se([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),V5=it({cache:$k,estimatedItemSize:Fk,layout:M5,initScrollOffset:Uk,total:s0,itemSize:Vk,...x5}),Bk={type:Number,default:6},F5={type:Number,default:0},$5={type:Number,default:2},dd=it({columnCache:$k,columnWidth:Vk,estimatedColumnWidth:Fk,estimatedRowHeight:Fk,initScrollLeft:Uk,initScrollTop:Uk,itemKey:{type:Se(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:$k,rowHeight:Vk,totalColumn:s0,totalRow:s0,hScrollbarSize:Bk,vScrollbarSize:Bk,scrollbarStartGap:F5,scrollbarEndGap:$5,role:String,...x5}),U5=it({alwaysOn:Boolean,class:String,layout:M5,total:s0,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:Bk,startGap:F5,endGap:$5,visible:Boolean}),td=(e,t)=>e<t?th:a0,Kv=e=>e===Wke||e===dh||e===Nh,Z$=e=>e===dh;let zf=null;function l0(e=!1){if(zf===null||e){const t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";const o=document.createElement("div"),a=o.style;return a.width="100px",a.height="100px",t.appendChild(o),document.body.appendChild(t),t.scrollLeft>0?zf=mA:(t.scrollLeft=1,t.scrollLeft===0?zf=zv:zf=pA),document.body.removeChild(t),zf}return zf}function Jke({move:e,size:t,bar:r},o){const a={},l=`translate${r.axis}(${e}px)`;return a[r.size]=t,a.transform=l,a.msTransform=l,a.webkitTransform=l,o==="horizontal"?a.height="100%":a.width="100%",a}const Hk=he({name:"ElVirtualScrollBar",props:U5,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const r=D(()=>e.startGap+e.endGap),o=Je("virtual-scrollbar"),a=Je("scrollbar"),l=q(),c=q();let d=null,h=null;const m=Un({isDragging:!1,traveled:0}),g=D(()=>$6[e.layout]),v=D(()=>e.clientSize-f(r)),_=D(()=>({position:"absolute",width:`${Nh===e.layout?v.value:e.scrollbarSize}px`,height:`${Nh===e.layout?e.scrollbarSize:v.value}px`,[zke[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),S=D(()=>{const O=e.ratio,$=e.clientSize;if(O>=100)return Number.POSITIVE_INFINITY;if(O>=50)return O*$/100;const L=$/3;return Math.floor(Math.min(Math.max(O*$,Kke),L))}),T=D(()=>{if(!Number.isFinite(S.value))return{display:"none"};const O=`${S.value}px`;return Jke({bar:g.value,size:O,move:m.traveled},e.layout)}),b=D(()=>Math.floor(e.clientSize-S.value-f(r))),I=()=>{window.addEventListener("mousemove",k),window.addEventListener("mouseup",R);const O=f(c);!O||(h=document.onselectstart,document.onselectstart=()=>!1,O.addEventListener("touchmove",k,{passive:!0}),O.addEventListener("touchend",R))},C=()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",R),document.onselectstart=h,h=null;const O=f(c);!O||(O.removeEventListener("touchmove",k),O.removeEventListener("touchend",R))},P=O=>{O.stopImmediatePropagation(),!(O.ctrlKey||[1,2].includes(O.button))&&(m.isDragging=!0,m[g.value.axis]=O.currentTarget[g.value.offset]-(O[g.value.client]-O.currentTarget.getBoundingClientRect()[g.value.direction]),t("start-move"),I())},R=()=>{m.isDragging=!1,m[g.value.axis]=0,t("stop-move"),C()},k=O=>{const{isDragging:$}=m;if(!$||!c.value||!l.value)return;const L=m[g.value.axis];if(!L)return;yd(d);const M=(l.value.getBoundingClientRect()[g.value.direction]-O[g.value.client])*-1,U=c.value[g.value.offset]-L,j=M-U;d=Mc(()=>{m.traveled=Math.max(e.startGap,Math.min(j,b.value)),t("scroll",j,b.value)})},N=O=>{const $=Math.abs(O.target.getBoundingClientRect()[g.value.direction]-O[g.value.client]),L=c.value[g.value.offset]/2,M=$-L;m.traveled=Math.max(0,Math.min(M,b.value)),t("scroll",M,b.value)};return Ge(()=>e.scrollFrom,O=>{m.isDragging||(m.traveled=Math.ceil(O*b.value))}),ur(()=>{C()}),()=>Ot("div",{role:"presentation",ref:l,class:[o.b(),e.class,(e.alwaysOn||m.isDragging)&&"always-on"],style:_.value,onMousedown:Vt(N,["stop","prevent"]),onTouchstartPrevent:P},Ot("div",{ref:c,class:a.e("thumb"),style:T.value,onMousedown:P},[]))}}),B5=({name:e,getOffset:t,getItemSize:r,getItemOffset:o,getEstimatedTotalSize:a,getStartIndexForOffset:l,getStopIndexForStartIndex:c,initCache:d,clearCache:h,validateProps:m})=>he({name:e!=null?e:"ElVirtualList",props:V5,emits:[o0,i0],setup(g,{emit:v,expose:_}){m(g);const S=Qt(),T=Je("vl"),b=q(d(g,S)),I=L5(),C=q(),P=q(),R=q(),k=q({isScrolling:!1,scrollDir:"forward",scrollOffset:xt(g.initScrollOffset)?g.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:g.scrollbarAlwaysOn}),N=D(()=>{const{total:me,cache:Ee}=g,{isScrolling:Fe,scrollDir:$e,scrollOffset:de}=f(k);if(me===0)return[0,0,0,0];const Le=l(g,de,f(b)),Te=c(g,Le,de,f(b)),Be=!Fe||$e===a0?Math.max(1,Ee):1,be=!Fe||$e===th?Math.max(1,Ee):1;return[Math.max(0,Le-Be),Math.max(0,Math.min(me-1,Te+be)),Le,Te]}),O=D(()=>a(g,f(b))),$=D(()=>Kv(g.layout)),L=D(()=>[{position:"relative",[`overflow-${$.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:xt(g.height)?`${g.height}px`:g.height,width:xt(g.width)?`${g.width}px`:g.width},g.style]),M=D(()=>{const me=f(O),Ee=f($);return{height:Ee?"100%":`${me}px`,pointerEvents:f(k).isScrolling?"none":void 0,width:Ee?`${me}px`:"100%"}}),U=D(()=>$.value?g.width:g.height),{onWheel:j}=qke({atStartEdge:D(()=>k.value.scrollOffset<=0),atEndEdge:D(()=>k.value.scrollOffset>=O.value),layout:D(()=>g.layout)},me=>{var Ee,Fe;(Fe=(Ee=R.value).onMouseUp)==null||Fe.call(Ee),Z(Math.min(k.value.scrollOffset+me,O.value-U.value))});Zn(C,"wheel",j,{passive:!1});const W=()=>{const{total:me}=g;if(me>0){const[de,Le,Te,Be]=f(N);v(o0,de,Le,Te,Be)}const{scrollDir:Ee,scrollOffset:Fe,updateRequested:$e}=f(k);v(i0,Ee,Fe,$e)},re=me=>{const{clientHeight:Ee,scrollHeight:Fe,scrollTop:$e}=me.currentTarget,de=f(k);if(de.scrollOffset===$e)return;const Le=Math.max(0,Math.min($e,Fe-Ee));k.value={...de,isScrolling:!0,scrollDir:td(de.scrollOffset,Le),scrollOffset:Le,updateRequested:!1},wt(J)},ae=me=>{const{clientWidth:Ee,scrollLeft:Fe,scrollWidth:$e}=me.currentTarget,de=f(k);if(de.scrollOffset===Fe)return;const{direction:Le}=g;let Te=Fe;if(Le===dh)switch(l0()){case zv:{Te=-Fe;break}case mA:{Te=$e-Ee-Fe;break}}Te=Math.max(0,Math.min(Te,$e-Ee)),k.value={...de,isScrolling:!0,scrollDir:td(de.scrollOffset,Te),scrollOffset:Te,updateRequested:!1},wt(J)},ee=me=>{f($)?ae(me):re(me),W()},G=(me,Ee)=>{const Fe=(O.value-U.value)/Ee*me;Z(Math.min(O.value-U.value,Fe))},Z=me=>{me=Math.max(me,0),me!==f(k).scrollOffset&&(k.value={...f(k),scrollOffset:me,scrollDir:td(f(k).scrollOffset,me),updateRequested:!0},wt(J))},X=(me,Ee=ha)=>{const{scrollOffset:Fe}=f(k);me=Math.max(0,Math.min(me,g.total-1)),Z(t(g,me,Ee,Fe,f(b)))},H=me=>{const{direction:Ee,itemSize:Fe,layout:$e}=g,de=I.value(h&&Fe,h&&$e,h&&Ee);let Le;if(wn(de,String(me)))Le=de[me];else{const Te=o(g,me,f(b)),Be=r(g,me,f(b)),be=f($),We=Ee===dh,ce=be?Te:0;de[me]=Le={position:"absolute",left:We?void 0:`${ce}px`,right:We?`${ce}px`:void 0,top:be?0:`${Te}px`,height:be?"100%":`${Be}px`,width:be?`${Be}px`:"100%"}}return Le},J=()=>{k.value.isScrolling=!1,wt(()=>{I.value(-1,null,null)})},fe=()=>{const me=C.value;me&&(me.scrollTop=0)};Zt(()=>{if(!Sn)return;const{initScrollOffset:me}=g,Ee=f(C);xt(me)&&Ee&&(f($)?Ee.scrollLeft=me:Ee.scrollTop=me),W()}),yl(()=>{const{direction:me,layout:Ee}=g,{scrollOffset:Fe,updateRequested:$e}=f(k),de=f(C);if($e&&de)if(Ee===Nh)if(me===dh)switch(l0()){case zv:{de.scrollLeft=-Fe;break}case pA:{de.scrollLeft=Fe;break}default:{const{clientWidth:Le,scrollWidth:Te}=de;de.scrollLeft=Te-Le-Fe;break}}else de.scrollLeft=Fe;else de.scrollTop=Fe}),U1(()=>{f(C).scrollTop=f(k).scrollOffset});const ge={ns:T,clientSize:U,estimatedTotalSize:O,windowStyle:L,windowRef:C,innerRef:P,innerStyle:M,itemsToRender:N,scrollbarRef:R,states:k,getItemStyle:H,onScroll:ee,onScrollbarScroll:G,onWheel:j,scrollTo:Z,scrollToItem:X,resetScrollTop:fe};return _({windowRef:C,innerRef:P,getItemStyleCache:I,scrollTo:Z,scrollToItem:X,resetScrollTop:fe,states:k}),ge},render(g){var v;const{$slots:_,className:S,clientSize:T,containerElement:b,data:I,getItemStyle:C,innerElement:P,itemsToRender:R,innerStyle:k,layout:N,total:O,onScroll:$,onScrollbarScroll:L,states:M,useIsScrolling:U,windowStyle:j,ns:W}=g,[re,ae]=R,ee=ln(b),G=ln(P),Z=[];if(O>0)for(let fe=re;fe<=ae;fe++)Z.push((v=_.default)==null?void 0:v.call(_,{data:I,key:fe,index:fe,isScrolling:U?M.isScrolling:void 0,style:C(fe)}));const X=[Ot(G,{style:k,ref:"innerRef"},Mt(G)?Z:{default:()=>Z})],H=Ot(Hk,{ref:"scrollbarRef",clientSize:T,layout:N,onScroll:L,ratio:T*100/this.estimatedTotalSize,scrollFrom:M.scrollOffset/(this.estimatedTotalSize-T),total:O}),J=Ot(ee,{class:[W.e("window"),S],style:j,onScroll:$,ref:"windowRef",key:0},Mt(ee)?[X]:{default:()=>[X]});return Ot("div",{key:0,class:[W.e("wrapper"),M.scrollbarAlwaysOn?"always-on":""]},[J,H])}}),H5=B5({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:r,layout:o,width:a},l,c,d)=>{const h=Kv(o)?a:e,m=Math.max(0,t*r-h),g=Math.min(m,l*r),v=Math.max(0,(l+1)*r-h);switch(c===eS&&(d>=v-h&&d<=g+h?c=ha:c=gs),c){case jv:return g;case Wv:return v;case gs:{const _=Math.round(v+(g-v)/2);return _<Math.ceil(h/2)?0:_>m+Math.floor(h/2)?m:_}case ha:default:return d>=v&&d<=g?d:d<v?v:g}},getStartIndexForOffset:({total:e,itemSize:t},r)=>Math.max(0,Math.min(e-1,Math.floor(r/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:r,layout:o,width:a},l,c)=>{const d=l*r,h=Kv(o)?a:e,m=Math.ceil((h+c-d)/r);return Math.max(0,Math.min(t-1,l+m-1))},initCache(){},clearCache:!0,validateProps(){}}),nh=(e,t,r)=>{const{itemSize:o}=e,{items:a,lastVisitedIndex:l}=r;if(t>l){let c=0;if(l>=0){const d=a[l];c=d.offset+d.size}for(let d=l+1;d<=t;d++){const h=o(d);a[d]={offset:c,size:h},c+=h}r.lastVisitedIndex=t}return a[t]},Xke=(e,t,r)=>{const{items:o,lastVisitedIndex:a}=t;return(a>0?o[a].offset:0)>=r?j5(e,t,0,a,r):Qke(e,t,Math.max(0,a),r)},j5=(e,t,r,o,a)=>{for(;r<=o;){const l=r+Math.floor((o-r)/2),c=nh(e,l,t).offset;if(c===a)return l;c<a?r=l+1:c>a&&(o=l-1)}return Math.max(0,r-1)},Qke=(e,t,r,o)=>{const{total:a}=e;let l=1;for(;r<a&&nh(e,r,t).offset<o;)r+=l,l*=2;return j5(e,t,Math.floor(r/2),Math.min(r,a-1),o)},eU=({total:e},{items:t,estimatedItemSize:r,lastVisitedIndex:o})=>{let a=0;if(o>=e&&(o=e-1),o>=0){const d=t[o];a=d.offset+d.size}const c=(e-o-1)*r;return a+c},Zke=B5({name:"ElDynamicSizeList",getItemOffset:(e,t,r)=>nh(e,t,r).offset,getItemSize:(e,t,{items:r})=>r[t].size,getEstimatedTotalSize:eU,getOffset:(e,t,r,o,a)=>{const{height:l,layout:c,width:d}=e,h=Kv(c)?d:l,m=nh(e,t,a),g=eU(e,a),v=Math.max(0,Math.min(g-h,m.offset)),_=Math.max(0,m.offset-h+m.size);switch(r===eS&&(o>=_-h&&o<=v+h?r=ha:r=gs),r){case jv:return v;case Wv:return _;case gs:return Math.round(_+(v-_)/2);case ha:default:return o>=_&&o<=v?o:o<_?_:v}},getStartIndexForOffset:(e,t,r)=>Xke(e,r,t),getStopIndexForStartIndex:(e,t,r,o)=>{const{height:a,total:l,layout:c,width:d}=e,h=Kv(c)?d:a,m=nh(e,t,o),g=r+h;let v=m.offset+m.size,_=t;for(;_<l-1&&v<g;)_++,v+=nh(e,_,o).size;return _},initCache({estimatedItemSize:e=xk},t){const r={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return r.clearCacheAfterIndex=(o,a=!0)=>{var l,c;r.lastVisitedIndex=Math.min(r.lastVisitedIndex,o-1),(l=t.exposed)==null||l.getItemStyleCache(-1),a&&((c=t.proxy)==null||c.$forceUpdate())},r},clearCache:!1,validateProps:({itemSize:e})=>{}}),e1e=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:r,atYStartEdge:o},a)=>{let l=null,c=0,d=0;const h=(g,v)=>{const _=g<=0&&t.value||g>=0&&e.value,S=v<=0&&o.value||v>=0&&r.value;return _&&S};return{hasReachedEdge:h,onWheel:g=>{yd(l);let v=g.deltaX,_=g.deltaY;Math.abs(v)>Math.abs(_)?_=0:v=0,g.shiftKey&&_!==0&&(v=_,_=0),!(h(c,d)&&h(c+v,d+_))&&(c+=v,d+=_,g.preventDefault(),l=Mc(()=>{a(c,d),c=0,d=0}))}}},W5=({name:e,clearCache:t,getColumnPosition:r,getColumnStartIndexForOffset:o,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:l,getEstimatedTotalWidth:c,getColumnOffset:d,getRowOffset:h,getRowPosition:m,getRowStartIndexForOffset:g,getRowStopIndexForStartIndex:v,initCache:_,injectToInstance:S,validateProps:T})=>he({name:e!=null?e:"ElVirtualList",props:dd,emits:[o0,i0],setup(b,{emit:I,expose:C,slots:P}){const R=Je("vl");T(b);const k=Qt(),N=q(_(b,k));S==null||S(k,N);const O=q(),$=q(),L=q(),M=q(null),U=q({isScrolling:!1,scrollLeft:xt(b.initScrollLeft)?b.initScrollLeft:0,scrollTop:xt(b.initScrollTop)?b.initScrollTop:0,updateRequested:!1,xAxisScrollDir:th,yAxisScrollDir:th}),j=L5(),W=D(()=>Number.parseInt(`${b.height}`,10)),re=D(()=>Number.parseInt(`${b.width}`,10)),ae=D(()=>{const{totalColumn:xe,totalRow:ze,columnCache:ot}=b,{isScrolling:le,xAxisScrollDir:pe,scrollLeft:Re}=f(U);if(xe===0||ze===0)return[0,0,0,0];const Ae=o(b,Re,f(N)),qe=a(b,Ae,Re,f(N)),rt=!le||pe===a0?Math.max(1,ot):1,Ue=!le||pe===th?Math.max(1,ot):1;return[Math.max(0,Ae-rt),Math.max(0,Math.min(xe-1,qe+Ue)),Ae,qe]}),ee=D(()=>{const{totalColumn:xe,totalRow:ze,rowCache:ot}=b,{isScrolling:le,yAxisScrollDir:pe,scrollTop:Re}=f(U);if(xe===0||ze===0)return[0,0,0,0];const Ae=g(b,Re,f(N)),qe=v(b,Ae,Re,f(N)),rt=!le||pe===a0?Math.max(1,ot):1,Ue=!le||pe===th?Math.max(1,ot):1;return[Math.max(0,Ae-rt),Math.max(0,Math.min(ze-1,qe+Ue)),Ae,qe]}),G=D(()=>l(b,f(N))),Z=D(()=>c(b,f(N))),X=D(()=>{var xe;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:b.direction,height:xt(b.height)?`${b.height}px`:b.height,width:xt(b.width)?`${b.width}px`:b.width},(xe=b.style)!=null?xe:{}]}),H=D(()=>{const xe=`${f(Z)}px`;return{height:`${f(G)}px`,pointerEvents:f(U).isScrolling?"none":void 0,width:xe}}),J=()=>{const{totalColumn:xe,totalRow:ze}=b;if(xe>0&&ze>0){const[qe,rt,Ue,Xe]=f(ae),[Nt,Ft,Et,Ut]=f(ee);I(o0,{columnCacheStart:qe,columnCacheEnd:rt,rowCacheStart:Nt,rowCacheEnd:Ft,columnVisibleStart:Ue,columnVisibleEnd:Xe,rowVisibleStart:Et,rowVisibleEnd:Ut})}const{scrollLeft:ot,scrollTop:le,updateRequested:pe,xAxisScrollDir:Re,yAxisScrollDir:Ae}=f(U);I(i0,{xAxisScrollDir:Re,scrollLeft:ot,yAxisScrollDir:Ae,scrollTop:le,updateRequested:pe})},fe=xe=>{const{clientHeight:ze,clientWidth:ot,scrollHeight:le,scrollLeft:pe,scrollTop:Re,scrollWidth:Ae}=xe.currentTarget,qe=f(U);if(qe.scrollTop===Re&&qe.scrollLeft===pe)return;let rt=pe;if(Z$(b.direction))switch(l0()){case zv:rt=-pe;break;case mA:rt=Ae-ot-pe;break}U.value={...qe,isScrolling:!0,scrollLeft:rt,scrollTop:Math.max(0,Math.min(Re,le-ze)),updateRequested:!0,xAxisScrollDir:td(qe.scrollLeft,rt),yAxisScrollDir:td(qe.scrollTop,Re)},wt(()=>Le()),Te(),J()},ge=(xe,ze)=>{const ot=f(W),le=(G.value-ot)/ze*xe;Fe({scrollTop:Math.min(G.value-ot,le)})},me=(xe,ze)=>{const ot=f(re),le=(Z.value-ot)/ze*xe;Fe({scrollLeft:Math.min(Z.value-ot,le)})},{onWheel:Ee}=e1e({atXStartEdge:D(()=>U.value.scrollLeft<=0),atXEndEdge:D(()=>U.value.scrollLeft>=Z.value-f(re)),atYStartEdge:D(()=>U.value.scrollTop<=0),atYEndEdge:D(()=>U.value.scrollTop>=G.value-f(W))},(xe,ze)=>{var ot,le,pe,Re;(le=(ot=$.value)==null?void 0:ot.onMouseUp)==null||le.call(ot),(Re=(pe=L.value)==null?void 0:pe.onMouseUp)==null||Re.call(pe);const Ae=f(re),qe=f(W);Fe({scrollLeft:Math.min(U.value.scrollLeft+xe,Z.value-Ae),scrollTop:Math.min(U.value.scrollTop+ze,G.value-qe)})});Zn(O,"wheel",Ee,{passive:!1});const Fe=({scrollLeft:xe=U.value.scrollLeft,scrollTop:ze=U.value.scrollTop})=>{xe=Math.max(xe,0),ze=Math.max(ze,0);const ot=f(U);ze===ot.scrollTop&&xe===ot.scrollLeft||(U.value={...ot,xAxisScrollDir:td(ot.scrollLeft,xe),yAxisScrollDir:td(ot.scrollTop,ze),scrollLeft:xe,scrollTop:ze,updateRequested:!0},wt(()=>Le()),Te(),J())},$e=(xe=0,ze=0,ot=ha)=>{const le=f(U);ze=Math.max(0,Math.min(ze,b.totalColumn-1)),xe=Math.max(0,Math.min(xe,b.totalRow-1));const pe=z8(R.namespace.value),Re=f(N),Ae=l(b,Re),qe=c(b,Re);Fe({scrollLeft:d(b,ze,ot,le.scrollLeft,Re,qe>b.width?pe:0),scrollTop:h(b,xe,ot,le.scrollTop,Re,Ae>b.height?pe:0)})},de=(xe,ze)=>{const{columnWidth:ot,direction:le,rowHeight:pe}=b,Re=j.value(t&&ot,t&&pe,t&&le),Ae=`${xe},${ze}`;if(wn(Re,Ae))return Re[Ae];{const[,qe]=r(b,ze,f(N)),rt=f(N),Ue=Z$(le),[Xe,Nt]=m(b,xe,rt),[Ft]=r(b,ze,rt);return Re[Ae]={position:"absolute",left:Ue?void 0:`${qe}px`,right:Ue?`${qe}px`:void 0,top:`${Nt}px`,height:`${Xe}px`,width:`${Ft}px`},Re[Ae]}},Le=()=>{U.value.isScrolling=!1,wt(()=>{j.value(-1,null,null)})};Zt(()=>{if(!Sn)return;const{initScrollLeft:xe,initScrollTop:ze}=b,ot=f(O);ot&&(xt(xe)&&(ot.scrollLeft=xe),xt(ze)&&(ot.scrollTop=ze)),J()});const Te=()=>{const{direction:xe}=b,{scrollLeft:ze,scrollTop:ot,updateRequested:le}=f(U),pe=f(O);if(le&&pe){if(xe===dh)switch(l0()){case zv:{pe.scrollLeft=-ze;break}case pA:{pe.scrollLeft=ze;break}default:{const{clientWidth:Re,scrollWidth:Ae}=pe;pe.scrollLeft=Ae-Re-ze;break}}else pe.scrollLeft=Math.max(0,ze);pe.scrollTop=Math.max(0,ot)}},{resetAfterColumnIndex:Be,resetAfterRowIndex:be,resetAfter:We}=k.proxy;C({windowRef:O,innerRef:M,getItemStyleCache:j,scrollTo:Fe,scrollToItem:$e,states:U,resetAfterColumnIndex:Be,resetAfterRowIndex:be,resetAfter:We});const ce=()=>{const{scrollbarAlwaysOn:xe,scrollbarStartGap:ze,scrollbarEndGap:ot,totalColumn:le,totalRow:pe}=b,Re=f(re),Ae=f(W),qe=f(Z),rt=f(G),{scrollLeft:Ue,scrollTop:Xe}=f(U),Nt=Ot(Hk,{ref:$,alwaysOn:xe,startGap:ze,endGap:ot,class:R.e("horizontal"),clientSize:Re,layout:"horizontal",onScroll:me,ratio:Re*100/qe,scrollFrom:Ue/(qe-Re),total:pe,visible:!0}),Ft=Ot(Hk,{ref:L,alwaysOn:xe,startGap:ze,endGap:ot,class:R.e("vertical"),clientSize:Ae,layout:"vertical",onScroll:ge,ratio:Ae*100/rt,scrollFrom:Xe/(rt-Ae),total:le,visible:!0});return{horizontalScrollbar:Nt,verticalScrollbar:Ft}},ie=()=>{var xe;const[ze,ot]=f(ae),[le,pe]=f(ee),{data:Re,totalColumn:Ae,totalRow:qe,useIsScrolling:rt,itemKey:Ue}=b,Xe=[];if(qe>0&&Ae>0)for(let Nt=le;Nt<=pe;Nt++)for(let Ft=ze;Ft<=ot;Ft++)Xe.push((xe=P.default)==null?void 0:xe.call(P,{columnIndex:Ft,data:Re,key:Ue({columnIndex:Ft,data:Re,rowIndex:Nt}),isScrolling:rt?f(U).isScrolling:void 0,style:de(Nt,Ft),rowIndex:Nt}));return Xe},De=()=>{const xe=ln(b.innerElement),ze=ie();return[Ot(xe,{style:f(H),ref:M},Mt(xe)?ze:{default:()=>ze})]};return()=>{const xe=ln(b.containerElement),{horizontalScrollbar:ze,verticalScrollbar:ot}=ce(),le=De();return Ot("div",{key:0,class:R.e("wrapper"),role:b.role},[Ot(xe,{class:b.className,style:f(X),onScroll:fe,ref:O},Mt(xe)?le:{default:()=>le}),ze,ot])}}}),t1e=W5({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:r},o,a,l,c,d)=>{r=Number(r);const h=Math.max(0,e*t-r),m=Math.min(h,o*t),g=Math.max(0,o*t-r+d+t);switch(a==="smart"&&(l>=g-r&&l<=m+r?a=ha:a=gs),a){case jv:return m;case Wv:return g;case gs:{const v=Math.round(g+(m-g)/2);return v<Math.ceil(r/2)?0:v>h+Math.floor(r/2)?h:v}case ha:default:return l>=g&&l<=m?l:g>m||l<g?g:m}},getRowOffset:({rowHeight:e,height:t,totalRow:r},o,a,l,c,d)=>{t=Number(t);const h=Math.max(0,r*e-t),m=Math.min(h,o*e),g=Math.max(0,o*e-t+d+e);switch(a===eS&&(l>=g-t&&l<=m+t?a=ha:a=gs),a){case jv:return m;case Wv:return g;case gs:{const v=Math.round(g+(m-g)/2);return v<Math.ceil(t/2)?0:v>h+Math.floor(t/2)?h:v}case ha:default:return l>=g&&l<=m?l:g>m||l<g?g:m}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},r)=>Math.max(0,Math.min(t-1,Math.floor(r/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:r},o,a)=>{const l=o*e,c=Math.ceil((r+a-l)/e);return Math.max(0,Math.min(t-1,o+c-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},r)=>Math.max(0,Math.min(t-1,Math.floor(r/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:r},o,a)=>{const l=o*e,c=Math.ceil((r+a-l)/e);return Math.max(0,Math.min(t-1,o+c-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:c0,min:z5,floor:K5}=Math,n1e={column:"columnWidth",row:"rowHeight"},jk={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},sl=(e,t,r,o)=>{const[a,l,c]=[r[o],e[n1e[o]],r[jk[o]]];if(t>c){let d=0;if(c>=0){const h=a[c];d=h.offset+h.size}for(let h=c+1;h<=t;h++){const m=l(h);a[h]={offset:d,size:m},d+=m}r[jk[o]]=t}return a[t]},G5=(e,t,r,o,a,l)=>{for(;r<=o;){const c=r+K5((o-r)/2),d=sl(e,c,t,l).offset;if(d===a)return c;d<a?r=c+1:o=c-1}return c0(0,r-1)},r1e=(e,t,r,o,a)=>{const l=a==="column"?e.totalColumn:e.totalRow;let c=1;for(;r<l&&sl(e,r,t,a).offset<o;)r+=c,c*=2;return G5(e,t,K5(r/2),z5(r,l-1),o,a)},tU=(e,t,r,o)=>{const[a,l]=[t[o],t[jk[o]]];return(l>0?a[l].offset:0)>=r?G5(e,t,0,l,r,o):r1e(e,t,c0(0,l),r,o)},q5=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:r,row:o})=>{let a=0;if(r>=e&&(r=e-1),r>=0){const d=o[r];a=d.offset+d.size}const c=(e-r-1)*t;return a+c},Y5=({totalColumn:e},{column:t,estimatedColumnWidth:r,lastVisitedColumnIndex:o})=>{let a=0;if(o>e&&(o=e-1),o>=0){const d=t[o];a=d.offset+d.size}const c=(e-o-1)*r;return a+c},o1e={column:Y5,row:q5},nU=(e,t,r,o,a,l,c)=>{const[d,h]=[l==="row"?e.height:e.width,o1e[l]],m=sl(e,t,a,l),g=h(e,a),v=c0(0,z5(g-d,m.offset)),_=c0(0,m.offset-d+c+m.size);switch(r===eS&&(o>=_-d&&o<=v+d?r=ha:r=gs),r){case jv:return v;case Wv:return _;case gs:return Math.round(_+(v-_)/2);case ha:default:return o>=_&&o<=v?o:_>v||o<_?_:v}},i1e=W5({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,r)=>{const o=sl(e,t,r,"column");return[o.size,o.offset]},getRowPosition:(e,t,r)=>{const o=sl(e,t,r,"row");return[o.size,o.offset]},getColumnOffset:(e,t,r,o,a,l)=>nU(e,t,r,o,a,"column",l),getRowOffset:(e,t,r,o,a,l)=>nU(e,t,r,o,a,"row",l),getColumnStartIndexForOffset:(e,t,r)=>tU(e,r,t,"column"),getColumnStopIndexForStartIndex:(e,t,r,o)=>{const a=sl(e,t,o,"column"),l=r+e.width;let c=a.offset+a.size,d=t;for(;d<e.totalColumn-1&&c<l;)d++,c+=sl(e,t,o,"column").size;return d},getEstimatedTotalHeight:q5,getEstimatedTotalWidth:Y5,getRowStartIndexForOffset:(e,t,r)=>tU(e,r,t,"row"),getRowStopIndexForStartIndex:(e,t,r,o)=>{const{totalRow:a,height:l}=e,c=sl(e,t,o,"row"),d=r+l;let h=c.size+c.offset,m=t;for(;m<a-1&&h<d;)m++,h+=sl(e,m,o,"row").size;return m},injectToInstance:(e,t)=>{const r=({columnIndex:l,rowIndex:c},d)=>{var h,m;d=Ar(d)?!0:d,xt(l)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,l-1)),xt(c)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,c-1)),(h=e.exposed)==null||h.getItemStyleCache.value(-1,null,null),d&&((m=e.proxy)==null||m.$forceUpdate())},o=(l,c)=>{r({columnIndex:l},c)},a=(l,c)=>{r({rowIndex:l},c)};Object.assign(e.proxy,{resetAfterColumnIndex:o,resetAfterRowIndex:a,resetAfter:r})},initCache:({estimatedColumnWidth:e=xk,estimatedRowHeight:t=xk})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),a1e=he({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Je("select")}}});function s1e(e,t,r,o,a,l){return F(),Q("div",{class:B(e.ns.be("group","title")),style:kt([e.style,{lineHeight:`${e.height}px`}])},et(e.item.label),7)}var l1e=at(a1e,[["render",s1e],["__file","group-item.vue"]]);function c1e(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const J5={label:"label",value:"value",disabled:"disabled",options:"options"};function tS(e){const t=D(()=>({...J5,...e.props}));return{aliasProps:t,getLabel:c=>Mr(c,t.value.label),getValue:c=>Mr(c,t.value.value),getDisabled:c=>Mr(c,t.value.disabled),getOptions:c=>Mr(c,t.value.options)}}const u1e=it({allowCreate:Boolean,autocomplete:{type:Se(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:ir,default:Gc},effect:{type:Se(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Se([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Se(Array),required:!0},placeholder:{type:String},teleported:mo.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Se(Object),default:()=>({})},remote:Boolean,size:no,props:{type:Se(Object),default:()=>J5},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:Se(String),values:Rd,default:"bottom-start"},fallbackPlacements:{type:Se(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Sd.type,default:"info"},tagEffect:{...Sd.effect,default:"light"},...Gh,...ko(["ariaLabel"])}),d1e=it({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Se(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),vA=Symbol("ElSelectV2Injection"),f1e=he({props:d1e,emits:["select","hover"],setup(e,{emit:t}){const r=pt(vA),o=Je("select"),{hoverItem:a,selectOptionClick:l}=c1e(e,{emit:t}),{getLabel:c}=tS(r.props);return{ns:o,hoverItem:a,selectOptionClick:l,getLabel:c}}});function h1e(e,t,r,o,a,l){return F(),Q("li",{"aria-selected":e.selected,style:kt(e.style),class:B([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMouseenter:e.hoverItem,onClick:Vt(e.selectOptionClick,["stop"])},[Pe(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[te("span",null,et(e.getLabel(e.item)),1)])],46,["aria-selected","onMouseenter","onClick"])}var p1e=at(f1e,[["render",h1e],["__file","option-item.vue"]]),m1e=he({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:r}){const o=pt(vA),a=Je("select"),{getLabel:l,getValue:c,getDisabled:d}=tS(o.props),h=q([]),m=q(),g=D(()=>e.data.length);Ge(()=>g.value,()=>{var j,W;(W=(j=o.tooltipRef.value).updatePopper)==null||W.call(j)});const v=D(()=>Ar(o.props.estimatedOptionHeight)),_=D(()=>v.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:j=>h.value[j]}),S=(j=[],W)=>{const{props:{valueKey:re}}=o;return nn(W)?j&&j.some(ae=>er(Mr(ae,re))===Mr(W,re)):j.includes(W)},T=(j,W)=>{if(nn(W)){const{valueKey:re}=o.props;return Mr(j,re)===Mr(W,re)}else return j===W},b=(j,W)=>o.props.multiple?S(j,c(W)):T(j,c(W)),I=(j,W)=>{const{disabled:re,multiple:ae,multipleLimit:ee}=o.props;return re||!W&&(ae?ee>0&&j.length>=ee:!1)},C=j=>e.hoveringIndex===j;r({listRef:m,isSized:v,isItemDisabled:I,isItemHovering:C,isItemSelected:b,scrollToItem:j=>{const W=m.value;W&&W.scrollToItem(j)},resetScrollTop:()=>{const j=m.value;j&&j.resetScrollTop()}});const k=j=>{const{index:W,data:re,style:ae}=j,ee=f(v),{itemSize:G,estimatedSize:Z}=f(_),{modelValue:X}=o.props,{onSelect:H,onHover:J}=o,fe=re[W];if(fe.type==="Group")return se(l1e,{item:fe,style:ae,height:ee?G:Z},null);const ge=b(X,fe),me=I(X,ge),Ee=C(W);return se(p1e,sn(j,{selected:ge,disabled:d(fe)||me,created:!!fe.created,hovering:Ee,item:fe,onSelect:H,onHover:J}),{default:Fe=>{var $e;return(($e=t.default)==null?void 0:$e.call(t,Fe))||se("span",null,[l(fe)])}})},{onKeyboardNavigate:N,onKeyboardSelect:O}=o,$=()=>{N("forward")},L=()=>{N("backward")},M=()=>{o.expanded=!1},U=j=>{const{code:W}=j,{tab:re,esc:ae,down:ee,up:G,enter:Z}=It;switch(W!==re&&(j.preventDefault(),j.stopPropagation()),W){case re:case ae:{M();break}case ee:{$();break}case G:{L();break}case Z:{O();break}}};return()=>{var j,W,re,ae;const{data:ee,width:G}=e,{height:Z,multiple:X,scrollbarAlwaysOn:H}=o.props,J=f(v)?H5:Zke;return se("div",{class:[a.b("dropdown"),a.is("multiple",X)],style:{width:`${G}px`}},[(j=t.header)==null?void 0:j.call(t),((W=t.loading)==null?void 0:W.call(t))||((re=t.empty)==null?void 0:re.call(t))||se(J,sn({ref:m},f(_),{className:a.be("dropdown","list"),scrollbarAlwaysOn:H,data:ee,height:Z,width:G,total:ee.length,onKeydown:U}),{default:fe=>se(k,fe,null)}),(ae=t.footer)==null?void 0:ae.call(t)])}}});function v1e(e,t){const{aliasProps:r,getLabel:o,getValue:a}=tS(e),l=q(0),c=q(null),d=D(()=>e.allowCreate&&e.filterable);function h(S){const T=b=>o(b)===S;return e.options&&e.options.some(T)||t.createdOptions.some(T)}function m(S){!d.value||(e.multiple&&S.created?l.value++:c.value=S)}function g(S){if(d.value)if(S&&S.length>0){if(h(S))return;const T={[r.value.value]:S,[r.value.label]:S,created:!0,[r.value.disabled]:!1};t.createdOptions.length>=l.value?t.createdOptions[l.value]=T:t.createdOptions.push(T)}else if(e.multiple)t.createdOptions.length=l.value;else{const T=c.value;t.createdOptions.length=0,T&&T.created&&t.createdOptions.push(T)}}function v(S){if(!d.value||!S||!S.created||S.created&&e.reserveKeyword&&t.inputValue===o(S))return;const T=t.createdOptions.findIndex(b=>a(b)===a(S));~T&&(t.createdOptions.splice(T,1),l.value--)}function _(){d.value&&(t.createdOptions.length=0,l.value=0)}return{createNewOption:g,removeNewOption:v,selectNewOption:m,clearAllNewOption:_}}const g1e=11,y1e=(e,t)=>{const{t:r}=En(),o=Je("select"),a=Je("input"),{form:l,formItem:c}=Go(),{inputId:d}=qa(e,{formItemContext:c}),{aliasProps:h,getLabel:m,getValue:g,getDisabled:v,getOptions:_}=tS(e),{valueOnClear:S,isEmptyValue:T}=W0(e),b=Un({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),I=q(-1),C=q(null),P=q(null),R=q(null),k=q(null),N=q(null),O=q(null),$=q(null),L=q(null),M=q(null),U=q(null),j=q(null),{isComposing:W,handleCompositionStart:re,handleCompositionEnd:ae,handleCompositionUpdate:ee}=j0({afterComposition:ct=>fr(ct)}),{wrapperRef:G,isFocused:Z}=yg(N,{afterFocus(){e.automaticDropdown&&!J.value&&(J.value=!0,b.menuVisibleOnFocus=!0)},beforeBlur(ct){var Bt,vn;return((Bt=R.value)==null?void 0:Bt.isFocusInsideContent(ct))||((vn=k.value)==null?void 0:vn.isFocusInsideContent(ct))},afterBlur(){J.value=!1,b.menuVisibleOnFocus=!1}}),X=q([]),H=q([]),J=q(!1),fe=D(()=>e.disabled||(l==null?void 0:l.disabled)),ge=D(()=>{const ct=H.value.length*e.itemHeight;return ct>e.height?e.height:ct}),me=D(()=>e.multiple?ht(e.modelValue)&&e.modelValue.length>0:!T(e.modelValue)),Ee=D(()=>e.clearable&&!fe.value&&b.inputHovering&&me.value),Fe=D(()=>e.remote&&e.filterable?"":El),$e=D(()=>Fe.value&&o.is("reverse",J.value)),de=D(()=>(c==null?void 0:c.validateState)||""),Le=D(()=>TR[de.value]),Te=D(()=>e.remote?300:0),Be=D(()=>e.loading?e.loadingText||r("el.select.loading"):e.remote&&!b.inputValue&&X.value.length===0?!1:e.filterable&&b.inputValue&&X.value.length>0&&H.value.length===0?e.noMatchText||r("el.select.noMatch"):X.value.length===0?e.noDataText||r("el.select.noData"):null),be=ct=>{const Bt=vn=>{if(e.filterable&&Lt(e.filterMethod)||e.filterable&&e.remote&&Lt(e.remoteMethod))return!0;const Dn=new RegExp(pR(ct),"i");return ct?Dn.test(m(vn)||""):!0};return e.loading?[]:[...b.createdOptions,...e.options].reduce((vn,Dn)=>{const To=_(Dn);if(ht(To)){const An=To.filter(Bt);An.length>0&&vn.push({label:m(Dn),type:"Group"},...An)}else(e.remote||Bt(Dn))&&vn.push(Dn);return vn},[])},We=()=>{X.value=be(""),H.value=be(b.inputValue)},ce=D(()=>{const ct=new Map;return X.value.forEach((Bt,vn)=>{ct.set(rn(g(Bt)),{option:Bt,index:vn})}),ct}),ie=D(()=>{const ct=new Map;return H.value.forEach((Bt,vn)=>{ct.set(rn(g(Bt)),{option:Bt,index:vn})}),ct}),De=D(()=>H.value.every(ct=>v(ct))),tt=Jr(),xe=D(()=>tt.value==="small"?"small":"default"),ze=()=>{var ct;I.value=((ct=C.value)==null?void 0:ct.offsetWidth)||200},ot=()=>{if(!P.value)return 0;const ct=window.getComputedStyle(P.value);return Number.parseFloat(ct.gap||"6px")},le=D(()=>{const ct=ot();return{maxWidth:`${j.value&&e.maxCollapseTags===1?b.selectionWidth-b.collapseItemWidth-ct:b.selectionWidth}px`}}),pe=D(()=>({maxWidth:`${b.selectionWidth}px`})),Re=D(()=>({width:`${Math.max(b.calculatorWidth,g1e)}px`})),Ae=D(()=>ht(e.modelValue)?e.modelValue.length===0&&!b.inputValue:e.filterable?!b.inputValue:!0),qe=D(()=>{var ct;const Bt=(ct=e.placeholder)!=null?ct:r("el.select.placeholder");return e.multiple||!me.value?Bt:b.selectedLabel}),rt=D(()=>{var ct,Bt;return(Bt=(ct=R.value)==null?void 0:ct.popperRef)==null?void 0:Bt.contentRef}),Ue=D(()=>{if(e.multiple){const ct=e.modelValue.length;if(e.modelValue.length>0&&ie.value.has(e.modelValue[ct-1])){const{index:Bt}=ie.value.get(e.modelValue[ct-1]);return Bt}}else if(e.modelValue&&ie.value.has(e.modelValue)){const{index:ct}=ie.value.get(e.modelValue);return ct}return-1}),Xe=D({get(){return J.value&&Be.value!==!1},set(ct){J.value=ct}}),Nt=D(()=>e.multiple?e.collapseTags?b.cachedOptions.slice(0,e.maxCollapseTags):b.cachedOptions:[]),Ft=D(()=>e.multiple?e.collapseTags?b.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:Et,removeNewOption:Ut,selectNewOption:He,clearAllNewOption:vt}=v1e(e,b),we=()=>{fe.value||(b.menuVisibleOnFocus?b.menuVisibleOnFocus=!1:J.value=!J.value)},Ye=()=>{b.inputValue.length>0&&!J.value&&(J.value=!0),Et(b.inputValue),jt(b.inputValue)},nt=Ii(Ye,Te.value),jt=ct=>{b.previousQuery===ct||W.value||(b.previousQuery=ct,e.filterable&&Lt(e.filterMethod)?e.filterMethod(ct):e.filterable&&e.remote&&Lt(e.remoteMethod)&&e.remoteMethod(ct),e.defaultFirstOption&&(e.filterable||e.remote)&&H.value.length?wt(Dt):wt(Rn))},Dt=()=>{const ct=H.value.filter(Dn=>!Dn.disabled&&Dn.type!=="Group"),Bt=ct.find(Dn=>Dn.created),vn=ct[0];b.hoveringIndex=In(H.value,Bt||vn)},Me=ct=>{ii(e.modelValue,ct)||t(pr,ct)},ft=ct=>{t(tn,ct),Me(ct),b.previousValue=e.multiple?String(ct):ct},In=(ct=[],Bt)=>{if(!nn(Bt))return ct.indexOf(Bt);const vn=e.valueKey;let Dn=-1;return ct.some((To,An)=>Mr(To,vn)===Mr(Bt,vn)?(Dn=An,!0):!1),Dn},rn=ct=>nn(ct)?Mr(ct,e.valueKey):ct,qn=()=>{ze()},Pn=()=>{b.selectionWidth=P.value.getBoundingClientRect().width},Xr=()=>{b.calculatorWidth=O.value.getBoundingClientRect().width},Nr=()=>{b.collapseItemWidth=j.value.getBoundingClientRect().width},zi=()=>{var ct,Bt;(Bt=(ct=R.value)==null?void 0:ct.updatePopper)==null||Bt.call(ct)},Cr=()=>{var ct,Bt;(Bt=(ct=k.value)==null?void 0:ct.updatePopper)==null||Bt.call(ct)},qo=ct=>{if(e.multiple){let Bt=e.modelValue.slice();const vn=In(Bt,g(ct));vn>-1?(Bt=[...Bt.slice(0,vn),...Bt.slice(vn+1)],b.cachedOptions.splice(vn,1),Ut(ct)):(e.multipleLimit<=0||Bt.length<e.multipleLimit)&&(Bt=[...Bt,g(ct)],b.cachedOptions.push(ct),He(ct)),ft(Bt),ct.created&&jt(""),e.filterable&&!e.reserveKeyword&&(b.inputValue="")}else b.selectedLabel=m(ct),ft(g(ct)),J.value=!1,He(ct),ct.created||vt();Gr()},ro=(ct,Bt)=>{let vn=e.modelValue.slice();const Dn=In(vn,g(Bt));Dn>-1&&!fe.value&&(vn=[...e.modelValue.slice(0,Dn),...e.modelValue.slice(Dn+1)],b.cachedOptions.splice(Dn,1),ft(vn),t("remove-tag",g(Bt)),Ut(Bt)),ct.stopPropagation(),Gr()},Gr=()=>{var ct;(ct=N.value)==null||ct.focus()},Ki=()=>{var ct;(ct=N.value)==null||ct.blur()},ba=()=>{b.inputValue.length>0?b.inputValue="":J.value=!1},Sa=ct=>B8(ct,Bt=>!b.cachedOptions.some(vn=>g(vn)===Bt&&v(vn))),di=ct=>{if(!!e.multiple&&ct.code!==It.delete&&b.inputValue.length===0){ct.preventDefault();const Bt=e.modelValue.slice(),vn=Sa(Bt);if(vn<0)return;const Dn=Bt[vn];Bt.splice(vn,1);const To=b.cachedOptions[vn];b.cachedOptions.splice(vn,1),Ut(To),ft(Bt),t("remove-tag",Dn)}},Os=()=>{let ct;ht(e.modelValue)?ct=[]:ct=S.value,e.multiple?b.cachedOptions=[]:b.selectedLabel="",J.value=!1,ft(ct),t("clear"),vt(),Gr()},Ns=(ct,Bt=void 0)=>{const vn=H.value;if(!["forward","backward"].includes(ct)||fe.value||vn.length<=0||De.value||W.value)return;if(!J.value)return we();Bt===void 0&&(Bt=b.hoveringIndex);let Dn=-1;ct==="forward"?(Dn=Bt+1,Dn>=vn.length&&(Dn=0)):ct==="backward"&&(Dn=Bt-1,(Dn<0||Dn>=vn.length)&&(Dn=vn.length-1));const To=vn[Dn];if(v(To)||To.type==="Group")return Ns(ct,Dn);b.hoveringIndex=Dn,uo(Dn)},st=()=>{if(J.value)~b.hoveringIndex&&H.value[b.hoveringIndex]&&qo(H.value[b.hoveringIndex]);else return we()},Rt=ct=>{b.hoveringIndex=ct},Rn=()=>{e.multiple?b.hoveringIndex=H.value.findIndex(ct=>e.modelValue.some(Bt=>rn(Bt)===rn(ct))):b.hoveringIndex=H.value.findIndex(ct=>rn(ct)===rn(e.modelValue))},fr=ct=>{if(b.inputValue=ct.target.value,e.remote)nt();else return Ye()},mr=ct=>{if(J.value=!1,Z.value){const Bt=new FocusEvent("focus",ct);handleBlur(Bt)}},Fr=()=>(b.isBeforeHide=!1,wt(()=>{~Ue.value&&uo(b.hoveringIndex)})),uo=ct=>{M.value.scrollToItem(ct)},Ro=ct=>{const Bt=rn(ct);if(ce.value.has(Bt)){const{option:vn}=ce.value.get(Bt);return vn}return{[h.value.value]:ct,[h.value.label]:ct}},fo=()=>{if(e.multiple)if(e.modelValue.length>0){b.cachedOptions.length=0,b.previousValue=e.modelValue.toString();for(const ct of e.modelValue){const Bt=Ro(ct);b.cachedOptions.push(Bt)}}else b.cachedOptions=[],b.previousValue=void 0;else if(me.value){b.previousValue=e.modelValue;const ct=H.value,Bt=ct.findIndex(vn=>rn(g(vn))===rn(e.modelValue));~Bt?b.selectedLabel=m(ct[Bt]):b.selectedLabel=rn(e.modelValue)}else b.selectedLabel="",b.previousValue=void 0;vt(),ze()};return Ge(J,ct=>{ct?jt(""):(b.inputValue="",b.previousQuery=null,b.isBeforeHide=!0,Et("")),t("visible-change",ct)}),Ge(()=>e.modelValue,(ct,Bt)=>{var vn;(!ct||e.multiple&&ct.toString()!==b.previousValue||!e.multiple&&rn(ct)!==rn(b.previousValue))&&fo(),!ii(ct,Bt)&&e.validateEvent&&((vn=c==null?void 0:c.validate)==null||vn.call(c,"change").catch(Dn=>void 0))},{deep:!0}),Ge(()=>e.options,()=>{const ct=N.value;(!ct||ct&&document.activeElement!==ct)&&fo()},{deep:!0,flush:"post"}),Ge(()=>H.value,()=>M.value&&wt(M.value.resetScrollTop)),Po(()=>{b.isBeforeHide||We()}),Po(()=>{const{valueKey:ct,options:Bt}=e,vn=new Map;for(const Dn of Bt){const To=g(Dn);let An=To;if(nn(An)&&(An=Mr(To,ct)),vn.get(An))break;vn.set(An,!0)}}),Zt(()=>{fo()}),Sr(C,qn),Sr(P,Pn),Sr(O,Xr),Sr(M,zi),Sr(G,zi),Sr(U,Cr),Sr(j,Nr),{inputId:d,collapseTagSize:xe,currentPlaceholder:qe,expanded:J,emptyText:Be,popupHeight:ge,debounce:Te,allOptions:X,filteredOptions:H,iconComponent:Fe,iconReverse:$e,tagStyle:le,collapseTagStyle:pe,inputStyle:Re,popperSize:I,dropdownMenuVisible:Xe,hasModelValue:me,shouldShowPlaceholder:Ae,selectDisabled:fe,selectSize:tt,showClearBtn:Ee,states:b,isFocused:Z,nsSelect:o,nsInput:a,calculatorRef:O,inputRef:N,menuRef:M,tagMenuRef:U,tooltipRef:R,tagTooltipRef:k,selectRef:C,wrapperRef:G,selectionRef:P,prefixRef:$,suffixRef:L,collapseItemRef:j,popperRef:rt,validateState:de,validateIcon:Le,showTagList:Nt,collapseTagList:Ft,debouncedOnInputChange:nt,deleteTag:ro,getLabel:m,getValue:g,getDisabled:v,getValueKey:rn,handleClear:Os,handleClickOutside:mr,handleDel:di,handleEsc:ba,focus:Gr,blur:Ki,handleMenuEnter:Fr,handleResize:qn,resetSelectionWidth:Pn,resetCalculatorWidth:Xr,updateTooltip:zi,updateTagTooltip:Cr,updateOptions:We,toggleMenu:we,scrollTo:uo,onInput:fr,onKeyboardNavigate:Ns,onKeyboardSelect:st,onSelect:qo,onHover:Rt,handleCompositionStart:re,handleCompositionEnd:ae,handleCompositionUpdate:ee}},_1e=he({name:"ElSelectV2",components:{ElSelectMenu:m1e,ElTag:Uv,ElTooltip:xo,ElIcon:St},directives:{ClickOutside:ml},props:u1e,emits:[tn,pr,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const r=D(()=>{const{modelValue:a,multiple:l}=e,c=l?[]:void 0;return ht(a)?l?a:c:l?c:a}),o=y1e(Un({...So(e),modelValue:r}),t);return pn(vA,{props:Un({...So(e),height:o.popupHeight,modelValue:r}),tooltipRef:o.tooltipRef,onSelect:o.onSelect,onHover:o.onHover,onKeyboardNavigate:o.onKeyboardNavigate,onKeyboardSelect:o.onKeyboardSelect}),{...o,modelValue:r}}});function b1e(e,t,r,o,a,l){const c=en("el-tag"),d=en("el-tooltip"),h=en("el-icon"),m=en("el-select-menu"),g=I0("click-outside");return qt((F(),Q("div",{ref:"selectRef",class:B([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:v=>e.states.inputHovering=!0,onMouseleave:v=>e.states.inputHovering=!1},[se(d,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:v=>e.states.isBeforeHide=!1},{default:ye(()=>[te("div",{ref:"wrapperRef",class:B([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:Vt(e.toggleMenu,["prevent","stop"])},[e.$slots.prefix?(F(),Q("div",{key:0,ref:"prefixRef",class:B(e.nsSelect.e("prefix"))},[Pe(e.$slots,"prefix")],2)):Ie("v-if",!0),te("div",{ref:"selectionRef",class:B([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?Pe(e.$slots,"tag",{key:0},()=>[(F(!0),Q(Tt,null,fn(e.showTagList,v=>(F(),Q("div",{key:e.getValueKey(e.getValue(v)),class:B(e.nsSelect.e("selected-item"))},[se(c,{closable:!e.selectDisabled&&!e.getDisabled(v),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:kt(e.tagStyle),onClose:_=>e.deleteTag(_,v)},{default:ye(()=>[te("span",{class:B(e.nsSelect.e("tags-text"))},[Pe(e.$slots,"label",{label:e.getLabel(v),value:e.getValue(v)},()=>[Jt(et(e.getLabel(v)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(F(),Ve(d,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:ye(()=>[te("div",{ref:"collapseItemRef",class:B(e.nsSelect.e("selected-item"))},[se(c,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:kt(e.collapseTagStyle),"disable-transitions":""},{default:ye(()=>[te("span",{class:B(e.nsSelect.e("tags-text"))}," + "+et(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ye(()=>[te("div",{ref:"tagMenuRef",class:B(e.nsSelect.e("selection"))},[(F(!0),Q(Tt,null,fn(e.collapseTagList,v=>(F(),Q("div",{key:e.getValueKey(e.getValue(v)),class:B(e.nsSelect.e("selected-item"))},[se(c,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(v),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:_=>e.deleteTag(_,v)},{default:ye(()=>[te("span",{class:B(e.nsSelect.e("tags-text"))},[Pe(e.$slots,"label",{label:e.getLabel(v),value:e.getValue(v)},()=>[Jt(et(e.getLabel(v)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Ie("v-if",!0)]):Ie("v-if",!0),e.selectDisabled?Ie("v-if",!0):(F(),Q("div",{key:1,class:B([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[qt(te("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":v=>e.states.inputValue=v,style:kt(e.inputStyle),autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:B([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[or(Vt(v=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),or(Vt(v=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),or(Vt(e.onKeyboardSelect,["stop","prevent"]),["enter"]),or(Vt(e.handleEsc,["stop","prevent"]),["esc"]),or(Vt(e.handleDel,["stop"]),["delete"])],onClick:Vt(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[q1,e.states.inputValue]]),e.filterable?(F(),Q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:B(e.nsSelect.e("input-calculator")),textContent:et(e.states.inputValue)},null,10,["textContent"])):Ie("v-if",!0)],2)),e.shouldShowPlaceholder?(F(),Q("div",{key:2,class:B([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Pe(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[te("span",null,et(e.currentPlaceholder),1)]):(F(),Q("span",{key:1},et(e.currentPlaceholder),1))],2)):Ie("v-if",!0)],2),te("div",{ref:"suffixRef",class:B(e.nsSelect.e("suffix"))},[e.iconComponent?qt((F(),Ve(h,{key:0,class:B([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:ye(()=>[(F(),Ve(ln(e.iconComponent)))]),_:1},8,["class"])),[[Nn,!e.showClearBtn]]):Ie("v-if",!0),e.showClearBtn&&e.clearIcon?(F(),Ve(h,{key:1,class:B([e.nsSelect.e("caret"),e.nsInput.e("icon")]),onClick:Vt(e.handleClear,["prevent","stop"])},{default:ye(()=>[(F(),Ve(ln(e.clearIcon)))]),_:1},8,["class","onClick"])):Ie("v-if",!0),e.validateState&&e.validateIcon?(F(),Ve(h,{key:2,class:B([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:ye(()=>[(F(),Ve(ln(e.validateIcon)))]),_:1},8,["class"])):Ie("v-if",!0)],2)],10,["onClick"])]),content:ye(()=>[se(m,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},Ua({default:ye(v=>[Pe(e.$slots,"default",Ma(Pc(v)))]),_:2},[e.$slots.header?{name:"header",fn:ye(()=>[te("div",{class:B(e.nsSelect.be("dropdown","header"))},[Pe(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:ye(()=>[te("div",{class:B(e.nsSelect.be("dropdown","loading"))},[Pe(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:ye(()=>[te("div",{class:B(e.nsSelect.be("dropdown","empty"))},[Pe(e.$slots,"empty",{},()=>[te("span",null,et(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:ye(()=>[te("div",{class:B(e.nsSelect.be("dropdown","footer"))},[Pe(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[g,e.handleClickOutside,e.popperRef]])}var S1e=at(_1e,[["render",b1e],["__file","select.vue"]]);const E1e=Kt(S1e),T1e=it({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),C1e=it({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),w1e=he({name:"ElSkeletonItem"}),I1e=he({...w1e,props:C1e,setup(e){const t=Je("skeleton");return(r,o)=>(F(),Q("div",{class:B([f(t).e("item"),f(t).e(r.variant)])},[r.variant==="image"?(F(),Ve(f(cpe),{key:0})):Ie("v-if",!0)],2))}});var u0=at(I1e,[["__file","skeleton-item.vue"]]);const k1e=he({name:"ElSkeleton"}),R1e=he({...k1e,props:T1e,setup(e,{expose:t}){const r=e,o=Je("skeleton"),a=ove(Kn(r,"loading"),r.throttle);return t({uiLoading:a}),(l,c)=>f(a)?(F(),Q("div",sn({key:0,class:[f(o).b(),f(o).is("animated",l.animated)]},l.$attrs),[(F(!0),Q(Tt,null,fn(l.count,d=>(F(),Q(Tt,{key:d},[l.loading?Pe(l.$slots,"template",{key:d},()=>[se(u0,{class:B(f(o).is("first")),variant:"p"},null,8,["class"]),(F(!0),Q(Tt,null,fn(l.rows,h=>(F(),Ve(u0,{key:h,class:B([f(o).e("paragraph"),f(o).is("last",h===l.rows&&l.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Ie("v-if",!0)],64))),128))],16)):Pe(l.$slots,"default",Ma(sn({key:1},l.$attrs)))}});var A1e=at(R1e,[["__file","skeleton.vue"]]);const O1e=Kt(A1e,{SkeletonItem:u0}),N1e=Tr(u0),X5=Symbol("sliderContextKey"),P1e=it({modelValue:{type:Se([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:no,inputSize:no,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Se(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Se(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Rd,default:"top"},marks:{type:Se(Object)},validateEvent:{type:Boolean,default:!0},...ko(["ariaLabel"])}),SI=e=>xt(e)||ht(e)&&e.every(xt),D1e={[tn]:SI,[si]:SI,[pr]:SI},L1e=(e,t,r)=>{const o=q();return Zt(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Zn(window,"resize",r),await wt(),r()}),{sliderWrapper:o}},M1e=e=>D(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((r,o)=>r-o).filter(r=>r<=e.max&&r>=e.min).map(r=>({point:r,position:(r-e.min)*100/(e.max-e.min),mark:e.marks[r]})):[]),x1e=(e,t,r)=>{const{form:o,formItem:a}=Go(),l=dr(),c=q(),d=q(),h={firstButton:c,secondButton:d},m=D(()=>e.disabled||(o==null?void 0:o.disabled)||!1),g=D(()=>Math.min(t.firstValue,t.secondValue)),v=D(()=>Math.max(t.firstValue,t.secondValue)),_=D(()=>e.range?`${100*(v.value-g.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),S=D(()=>e.range?`${100*(g.value-e.min)/(e.max-e.min)}%`:"0%"),T=D(()=>e.vertical?{height:e.height}:{}),b=D(()=>e.vertical?{height:_.value,bottom:S.value}:{width:_.value,left:S.value}),I=()=>{l.value&&(t.sliderSize=l.value[`client${e.vertical?"Height":"Width"}`])},C=W=>{const re=e.min+W*(e.max-e.min)/100;if(!e.range)return c;let ae;return Math.abs(g.value-re)<Math.abs(v.value-re)?ae=t.firstValue<t.secondValue?"firstButton":"secondButton":ae=t.firstValue>t.secondValue?"firstButton":"secondButton",h[ae]},P=W=>{const re=C(W);return re.value.setPosition(W),re},R=W=>{t.firstValue=W!=null?W:e.min,N(e.range?[g.value,v.value]:W!=null?W:e.min)},k=W=>{t.secondValue=W,e.range&&N([g.value,v.value])},N=W=>{r(tn,W),r(si,W)},O=async()=>{await wt(),r(pr,e.range?[g.value,v.value]:e.modelValue)},$=W=>{var re,ae,ee,G,Z,X;if(m.value||t.dragging)return;I();let H=0;if(e.vertical){const J=(ee=(ae=(re=W.touches)==null?void 0:re.item(0))==null?void 0:ae.clientY)!=null?ee:W.clientY;H=(l.value.getBoundingClientRect().bottom-J)/t.sliderSize*100}else{const J=(X=(Z=(G=W.touches)==null?void 0:G.item(0))==null?void 0:Z.clientX)!=null?X:W.clientX,fe=l.value.getBoundingClientRect().left;H=(J-fe)/t.sliderSize*100}if(!(H<0||H>100))return P(H)};return{elFormItem:a,slider:l,firstButton:c,secondButton:d,sliderDisabled:m,minValue:g,maxValue:v,runwayStyle:T,barStyle:b,resetSize:I,setPosition:P,emitChange:O,onSliderWrapperPrevent:W=>{var re,ae;(((re=h.firstButton.value)==null?void 0:re.dragging)||((ae=h.secondButton.value)==null?void 0:ae.dragging))&&W.preventDefault()},onSliderClick:W=>{$(W)&&O()},onSliderDown:async W=>{const re=$(W);re&&(await wt(),re.value.onButtonDown(W))},onSliderMarkerDown:W=>{m.value||t.dragging||P(W)},setFirstValue:R,setSecondValue:k}},{left:V1e,down:F1e,right:$1e,up:U1e,home:B1e,end:H1e,pageUp:j1e,pageDown:W1e}=It,z1e=(e,t,r)=>{const o=q(),a=q(!1),l=D(()=>t.value instanceof Function),c=D(()=>l.value&&t.value(e.modelValue)||e.modelValue),d=Ii(()=>{r.value&&(a.value=!0)},50),h=Ii(()=>{r.value&&(a.value=!1)},50);return{tooltip:o,tooltipVisible:a,formatValue:c,displayTooltip:d,hideTooltip:h}},K1e=(e,t,r)=>{const{disabled:o,min:a,max:l,step:c,showTooltip:d,precision:h,sliderSize:m,formatTooltip:g,emitChange:v,resetSize:_,updateDragging:S}=pt(X5),{tooltip:T,tooltipVisible:b,formatValue:I,displayTooltip:C,hideTooltip:P}=z1e(e,g,d),R=q(),k=D(()=>`${(e.modelValue-a.value)/(l.value-a.value)*100}%`),N=D(()=>e.vertical?{bottom:k.value}:{left:k.value}),O=()=>{t.hovering=!0,C()},$=()=>{t.hovering=!1,t.dragging||P()},L=ge=>{o.value||(ge.preventDefault(),X(ge),window.addEventListener("mousemove",H),window.addEventListener("touchmove",H),window.addEventListener("mouseup",J),window.addEventListener("touchend",J),window.addEventListener("contextmenu",J),R.value.focus())},M=ge=>{o.value||(t.newPosition=Number.parseFloat(k.value)+ge/(l.value-a.value)*100,fe(t.newPosition),v())},U=()=>{M(-c.value)},j=()=>{M(c.value)},W=()=>{M(-c.value*4)},re=()=>{M(c.value*4)},ae=()=>{o.value||(fe(0),v())},ee=()=>{o.value||(fe(100),v())},G=ge=>{let me=!0;[V1e,F1e].includes(ge.key)?U():[$1e,U1e].includes(ge.key)?j():ge.key===B1e?ae():ge.key===H1e?ee():ge.key===W1e?W():ge.key===j1e?re():me=!1,me&&ge.preventDefault()},Z=ge=>{let me,Ee;return ge.type.startsWith("touch")?(Ee=ge.touches[0].clientY,me=ge.touches[0].clientX):(Ee=ge.clientY,me=ge.clientX),{clientX:me,clientY:Ee}},X=ge=>{t.dragging=!0,t.isClick=!0;const{clientX:me,clientY:Ee}=Z(ge);e.vertical?t.startY=Ee:t.startX=me,t.startPosition=Number.parseFloat(k.value),t.newPosition=t.startPosition},H=ge=>{if(t.dragging){t.isClick=!1,C(),_();let me;const{clientX:Ee,clientY:Fe}=Z(ge);e.vertical?(t.currentY=Fe,me=(t.startY-t.currentY)/m.value*100):(t.currentX=Ee,me=(t.currentX-t.startX)/m.value*100),t.newPosition=t.startPosition+me,fe(t.newPosition)}},J=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||P(),t.isClick||fe(t.newPosition),v()},0),window.removeEventListener("mousemove",H),window.removeEventListener("touchmove",H),window.removeEventListener("mouseup",J),window.removeEventListener("touchend",J),window.removeEventListener("contextmenu",J))},fe=async ge=>{if(ge===null||Number.isNaN(+ge))return;ge<0?ge=0:ge>100&&(ge=100);const me=100/((l.value-a.value)/c.value);let Fe=Math.round(ge/me)*me*(l.value-a.value)*.01+a.value;Fe=Number.parseFloat(Fe.toFixed(h.value)),Fe!==e.modelValue&&r(tn,Fe),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await wt(),t.dragging&&C(),T.value.updatePopper()};return Ge(()=>t.dragging,ge=>{S(ge)}),Zn(R,"touchstart",L,{passive:!1}),{disabled:o,button:R,tooltip:T,tooltipVisible:b,showTooltip:d,wrapperStyle:N,formatValue:I,handleMouseEnter:O,handleMouseLeave:$,onButtonDown:L,onKeyDown:G,setPosition:fe}},G1e=(e,t,r,o)=>({stops:D(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const c=(e.max-e.min)/e.step,d=100*e.step/(e.max-e.min),h=Array.from({length:c-1}).map((m,g)=>(g+1)*d);return e.range?h.filter(m=>m<100*(r.value-e.min)/(e.max-e.min)||m>100*(o.value-e.min)/(e.max-e.min)):h.filter(m=>m>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:c=>e.vertical?{bottom:`${c}%`}:{left:`${c}%`}}),q1e=(e,t,r,o,a,l)=>{const c=m=>{a(tn,m),a(si,m)},d=()=>e.range?![r.value,o.value].every((m,g)=>m===t.oldValue[g]):e.modelValue!==t.oldValue,h=()=>{var m,g;e.min>e.max&&to("Slider","min should not be greater than max.");const v=e.modelValue;e.range&&Array.isArray(v)?v[1]<e.min?c([e.min,e.min]):v[0]>e.max?c([e.max,e.max]):v[0]<e.min?c([e.min,v[1]]):v[1]>e.max?c([v[0],e.max]):(t.firstValue=v[0],t.secondValue=v[1],d()&&(e.validateEvent&&((m=l==null?void 0:l.validate)==null||m.call(l,"change").catch(_=>void 0)),t.oldValue=v.slice())):!e.range&&typeof v=="number"&&!Number.isNaN(v)&&(v<e.min?c(e.min):v>e.max?c(e.max):(t.firstValue=v,d()&&(e.validateEvent&&((g=l==null?void 0:l.validate)==null||g.call(l,"change").catch(_=>void 0)),t.oldValue=v)))};h(),Ge(()=>t.dragging,m=>{m||h()}),Ge(()=>e.modelValue,(m,g)=>{t.dragging||Array.isArray(m)&&Array.isArray(g)&&m.every((v,_)=>v===g[_])&&t.firstValue===m[0]&&t.secondValue===m[1]||h()},{deep:!0}),Ge(()=>[e.min,e.max],()=>{h()})},Y1e=it({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Rd,default:"top"}}),J1e={[tn]:e=>xt(e)},X1e=he({name:"ElSliderButton"}),Q1e=he({...X1e,props:Y1e,emits:J1e,setup(e,{expose:t,emit:r}){const o=e,a=Je("slider"),l=Un({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:o.modelValue}),{disabled:c,button:d,tooltip:h,showTooltip:m,tooltipVisible:g,wrapperStyle:v,formatValue:_,handleMouseEnter:S,handleMouseLeave:T,onButtonDown:b,onKeyDown:I,setPosition:C}=K1e(o,l,r),{hovering:P,dragging:R}=So(l);return t({onButtonDown:b,onKeyDown:I,setPosition:C,hovering:P,dragging:R}),(k,N)=>(F(),Q("div",{ref_key:"button",ref:d,class:B([f(a).e("button-wrapper"),{hover:f(P),dragging:f(R)}]),style:kt(f(v)),tabindex:f(c)?-1:0,onMouseenter:f(S),onMouseleave:f(T),onMousedown:f(b),onFocus:f(S),onBlur:f(T),onKeydown:f(I)},[se(f(xo),{ref_key:"tooltip",ref:h,visible:f(g),placement:k.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":k.tooltipClass,disabled:!f(m),persistent:""},{content:ye(()=>[te("span",null,et(f(_)),1)]),default:ye(()=>[te("div",{class:B([f(a).e("button"),{hover:f(P),dragging:f(R)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var rU=at(Q1e,[["__file","button.vue"]]);const Z1e=it({mark:{type:Se([String,Object]),default:void 0}});var eRe=he({name:"ElSliderMarker",props:Z1e,setup(e){const t=Je("slider"),r=D(()=>Mt(e.mark)?e.mark:e.mark.label),o=D(()=>Mt(e.mark)?void 0:e.mark.style);return()=>Ot("div",{class:t.e("marks-text"),style:o.value},r.value)}});const tRe=he({name:"ElSlider"}),nRe=he({...tRe,props:P1e,emits:D1e,setup(e,{expose:t,emit:r}){const o=e,a=Je("slider"),{t:l}=En(),c=Un({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:d,slider:h,firstButton:m,secondButton:g,sliderDisabled:v,minValue:_,maxValue:S,runwayStyle:T,barStyle:b,resetSize:I,emitChange:C,onSliderWrapperPrevent:P,onSliderClick:R,onSliderDown:k,onSliderMarkerDown:N,setFirstValue:O,setSecondValue:$}=x1e(o,c,r),{stops:L,getStopStyle:M}=G1e(o,c,_,S),{inputId:U,isLabeledByFormItem:j}=qa(o,{formItemContext:d}),W=Jr(),re=D(()=>o.inputSize||W.value),ae=D(()=>o.ariaLabel||l("el.slider.defaultLabel",{min:o.min,max:o.max})),ee=D(()=>o.range?o.rangeStartLabel||l("el.slider.defaultRangeStartLabel"):ae.value),G=D(()=>o.formatValueText?o.formatValueText(me.value):`${me.value}`),Z=D(()=>o.rangeEndLabel||l("el.slider.defaultRangeEndLabel")),X=D(()=>o.formatValueText?o.formatValueText(Ee.value):`${Ee.value}`),H=D(()=>[a.b(),a.m(W.value),a.is("vertical",o.vertical),{[a.m("with-input")]:o.showInput}]),J=M1e(o);q1e(o,c,_,S,r,d);const fe=D(()=>{const de=[o.min,o.max,o.step].map(Le=>{const Te=`${Le}`.split(".")[1];return Te?Te.length:0});return Math.max.apply(null,de)}),{sliderWrapper:ge}=L1e(o,c,I),{firstValue:me,secondValue:Ee,sliderSize:Fe}=So(c),$e=de=>{c.dragging=de};return Zn(ge,"touchstart",P,{passive:!1}),Zn(ge,"touchmove",P,{passive:!1}),pn(X5,{...So(o),sliderSize:Fe,disabled:v,precision:fe,emitChange:C,resetSize:I,updateDragging:$e}),t({onSliderClick:R}),(de,Le)=>{var Te,Be;return F(),Q("div",{id:de.range?f(U):void 0,ref_key:"sliderWrapper",ref:ge,class:B(f(H)),role:de.range?"group":void 0,"aria-label":de.range&&!f(j)?f(ae):void 0,"aria-labelledby":de.range&&f(j)?(Te=f(d))==null?void 0:Te.labelId:void 0},[te("div",{ref_key:"slider",ref:h,class:B([f(a).e("runway"),{"show-input":de.showInput&&!de.range},f(a).is("disabled",f(v))]),style:kt(f(T)),onMousedown:f(k),onTouchstartPassive:f(k)},[te("div",{class:B(f(a).e("bar")),style:kt(f(b))},null,6),se(rU,{id:de.range?void 0:f(U),ref_key:"firstButton",ref:m,"model-value":f(me),vertical:de.vertical,"tooltip-class":de.tooltipClass,placement:de.placement,role:"slider","aria-label":de.range||!f(j)?f(ee):void 0,"aria-labelledby":!de.range&&f(j)?(Be=f(d))==null?void 0:Be.labelId:void 0,"aria-valuemin":de.min,"aria-valuemax":de.range?f(Ee):de.max,"aria-valuenow":f(me),"aria-valuetext":f(G),"aria-orientation":de.vertical?"vertical":"horizontal","aria-disabled":f(v),"onUpdate:modelValue":f(O)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),de.range?(F(),Ve(rU,{key:0,ref_key:"secondButton",ref:g,"model-value":f(Ee),vertical:de.vertical,"tooltip-class":de.tooltipClass,placement:de.placement,role:"slider","aria-label":f(Z),"aria-valuemin":f(me),"aria-valuemax":de.max,"aria-valuenow":f(Ee),"aria-valuetext":f(X),"aria-orientation":de.vertical?"vertical":"horizontal","aria-disabled":f(v),"onUpdate:modelValue":f($)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Ie("v-if",!0),de.showStops?(F(),Q("div",{key:1},[(F(!0),Q(Tt,null,fn(f(L),(be,We)=>(F(),Q("div",{key:We,class:B(f(a).e("stop")),style:kt(f(M)(be))},null,6))),128))])):Ie("v-if",!0),f(J).length>0?(F(),Q(Tt,{key:2},[te("div",null,[(F(!0),Q(Tt,null,fn(f(J),(be,We)=>(F(),Q("div",{key:We,style:kt(f(M)(be.position)),class:B([f(a).e("stop"),f(a).e("marks-stop")])},null,6))),128))]),te("div",{class:B(f(a).e("marks"))},[(F(!0),Q(Tt,null,fn(f(J),(be,We)=>(F(),Ve(f(eRe),{key:We,mark:be.mark,style:kt(f(M)(be.position)),onMousedown:Vt(ce=>f(N)(be.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Ie("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),de.showInput&&!de.range?(F(),Ve(f(C5),{key:0,ref:"input","model-value":f(me),class:B(f(a).e("input")),step:de.step,disabled:f(v),controls:de.showInputControls,min:de.min,max:de.max,precision:f(fe),debounce:de.debounce,size:f(re),"onUpdate:modelValue":f(O),onChange:f(C)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Ie("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var rRe=at(nRe,[["__file","slider.vue"]]);const oRe=Kt(rRe),iRe=it({prefixCls:{type:String}}),oU=he({name:"ElSpaceItem",props:iRe,setup(e,{slots:t}){const r=Je("space"),o=D(()=>`${e.prefixCls||r.b()}__item`);return()=>Ot("div",{class:o.value},Pe(t,"default"))}}),iU={small:8,default:12,large:16};function aRe(e){const t=Je("space"),r=D(()=>[t.b(),t.m(e.direction),e.class]),o=q(0),a=q(0),l=D(()=>{const d=e.wrap||e.fill?{flexWrap:"wrap"}:{},h={alignItems:e.alignment},m={rowGap:`${a.value}px`,columnGap:`${o.value}px`};return[d,h,m,e.style]}),c=D(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Po(()=>{const{size:d="small",wrap:h,direction:m,fill:g}=e;if(ht(d)){const[v=0,_=0]=d;o.value=v,a.value=_}else{let v;xt(d)?v=d:v=iU[d||"small"]||iU.small,(h||g)&&m==="horizontal"?o.value=a.value=v:m==="horizontal"?(o.value=v,a.value=0):(a.value=v,o.value=0)}}),{classes:r,containerStyle:l,itemStyle:c}}const sRe=it({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Se([String,Object,Array]),default:""},style:{type:Se([String,Array,Object]),default:""},alignment:{type:Se(String),default:"center"},prefixCls:{type:String},spacer:{type:Se([Object,String,Number,Array]),default:null,validator:e=>_r(e)||xt(e)||Mt(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:ks,validator:e=>xt(e)||ht(e)&&e.length===2&&e.every(xt)}}),lRe=he({name:"ElSpace",props:sRe,setup(e,{slots:t}){const{classes:r,containerStyle:o,itemStyle:a}=aRe(e);function l(c,d="",h=[]){const{prefixCls:m}=e;return c.forEach((g,v)=>{ak(g)?ht(g.children)&&g.children.forEach((_,S)=>{ak(_)&&ht(_.children)?l(_.children,`${d+S}-`,h):h.push(se(oU,{style:a.value,prefixCls:m,key:`nested-${d+S}`},{default:()=>[_]},la.PROPS|la.STYLE,["style","prefixCls"]))}):$pe(g)&&h.push(se(oU,{style:a.value,prefixCls:m,key:`LoopKey${d+v}`},{default:()=>[g]},la.PROPS|la.STYLE,["style","prefixCls"]))}),h}return()=>{var c;const{spacer:d,direction:h}=e,m=Pe(t,"default",{key:0},()=>[]);if(((c=m.children)!=null?c:[]).length===0)return null;if(ht(m.children)){let g=l(m.children);if(d){const v=g.length-1;g=g.reduce((_,S,T)=>{const b=[..._,S];return T!==v&&b.push(se("span",{style:[a.value,h==="vertical"?"width: 100%":null],key:T},[_r(d)?d:Jt(d,la.TEXT)],la.STYLE)),b},[])}return se("div",{class:r.value,style:o.value},g,la.STYLE|la.CLASS)}return m.children}}}),cRe=Kt(lRe),uRe=it({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Se([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Se([String,Object,Array])}}),dRe=he({name:"ElStatistic"}),fRe=he({...dRe,props:uRe,setup(e,{expose:t}){const r=e,o=Je("statistic"),a=D(()=>{const{value:l,formatter:c,precision:d,decimalSeparator:h,groupSeparator:m}=r;if(Lt(c))return c(l);if(!xt(l)||Number.isNaN(l))return l;let[g,v=""]=String(l).split(".");return v=v.padEnd(d,"0").slice(0,d>0?d:0),g=g.replace(/\B(?=(\d{3})+(?!\d))/g,m),[g,v].join(v?h:"")});return t({displayValue:a}),(l,c)=>(F(),Q("div",{class:B(f(o).b())},[l.$slots.title||l.title?(F(),Q("div",{key:0,class:B(f(o).e("head"))},[Pe(l.$slots,"title",{},()=>[Jt(et(l.title),1)])],2)):Ie("v-if",!0),te("div",{class:B(f(o).e("content"))},[l.$slots.prefix||l.prefix?(F(),Q("div",{key:0,class:B(f(o).e("prefix"))},[Pe(l.$slots,"prefix",{},()=>[te("span",null,et(l.prefix),1)])],2)):Ie("v-if",!0),te("span",{class:B(f(o).e("number")),style:kt(l.valueStyle)},et(f(a)),7),l.$slots.suffix||l.suffix?(F(),Q("div",{key:1,class:B(f(o).e("suffix"))},[Pe(l.$slots,"suffix",{},()=>[te("span",null,et(l.suffix),1)])],2)):Ie("v-if",!0)],2)],2))}});var hRe=at(fRe,[["__file","statistic.vue"]]);const Q5=Kt(hRe),pRe=it({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Se([Number,Object]),default:0},valueStyle:{type:Se([String,Object,Array])}}),mRe={finish:()=>!0,[pr]:e=>xt(e)},vRe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],aU=e=>xt(e)?new Date(e).getTime():e.valueOf(),sU=(e,t)=>{let r=e;const o=/\[([^\]]*)]/g;return vRe.reduce((l,[c,d])=>{const h=new RegExp(`${c}+(?![^\\[\\]]*\\])`,"g");if(h.test(l)){const m=Math.floor(r/d);return r-=m*d,l.replace(h,g=>String(m).padStart(g.length,"0"))}return l},t).replace(o,"$1")},gRe=he({name:"ElCountdown"}),yRe=he({...gRe,props:pRe,emits:mRe,setup(e,{expose:t,emit:r}){const o=e;let a;const l=q(0),c=D(()=>sU(l.value,o.format)),d=g=>sU(g,o.format),h=()=>{a&&(yd(a),a=void 0)},m=()=>{const g=aU(o.value),v=()=>{let _=g-Date.now();r("change",_),_<=0?(_=0,h(),r("finish")):a=Mc(v),l.value=_};a=Mc(v)};return Zt(()=>{l.value=aU(o.value)-Date.now(),Ge(()=>[o.value,o.format],()=>{h(),m()},{immediate:!0})}),ur(()=>{h()}),t({displayValue:c}),(g,v)=>(F(),Ve(f(Q5),{value:l.value,title:g.title,prefix:g.prefix,suffix:g.suffix,"value-style":g.valueStyle,formatter:d},Ua({_:2},[fn(g.$slots,(_,S)=>({name:S,fn:ye(()=>[Pe(g.$slots,S)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var _Re=at(yRe,[["__file","countdown.vue"]]);const bRe=Kt(_Re),SRe=it({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),ERe={[pr]:(e,t)=>[e,t].every(xt)},TRe=he({name:"ElSteps"}),CRe=he({...TRe,props:SRe,emits:ERe,setup(e,{emit:t}){const r=e,o=Je("steps"),{children:a,addChild:l,removeChild:c}=jR(Qt(),"ElStep");return Ge(a,()=>{a.value.forEach((d,h)=>{d.setIndex(h)})}),pn("ElSteps",{props:r,steps:a,addStep:l,removeStep:c}),Ge(()=>r.active,(d,h)=>{t(pr,d,h)}),(d,h)=>(F(),Q("div",{class:B([f(o).b(),f(o).m(d.simple?"simple":d.direction)])},[Pe(d.$slots,"default")],2))}});var wRe=at(CRe,[["__file","steps.vue"]]);const IRe=it({title:{type:String,default:""},icon:{type:ir},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),kRe=he({name:"ElStep"}),RRe=he({...kRe,props:IRe,setup(e){const t=e,r=Je("step"),o=q(-1),a=q({}),l=q(""),c=pt("ElSteps"),d=Qt();Zt(()=>{Ge([()=>c.props.active,()=>c.props.processStatus,()=>c.props.finishStatus],([O])=>{k(O)},{immediate:!0})}),ur(()=>{c.removeStep(N.uid)});const h=D(()=>t.status||l.value),m=D(()=>{const O=c.steps.value[o.value-1];return O?O.currentStatus:"wait"}),g=D(()=>c.props.alignCenter),v=D(()=>c.props.direction==="vertical"),_=D(()=>c.props.simple),S=D(()=>c.steps.value.length),T=D(()=>{var O;return((O=c.steps.value[S.value-1])==null?void 0:O.uid)===(d==null?void 0:d.uid)}),b=D(()=>_.value?"":c.props.space),I=D(()=>[r.b(),r.is(_.value?"simple":c.props.direction),r.is("flex",T.value&&!b.value&&!g.value),r.is("center",g.value&&!v.value&&!_.value)]),C=D(()=>{const O={flexBasis:xt(b.value)?`${b.value}px`:b.value?b.value:`${100/(S.value-(g.value?0:1))}%`};return v.value||T.value&&(O.maxWidth=`${100/S.value}%`),O}),P=O=>{o.value=O},R=O=>{const $=O==="wait",L={transitionDelay:`${$?"-":""}${150*o.value}ms`},M=O===c.props.processStatus||$?0:100;L.borderWidth=M&&!_.value?"1px":0,L[c.props.direction==="vertical"?"height":"width"]=`${M}%`,a.value=L},k=O=>{O>o.value?l.value=c.props.finishStatus:O===o.value&&m.value!=="error"?l.value=c.props.processStatus:l.value="wait";const $=c.steps.value[o.value-1];$&&$.calcProgress(l.value)},N=Un({uid:d.uid,currentStatus:h,setIndex:P,calcProgress:R});return c.addStep(N),(O,$)=>(F(),Q("div",{style:kt(f(C)),class:B(f(I))},[Ie(" icon & line "),te("div",{class:B([f(r).e("head"),f(r).is(f(h))])},[f(_)?Ie("v-if",!0):(F(),Q("div",{key:0,class:B(f(r).e("line"))},[te("i",{class:B(f(r).e("line-inner")),style:kt(a.value)},null,6)],2)),te("div",{class:B([f(r).e("icon"),f(r).is(O.icon||O.$slots.icon?"icon":"text")])},[Pe(O.$slots,"icon",{},()=>[O.icon?(F(),Ve(f(St),{key:0,class:B(f(r).e("icon-inner"))},{default:ye(()=>[(F(),Ve(ln(O.icon)))]),_:1},8,["class"])):f(h)==="success"?(F(),Ve(f(St),{key:1,class:B([f(r).e("icon-inner"),f(r).is("status")])},{default:ye(()=>[se(f(fg))]),_:1},8,["class"])):f(h)==="error"?(F(),Ve(f(St),{key:2,class:B([f(r).e("icon-inner"),f(r).is("status")])},{default:ye(()=>[se(f(Ba))]),_:1},8,["class"])):f(_)?Ie("v-if",!0):(F(),Q("div",{key:3,class:B(f(r).e("icon-inner"))},et(o.value+1),3))])],2)],2),Ie(" title & description "),te("div",{class:B(f(r).e("main"))},[te("div",{class:B([f(r).e("title"),f(r).is(f(h))])},[Pe(O.$slots,"title",{},()=>[Jt(et(O.title),1)])],2),f(_)?(F(),Q("div",{key:0,class:B(f(r).e("arrow"))},null,2)):(F(),Q("div",{key:1,class:B([f(r).e("description"),f(r).is(f(h))])},[Pe(O.$slots,"description",{},()=>[Jt(et(O.description),1)])],2))],2)],6))}});var Z5=at(RRe,[["__file","item.vue"]]);const ARe=Kt(wRe,{Step:Z5}),ORe=Tr(Z5),NRe=it({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Z8},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:ir},activeActionIcon:{type:ir},activeIcon:{type:ir},inactiveIcon:{type:ir},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Se(Function)},id:String,tabindex:{type:[String,Number]},...ko(["ariaLabel"])}),PRe={[tn]:e=>Vr(e)||Mt(e)||xt(e),[pr]:e=>Vr(e)||Mt(e)||xt(e),[si]:e=>Vr(e)||Mt(e)||xt(e)},ej="ElSwitch",DRe=he({name:ej}),LRe=he({...DRe,props:NRe,emits:PRe,setup(e,{expose:t,emit:r}){const o=e,{formItem:a}=Go(),l=Jr(),c=Je("switch"),{inputId:d}=qa(o,{formItemContext:a}),h=ui(D(()=>o.loading)),m=q(o.modelValue!==!1),g=q(),v=q(),_=D(()=>[c.b(),c.m(l.value),c.is("disabled",h.value),c.is("checked",C.value)]),S=D(()=>[c.e("label"),c.em("label","left"),c.is("active",!C.value)]),T=D(()=>[c.e("label"),c.em("label","right"),c.is("active",C.value)]),b=D(()=>({width:Or(o.width)}));Ge(()=>o.modelValue,()=>{m.value=!0});const I=D(()=>m.value?o.modelValue:!1),C=D(()=>I.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(I.value)||(r(tn,o.inactiveValue),r(pr,o.inactiveValue),r(si,o.inactiveValue)),Ge(C,N=>{var O;g.value.checked=N,o.validateEvent&&((O=a==null?void 0:a.validate)==null||O.call(a,"change").catch($=>void 0))});const P=()=>{const N=C.value?o.inactiveValue:o.activeValue;r(tn,N),r(pr,N),r(si,N),wt(()=>{g.value.checked=C.value})},R=()=>{if(h.value)return;const{beforeChange:N}=o;if(!N){P();return}const O=N();[Ev(O),Vr(O)].includes(!0)||to(ej,"beforeChange must return type `Promise<boolean>` or `boolean`"),Ev(O)?O.then(L=>{L&&P()}).catch(L=>{}):O&&P()},k=()=>{var N,O;(O=(N=g.value)==null?void 0:N.focus)==null||O.call(N)};return Zt(()=>{g.value.checked=C.value}),t({focus:k,checked:C}),(N,O)=>(F(),Q("div",{class:B(f(_)),onClick:Vt(R,["prevent"])},[te("input",{id:f(d),ref_key:"input",ref:g,class:B(f(c).e("input")),type:"checkbox",role:"switch","aria-checked":f(C),"aria-disabled":f(h),"aria-label":N.ariaLabel,name:N.name,"true-value":N.activeValue,"false-value":N.inactiveValue,disabled:f(h),tabindex:N.tabindex,onChange:P,onKeydown:or(R,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!N.inlinePrompt&&(N.inactiveIcon||N.inactiveText)?(F(),Q("span",{key:0,class:B(f(S))},[N.inactiveIcon?(F(),Ve(f(St),{key:0},{default:ye(()=>[(F(),Ve(ln(N.inactiveIcon)))]),_:1})):Ie("v-if",!0),!N.inactiveIcon&&N.inactiveText?(F(),Q("span",{key:1,"aria-hidden":f(C)},et(N.inactiveText),9,["aria-hidden"])):Ie("v-if",!0)],2)):Ie("v-if",!0),te("span",{ref_key:"core",ref:v,class:B(f(c).e("core")),style:kt(f(b))},[N.inlinePrompt?(F(),Q("div",{key:0,class:B(f(c).e("inner"))},[N.activeIcon||N.inactiveIcon?(F(),Ve(f(St),{key:0,class:B(f(c).is("icon"))},{default:ye(()=>[(F(),Ve(ln(f(C)?N.activeIcon:N.inactiveIcon)))]),_:1},8,["class"])):N.activeText||N.inactiveText?(F(),Q("span",{key:1,class:B(f(c).is("text")),"aria-hidden":!f(C)},et(f(C)?N.activeText:N.inactiveText),11,["aria-hidden"])):Ie("v-if",!0)],2)):Ie("v-if",!0),te("div",{class:B(f(c).e("action"))},[N.loading?(F(),Ve(f(St),{key:0,class:B(f(c).is("loading"))},{default:ye(()=>[se(f(Ts))]),_:1},8,["class"])):f(C)?Pe(N.$slots,"active-action",{key:1},()=>[N.activeActionIcon?(F(),Ve(f(St),{key:0},{default:ye(()=>[(F(),Ve(ln(N.activeActionIcon)))]),_:1})):Ie("v-if",!0)]):f(C)?Ie("v-if",!0):Pe(N.$slots,"inactive-action",{key:2},()=>[N.inactiveActionIcon?(F(),Ve(f(St),{key:0},{default:ye(()=>[(F(),Ve(ln(N.inactiveActionIcon)))]),_:1})):Ie("v-if",!0)])],2)],6),!N.inlinePrompt&&(N.activeIcon||N.activeText)?(F(),Q("span",{key:1,class:B(f(T))},[N.activeIcon?(F(),Ve(f(St),{key:0},{default:ye(()=>[(F(),Ve(ln(N.activeIcon)))]),_:1})):Ie("v-if",!0),!N.activeIcon&&N.activeText?(F(),Q("span",{key:1,"aria-hidden":!f(C)},et(N.activeText),9,["aria-hidden"])):Ie("v-if",!0)],2)):Ie("v-if",!0)],10,["onClick"]))}});var MRe=at(LRe,[["__file","switch.vue"]]);const xRe=Kt(MRe),EI=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},VRe=function(e,t,r,o,a){if(!t&&!o&&(!a||Array.isArray(a)&&!a.length))return e;typeof r=="string"?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const l=o?null:function(d,h){return a?(Array.isArray(a)||(a=[a]),a.map(m=>typeof m=="string"?Mr(d,m):m(d,h,e))):(t!=="$key"&&nn(d)&&"$value"in d&&(d=d.$value),[nn(d)?Mr(d,t):d])},c=function(d,h){if(o)return o(d.value,h.value);for(let m=0,g=d.key.length;m<g;m++){if(d.key[m]<h.key[m])return-1;if(d.key[m]>h.key[m])return 1}return 0};return e.map((d,h)=>({value:d,index:h,key:l?l(d,h):null})).sort((d,h)=>{let m=c(d,h);return m||(m=d.index-h.index),m*+r}).map(d=>d.value)},tj=function(e,t){let r=null;return e.columns.forEach(o=>{o.id===t&&(r=o)}),r},FRe=function(e,t){let r=null;for(let o=0;o<e.columns.length;o++){const a=e.columns[o];if(a.columnKey===t){r=a;break}}return r||to("ElTable",`No column matching with column-key: ${t}`),r},lU=function(e,t,r){const o=(t.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return o?tj(e,o[0]):null},zo=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof t=="string"){if(!t.includes("."))return`${e[t]}`;const r=t.split(".");let o=e;for(const a of r)o=o[a];return`${o}`}else if(typeof t=="function")return t.call(null,e)},nd=function(e,t){const r={};return(e||[]).forEach((o,a)=>{r[zo(o,t)]={row:o,index:a}}),r};function $Re(e,t){const r={};let o;for(o in e)r[o]=e[o];for(o in t)if(wn(t,o)){const a=t[o];typeof a!="undefined"&&(r[o]=a)}return r}function gA(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function nj(e){return e===""||e!==void 0&&(e=gA(e),Number.isNaN(e)&&(e=80)),e}function URe(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function BRe(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...o)=>t(r(...o)))}function d0(e,t,r,o,a,l){let c=l!=null?l:0,d=!1;const h=e.indexOf(t),m=h!==-1,g=a==null?void 0:a.call(null,t,l),v=S=>{S==="add"?e.push(t):e.splice(h,1),d=!0},_=S=>{let T=0;const b=(o==null?void 0:o.children)&&S[o.children];return b&&ht(b)&&(T+=b.length,b.forEach(I=>{T+=_(I)})),T};return(!a||g)&&(Vr(r)?r&&!m?v("add"):!r&&m&&v("remove"):v(m?"remove":"add")),!(o!=null&&o.checkStrictly)&&(o==null?void 0:o.children)&&ht(t[o.children])&&t[o.children].forEach(S=>{d0(e,S,r!=null?r:!m,o,a,c+1),c+=_(S)+1}),d}function HRe(e,t,r="children",o="hasChildren"){const a=c=>!(Array.isArray(c)&&c.length);function l(c,d,h){t(c,d,h),d.forEach(m=>{if(m[o]){t(m,null,h+1);return}const g=m[r];a(g)||l(m,g,h+1)})}e.forEach(c=>{if(c[o]){t(c,null,0);return}const d=c[r];a(d)||l(c,d,0)})}let sa=null;function jRe(e,t,r,o){if((sa==null?void 0:sa.trigger)===r)return;sa==null||sa();const a=o==null?void 0:o.refs.tableWrapper,l=a==null?void 0:a.dataset.prefix,c={strategy:"fixed",...e.popperOptions},d=se(xo,{content:t,virtualTriggering:!0,virtualRef:r,appendTo:a,placement:"top",transition:"none",offset:0,hideAfter:0,...e,popperOptions:c,onHide:()=>{sa==null||sa()}});d.appContext={...o.appContext,...o};const h=document.createElement("div");Dc(d,h),d.component.exposed.onOpen();const m=a==null?void 0:a.querySelector(`.${l}-scrollbar__wrap`);sa=()=>{Dc(null,h),m==null||m.removeEventListener("scroll",sa),sa=null},sa.trigger=r,m==null||m.addEventListener("scroll",sa)}function rj(e){return e.children?Xfe(e.children,rj):[e]}function cU(e,t){return e+t.colSpan}const oj=(e,t,r,o)=>{let a=0,l=e;const c=r.states.columns.value;if(o){const h=rj(o[e]);a=c.slice(0,c.indexOf(h[0])).reduce(cU,0),l=a+h.reduce(cU,0)-1}else a=e;let d;switch(t){case"left":l<r.states.fixedLeafColumnsLength.value&&(d="left");break;case"right":a>=c.length-r.states.rightFixedLeafColumnsLength.value&&(d="right");break;default:l<r.states.fixedLeafColumnsLength.value?d="left":a>=c.length-r.states.rightFixedLeafColumnsLength.value&&(d="right")}return d?{direction:d,start:a,after:l}:{}},yA=(e,t,r,o,a,l=0)=>{const c=[],{direction:d,start:h,after:m}=oj(t,r,o,a);if(d){const g=d==="left";c.push(`${e}-fixed-column--${d}`),g&&m+l===o.states.fixedLeafColumnsLength.value-1?c.push("is-last-column"):!g&&h-l===o.states.columns.value.length-o.states.rightFixedLeafColumnsLength.value&&c.push("is-first-column")}return c};function uU(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const _A=(e,t,r,o)=>{const{direction:a,start:l=0,after:c=0}=oj(e,t,r,o);if(!a)return;const d={},h=a==="left",m=r.states.columns.value;return h?d.left=m.slice(0,l).reduce(uU,0):d.right=m.slice(c+1).reverse().reduce(uU,0),d},Ph=(e,t)=>{!e||Number.isNaN(e[t])||(e[t]=`${e[t]}px`)};function WRe(e){const t=Qt(),r=q(!1),o=q([]);return{updateExpandRows:()=>{const h=e.data.value||[],m=e.rowKey.value;if(r.value)o.value=h.slice();else if(m){const g=nd(o.value,m);o.value=h.reduce((v,_)=>{const S=zo(_,m);return g[S]&&v.push(_),v},[])}else o.value=[]},toggleRowExpansion:(h,m)=>{d0(o.value,h,m)&&t.emit("expand-change",h,o.value.slice())},setExpandRowKeys:h=>{t.store.assertRowKey();const m=e.data.value||[],g=e.rowKey.value,v=nd(m,g);o.value=h.reduce((_,S)=>{const T=v[S];return T&&_.push(T.row),_},[])},isRowExpanded:h=>{const m=e.rowKey.value;return m?!!nd(o.value,m)[zo(h,m)]:o.value.includes(h)},states:{expandRows:o,defaultExpandAll:r}}}function zRe(e){const t=Qt(),r=q(null),o=q(null),a=m=>{t.store.assertRowKey(),r.value=m,c(m)},l=()=>{r.value=null},c=m=>{const{data:g,rowKey:v}=e;let _=null;v.value&&(_=(f(g)||[]).find(S=>zo(S,v.value)===m)),o.value=_,t.emit("current-change",o.value,null)};return{setCurrentRowKey:a,restoreCurrentRowKey:l,setCurrentRowByKey:c,updateCurrentRow:m=>{const g=o.value;if(m&&m!==g){o.value=m,t.emit("current-change",o.value,g);return}!m&&g&&(o.value=null,t.emit("current-change",null,g))},updateCurrentRowData:()=>{const m=e.rowKey.value,g=e.data.value||[],v=o.value;if(!g.includes(v)&&v){if(m){const _=zo(v,m);c(_)}else o.value=null;o.value===null&&t.emit("current-change",null,v)}else r.value&&(c(r.value),l())},states:{_currentRowKey:r,currentRow:o}}}function KRe(e){const t=q([]),r=q({}),o=q(16),a=q(!1),l=q({}),c=q("hasChildren"),d=q("children"),h=q(!1),m=Qt(),g=D(()=>{if(!e.rowKey.value)return{};const P=e.data.value||[];return _(P)}),v=D(()=>{const P=e.rowKey.value,R=Object.keys(l.value),k={};return R.length&&R.forEach(N=>{if(l.value[N].length){const O={children:[]};l.value[N].forEach($=>{const L=zo($,P);O.children.push(L),$[c.value]&&!k[L]&&(k[L]={children:[]})}),k[N]=O}}),k}),_=P=>{const R=e.rowKey.value,k={};return HRe(P,(N,O,$)=>{const L=zo(N,R);Array.isArray(O)?k[L]={children:O.map(M=>zo(M,R)),level:$}:a.value&&(k[L]={children:[],lazy:!0,level:$})},d.value,c.value),k},S=(P=!1,R=(k=>(k=m.store)==null?void 0:k.states.defaultExpandAll.value)())=>{var k;const N=g.value,O=v.value,$=Object.keys(N),L={};if($.length){const M=f(r),U=[],j=(re,ae)=>{if(P)return t.value?R||t.value.includes(ae):!!(R||(re==null?void 0:re.expanded));{const ee=R||t.value&&t.value.includes(ae);return!!((re==null?void 0:re.expanded)||ee)}};$.forEach(re=>{const ae=M[re],ee={...N[re]};if(ee.expanded=j(ae,re),ee.lazy){const{loaded:G=!1,loading:Z=!1}=ae||{};ee.loaded=!!G,ee.loading=!!Z,U.push(re)}L[re]=ee});const W=Object.keys(O);a.value&&W.length&&U.length&&W.forEach(re=>{const ae=M[re],ee=O[re].children;if(U.includes(re)){if(L[re].children.length!==0)throw new Error("[ElTable]children must be an empty array.");L[re].children=ee}else{const{loaded:G=!1,loading:Z=!1}=ae||{};L[re]={lazy:!0,loaded:!!G,loading:!!Z,expanded:j(ae,re),children:ee,level:""}}})}r.value=L,(k=m.store)==null||k.updateTableScrollY()};Ge(()=>t.value,()=>{S(!0)}),Ge(()=>g.value,()=>{S()}),Ge(()=>v.value,()=>{S()});const T=P=>{t.value=P,S()},b=(P,R)=>{m.store.assertRowKey();const k=e.rowKey.value,N=zo(P,k),O=N&&r.value[N];if(N&&O&&"expanded"in O){const $=O.expanded;R=typeof R=="undefined"?!O.expanded:R,r.value[N].expanded=R,$!==R&&m.emit("expand-change",P,R),m.store.updateTableScrollY()}},I=P=>{m.store.assertRowKey();const R=e.rowKey.value,k=zo(P,R),N=r.value[k];a.value&&N&&"loaded"in N&&!N.loaded?C(P,k,N):b(P,void 0)},C=(P,R,k)=>{const{load:N}=m.props;N&&!r.value[R].loaded&&(r.value[R].loading=!0,N(P,k,O=>{if(!Array.isArray(O))throw new TypeError("[ElTable] data must be an array");r.value[R].loading=!1,r.value[R].loaded=!0,r.value[R].expanded=!0,O.length&&(l.value[R]=O),m.emit("expand-change",P,!0)}))};return{loadData:C,loadOrToggle:I,toggleTreeExpansion:b,updateTreeExpandKeys:T,updateTreeData:S,normalize:_,states:{expandRowKeys:t,treeData:r,indent:o,lazy:a,lazyTreeNodeMap:l,lazyColumnIdentifier:c,childrenColumnName:d,checkStrictly:h}}}const GRe=(e,t)=>{const r=t.sortingColumn;return!r||typeof r.sortable=="string"?e:VRe(e,t.sortProp,t.sortOrder,r.sortMethod,r.sortBy)},Db=e=>{const t=[];return e.forEach(r=>{r.children&&r.children.length>0?t.push.apply(t,Db(r.children)):t.push(r)}),t};function qRe(){var e;const t=Qt(),{size:r}=So((e=t.proxy)==null?void 0:e.$props),o=q(null),a=q([]),l=q([]),c=q(!1),d=q([]),h=q([]),m=q([]),g=q([]),v=q([]),_=q([]),S=q([]),T=q([]),b=[],I=q(0),C=q(0),P=q(0),R=q(!1),k=q([]),N=q(!1),O=q(!1),$=q(null),L=q({}),M=q(null),U=q(null),j=q(null),W=q(null),re=q(null);Ge(a,()=>t.state&&Z(!1),{deep:!0});const ae=()=>{if(!o.value)throw new Error("[ElTable] prop row-key is required")},ee=Et=>{var Ut;(Ut=Et.children)==null||Ut.forEach(He=>{He.fixed=Et.fixed,ee(He)})},G=()=>{d.value.forEach(we=>{ee(we)}),g.value=d.value.filter(we=>we.fixed===!0||we.fixed==="left"),v.value=d.value.filter(we=>we.fixed==="right"),g.value.length>0&&d.value[0]&&d.value[0].type==="selection"&&!d.value[0].fixed&&(d.value[0].fixed=!0,g.value.unshift(d.value[0]));const Et=d.value.filter(we=>!we.fixed);h.value=[].concat(g.value).concat(Et).concat(v.value);const Ut=Db(Et),He=Db(g.value),vt=Db(v.value);I.value=Ut.length,C.value=He.length,P.value=vt.length,m.value=[].concat(He).concat(Ut).concat(vt),c.value=g.value.length>0||v.value.length>0},Z=(Et,Ut=!1)=>{Et&&G(),Ut?t.state.doLayout():t.state.debouncedUpdateLayout()},X=Et=>k.value.includes(Et),H=()=>{R.value=!1;const Et=k.value;k.value=[],Et.length&&t.emit("selection-change",[])},J=()=>{let Et;if(o.value){Et=[];const Ut=nd(k.value,o.value),He=nd(a.value,o.value);for(const vt in Ut)wn(Ut,vt)&&!He[vt]&&Et.push(Ut[vt].row)}else Et=k.value.filter(Ut=>!a.value.includes(Ut));if(Et.length){const Ut=k.value.filter(He=>!Et.includes(He));k.value=Ut,t.emit("selection-change",Ut.slice())}},fe=()=>(k.value||[]).slice(),ge=(Et,Ut,He=!0)=>{var vt,we,Ye,nt;const jt={children:(we=(vt=t==null?void 0:t.store)==null?void 0:vt.states)==null?void 0:we.childrenColumnName.value,checkStrictly:(nt=(Ye=t==null?void 0:t.store)==null?void 0:Ye.states)==null?void 0:nt.checkStrictly.value};if(d0(k.value,Et,Ut,jt,$.value)){const Me=(k.value||[]).slice();He&&t.emit("select",Me,Et),t.emit("selection-change",Me)}},me=()=>{var Et,Ut;const He=O.value?!R.value:!(R.value||k.value.length);R.value=He;let vt=!1,we=0;const Ye=(Ut=(Et=t==null?void 0:t.store)==null?void 0:Et.states)==null?void 0:Ut.rowKey.value,{childrenColumnName:nt}=t.store.states,jt={children:nt.value,checkStrictly:!1};a.value.forEach((Dt,Me)=>{const ft=Me+we;d0(k.value,Dt,He,jt,$.value,ft)&&(vt=!0),we+=$e(zo(Dt,Ye))}),vt&&t.emit("selection-change",k.value?k.value.slice():[]),t.emit("select-all",(k.value||[]).slice())},Ee=()=>{const Et=nd(k.value,o.value);a.value.forEach(Ut=>{const He=zo(Ut,o.value),vt=Et[He];vt&&(k.value[vt.index]=Ut)})},Fe=()=>{var Et;if(((Et=a.value)==null?void 0:Et.length)===0){R.value=!1;return}const{childrenColumnName:Ut}=t.store.states,He=o.value?nd(k.value,o.value):void 0;let vt=0,we=0;const Ye=Dt=>He?!!He[zo(Dt,o.value)]:k.value.includes(Dt),nt=Dt=>{var Me;for(const ft of Dt){const In=$.value&&$.value.call(null,ft,vt);if(Ye(ft))we++;else if(!$.value||In)return!1;if(vt++,((Me=ft[Ut.value])==null?void 0:Me.length)&&!nt(ft[Ut.value]))return!1}return!0},jt=nt(a.value||[]);R.value=we===0?!1:jt},$e=Et=>{var Ut;if(!t||!t.store)return 0;const{treeData:He}=t.store.states;let vt=0;const we=(Ut=He.value[Et])==null?void 0:Ut.children;return we&&(vt+=we.length,we.forEach(Ye=>{vt+=$e(Ye)})),vt},de=(Et,Ut)=>{Array.isArray(Et)||(Et=[Et]);const He={};return Et.forEach(vt=>{L.value[vt.id]=Ut,He[vt.columnKey||vt.id]=Ut}),He},Le=(Et,Ut,He)=>{U.value&&U.value!==Et&&(U.value.order=null),U.value=Et,j.value=Ut,W.value=He},Te=()=>{let Et=f(l);Object.keys(L.value).forEach(Ut=>{const He=L.value[Ut];if(!He||He.length===0)return;const vt=tj({columns:m.value},Ut);vt&&vt.filterMethod&&(Et=Et.filter(we=>He.some(Ye=>vt.filterMethod.call(null,Ye,we,vt))))}),M.value=Et},Be=()=>{a.value=GRe(M.value,{sortingColumn:U.value,sortProp:j.value,sortOrder:W.value})},be=(Et=void 0)=>{Et&&Et.filter||Te(),Be()},We=Et=>{const{tableHeaderRef:Ut}=t.refs;if(!Ut)return;const He=Object.assign({},Ut.filterPanels),vt=Object.keys(He);if(!!vt.length)if(typeof Et=="string"&&(Et=[Et]),Array.isArray(Et)){const we=Et.map(Ye=>FRe({columns:m.value},Ye));vt.forEach(Ye=>{const nt=we.find(jt=>jt.id===Ye);nt&&(nt.filteredValue=[])}),t.store.commit("filterChange",{column:we,values:[],silent:!0,multi:!0})}else vt.forEach(we=>{const Ye=m.value.find(nt=>nt.id===we);Ye&&(Ye.filteredValue=[])}),L.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},ce=()=>{!U.value||(Le(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:ie,toggleRowExpansion:De,updateExpandRows:tt,states:xe,isRowExpanded:ze}=WRe({data:a,rowKey:o}),{updateTreeExpandKeys:ot,toggleTreeExpansion:le,updateTreeData:pe,loadOrToggle:Re,states:Ae}=KRe({data:a,rowKey:o}),{updateCurrentRowData:qe,updateCurrentRow:rt,setCurrentRowKey:Ue,states:Xe}=zRe({data:a,rowKey:o});return{assertRowKey:ae,updateColumns:G,scheduleLayout:Z,isSelected:X,clearSelection:H,cleanSelection:J,getSelectionRows:fe,toggleRowSelection:ge,_toggleAllSelection:me,toggleAllSelection:null,updateSelectionByRowKey:Ee,updateAllSelected:Fe,updateFilters:de,updateCurrentRow:rt,updateSort:Le,execFilter:Te,execSort:Be,execQuery:be,clearFilter:We,clearSort:ce,toggleRowExpansion:De,setExpandRowKeysAdapter:Et=>{ie(Et),ot(Et)},setCurrentRowKey:Ue,toggleRowExpansionAdapter:(Et,Ut)=>{m.value.some(({type:vt})=>vt==="expand")?De(Et,Ut):le(Et,Ut)},isRowExpanded:ze,updateExpandRows:tt,updateCurrentRowData:qe,loadOrToggle:Re,updateTreeData:pe,states:{tableSize:r,rowKey:o,data:a,_data:l,isComplex:c,_columns:d,originColumns:h,columns:m,fixedColumns:g,rightFixedColumns:v,leafColumns:_,fixedLeafColumns:S,rightFixedLeafColumns:T,updateOrderFns:b,leafColumnsLength:I,fixedLeafColumnsLength:C,rightFixedLeafColumnsLength:P,isAllSelected:R,selection:k,reserveSelection:N,selectOnIndeterminate:O,selectable:$,filters:L,filteredData:M,sortingColumn:U,sortProp:j,sortOrder:W,hoverRow:re,...xe,...Ae,...Xe}}}function Wk(e,t){return e.map(r=>{var o;return r.id===t.id?t:((o=r.children)!=null&&o.length&&(r.children=Wk(r.children,t)),r)})}function zk(e){e.forEach(t=>{var r,o;t.no=(r=t.getColumnIndex)==null?void 0:r.call(t),(o=t.children)!=null&&o.length&&zk(t.children)}),e.sort((t,r)=>t.no-r.no)}function YRe(){const e=Qt(),t=qRe();return{ns:Je("table"),...t,mutations:{setData(c,d){const h=f(c._data)!==d;c.data.value=d,c._data.value=d,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),f(c.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):h?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(c,d,h,m){const g=f(c._columns);let v=[];h?(h&&!h.children&&(h.children=[]),h.children.push(d),v=Wk(g,h)):(g.push(d),v=g),zk(v),c._columns.value=v,c.updateOrderFns.push(m),d.type==="selection"&&(c.selectable.value=d.selectable,c.reserveSelection.value=d.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(c,d){var h;((h=d.getColumnIndex)==null?void 0:h.call(d))!==d.no&&(zk(c._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(c,d,h,m){const g=f(c._columns)||[];if(h)h.children.splice(h.children.findIndex(_=>_.id===d.id),1),wt(()=>{var _;((_=h.children)==null?void 0:_.length)===0&&delete h.children}),c._columns.value=Wk(g,h);else{const _=g.indexOf(d);_>-1&&(g.splice(_,1),c._columns.value=g)}const v=c.updateOrderFns.indexOf(m);v>-1&&c.updateOrderFns.splice(v,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(c,d){const{prop:h,order:m,init:g}=d;if(h){const v=f(c.columns).find(_=>_.property===h);v&&(v.order=m,e.store.updateSort(v,h,m),e.store.commit("changeSortCondition",{init:g}))}},changeSortCondition(c,d){const{sortingColumn:h,sortProp:m,sortOrder:g}=c,v=f(h),_=f(m),S=f(g);S===null&&(c.sortingColumn.value=null,c.sortProp.value=null);const T={filter:!0};e.store.execQuery(T),(!d||!(d.silent||d.init))&&e.emit("sort-change",{column:v,prop:_,order:S}),e.store.updateTableScrollY()},filterChange(c,d){const{column:h,values:m,silent:g}=d,v=e.store.updateFilters(h,m);e.store.execQuery(),g||e.emit("filter-change",v),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(c,d){e.store.toggleRowSelection(d),e.store.updateAllSelected()},setHoverRow(c,d){c.hoverRow.value=d},setCurrentRow(c,d){e.store.updateCurrentRow(d)}},commit:function(c,...d){const h=e.store.mutations;if(h[c])h[c].apply(e,[e.store.states].concat(d));else throw new Error(`Action not found: ${c}`)},updateTableScrollY:function(){wt(()=>e.layout.updateScrollY.apply(e.layout))}}}const yv={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"},["treeProps.checkStrictly"]:{key:"checkStrictly",default:!1}};function JRe(e,t){if(!e)throw new Error("Table is required.");const r=YRe();return r.toggleAllSelection=Ii(r._toggleAllSelection,10),Object.keys(yv).forEach(o=>{ij(aj(t,o),o,r)}),XRe(r,t),r}function XRe(e,t){Object.keys(yv).forEach(r=>{Ge(()=>aj(t,r),o=>{ij(o,r,e)})})}function ij(e,t,r){let o=e,a=yv[t];typeof yv[t]=="object"&&(a=a.key,o=o||yv[t].default),r.states[a].value=o}function aj(e,t){if(t.includes(".")){const r=t.split(".");let o=e;return r.forEach(a=>{o=o[a]}),o}else return e[t]}class QRe{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=q(null),this.scrollX=q(!1),this.scrollY=q(!1),this.bodyWidth=q(null),this.fixedWidth=q(null),this.rightFixedWidth=q(null),this.gutterWidth=0;for(const r in t)wn(t,r)&&(lr(this[r])?this[r].value=t[r]:this[r]=t[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const r=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(r==null?void 0:r.wrapRef)){let o=!0;const a=this.scrollY.value;return o=r.wrapRef.scrollHeight>r.wrapRef.clientHeight,this.scrollY.value=o,a!==o}return!1}setHeight(t,r="height"){if(!Sn)return;const o=this.table.vnode.el;if(t=URe(t),this.height.value=Number(t),!o&&(t||t===0))return wt(()=>this.setHeight(t,r));typeof t=="number"?(o.style[r]=`${t}px`,this.updateElsHeight()):typeof t=="string"&&(o.style[r]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(o=>{o.isColumnGroup?t.push.apply(t,o.columns):t.push(o)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let r=t;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!Sn)return;const t=this.fit,r=this.table.vnode.el.clientWidth;let o=0;const a=this.getFlattenColumns(),l=a.filter(h=>typeof h.width!="number");if(a.forEach(h=>{typeof h.width=="number"&&h.realWidth&&(h.realWidth=null)}),l.length>0&&t){if(a.forEach(h=>{o+=Number(h.width||h.minWidth||80)}),o<=r){this.scrollX.value=!1;const h=r-o;if(l.length===1)l[0].realWidth=Number(l[0].minWidth||80)+h;else{const m=l.reduce((_,S)=>_+Number(S.minWidth||80),0),g=h/m;let v=0;l.forEach((_,S)=>{if(S===0)return;const T=Math.floor(Number(_.minWidth||80)*g);v+=T,_.realWidth=Number(_.minWidth||80)+T}),l[0].realWidth=Number(l[0].minWidth||80)+h-v}}else this.scrollX.value=!0,l.forEach(h=>{h.realWidth=Number(h.minWidth)});this.bodyWidth.value=Math.max(o,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(h=>{!h.width&&!h.minWidth?h.realWidth=80:h.realWidth=Number(h.width||h.minWidth),o+=h.realWidth}),this.scrollX.value=o>r,this.bodyWidth.value=o;const c=this.store.states.fixedColumns.value;if(c.length>0){let h=0;c.forEach(m=>{h+=Number(m.realWidth||m.width)}),this.fixedWidth.value=h}const d=this.store.states.rightFixedColumns.value;if(d.length>0){let h=0;d.forEach(m=>{h+=Number(m.realWidth||m.width)}),this.rightFixedWidth.value=h}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const r=this.observers.indexOf(t);r!==-1&&this.observers.splice(r,1)}notifyObservers(t){this.observers.forEach(o=>{var a,l;switch(t){case"columns":(a=o.state)==null||a.onColumnsChange(this);break;case"scrollable":(l=o.state)==null||l.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:ZRe}=_a,eAe=he({name:"ElTableFilterPanel",components:{ElCheckbox:_a,ElCheckboxGroup:ZRe,ElScrollbar:Rs,ElTooltip:xo,ElIcon:St,ArrowDown:El,ArrowUp:gR},directives:{ClickOutside:ml},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=Qt(),{t:r}=En(),o=Je("table-filter"),a=t==null?void 0:t.parent;a.filterPanels.value[e.column.id]||(a.filterPanels.value[e.column.id]=t);const l=q(!1),c=q(null),d=D(()=>e.column&&e.column.filters),h=D(()=>e.column.filterClassName?`${o.b()} ${e.column.filterClassName}`:o.b()),m=D({get:()=>{var N;return(((N=e.column)==null?void 0:N.filteredValue)||[])[0]},set:N=>{g.value&&(typeof N!="undefined"&&N!==null?g.value.splice(0,1,N):g.value.splice(0,1))}}),g=D({get(){return e.column?e.column.filteredValue||[]:[]},set(N){e.column&&e.upDataColumn("filteredValue",N)}}),v=D(()=>e.column?e.column.filterMultiple:!0),_=N=>N.value===m.value,S=()=>{l.value=!1},T=N=>{N.stopPropagation(),l.value=!l.value},b=()=>{l.value=!1},I=()=>{R(g.value),S()},C=()=>{g.value=[],R(g.value),S()},P=N=>{m.value=N,R(typeof N!="undefined"&&N!==null?g.value:[]),S()},R=N=>{e.store.commit("filterChange",{column:e.column,values:N}),e.store.updateAllSelected()};Ge(l,N=>{e.column&&e.upDataColumn("filterOpened",N)},{immediate:!0});const k=D(()=>{var N,O;return(O=(N=c.value)==null?void 0:N.popperRef)==null?void 0:O.contentRef});return{tooltipVisible:l,multiple:v,filterClassName:h,filteredValue:g,filterValue:m,filters:d,handleConfirm:I,handleReset:C,handleSelect:P,isActive:_,t:r,ns:o,showFilterPanel:T,hideFilterPanel:b,popperPaneRef:k,tooltip:c}}});function tAe(e,t,r,o,a,l){const c=en("el-checkbox"),d=en("el-checkbox-group"),h=en("el-scrollbar"),m=en("arrow-up"),g=en("arrow-down"),v=en("el-icon"),_=en("el-tooltip"),S=I0("click-outside");return F(),Ve(_,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:""},{content:ye(()=>[e.multiple?(F(),Q("div",{key:0},[te("div",{class:B(e.ns.e("content"))},[se(h,{"wrap-class":e.ns.e("wrap")},{default:ye(()=>[se(d,{modelValue:e.filteredValue,"onUpdate:modelValue":T=>e.filteredValue=T,class:B(e.ns.e("checkbox-group"))},{default:ye(()=>[(F(!0),Q(Tt,null,fn(e.filters,T=>(F(),Ve(c,{key:T.value,value:T.value},{default:ye(()=>[Jt(et(T.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),te("div",{class:B(e.ns.e("bottom"))},[te("button",{class:B({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},et(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),te("button",{type:"button",onClick:e.handleReset},et(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(F(),Q("ul",{key:1,class:B(e.ns.e("list"))},[te("li",{class:B([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:T=>e.handleSelect(null)},et(e.t("el.table.clearFilter")),11,["onClick"]),(F(!0),Q(Tt,null,fn(e.filters,T=>(F(),Q("li",{key:T.value,class:B([e.ns.e("list-item"),e.ns.is("active",e.isActive(T))]),label:T.value,onClick:b=>e.handleSelect(T.value)},et(T.text),11,["label","onClick"]))),128))],2))]),default:ye(()=>[qt((F(),Q("span",{class:B([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[se(v,null,{default:ye(()=>[Pe(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(F(),Ve(m,{key:0})):(F(),Ve(g,{key:1}))])]),_:3})],10,["onClick"])),[[S,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class"])}var nAe=at(eAe,[["render",tAe],["__file","filter-panel.vue"]]);function sj(e){const t=Qt();ig(()=>{r.value.addObserver(t)}),Zt(()=>{o(r.value),a(r.value)}),yl(()=>{o(r.value),a(r.value)}),_l(()=>{r.value.removeObserver(t)});const r=D(()=>{const l=e.layout;if(!l)throw new Error("Can not find table layout.");return l}),o=l=>{var c;const d=((c=e.vnode.el)==null?void 0:c.querySelectorAll("colgroup > col"))||[];if(!d.length)return;const h=l.getFlattenColumns(),m={};h.forEach(g=>{m[g.id]=g});for(let g=0,v=d.length;g<v;g++){const _=d[g],S=_.getAttribute("name"),T=m[S];T&&_.setAttribute("width",T.realWidth||T.width)}},a=l=>{var c,d;const h=((c=e.vnode.el)==null?void 0:c.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let g=0,v=h.length;g<v;g++)h[g].setAttribute("width",l.scrollY.value?l.gutterWidth:"0");const m=((d=e.vnode.el)==null?void 0:d.querySelectorAll("th.gutter"))||[];for(let g=0,v=m.length;g<v;g++){const _=m[g];_.style.width=l.scrollY.value?`${l.gutterWidth}px`:"0",_.style.display=l.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:o,onScrollableChange:a}}const As=Symbol("ElTable");function rAe(e,t){const r=Qt(),o=pt(As),a=b=>{b.stopPropagation()},l=(b,I)=>{!I.filters&&I.sortable?T(b,I,!1):I.filterable&&!I.sortable&&a(b),o==null||o.emit("header-click",I,b)},c=(b,I)=>{o==null||o.emit("header-contextmenu",I,b)},d=q(null),h=q(!1),m=q({}),g=(b,I)=>{if(!!Sn&&!(I.children&&I.children.length>0)&&d.value&&e.border){h.value=!0;const C=o;t("set-drag-visible",!0);const R=(C==null?void 0:C.vnode.el).getBoundingClientRect().left,k=r.vnode.el.querySelector(`th.${I.id}`),N=k.getBoundingClientRect(),O=N.left-R+30;fa(k,"noclick"),m.value={startMouseLeft:b.clientX,startLeft:N.right-R,startColumnLeft:N.left-R,tableLeft:R};const $=C==null?void 0:C.refs.resizeProxy;$.style.left=`${m.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const L=U=>{const j=U.clientX-m.value.startMouseLeft,W=m.value.startLeft+j;$.style.left=`${Math.max(O,W)}px`},M=()=>{if(h.value){const{startColumnLeft:U,startLeft:j}=m.value,re=Number.parseInt($.style.left,10)-U;I.width=I.realWidth=re,C==null||C.emit("header-dragend",I.width,j-U,I,b),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",h.value=!1,d.value=null,m.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",M),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Ko(k,"noclick")},0)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",M)}},v=(b,I)=>{if(I.children&&I.children.length>0)return;const C=b.target;if(!Bi(C))return;const P=C==null?void 0:C.closest("th");if(!(!I||!I.resizable)&&!h.value&&e.border){const R=P.getBoundingClientRect(),k=document.body.style;R.width>12&&R.right-b.pageX<8?(k.cursor="col-resize",Ei(P,"is-sortable")&&(P.style.cursor="col-resize"),d.value=I):h.value||(k.cursor="",Ei(P,"is-sortable")&&(P.style.cursor="pointer"),d.value=null)}},_=()=>{!Sn||(document.body.style.cursor="")},S=({order:b,sortOrders:I})=>{if(b==="")return I[0];const C=I.indexOf(b||null);return I[C>I.length-2?0:C+1]},T=(b,I,C)=>{var P;b.stopPropagation();const R=I.order===C?null:C||S(I),k=(P=b.target)==null?void 0:P.closest("th");if(k&&Ei(k,"noclick")){Ko(k,"noclick");return}if(!I.sortable)return;const N=b.currentTarget;if(["ascending","descending"].some(U=>Ei(N,U)&&!I.sortOrders.includes(U)))return;const O=e.store.states;let $=O.sortProp.value,L;const M=O.sortingColumn.value;(M!==I||M===I&&M.order===null)&&(M&&(M.order=null),O.sortingColumn.value=I,$=I.property),R?L=I.order=R:L=I.order=null,O.sortProp.value=$,O.sortOrder.value=L,o==null||o.store.commit("changeSortCondition")};return{handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:g,handleMouseMove:v,handleMouseOut:_,handleSortClick:T,handleFilterClick:a}}function oAe(e){const t=pt(As),r=Je("table");return{getHeaderRowStyle:d=>{const h=t==null?void 0:t.props.headerRowStyle;return typeof h=="function"?h.call(null,{rowIndex:d}):h},getHeaderRowClass:d=>{const h=[],m=t==null?void 0:t.props.headerRowClassName;return typeof m=="string"?h.push(m):typeof m=="function"&&h.push(m.call(null,{rowIndex:d})),h.join(" ")},getHeaderCellStyle:(d,h,m,g)=>{var v;let _=(v=t==null?void 0:t.props.headerCellStyle)!=null?v:{};typeof _=="function"&&(_=_.call(null,{rowIndex:d,columnIndex:h,row:m,column:g}));const S=_A(h,g.fixed,e.store,m);return Ph(S,"left"),Ph(S,"right"),Object.assign({},_,S)},getHeaderCellClass:(d,h,m,g)=>{const v=yA(r.b(),h,g.fixed,e.store,m),_=[g.id,g.order,g.headerAlign,g.className,g.labelClassName,...v];g.children||_.push("is-leaf"),g.sortable&&_.push("is-sortable");const S=t==null?void 0:t.props.headerCellClassName;return typeof S=="string"?_.push(S):typeof S=="function"&&_.push(S.call(null,{rowIndex:d,columnIndex:h,row:m,column:g})),_.push(r.e("cell")),_.filter(T=>Boolean(T)).join(" ")}}}const lj=e=>{const t=[];return e.forEach(r=>{r.children?(t.push(r),t.push.apply(t,lj(r.children))):t.push(r)}),t},cj=e=>{let t=1;const r=(l,c)=>{if(c&&(l.level=c.level+1,t<l.level&&(t=l.level)),l.children){let d=0;l.children.forEach(h=>{r(h,l),d+=h.colSpan}),l.colSpan=d}else l.colSpan=1};e.forEach(l=>{l.level=1,r(l,void 0)});const o=[];for(let l=0;l<t;l++)o.push([]);return lj(e).forEach(l=>{l.children?(l.rowSpan=1,l.children.forEach(c=>c.isSubColumn=!0)):l.rowSpan=t-l.level+1,o[l.level-1].push(l)}),o};function iAe(e){const t=pt(As),r=D(()=>cj(e.store.states.originColumns.value));return{isGroup:D(()=>{const l=r.value.length>1;return l&&t&&(t.state.isGroup.value=!0),l}),toggleAllSelection:l=>{l.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:r}}var aAe=he({name:"ElTableHeader",components:{ElCheckbox:_a},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const r=Qt(),o=pt(As),a=Je("table"),l=q({}),{onColumnsChange:c,onScrollableChange:d}=sj(o);Zt(async()=>{await wt(),await wt();const{prop:O,order:$}=e.defaultSort;o==null||o.store.commit("sort",{prop:O,order:$,init:!0})});const{handleHeaderClick:h,handleHeaderContextMenu:m,handleMouseDown:g,handleMouseMove:v,handleMouseOut:_,handleSortClick:S,handleFilterClick:T}=rAe(e,t),{getHeaderRowStyle:b,getHeaderRowClass:I,getHeaderCellStyle:C,getHeaderCellClass:P}=oAe(e),{isGroup:R,toggleAllSelection:k,columnRows:N}=iAe(e);return r.state={onColumnsChange:c,onScrollableChange:d},r.filterPanels=l,{ns:a,filterPanels:l,onColumnsChange:c,onScrollableChange:d,columnRows:N,getHeaderRowClass:I,getHeaderRowStyle:b,getHeaderCellClass:P,getHeaderCellStyle:C,handleHeaderClick:h,handleHeaderContextMenu:m,handleMouseDown:g,handleMouseMove:v,handleMouseOut:_,handleSortClick:S,handleFilterClick:T,isGroup:R,toggleAllSelection:k}},render(){const{ns:e,isGroup:t,columnRows:r,getHeaderCellStyle:o,getHeaderCellClass:a,getHeaderRowClass:l,getHeaderRowStyle:c,handleHeaderClick:d,handleHeaderContextMenu:h,handleMouseDown:m,handleMouseMove:g,handleSortClick:v,handleMouseOut:_,store:S,$parent:T}=this;let b=1;return Ot("thead",{class:{[e.is("group")]:t}},r.map((I,C)=>Ot("tr",{class:l(C),key:C,style:c(C)},I.map((P,R)=>(P.rowSpan>b&&(b=P.rowSpan),Ot("th",{class:a(C,R,I,P),colspan:P.colSpan,key:`${P.id}-thead`,rowspan:P.rowSpan,style:o(C,R,I,P),onClick:k=>{k.currentTarget.classList.contains("noclick")||d(k,P)},onContextmenu:k=>h(k,P),onMousedown:k=>m(k,P),onMousemove:k=>g(k,P),onMouseout:_},[Ot("div",{class:["cell",P.filteredValue&&P.filteredValue.length>0?"highlight":""]},[P.renderHeader?P.renderHeader({column:P,$index:R,store:S,_self:T}):P.label,P.sortable&&Ot("span",{onClick:k=>v(k,P),class:"caret-wrapper"},[Ot("i",{onClick:k=>v(k,P,"ascending"),class:"sort-caret ascending"}),Ot("i",{onClick:k=>v(k,P,"descending"),class:"sort-caret descending"})]),P.filterable&&Ot(nAe,{store:S,placement:P.filterPlacement||"bottom-start",column:P,upDataColumn:(k,N)=>{P[k]=N}},{"filter-icon":()=>P.renderFilterIcon?P.renderFilterIcon({filterOpened:P.filterOpened}):null})])]))))))}});function TI(e,t,r=.03){return e-t>r}function sAe(e){const t=pt(As),r=q(""),o=q(Ot("div")),a=(T,b,I)=>{var C;const P=t,R=EI(T);let k;const N=(C=P==null?void 0:P.vnode.el)==null?void 0:C.dataset.prefix;R&&(k=lU({columns:e.store.states.columns.value},R,N),k&&(P==null||P.emit(`cell-${I}`,b,k,R,T))),P==null||P.emit(`row-${I}`,b,k,T)},l=(T,b)=>{a(T,b,"dblclick")},c=(T,b)=>{e.store.commit("setCurrentRow",b),a(T,b,"click")},d=(T,b)=>{a(T,b,"contextmenu")},h=Ii(T=>{e.store.commit("setHoverRow",T)},30),m=Ii(()=>{e.store.commit("setHoverRow",null)},30),g=T=>{const b=window.getComputedStyle(T,null),I=Number.parseInt(b.paddingLeft,10)||0,C=Number.parseInt(b.paddingRight,10)||0,P=Number.parseInt(b.paddingTop,10)||0,R=Number.parseInt(b.paddingBottom,10)||0;return{left:I,right:C,top:P,bottom:R}},v=(T,b,I)=>{let C=b.target.parentNode;for(;T>1&&(C=C==null?void 0:C.nextSibling,!(!C||C.nodeName!=="TR"));)I(C,"hover-row hover-fixed-row"),T--};return{handleDoubleClick:l,handleClick:c,handleContextMenu:d,handleMouseEnter:h,handleMouseLeave:m,handleCellMouseEnter:(T,b,I)=>{var C;const P=t,R=EI(T),k=(C=P==null?void 0:P.vnode.el)==null?void 0:C.dataset.prefix;if(R){const Z=lU({columns:e.store.states.columns.value},R,k);R.rowSpan>1&&v(R.rowSpan,T,fa);const X=P.hoverState={cell:R,column:Z,row:b};P==null||P.emit("cell-mouse-enter",X.row,X.column,X.cell,T)}if(!I)return;const N=T.target.querySelector(".cell");if(!(Ei(N,`${k}-tooltip`)&&N.childNodes.length))return;const O=document.createRange();O.setStart(N,0),O.setEnd(N,N.childNodes.length);const{width:$,height:L}=O.getBoundingClientRect(),{width:M,height:U}=N.getBoundingClientRect(),{top:j,left:W,right:re,bottom:ae}=g(N),ee=W+re,G=j+ae;(TI($+ee,M)||TI(L+G,U)||TI(N.scrollWidth,M))&&jRe(I,R.innerText||R.textContent,R,P)},handleCellMouseLeave:T=>{const b=EI(T);if(!b)return;b.rowSpan>1&&v(b.rowSpan,T,Ko);const I=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",I==null?void 0:I.row,I==null?void 0:I.column,I==null?void 0:I.cell,T)},tooltipContent:r,tooltipTrigger:o}}function lAe(e){const t=pt(As),r=Je("table");return{getRowStyle:(m,g)=>{const v=t==null?void 0:t.props.rowStyle;return typeof v=="function"?v.call(null,{row:m,rowIndex:g}):v||null},getRowClass:(m,g)=>{const v=[r.e("row")];(t==null?void 0:t.props.highlightCurrentRow)&&m===e.store.states.currentRow.value&&v.push("current-row"),e.stripe&&g%2===1&&v.push(r.em("row","striped"));const _=t==null?void 0:t.props.rowClassName;return typeof _=="string"?v.push(_):typeof _=="function"&&v.push(_.call(null,{row:m,rowIndex:g})),v},getCellStyle:(m,g,v,_)=>{const S=t==null?void 0:t.props.cellStyle;let T=S!=null?S:{};typeof S=="function"&&(T=S.call(null,{rowIndex:m,columnIndex:g,row:v,column:_}));const b=_A(g,e==null?void 0:e.fixed,e.store);return Ph(b,"left"),Ph(b,"right"),Object.assign({},T,b)},getCellClass:(m,g,v,_,S)=>{const T=yA(r.b(),g,e==null?void 0:e.fixed,e.store,void 0,S),b=[_.id,_.align,_.className,...T],I=t==null?void 0:t.props.cellClassName;return typeof I=="string"?b.push(I):typeof I=="function"&&b.push(I.call(null,{rowIndex:m,columnIndex:g,row:v,column:_})),b.push(r.e("cell")),b.filter(C=>Boolean(C)).join(" ")},getSpan:(m,g,v,_)=>{let S=1,T=1;const b=t==null?void 0:t.props.spanMethod;if(typeof b=="function"){const I=b({row:m,column:g,rowIndex:v,columnIndex:_});Array.isArray(I)?(S=I[0],T=I[1]):typeof I=="object"&&(S=I.rowspan,T=I.colspan)}return{rowspan:S,colspan:T}},getColspanRealWidth:(m,g,v)=>{if(g<1)return m[v].realWidth;const _=m.map(({realWidth:S,width:T})=>S||T).slice(v,v+g);return Number(_.reduce((S,T)=>Number(S)+Number(T),-1))}}}function cAe(e){const t=pt(As),r=Je("table"),{handleDoubleClick:o,handleClick:a,handleContextMenu:l,handleMouseEnter:c,handleMouseLeave:d,handleCellMouseEnter:h,handleCellMouseLeave:m,tooltipContent:g,tooltipTrigger:v}=sAe(e),{getRowStyle:_,getRowClass:S,getCellStyle:T,getCellClass:b,getSpan:I,getColspanRealWidth:C}=lAe(e),P=D(()=>e.store.states.columns.value.findIndex(({type:$})=>$==="default")),R=($,L)=>{const M=t.props.rowKey;return M?zo($,M):L},k=($,L,M,U=!1)=>{const{tooltipEffect:j,tooltipOptions:W,store:re}=e,{indent:ae,columns:ee}=re.states,G=S($,L);let Z=!0;return M&&(G.push(r.em("row",`level-${M.level}`)),Z=M.display),Ot("tr",{style:[Z?null:{display:"none"},_($,L)],class:G,key:R($,L),onDblclick:H=>o(H,$),onClick:H=>a(H,$),onContextmenu:H=>l(H,$),onMouseenter:()=>c(L),onMouseleave:d},ee.value.map((H,J)=>{const{rowspan:fe,colspan:ge}=I($,H,L,J);if(!fe||!ge)return null;const me=Object.assign({},H);me.realWidth=C(ee.value,ge,J);const Ee={store:e.store,_self:e.context||t,column:me,row:$,$index:L,cellIndex:J,expanded:U};J===P.value&&M&&(Ee.treeNode={indent:M.level*ae.value,level:M.level},typeof M.expanded=="boolean"&&(Ee.treeNode.expanded=M.expanded,"loading"in M&&(Ee.treeNode.loading=M.loading),"noLazyChildren"in M&&(Ee.treeNode.noLazyChildren=M.noLazyChildren)));const Fe=`${R($,L)},${J}`,$e=me.columnKey||me.rawColumnKey||"",de=N(J,H,Ee),Le=H.showOverflowTooltip&&nhe({effect:j},W,H.showOverflowTooltip);return Ot("td",{style:T(L,J,$,H),class:b(L,J,$,H,ge-1),key:`${$e}${Fe}`,rowspan:fe,colspan:ge,onMouseenter:Te=>h(Te,$,Le),onMouseleave:m},[de])}))},N=($,L,M)=>L.renderCell(M);return{wrappedRowRender:($,L)=>{const M=e.store,{isRowExpanded:U,assertRowKey:j}=M,{treeData:W,lazyTreeNodeMap:re,childrenColumnName:ae,rowKey:ee}=M.states,G=M.states.columns.value;if(G.some(({type:X})=>X==="expand")){const X=U($),H=k($,L,void 0,X),J=t.renderExpanded;return X?J?[[H,Ot("tr",{key:`expanded-row__${H.key}`},[Ot("td",{colspan:G.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[J({row:$,$index:L,store:M,expanded:X})])])]]:(console.error("[Element Error]renderExpanded is required."),H):[[H]]}else if(Object.keys(W.value).length){j();const X=zo($,ee.value);let H=W.value[X],J=null;H&&(J={expanded:H.expanded,level:H.level,display:!0},typeof H.lazy=="boolean"&&(typeof H.loaded=="boolean"&&H.loaded&&(J.noLazyChildren=!(H.children&&H.children.length)),J.loading=H.loading));const fe=[k($,L,J)];if(H){let ge=0;const me=(Fe,$e)=>{!(Fe&&Fe.length&&$e)||Fe.forEach(de=>{const Le={display:$e.display&&$e.expanded,level:$e.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Te=zo(de,ee.value);if(Te==null)throw new Error("For nested data item, row-key is required.");if(H={...W.value[Te]},H&&(Le.expanded=H.expanded,H.level=H.level||Le.level,H.display=!!(H.expanded&&Le.display),typeof H.lazy=="boolean"&&(typeof H.loaded=="boolean"&&H.loaded&&(Le.noLazyChildren=!(H.children&&H.children.length)),Le.loading=H.loading)),ge++,fe.push(k(de,L+ge,Le)),H){const Be=re.value[Te]||de[ae.value];me(Be,H)}})};H.display=!0;const Ee=re.value[X]||$[ae.value];me(Ee,H)}return fe}else return k($,L,void 0)},tooltipContent:g,tooltipTrigger:v}}const uAe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var dAe=he({name:"ElTableBody",props:uAe,setup(e){const t=Qt(),r=pt(As),o=Je("table"),{wrappedRowRender:a,tooltipContent:l,tooltipTrigger:c}=cAe(e),{onColumnsChange:d,onScrollableChange:h}=sj(r),m=[];return Ge(e.store.states.hoverRow,(g,v)=>{var _;const S=t==null?void 0:t.vnode.el,T=Array.from((S==null?void 0:S.children)||[]).filter(C=>C==null?void 0:C.classList.contains(`${o.e("row")}`));let b=g;const I=(_=T[b])==null?void 0:_.childNodes;if(I!=null&&I.length){let C=0;Array.from(I).reduce((R,k,N)=>{var O,$;return((O=I[N])==null?void 0:O.colSpan)>1&&(C=($=I[N])==null?void 0:$.colSpan),k.nodeName!=="TD"&&C===0&&R.push(N),C>0&&C--,R},[]).forEach(R=>{var k;for(b=g;b>0;){const N=(k=T[b-1])==null?void 0:k.childNodes;if(N[R]&&N[R].nodeName==="TD"&&N[R].rowSpan>1){fa(N[R],"hover-cell"),m.push(N[R]);break}b--}})}else m.forEach(C=>Ko(C,"hover-cell")),m.length=0;!e.store.states.isComplex.value||!Sn||Mc(()=>{const C=T[v],P=T[g];C&&!C.classList.contains("hover-fixed-row")&&Ko(C,"hover-row"),P&&fa(P,"hover-row")})}),_l(()=>{var g;(g=sa)==null||g()}),{ns:o,onColumnsChange:d,onScrollableChange:h,wrappedRowRender:a,tooltipContent:l,tooltipTrigger:c}},render(){const{wrappedRowRender:e,store:t}=this,r=t.states.data.value||[];return Ot("tbody",{tabIndex:-1},[r.reduce((o,a)=>o.concat(e(a,o.length)),[])])}});function fAe(){const e=pt(As),t=e==null?void 0:e.store,r=D(()=>t.states.fixedLeafColumnsLength.value),o=D(()=>t.states.rightFixedColumns.value.length),a=D(()=>t.states.columns.value.length),l=D(()=>t.states.fixedColumns.value.length),c=D(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:o,columnsCount:a,leftFixedCount:l,rightFixedCount:c,columns:t.states.columns}}function hAe(e){const{columns:t}=fAe(),r=Je("table");return{getCellClasses:(l,c)=>{const d=l[c],h=[r.e("cell"),d.id,d.align,d.labelClassName,...yA(r.b(),c,d.fixed,e.store)];return d.className&&h.push(d.className),d.children||h.push(r.is("leaf")),h},getCellStyles:(l,c)=>{const d=_A(c,l.fixed,e.store);return Ph(d,"left"),Ph(d,"right"),d},columns:t}}var pAe=he({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:r,columns:o}=hAe(e);return{ns:Je("table"),getCellClasses:t,getCellStyles:r,columns:o}},render(){const{columns:e,getCellStyles:t,getCellClasses:r,summaryMethod:o,sumText:a}=this,l=this.store.states.data.value;let c=[];return o?c=o({columns:e,data:l}):e.forEach((d,h)=>{if(h===0){c[h]=a;return}const m=l.map(S=>Number(S[d.property])),g=[];let v=!0;m.forEach(S=>{if(!Number.isNaN(+S)){v=!1;const T=`${S}`.split(".")[1];g.push(T?T.length:0)}});const _=Math.max.apply(null,g);v?c[h]="":c[h]=m.reduce((S,T)=>{const b=Number(T);return Number.isNaN(+b)?S:Number.parseFloat((S+T).toFixed(Math.min(_,20)))},0)}),Ot(Ot("tfoot",[Ot("tr",{},[...e.map((d,h)=>Ot("td",{key:h,colspan:d.colSpan,rowspan:d.rowSpan,class:r(e,h),style:t(d,h)},[Ot("div",{class:["cell",d.labelClassName]},[c[h]])]))])]))}});function mAe(e){return{setCurrentRow:g=>{e.commit("setCurrentRow",g)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(g,v)=>{e.toggleRowSelection(g,v,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:g=>{e.clearFilter(g)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(g,v)=>{e.toggleRowExpansionAdapter(g,v)},clearSort:()=>{e.clearSort()},sort:(g,v)=>{e.commit("sort",{prop:g,order:v})}}}function vAe(e,t,r,o){const a=q(!1),l=q(null),c=q(!1),d=H=>{c.value=H},h=q({width:null,height:null,headerHeight:null}),m=q(!1),g={display:"inline-block",verticalAlign:"middle"},v=q(),_=q(0),S=q(0),T=q(0),b=q(0),I=q(0);Po(()=>{t.setHeight(e.height)}),Po(()=>{t.setMaxHeight(e.maxHeight)}),Ge(()=>[e.currentRowKey,r.states.rowKey],([H,J])=>{!f(J)||!f(H)||r.setCurrentRowKey(`${H}`)},{immediate:!0}),Ge(()=>e.data,H=>{o.store.commit("setData",H)},{immediate:!0,deep:!0}),Po(()=>{e.expandRowKeys&&r.setExpandRowKeysAdapter(e.expandRowKeys)});const C=()=>{o.store.commit("setHoverRow",null),o.hoverState&&(o.hoverState=null)},P=(H,J)=>{const{pixelX:fe,pixelY:ge}=J;Math.abs(fe)>=Math.abs(ge)&&(o.refs.bodyWrapper.scrollLeft+=J.pixelX/5)},R=D(()=>e.height||e.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),k=D(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),N=()=>{R.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(M)};Zt(async()=>{await wt(),r.updateColumns(),U(),requestAnimationFrame(N);const H=o.vnode.el,J=o.refs.headerWrapper;e.flexible&&H&&H.parentElement&&(H.parentElement.style.minWidth="0"),h.value={width:v.value=H.offsetWidth,height:H.offsetHeight,headerHeight:e.showHeader&&J?J.offsetHeight:null},r.states.columns.value.forEach(fe=>{fe.filteredValue&&fe.filteredValue.length&&o.store.commit("filterChange",{column:fe,values:fe.filteredValue,silent:!0})}),o.$ready=!0});const O=(H,J)=>{if(!H)return;const fe=Array.from(H.classList).filter(ge=>!ge.startsWith("is-scrolling-"));fe.push(t.scrollX.value?J:"is-scrolling-none"),H.className=fe.join(" ")},$=H=>{const{tableWrapper:J}=o.refs;O(J,H)},L=H=>{const{tableWrapper:J}=o.refs;return!!(J&&J.classList.contains(H))},M=function(){if(!o.refs.scrollBarRef)return;if(!t.scrollX.value){const $e="is-scrolling-none";L($e)||$($e);return}const H=o.refs.scrollBarRef.wrapRef;if(!H)return;const{scrollLeft:J,offsetWidth:fe,scrollWidth:ge}=H,{headerWrapper:me,footerWrapper:Ee}=o.refs;me&&(me.scrollLeft=J),Ee&&(Ee.scrollLeft=J);const Fe=ge-fe-1;J>=Fe?$("is-scrolling-right"):$(J===0?"is-scrolling-left":"is-scrolling-middle")},U=()=>{!o.refs.scrollBarRef||(o.refs.scrollBarRef.wrapRef&&Zn(o.refs.scrollBarRef.wrapRef,"scroll",M,{passive:!0}),e.fit?Sr(o.vnode.el,j):Zn(window,"resize",j),Sr(o.refs.bodyWrapper,()=>{var H,J;j(),(J=(H=o.refs)==null?void 0:H.scrollBarRef)==null||J.update()}))},j=()=>{var H,J,fe,ge;const me=o.vnode.el;if(!o.$ready||!me)return;let Ee=!1;const{width:Fe,height:$e,headerHeight:de}=h.value,Le=v.value=me.offsetWidth;Fe!==Le&&(Ee=!0);const Te=me.offsetHeight;(e.height||R.value)&&$e!==Te&&(Ee=!0);const Be=e.tableLayout==="fixed"?o.refs.headerWrapper:(H=o.refs.tableHeaderRef)==null?void 0:H.$el;e.showHeader&&(Be==null?void 0:Be.offsetHeight)!==de&&(Ee=!0),_.value=((J=o.refs.tableWrapper)==null?void 0:J.scrollHeight)||0,T.value=(Be==null?void 0:Be.scrollHeight)||0,b.value=((fe=o.refs.footerWrapper)==null?void 0:fe.offsetHeight)||0,I.value=((ge=o.refs.appendWrapper)==null?void 0:ge.offsetHeight)||0,S.value=_.value-T.value-b.value-I.value,Ee&&(h.value={width:Le,height:Te,headerHeight:e.showHeader&&(Be==null?void 0:Be.offsetHeight)||0},N())},W=Jr(),re=D(()=>{const{bodyWidth:H,scrollY:J,gutterWidth:fe}=t;return H.value?`${H.value-(J.value?fe:0)}px`:""}),ae=D(()=>e.maxHeight?"fixed":e.tableLayout),ee=D(()=>{if(e.data&&e.data.length)return null;let H="100%";e.height&&S.value&&(H=`${S.value}px`);const J=v.value;return{width:J?`${J}px`:"",height:H}}),G=D(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),Z=D(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${T.value+b.value}px)`}:{maxHeight:`${e.maxHeight-T.value-b.value}px`}:{});return{isHidden:a,renderExpanded:l,setDragVisible:d,isGroup:m,handleMouseLeave:C,handleHeaderFooterMousewheel:P,tableSize:W,emptyBlockStyle:ee,handleFixedMousewheel:(H,J)=>{const fe=o.refs.bodyWrapper;if(Math.abs(J.spinY)>0){const ge=fe.scrollTop;J.pixelY<0&&ge!==0&&H.preventDefault(),J.pixelY>0&&fe.scrollHeight-fe.clientHeight>ge&&H.preventDefault(),fe.scrollTop+=Math.ceil(J.pixelY/5)}else fe.scrollLeft+=Math.ceil(J.pixelX/5)},resizeProxyVisible:c,bodyWidth:re,resizeState:h,doLayout:N,tableBodyStyles:k,tableLayout:ae,scrollbarViewStyle:g,tableInnerStyle:G,scrollbarStyle:Z}}function gAe(e){const t=q(),r=()=>{const a=e.vnode.el.querySelector(".hidden-columns"),l={childList:!0,subtree:!0},c=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{c.forEach(d=>d())}),t.value.observe(a,l)};Zt(()=>{r()}),_l(()=>{var o;(o=t.value)==null||o.disconnect()})}var yAe={data:{type:Array,default:()=>[]},size:no,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function uj(e){const t=e.tableLayout==="auto";let r=e.columns||[];t&&r.every(a=>a.width===void 0)&&(r=[]);const o=a=>{const l={key:`${e.tableLayout}_${a.id}`,style:{},name:void 0};return t?l.style={width:`${a.width}px`}:l.name=a.id,l};return Ot("colgroup",{},r.map(a=>Ot("col",o(a))))}uj.props=["columns","tableLayout"];const _Ae=()=>{const e=q(),t=(l,c)=>{const d=e.value;d&&d.scrollTo(l,c)},r=(l,c)=>{const d=e.value;d&&xt(c)&&["Top","Left"].includes(l)&&d[`setScroll${l}`](c)};return{scrollBarRef:e,scrollTo:t,setScrollTop:l=>r("Top",l),setScrollLeft:l=>r("Left",l)}};let bAe=1;const SAe=he({name:"ElTable",directives:{Mousewheel:Jbe},components:{TableHeader:aAe,TableBody:dAe,TableFooter:pAe,ElScrollbar:Rs,hColgroup:uj},props:yAe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t}=En(),r=Je("table"),o=Qt();pn(As,o);const a=JRe(o,e);o.store=a;const l=new QRe({store:o.store,table:o,fit:e.fit,showHeader:e.showHeader});o.layout=l;const c=D(()=>(a.states.data.value||[]).length===0),{setCurrentRow:d,getSelectionRows:h,toggleRowSelection:m,clearSelection:g,clearFilter:v,toggleAllSelection:_,toggleRowExpansion:S,clearSort:T,sort:b}=mAe(a),{isHidden:I,renderExpanded:C,setDragVisible:P,isGroup:R,handleMouseLeave:k,handleHeaderFooterMousewheel:N,tableSize:O,emptyBlockStyle:$,handleFixedMousewheel:L,resizeProxyVisible:M,bodyWidth:U,resizeState:j,doLayout:W,tableBodyStyles:re,tableLayout:ae,scrollbarViewStyle:ee,tableInnerStyle:G,scrollbarStyle:Z}=vAe(e,l,a,o),{scrollBarRef:X,scrollTo:H,setScrollLeft:J,setScrollTop:fe}=_Ae(),ge=Ii(W,50),me=`${r.namespace.value}-table_${bAe++}`;o.tableId=me,o.state={isGroup:R,resizeState:j,doLayout:W,debouncedUpdateLayout:ge};const Ee=D(()=>e.sumText||t("el.table.sumText")),Fe=D(()=>e.emptyText||t("el.table.emptyText")),$e=D(()=>cj(a.states.originColumns.value)[0]);return gAe(o),{ns:r,layout:l,store:a,columns:$e,handleHeaderFooterMousewheel:N,handleMouseLeave:k,tableId:me,tableSize:O,isHidden:I,isEmpty:c,renderExpanded:C,resizeProxyVisible:M,resizeState:j,isGroup:R,bodyWidth:U,tableBodyStyles:re,emptyBlockStyle:$,debouncedUpdateLayout:ge,handleFixedMousewheel:L,setCurrentRow:d,getSelectionRows:h,toggleRowSelection:m,clearSelection:g,clearFilter:v,toggleAllSelection:_,toggleRowExpansion:S,clearSort:T,doLayout:W,sort:b,t,setDragVisible:P,context:o,computedSumText:Ee,computedEmptyText:Fe,tableLayout:ae,scrollbarViewStyle:ee,tableInnerStyle:G,scrollbarStyle:Z,scrollBarRef:X,scrollTo:H,setScrollLeft:J,setScrollTop:fe}}});function EAe(e,t,r,o,a,l){const c=en("hColgroup"),d=en("table-header"),h=en("table-body"),m=en("table-footer"),g=en("el-scrollbar"),v=I0("mousewheel");return F(),Q("div",{ref:"tableWrapper",class:B([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:kt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[te("div",{class:B(e.ns.e("inner-wrapper")),style:kt(e.tableInnerStyle)},[te("div",{ref:"hiddenColumns",class:"hidden-columns"},[Pe(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?qt((F(),Q("div",{key:0,ref:"headerWrapper",class:B(e.ns.e("header-wrapper"))},[te("table",{ref:"tableHeader",class:B(e.ns.e("header")),style:kt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[se(c,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),se(d,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[v,e.handleHeaderFooterMousewheel]]):Ie("v-if",!0),te("div",{ref:"bodyWrapper",class:B(e.ns.e("body-wrapper"))},[se(g,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:ye(()=>[te("table",{ref:"tableBody",class:B(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:kt({width:e.bodyWidth,tableLayout:e.tableLayout})},[se(c,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(F(),Ve(d,{key:0,ref:"tableHeaderRef",class:B(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):Ie("v-if",!0),se(h,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(F(),Ve(m,{key:1,class:B(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Ie("v-if",!0)],6),e.isEmpty?(F(),Q("div",{key:0,ref:"emptyBlock",style:kt(e.emptyBlockStyle),class:B(e.ns.e("empty-block"))},[te("span",{class:B(e.ns.e("empty-text"))},[Pe(e.$slots,"empty",{},()=>[Jt(et(e.computedEmptyText),1)])],2)],6)):Ie("v-if",!0),e.$slots.append?(F(),Q("div",{key:1,ref:"appendWrapper",class:B(e.ns.e("append-wrapper"))},[Pe(e.$slots,"append")],2)):Ie("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary&&e.tableLayout==="fixed"?qt((F(),Q("div",{key:1,ref:"footerWrapper",class:B(e.ns.e("footer-wrapper"))},[te("table",{class:B(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:kt(e.tableBodyStyles)},[se(c,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),se(m,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Nn,!e.isEmpty],[v,e.handleHeaderFooterMousewheel]]):Ie("v-if",!0),e.border||e.isGroup?(F(),Q("div",{key:2,class:B(e.ns.e("border-left-patch"))},null,2)):Ie("v-if",!0)],6),qt(te("div",{ref:"resizeProxy",class:B(e.ns.e("column-resize-proxy"))},null,2),[[Nn,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var TAe=at(SAe,[["render",EAe],["__file","table.vue"]]);const CAe={selection:"table-column--selection",expand:"table__expand-column"},wAe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},IAe=e=>CAe[e]||"",kAe={selection:{renderHeader({store:e,column:t}){function r(){return e.states.data.value&&e.states.data.value.length===0}return Ot(_a,{disabled:r(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:r,$index:o}){return Ot(_a,{disabled:t.selectable?!t.selectable.call(null,e,o):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",e)},onClick:a=>a.stopPropagation(),modelValue:r.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let r=t+1;const o=e.index;return typeof o=="number"?r=t+o:typeof o=="function"&&(r=o(t)),Ot("div",{},[r])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:r}){const{ns:o}=t,a=[o.e("expand-icon")];return r&&a.push(o.em("expand-icon","expanded")),Ot("div",{class:a,onClick:function(c){c.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[Ot(St,null,{default:()=>[Ot(ai)]})]})},sortable:!1,resizable:!1}};function RAe({row:e,column:t,$index:r}){var o;const a=t.property,l=a&&wb(e,a).value;return t&&t.formatter?t.formatter(e,t,l,r):((o=l==null?void 0:l.toString)==null?void 0:o.call(l))||""}function AAe({row:e,treeNode:t,store:r},o=!1){const{ns:a}=r;if(!t)return o?[Ot("span",{class:a.e("placeholder")})]:null;const l=[],c=function(d){d.stopPropagation(),!t.loading&&r.loadOrToggle(e)};if(t.indent&&l.push(Ot("span",{class:a.e("indent"),style:{"padding-left":`${t.indent}px`}})),typeof t.expanded=="boolean"&&!t.noLazyChildren){const d=[a.e("expand-icon"),t.expanded?a.em("expand-icon","expanded"):""];let h=ai;t.loading&&(h=Ts),l.push(Ot("div",{class:d,onClick:c},{default:()=>[Ot(St,{class:{[a.is("loading")]:t.loading}},{default:()=>[Ot(h)]})]}))}else l.push(Ot("span",{class:a.e("placeholder")}));return l}function dU(e,t){return e.reduce((r,o)=>(r[o]=o,r),t)}function OAe(e,t){const r=Qt();return{registerComplexWatchers:()=>{const l=["fixed"],c={realWidth:"width",realMinWidth:"minWidth"},d=dU(l,c);Object.keys(d).forEach(h=>{const m=c[h];wn(t,m)&&Ge(()=>t[m],g=>{let v=g;m==="width"&&h==="realWidth"&&(v=gA(g)),m==="minWidth"&&h==="realMinWidth"&&(v=nj(g)),r.columnConfig.value[m]=v,r.columnConfig.value[h]=v;const _=m==="fixed";e.value.store.scheduleLayout(_)})})},registerNormalWatchers:()=>{const l=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],c={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},d=dU(l,c);Object.keys(d).forEach(h=>{const m=c[h];wn(t,m)&&Ge(()=>t[m],g=>{r.columnConfig.value[h]=g})})}}}function NAe(e,t,r){const o=Qt(),a=q(""),l=q(!1),c=q(),d=q(),h=Je("table");Po(()=>{c.value=e.align?`is-${e.align}`:null,c.value}),Po(()=>{d.value=e.headerAlign?`is-${e.headerAlign}`:c.value,d.value});const m=D(()=>{let k=o.vnode.vParent||o.parent;for(;k&&!k.tableId&&!k.columnId;)k=k.vnode.vParent||k.parent;return k}),g=D(()=>{const{store:k}=o.parent;if(!k)return!1;const{treeData:N}=k.states,O=N.value;return O&&Object.keys(O).length>0}),v=q(gA(e.width)),_=q(nj(e.minWidth)),S=k=>(v.value&&(k.width=v.value),_.value&&(k.minWidth=_.value),!v.value&&_.value&&(k.width=void 0),k.minWidth||(k.minWidth=80),k.realWidth=Number(k.width===void 0?k.minWidth:k.width),k),T=k=>{const N=k.type,O=kAe[N]||{};Object.keys(O).forEach(L=>{const M=O[L];L!=="className"&&M!==void 0&&(k[L]=M)});const $=IAe(N);if($){const L=`${f(h.namespace)}-${$}`;k.className=k.className?`${k.className} ${L}`:L}return k},b=k=>{Array.isArray(k)?k.forEach(O=>N(O)):N(k);function N(O){var $;(($=O==null?void 0:O.type)==null?void 0:$.name)==="ElTableColumn"&&(O.vParent=o)}};return{columnId:a,realAlign:c,isSubColumn:l,realHeaderAlign:d,columnOrTableParent:m,setColumnWidth:S,setColumnForcedProps:T,setColumnRenders:k=>{e.renderHeader||k.type!=="selection"&&(k.renderHeader=O=>(o.columnConfig.value.label,Pe(t,"header",O,()=>[k.label]))),t["filter-icon"]&&(k.renderFilterIcon=O=>Pe(t,"filter-icon",O));let N=k.renderCell;return k.type==="expand"?(k.renderCell=O=>Ot("div",{class:"cell"},[N(O)]),r.value.renderExpanded=O=>t.default?t.default(O):t.default):(N=N||RAe,k.renderCell=O=>{let $=null;if(t.default){const re=t.default(O);$=re.some(ae=>ae.type!==No)?re:N(O)}else $=N(O);const{columns:L}=r.value.store.states,M=L.value.findIndex(re=>re.type==="default"),U=g.value&&O.cellIndex===M,j=AAe(O,U),W={class:"cell",style:{}};return k.showOverflowTooltip&&(W.class=`${W.class} ${f(h.namespace)}-tooltip`,W.style={width:`${(O.column.realWidth||Number(O.column.width))-1}px`}),b($),Ot("div",W,[j,$])}),k},getPropsData:(...k)=>k.reduce((N,O)=>(Array.isArray(O)&&O.forEach($=>{N[$]=e[$]}),N),{}),getColumnElIndex:(k,N)=>Array.prototype.indexOf.call(k,N),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",o.columnConfig.value)}}}var PAe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let DAe=1;var dj=he({name:"ElTableColumn",components:{ElCheckbox:_a},props:PAe,setup(e,{slots:t}){const r=Qt(),o=q({}),a=D(()=>{let R=r.parent;for(;R&&!R.tableId;)R=R.parent;return R}),{registerNormalWatchers:l,registerComplexWatchers:c}=OAe(a,e),{columnId:d,isSubColumn:h,realHeaderAlign:m,columnOrTableParent:g,setColumnWidth:v,setColumnForcedProps:_,setColumnRenders:S,getPropsData:T,getColumnElIndex:b,realAlign:I,updateColumnOrder:C}=NAe(e,t,a),P=g.value;d.value=`${P.tableId||P.columnId}_column_${DAe++}`,ig(()=>{h.value=a.value!==P;const R=e.type||"default",k=e.sortable===""?!0:e.sortable,N=Ar(e.showOverflowTooltip)?P.props.showOverflowTooltip:e.showOverflowTooltip,O={...wAe[R],id:d.value,type:R,property:e.prop||e.property,align:I,headerAlign:m,showOverflowTooltip:N,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:k,index:e.index,rawColumnKey:r.vnode.key};let j=T(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);j=$Re(O,j),j=BRe(S,v,_)(j),o.value=j,l(),c()}),Zt(()=>{var R;const k=g.value,N=h.value?k.vnode.el.children:(R=k.refs.hiddenColumns)==null?void 0:R.children,O=()=>b(N||[],r.vnode.el);o.value.getColumnIndex=O,O()>-1&&a.value.store.commit("insertColumn",o.value,h.value?k.columnConfig.value:null,C)}),ur(()=>{o.value.getColumnIndex()>-1&&a.value.store.commit("removeColumn",o.value,h.value?P.columnConfig.value:null,C)}),r.columnId=d.value,r.columnConfig=o},render(){var e,t,r;try{const o=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),a=[];if(Array.isArray(o))for(const c of o)((r=c.type)==null?void 0:r.name)==="ElTableColumn"||c.shapeFlag&2?a.push(c):c.type===Tt&&Array.isArray(c.children)&&c.children.forEach(d=>{(d==null?void 0:d.patchFlag)!==1024&&!Mt(d==null?void 0:d.children)&&a.push(d)});return Ot("div",a)}catch{return Ot("div",[])}}});const LAe=Kt(TAe,{TableColumn:dj}),MAe=Tr(dj);var Gv=(e=>(e.ASC="asc",e.DESC="desc",e))(Gv||{}),qv=(e=>(e.CENTER="center",e.RIGHT="right",e))(qv||{}),fj=(e=>(e.LEFT="left",e.RIGHT="right",e))(fj||{});const Kk={asc:"desc",desc:"asc"},Yv=Symbol("placeholder"),xAe=(e,t,r)=>{var o;const a={flexGrow:0,flexShrink:0,...r?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};r||(a.flexShrink=1);const l={...(o=e.style)!=null?o:{},...a,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(l.maxWidth=e.maxWidth),e.minWidth&&(l.minWidth=e.minWidth)),l};function VAe(e,t,r){const o=D(()=>f(t).filter(b=>!b.hidden)),a=D(()=>f(o).filter(b=>b.fixed==="left"||b.fixed===!0)),l=D(()=>f(o).filter(b=>b.fixed==="right")),c=D(()=>f(o).filter(b=>!b.fixed)),d=D(()=>{const b=[];return f(a).forEach(I=>{b.push({...I,placeholderSign:Yv})}),f(c).forEach(I=>{b.push(I)}),f(l).forEach(I=>{b.push({...I,placeholderSign:Yv})}),b}),h=D(()=>f(a).length||f(l).length),m=D(()=>f(t).reduce((I,C)=>(I[C.key]=xAe(C,f(r),e.fixed),I),{})),g=D(()=>f(o).reduce((b,I)=>b+I.width,0)),v=b=>f(t).find(I=>I.key===b),_=b=>f(m)[b],S=(b,I)=>{b.width=I};function T(b){var I;const{key:C}=b.currentTarget.dataset;if(!C)return;const{sortState:P,sortBy:R}=e;let k=Gv.ASC;nn(P)?k=Kk[P[C]]:k=Kk[R.order],(I=e.onColumnSort)==null||I.call(e,{column:v(C),key:C,order:k})}return{columns:t,columnsStyles:m,columnsTotalWidth:g,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,hasFixedColumns:h,mainColumns:d,normalColumns:c,visibleColumns:o,getColumn:v,getColumnStyle:_,updateColumnWidth:S,onColumnSorted:T}}const FAe=(e,{mainTableRef:t,leftTableRef:r,rightTableRef:o,onMaybeEndReached:a})=>{const l=q({scrollLeft:0,scrollTop:0});function c(S){var T,b,I;const{scrollTop:C}=S;(T=t.value)==null||T.scrollTo(S),(b=r.value)==null||b.scrollToTop(C),(I=o.value)==null||I.scrollToTop(C)}function d(S){l.value=S,c(S)}function h(S){l.value.scrollTop=S,c(f(l))}function m(S){var T,b;l.value.scrollLeft=S,(b=(T=t.value)==null?void 0:T.scrollTo)==null||b.call(T,f(l))}function g(S){var T;d(S),(T=e.onScroll)==null||T.call(e,S)}function v({scrollTop:S}){const{scrollTop:T}=f(l);S!==T&&h(S)}function _(S,T="auto"){var b;(b=t.value)==null||b.scrollToRow(S,T)}return Ge(()=>f(l).scrollTop,(S,T)=>{S>T&&a()}),{scrollPos:l,scrollTo:d,scrollToLeft:m,scrollToTop:h,scrollToRow:_,onScroll:g,onVerticalScroll:v}},$Ae=(e,{mainTableRef:t,leftTableRef:r,rightTableRef:o,tableInstance:a,ns:l,isScrolling:c})=>{const d=Qt(),{emit:h}=d,m=dr(!1),g=q(e.defaultExpandedRowKeys||[]),v=q(-1),_=dr(null),S=q({}),T=q({}),b=dr({}),I=dr({}),C=dr({}),P=D(()=>xt(e.estimatedRowHeight));function R(U){var j;(j=e.onRowsRendered)==null||j.call(e,U),U.rowCacheEnd>f(v)&&(v.value=U.rowCacheEnd)}function k({hovered:U,rowKey:j}){if(c.value)return;a.vnode.el.querySelectorAll(`[rowkey="${String(j)}"]`).forEach(ae=>{U?ae.classList.add(l.is("hovered")):ae.classList.remove(l.is("hovered"))})}function N({expanded:U,rowData:j,rowIndex:W,rowKey:re}){var ae,ee;const G=[...f(g)],Z=G.indexOf(re);U?Z===-1&&G.push(re):Z>-1&&G.splice(Z,1),g.value=G,h("update:expandedRowKeys",G),(ae=e.onRowExpand)==null||ae.call(e,{expanded:U,rowData:j,rowIndex:W,rowKey:re}),(ee=e.onExpandedRowsChange)==null||ee.call(e,G)}const O=Ii(()=>{var U,j,W,re;m.value=!0,S.value={...f(S),...f(T)},$(f(_),!1),T.value={},_.value=null,(U=t.value)==null||U.forceUpdate(),(j=r.value)==null||j.forceUpdate(),(W=o.value)==null||W.forceUpdate(),(re=d.proxy)==null||re.$forceUpdate(),m.value=!1},0);function $(U,j=!1){!f(P)||[t,r,o].forEach(W=>{const re=f(W);re&&re.resetAfterRowIndex(U,j)})}function L(U,j,W){const re=f(_);(re===null||re>W)&&(_.value=W),T.value[U]=j}function M({rowKey:U,height:j,rowIndex:W},re){re?re===fj.RIGHT?C.value[U]=j:b.value[U]=j:I.value[U]=j;const ae=Math.max(...[b,C,I].map(ee=>ee.value[U]||0));f(S)[U]!==ae&&(L(U,ae,W),O())}return{expandedRowKeys:g,lastRenderedRowIndex:v,isDynamic:P,isResetting:m,rowHeights:S,resetAfterIndex:$,onRowExpanded:N,onRowHovered:k,onRowsRendered:R,onRowHeightChange:M}},UAe=(e,{expandedRowKeys:t,lastRenderedRowIndex:r,resetAfterIndex:o})=>{const a=q({}),l=D(()=>{const d={},{data:h,rowKey:m}=e,g=f(t);if(!g||!g.length)return h;const v=[],_=new Set;g.forEach(T=>_.add(T));let S=h.slice();for(S.forEach(T=>d[T[m]]=0);S.length>0;){const T=S.shift();v.push(T),_.has(T[m])&&Array.isArray(T.children)&&T.children.length>0&&(S=[...T.children,...S],T.children.forEach(b=>d[b[m]]=d[T[m]]+1))}return a.value=d,v}),c=D(()=>{const{data:d,expandColumnKey:h}=e;return h?f(l):d});return Ge(c,(d,h)=>{d!==h&&(r.value=-1,o(0,!0))}),{data:c,depthMap:a}},BAe=(e,t)=>e+t,Lb=e=>ht(e)?e.reduce(BAe,0):e,Ed=(e,t,r={})=>Lt(e)?e(t):e!=null?e:r,wc=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Or(e[t])}),e),hj=e=>_r(e)?t=>Ot(e,t):e,HAe=(e,{columnsTotalWidth:t,data:r,fixedColumnsOnLeft:o,fixedColumnsOnRight:a})=>{const l=D(()=>{const{fixed:R,width:k,vScrollbarSize:N}=e,O=k-N;return R?Math.max(Math.round(f(t)),O):O}),c=D(()=>f(l)+e.vScrollbarSize),d=D(()=>{const{height:R=0,maxHeight:k=0,footerHeight:N,hScrollbarSize:O}=e;if(k>0){const $=f(T),L=f(h),U=f(S)+$+L+O;return Math.min(U,k-N)}return R-N}),h=D(()=>{const{rowHeight:R,estimatedRowHeight:k}=e,N=f(r);return xt(k)?N.length*k:N.length*R}),m=D(()=>{const{maxHeight:R}=e,k=f(d);if(xt(R)&&R>0)return k;const N=f(h)+f(S)+f(T);return Math.min(k,N)}),g=R=>R.width,v=D(()=>Lb(f(o).map(g))),_=D(()=>Lb(f(a).map(g))),S=D(()=>Lb(e.headerHeight)),T=D(()=>{var R;return(((R=e.fixedData)==null?void 0:R.length)||0)*e.rowHeight}),b=D(()=>f(d)-f(S)-f(T)),I=D(()=>{const{style:R={},height:k,width:N}=e;return wc({...R,height:k,width:N})}),C=D(()=>wc({height:e.footerHeight})),P=D(()=>({top:Or(f(S)),bottom:Or(e.footerHeight),width:Or(e.width)}));return{bodyWidth:l,fixedTableHeight:m,mainTableHeight:d,leftTableWidth:v,rightTableWidth:_,headerWidth:c,rowsHeight:h,windowHeight:b,footerHeight:C,emptyStyle:P,rootStyle:I,headerHeight:S}},jAe=e=>{const t=q(),r=q(0),o=q(0);let a;return Zt(()=>{a=Sr(t,([l])=>{const{width:c,height:d}=l.contentRect,{paddingLeft:h,paddingRight:m,paddingTop:g,paddingBottom:v}=getComputedStyle(l.target),_=Number.parseInt(h)||0,S=Number.parseInt(m)||0,T=Number.parseInt(g)||0,b=Number.parseInt(v)||0;r.value=c-_-S,o.value=d-T-b}).stop}),ur(()=>{a==null||a()}),Ge([r,o],([l,c])=>{var d;(d=e.onResize)==null||d.call(e,{width:l,height:c})}),{sizer:t,width:r,height:o}};function WAe(e){const t=q(),r=q(),o=q(),{columns:a,columnsStyles:l,columnsTotalWidth:c,fixedColumnsOnLeft:d,fixedColumnsOnRight:h,hasFixedColumns:m,mainColumns:g,onColumnSorted:v}=VAe(e,Kn(e,"columns"),Kn(e,"fixed")),{scrollTo:_,scrollToLeft:S,scrollToTop:T,scrollToRow:b,onScroll:I,onVerticalScroll:C,scrollPos:P}=FAe(e,{mainTableRef:t,leftTableRef:r,rightTableRef:o,onMaybeEndReached:ce}),R=Je("table-v2"),k=Qt(),N=dr(!1),{expandedRowKeys:O,lastRenderedRowIndex:$,isDynamic:L,isResetting:M,rowHeights:U,resetAfterIndex:j,onRowExpanded:W,onRowHeightChange:re,onRowHovered:ae,onRowsRendered:ee}=$Ae(e,{mainTableRef:t,leftTableRef:r,rightTableRef:o,tableInstance:k,ns:R,isScrolling:N}),{data:G,depthMap:Z}=UAe(e,{expandedRowKeys:O,lastRenderedRowIndex:$,resetAfterIndex:j}),{bodyWidth:X,fixedTableHeight:H,mainTableHeight:J,leftTableWidth:fe,rightTableWidth:ge,headerWidth:me,rowsHeight:Ee,windowHeight:Fe,footerHeight:$e,emptyStyle:de,rootStyle:Le,headerHeight:Te}=HAe(e,{columnsTotalWidth:c,data:G,fixedColumnsOnLeft:d,fixedColumnsOnRight:h}),Be=q(),be=D(()=>{const ie=f(G).length===0;return ht(e.fixedData)?e.fixedData.length===0&&ie:ie});function We(ie){const{estimatedRowHeight:De,rowHeight:tt,rowKey:xe}=e;return De?f(U)[f(G)[ie][xe]]||De:tt}function ce(){const{onEndReached:ie}=e;if(!ie)return;const{scrollTop:De}=f(P),tt=f(Ee),xe=f(Fe),ze=tt-(De+xe)+e.hScrollbarSize;f($)>=0&&tt===De+f(J)-f(Te)&&ie(ze)}return Ge(()=>e.expandedRowKeys,ie=>O.value=ie,{deep:!0}),{columns:a,containerRef:Be,mainTableRef:t,leftTableRef:r,rightTableRef:o,isDynamic:L,isResetting:M,isScrolling:N,hasFixedColumns:m,columnsStyles:l,columnsTotalWidth:c,data:G,expandedRowKeys:O,depthMap:Z,fixedColumnsOnLeft:d,fixedColumnsOnRight:h,mainColumns:g,bodyWidth:X,emptyStyle:de,rootStyle:Le,headerWidth:me,footerHeight:$e,mainTableHeight:J,fixedTableHeight:H,leftTableWidth:fe,rightTableWidth:ge,showEmpty:be,getRowHeight:We,onColumnSorted:v,onRowHovered:ae,onRowExpanded:W,onRowsRendered:ee,onRowHeightChange:re,scrollTo:_,scrollToLeft:S,scrollToTop:T,scrollToRow:b,onScroll:I,onVerticalScroll:C}}const bA=Symbol("tableV2"),pj=String,Sg={type:Se(Array),required:!0},SA={type:Se(Array)},mj={...SA,required:!0},zAe=String,fU={type:Se(Array),default:()=>Er([])},Xu={type:Number,required:!0},vj={type:Se([String,Number,Symbol]),default:"id"},hU={type:Se(Object)},rd=it({class:String,columns:Sg,columnsStyles:{type:Se(Object),required:!0},depth:Number,expandColumnKey:zAe,estimatedRowHeight:{...dd.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Se(Function)},onRowHover:{type:Se(Function)},onRowHeightChange:{type:Se(Function)},rowData:{type:Se(Object),required:!0},rowEventHandlers:{type:Se(Object)},rowIndex:{type:Number,required:!0},rowKey:vj,style:{type:Se(Object)}}),CI={type:Number,required:!0},EA=it({class:String,columns:Sg,fixedHeaderData:{type:Se(Array)},headerData:{type:Se(Array),required:!0},headerHeight:{type:Se([Number,Array]),default:50},rowWidth:CI,rowHeight:{type:Number,default:50},height:CI,width:CI}),Mb=it({columns:Sg,data:mj,fixedData:SA,estimatedRowHeight:rd.estimatedRowHeight,width:Xu,height:Xu,headerWidth:Xu,headerHeight:EA.headerHeight,bodyWidth:Xu,rowHeight:Xu,cache:V5.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:dd.scrollbarAlwaysOn,scrollbarStartGap:dd.scrollbarStartGap,scrollbarEndGap:dd.scrollbarEndGap,class:pj,style:hU,containerStyle:hU,getRowHeight:{type:Se(Function),required:!0},rowKey:rd.rowKey,onRowsRendered:{type:Se(Function)},onScroll:{type:Se(Function)}}),KAe=it({cache:Mb.cache,estimatedRowHeight:rd.estimatedRowHeight,rowKey:vj,headerClass:{type:Se([String,Function])},headerProps:{type:Se([Object,Function])},headerCellProps:{type:Se([Object,Function])},headerHeight:EA.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Se([String,Function])},rowProps:{type:Se([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Se([Object,Function])},columns:Sg,data:mj,dataGetter:{type:Se(Function)},fixedData:SA,expandColumnKey:rd.expandColumnKey,expandedRowKeys:fU,defaultExpandedRowKeys:fU,class:pj,fixed:Boolean,style:{type:Se(Object)},width:Xu,height:Xu,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:dd.hScrollbarSize,vScrollbarSize:dd.vScrollbarSize,scrollbarAlwaysOn:U5.alwaysOn,sortBy:{type:Se(Object),default:()=>({})},sortState:{type:Se(Object),default:void 0},onColumnSort:{type:Se(Function)},onExpandedRowsChange:{type:Se(Function)},onEndReached:{type:Se(Function)},onRowExpand:rd.onRowExpand,onScroll:Mb.onScroll,onRowsRendered:Mb.onRowsRendered,rowEventHandlers:rd.rowEventHandlers}),TA=(e,{slots:t})=>{var r;const{cellData:o,style:a}=e,l=((r=o==null?void 0:o.toString)==null?void 0:r.call(o))||"",c=Pe(t,"default",e,()=>[l]);return se("div",{class:e.class,title:l,style:a},[c])};TA.displayName="ElTableV2Cell";TA.inheritAttrs=!1;const CA=(e,{slots:t})=>Pe(t,"default",e,()=>{var r,o;return[se("div",{class:e.class,title:(r=e.column)==null?void 0:r.title},[(o=e.column)==null?void 0:o.title])]});CA.displayName="ElTableV2HeaderCell";CA.inheritAttrs=!1;const GAe=it({class:String,columns:Sg,columnsStyles:{type:Se(Object),required:!0},headerIndex:Number,style:{type:Se(Object)}}),qAe=he({name:"ElTableV2HeaderRow",props:GAe,setup(e,{slots:t}){return()=>{const{columns:r,columnsStyles:o,headerIndex:a,style:l}=e;let c=r.map((d,h)=>t.cell({columns:r,column:d,columnIndex:h,headerIndex:a,style:o[d.key]}));return t.header&&(c=t.header({cells:c.map(d=>ht(d)&&d.length===1?d[0]:d),columns:r,headerIndex:a})),se("div",{class:e.class,style:l,role:"row"},[c])}}}),YAe="ElTableV2Header",JAe=he({name:YAe,props:EA,setup(e,{slots:t,expose:r}){const o=Je("table-v2"),a=q(),l=D(()=>wc({width:e.width,height:e.height})),c=D(()=>wc({width:e.rowWidth,height:e.height})),d=D(()=>Wo(f(e.headerHeight))),h=v=>{const _=f(a);wt(()=>{_!=null&&_.scroll&&_.scroll({left:v})})},m=()=>{const v=o.e("fixed-header-row"),{columns:_,fixedHeaderData:S,rowHeight:T}=e;return S==null?void 0:S.map((b,I)=>{var C;const P=wc({height:T,width:"100%"});return(C=t.fixed)==null?void 0:C.call(t,{class:v,columns:_,rowData:b,rowIndex:-(I+1),style:P})})},g=()=>{const v=o.e("dynamic-header-row"),{columns:_}=e;return f(d).map((S,T)=>{var b;const I=wc({width:"100%",height:S});return(b=t.dynamic)==null?void 0:b.call(t,{class:v,columns:_,headerIndex:T,style:I})})};return r({scrollToLeft:h}),()=>{if(!(e.height<=0))return se("div",{ref:a,class:e.class,style:f(l),role:"rowgroup"},[se("div",{style:f(c),class:o.e("header")},[g(),m()])])}}}),XAe=e=>{const{isScrolling:t}=pt(bA),r=q(!1),o=q(),a=D(()=>xt(e.estimatedRowHeight)&&e.rowIndex>=0),l=(h=!1)=>{const m=f(o);if(!m)return;const{columns:g,onRowHeightChange:v,rowKey:_,rowIndex:S,style:T}=e,{height:b}=m.getBoundingClientRect();r.value=!0,wt(()=>{if(h||b!==Number.parseInt(T.height)){const I=g[0],C=(I==null?void 0:I.placeholderSign)===Yv;v==null||v({rowKey:_,height:b,rowIndex:S},I&&!C&&I.fixed)}})},c=D(()=>{const{rowData:h,rowIndex:m,rowKey:g,onRowHover:v}=e,_=e.rowEventHandlers||{},S={};return Object.entries(_).forEach(([T,b])=>{Lt(b)&&(S[T]=I=>{b({event:I,rowData:h,rowIndex:m,rowKey:g})})}),v&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:T,hovered:b})=>{const I=S[T];S[T]=C=>{v({event:C,hovered:b,rowData:h,rowIndex:m,rowKey:g}),I==null||I(C)}}),S}),d=h=>{const{onRowExpand:m,rowData:g,rowIndex:v,rowKey:_}=e;m==null||m({expanded:h,rowData:g,rowIndex:v,rowKey:_})};return Zt(()=>{f(a)&&l(!0)}),{isScrolling:t,measurable:a,measured:r,rowRef:o,eventHandlers:c,onExpand:d}},QAe="ElTableV2TableRow",ZAe=he({name:QAe,props:rd,setup(e,{expose:t,slots:r,attrs:o}){const{eventHandlers:a,isScrolling:l,measurable:c,measured:d,rowRef:h,onExpand:m}=XAe(e);return t({onExpand:m}),()=>{const{columns:g,columnsStyles:v,expandColumnKey:_,depth:S,rowData:T,rowIndex:b,style:I}=e;let C=g.map((P,R)=>{const k=ht(T.children)&&T.children.length>0&&P.key===_;return r.cell({column:P,columns:g,columnIndex:R,depth:S,style:v[P.key],rowData:T,rowIndex:b,isScrolling:f(l),expandIconProps:k?{rowData:T,rowIndex:b,onExpand:m}:void 0})});if(r.row&&(C=r.row({cells:C.map(P=>ht(P)&&P.length===1?P[0]:P),style:I,columns:g,depth:S,rowData:T,rowIndex:b,isScrolling:f(l)})),f(c)){const{height:P,...R}=I||{},k=f(d);return se("div",sn({ref:h,class:e.class,style:k?I:R,role:"row"},o,f(a)),[C])}return se("div",sn(o,{ref:h,class:e.class,style:I,role:"row"},f(a)),[C])}}}),eOe=e=>{const{sortOrder:t}=e;return se(St,{size:14,class:e.class},{default:()=>[t===Gv.ASC?se(Cpe,null,null):se(Epe,null,null)]})},tOe=e=>{const{expanded:t,expandable:r,onExpand:o,style:a,size:l}=e,c={onClick:r?()=>o(!t):void 0,class:e.class};return se(St,sn(c,{size:l,style:a}),{default:()=>[se(ai,null,null)]})},nOe="ElTableV2Grid",rOe=e=>{const t=q(),r=q(),o=D(()=>{const{data:b,rowHeight:I,estimatedRowHeight:C}=e;if(!C)return b.length*I}),a=D(()=>{const{fixedData:b,rowHeight:I}=e;return((b==null?void 0:b.length)||0)*I}),l=D(()=>Lb(e.headerHeight)),c=D(()=>{const{height:b}=e;return Math.max(0,b-f(l)-f(a))}),d=D(()=>f(l)+f(a)>0),h=({data:b,rowIndex:I})=>b[I][e.rowKey];function m({rowCacheStart:b,rowCacheEnd:I,rowVisibleStart:C,rowVisibleEnd:P}){var R;(R=e.onRowsRendered)==null||R.call(e,{rowCacheStart:b,rowCacheEnd:I,rowVisibleStart:C,rowVisibleEnd:P})}function g(b,I){var C;(C=r.value)==null||C.resetAfterRowIndex(b,I)}function v(b,I){const C=f(t),P=f(r);nn(b)?(C==null||C.scrollToLeft(b.scrollLeft),P==null||P.scrollTo(b)):(C==null||C.scrollToLeft(b),P==null||P.scrollTo({scrollLeft:b,scrollTop:I}))}function _(b){var I;(I=f(r))==null||I.scrollTo({scrollTop:b})}function S(b,I){var C;(C=f(r))==null||C.scrollToItem(b,1,I)}function T(){var b,I;(b=f(r))==null||b.$forceUpdate(),(I=f(t))==null||I.$forceUpdate()}return{bodyRef:r,forceUpdate:T,fixedRowHeight:a,gridHeight:c,hasHeader:d,headerHeight:l,headerRef:t,totalHeight:o,itemKey:h,onItemRendered:m,resetAfterRowIndex:g,scrollTo:v,scrollToTop:_,scrollToRow:S}},wA=he({name:nOe,props:Mb,setup(e,{slots:t,expose:r}){const{ns:o}=pt(bA),{bodyRef:a,fixedRowHeight:l,gridHeight:c,hasHeader:d,headerRef:h,headerHeight:m,totalHeight:g,forceUpdate:v,itemKey:_,onItemRendered:S,resetAfterRowIndex:T,scrollTo:b,scrollToTop:I,scrollToRow:C}=rOe(e);r({forceUpdate:v,totalHeight:g,scrollTo:b,scrollToTop:I,scrollToRow:C,resetAfterRowIndex:T});const P=()=>e.bodyWidth;return()=>{const{cache:R,columns:k,data:N,fixedData:O,useIsScrolling:$,scrollbarAlwaysOn:L,scrollbarEndGap:M,scrollbarStartGap:U,style:j,rowHeight:W,bodyWidth:re,estimatedRowHeight:ae,headerWidth:ee,height:G,width:Z,getRowHeight:X,onScroll:H}=e,J=xt(ae),fe=J?i1e:t1e,ge=f(m);return se("div",{role:"table",class:[o.e("table"),e.class],style:j},[se(fe,{ref:a,data:N,useIsScrolling:$,itemKey:_,columnCache:0,columnWidth:J?P:re,totalColumn:1,totalRow:N.length,rowCache:R,rowHeight:J?X:W,width:Z,height:f(c),class:o.e("body"),role:"rowgroup",scrollbarStartGap:U,scrollbarEndGap:M,scrollbarAlwaysOn:L,onScroll:H,onItemRendered:S,perfMode:!1},{default:me=>{var Ee;const Fe=N[me.rowIndex];return(Ee=t.row)==null?void 0:Ee.call(t,{...me,columns:k,rowData:Fe})}}),f(d)&&se(JAe,{ref:h,class:o.e("header-wrapper"),columns:k,headerData:N,headerHeight:e.headerHeight,fixedHeaderData:O,rowWidth:ee,rowHeight:W,width:Z,height:Math.min(ge+f(l),G)},{dynamic:t.header,fixed:t.row})])}}});function oOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_r(e)}const iOe=(e,{slots:t})=>{const{mainTableRef:r,...o}=e;return se(wA,sn({ref:r},o),oOe(t)?t:{default:()=>[t]})};function aOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_r(e)}const sOe=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:r,...o}=e;return se(wA,sn({ref:r},o),aOe(t)?t:{default:()=>[t]})};function lOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_r(e)}const cOe=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:r,...o}=e;return se(wA,sn({ref:r},o),lOe(t)?t:{default:()=>[t]})};function uOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_r(e)}const dOe=(e,{slots:t})=>{const{columns:r,columnsStyles:o,depthMap:a,expandColumnKey:l,expandedRowKeys:c,estimatedRowHeight:d,hasFixedColumns:h,rowData:m,rowIndex:g,style:v,isScrolling:_,rowProps:S,rowClass:T,rowKey:b,rowEventHandlers:I,ns:C,onRowHovered:P,onRowExpanded:R}=e,k=Ed(T,{columns:r,rowData:m,rowIndex:g},""),N=Ed(S,{columns:r,rowData:m,rowIndex:g}),O=m[b],$=a[O]||0,L=Boolean(l),M=g<0,U=[C.e("row"),k,{[C.e(`row-depth-${$}`)]:L&&g>=0,[C.is("expanded")]:L&&c.includes(O),[C.is("fixed")]:!$&&M,[C.is("customized")]:Boolean(t.row)}],j=h?P:void 0,W={...N,columns:r,columnsStyles:o,class:U,depth:$,expandColumnKey:l,estimatedRowHeight:M?void 0:d,isScrolling:_,rowIndex:g,rowData:m,rowKey:O,rowEventHandlers:I,style:v};return se(ZAe,sn(W,{onRowExpand:R,onMouseenter:ee=>{j==null||j({hovered:!0,rowKey:O,event:ee,rowData:m,rowIndex:g})},onMouseleave:ee=>{j==null||j({hovered:!1,rowKey:O,event:ee,rowData:m,rowIndex:g})},rowkey:O}),uOe(t)?t:{default:()=>[t]})},Gk=({columns:e,column:t,columnIndex:r,depth:o,expandIconProps:a,isScrolling:l,rowData:c,rowIndex:d,style:h,expandedRowKeys:m,ns:g,cellProps:v,expandColumnKey:_,indentSize:S,iconSize:T,rowKey:b},{slots:I})=>{const C=wc(h);if(t.placeholderSign===Yv)return se("div",{class:g.em("row-cell","placeholder"),style:C},null);const{cellRenderer:P,dataKey:R,dataGetter:k}=t,N=Lt(k)?k({columns:e,column:t,columnIndex:r,rowData:c,rowIndex:d}):Mr(c,R!=null?R:""),O=Ed(v,{cellData:N,columns:e,column:t,columnIndex:r,rowIndex:d,rowData:c}),$={class:g.e("cell-text"),columns:e,column:t,columnIndex:r,cellData:N,isScrolling:l,rowData:c,rowIndex:d},L=hj(P),M=L?L($):Pe(I,"default",$,()=>[se(TA,$,null)]),U=[g.e("row-cell"),t.class,t.align===qv.CENTER&&g.is("align-center"),t.align===qv.RIGHT&&g.is("align-right")],j=d>=0&&_&&t.key===_,W=d>=0&&m.includes(c[b]);let re;const ae=`margin-inline-start: ${o*S}px;`;return j&&(nn(a)?re=se(tOe,sn(a,{class:[g.e("expand-icon"),g.is("expanded",W)],size:T,expanded:W,style:ae,expandable:!0}),null):re=se("div",{style:[ae,`width: ${T}px; height: ${T}px;`].join(" ")},null)),se("div",sn({class:U,style:C},O,{role:"cell"}),[re,M])};Gk.inheritAttrs=!1;function fOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_r(e)}const hOe=({columns:e,columnsStyles:t,headerIndex:r,style:o,headerClass:a,headerProps:l,ns:c},{slots:d})=>{const h={columns:e,headerIndex:r},m=[c.e("header-row"),Ed(a,h,""),{[c.is("customized")]:Boolean(d.header)}],g={...Ed(l,h),columnsStyles:t,class:m,columns:e,headerIndex:r,style:o};return se(qAe,g,fOe(d)?d:{default:()=>[d]})},pU=(e,{slots:t})=>{const{column:r,ns:o,style:a,onColumnSorted:l}=e,c=wc(a);if(r.placeholderSign===Yv)return se("div",{class:o.em("header-row-cell","placeholder"),style:c},null);const{headerCellRenderer:d,headerClass:h,sortable:m}=r,g={...e,class:o.e("header-cell-text")},v=hj(d),_=v?v(g):Pe(t,"default",g,()=>[se(CA,g,null)]),{sortBy:S,sortState:T,headerCellProps:b}=e;let I,C;if(T){const k=T[r.key];I=Boolean(Kk[k]),C=I?k:Gv.ASC}else I=r.key===S.key,C=I?S.order:Gv.ASC;const P=[o.e("header-cell"),Ed(h,e,""),r.align===qv.CENTER&&o.is("align-center"),r.align===qv.RIGHT&&o.is("align-right"),m&&o.is("sortable")],R={...Ed(b,e),onClick:r.sortable?l:void 0,class:P,style:c,["data-key"]:r.key};return se("div",sn(R,{role:"columnheader"}),[_,m&&se(eOe,{class:[o.e("sort-icon"),I&&o.is("sorting")],sortOrder:C},null)])},gj=(e,{slots:t})=>{var r;return se("div",{class:e.class,style:e.style},[(r=t.default)==null?void 0:r.call(t)])};gj.displayName="ElTableV2Footer";const yj=(e,{slots:t})=>{const r=Pe(t,"default",{},()=>[se(E5,null,null)]);return se("div",{class:e.class,style:e.style},[r])};yj.displayName="ElTableV2Empty";const _j=(e,{slots:t})=>{var r;return se("div",{class:e.class,style:e.style},[(r=t.default)==null?void 0:r.call(t)])};_j.displayName="ElTableV2Overlay";function Jm(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_r(e)}const pOe="ElTableV2",mOe=he({name:pOe,props:KAe,setup(e,{slots:t,expose:r}){const o=Je("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:l,fixedColumnsOnRight:c,mainColumns:d,mainTableHeight:h,fixedTableHeight:m,leftTableWidth:g,rightTableWidth:v,data:_,depthMap:S,expandedRowKeys:T,hasFixedColumns:b,mainTableRef:I,leftTableRef:C,rightTableRef:P,isDynamic:R,isResetting:k,isScrolling:N,bodyWidth:O,emptyStyle:$,rootStyle:L,headerWidth:M,footerHeight:U,showEmpty:j,scrollTo:W,scrollToLeft:re,scrollToTop:ae,scrollToRow:ee,getRowHeight:G,onColumnSorted:Z,onRowHeightChange:X,onRowHovered:H,onRowExpanded:J,onRowsRendered:fe,onScroll:ge,onVerticalScroll:me}=WAe(e);return r({scrollTo:W,scrollToLeft:re,scrollToTop:ae,scrollToRow:ee}),pn(bA,{ns:o,isResetting:k,isScrolling:N}),()=>{const{cache:Ee,cellProps:Fe,estimatedRowHeight:$e,expandColumnKey:de,fixedData:Le,headerHeight:Te,headerClass:Be,headerProps:be,headerCellProps:We,sortBy:ce,sortState:ie,rowHeight:De,rowClass:tt,rowEventHandlers:xe,rowKey:ze,rowProps:ot,scrollbarAlwaysOn:le,indentSize:pe,iconSize:Re,useIsScrolling:Ae,vScrollbarSize:qe,width:rt}=e,Ue=f(_),Xe={cache:Ee,class:o.e("main"),columns:f(d),data:Ue,fixedData:Le,estimatedRowHeight:$e,bodyWidth:f(O)+qe,headerHeight:Te,headerWidth:f(M),height:f(h),mainTableRef:I,rowKey:ze,rowHeight:De,scrollbarAlwaysOn:le,scrollbarStartGap:2,scrollbarEndGap:qe,useIsScrolling:Ae,width:rt,getRowHeight:G,onRowsRendered:fe,onScroll:ge},Nt=f(g),Ft=f(m),Et={cache:Ee,class:o.e("left"),columns:f(l),data:Ue,estimatedRowHeight:$e,leftTableRef:C,rowHeight:De,bodyWidth:Nt,headerWidth:Nt,headerHeight:Te,height:Ft,rowKey:ze,scrollbarAlwaysOn:le,scrollbarStartGap:2,scrollbarEndGap:qe,useIsScrolling:Ae,width:Nt,getRowHeight:G,onScroll:me},He=f(v)+qe,vt={cache:Ee,class:o.e("right"),columns:f(c),data:Ue,estimatedRowHeight:$e,rightTableRef:P,rowHeight:De,bodyWidth:He,headerWidth:He,headerHeight:Te,height:Ft,rowKey:ze,scrollbarAlwaysOn:le,scrollbarStartGap:2,scrollbarEndGap:qe,width:He,style:`--${f(o.namespace)}-table-scrollbar-size: ${qe}px`,useIsScrolling:Ae,getRowHeight:G,onScroll:me},we=f(a),Ye={ns:o,depthMap:f(S),columnsStyles:we,expandColumnKey:de,expandedRowKeys:f(T),estimatedRowHeight:$e,hasFixedColumns:f(b),rowProps:ot,rowClass:tt,rowKey:ze,rowEventHandlers:xe,onRowHovered:H,onRowExpanded:J,onRowHeightChange:X},nt={cellProps:Fe,expandColumnKey:de,indentSize:pe,iconSize:Re,rowKey:ze,expandedRowKeys:f(T),ns:o},jt={ns:o,headerClass:Be,headerProps:be,columnsStyles:we},Dt={ns:o,sortBy:ce,sortState:ie,headerCellProps:We,onColumnSorted:Z},Me={row:rn=>se(dOe,sn(rn,Ye),{row:t.row,cell:qn=>{let Pn;return t.cell?se(Gk,sn(qn,nt,{style:we[qn.column.key]}),Jm(Pn=t.cell(qn))?Pn:{default:()=>[Pn]}):se(Gk,sn(qn,nt,{style:we[qn.column.key]}),null)}}),header:rn=>se(hOe,sn(rn,jt),{header:t.header,cell:qn=>{let Pn;return t["header-cell"]?se(pU,sn(qn,Dt,{style:we[qn.column.key]}),Jm(Pn=t["header-cell"](qn))?Pn:{default:()=>[Pn]}):se(pU,sn(qn,Dt,{style:we[qn.column.key]}),null)}})},ft=[e.class,o.b(),o.e("root"),{[o.is("dynamic")]:f(R)}],In={class:o.e("footer"),style:f(U)};return se("div",{class:ft,style:f(L)},[se(iOe,Xe,Jm(Me)?Me:{default:()=>[Me]}),se(sOe,Et,Jm(Me)?Me:{default:()=>[Me]}),se(cOe,vt,Jm(Me)?Me:{default:()=>[Me]}),t.footer&&se(gj,In,{default:t.footer}),f(j)&&se(yj,{class:o.e("empty"),style:f($)},{default:t.empty}),t.overlay&&se(_j,{class:o.e("overlay")},{default:t.overlay})])}}}),vOe=it({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Se(Function)}}),gOe=he({name:"ElAutoResizer",props:vOe,setup(e,{slots:t}){const r=Je("auto-resizer"),{height:o,width:a,sizer:l}=jAe(e),c={width:"100%",height:"100%"};return()=>{var d;return se("div",{ref:l,class:r.b(),style:c},[(d=t.default)==null?void 0:d.call(t,{height:o.value,width:a.value})])}}}),yOe=Kt(mOe),_Oe=Kt(gOe),nS=Symbol("tabsRootContextKey"),bOe=it({tabs:{type:Se(Array),default:()=>Er([])}}),bj="ElTabBar",SOe=he({name:bj}),EOe=he({...SOe,props:bOe,setup(e,{expose:t}){const r=e,o=Qt(),a=pt(nS);a||to(bj,"<el-tabs><el-tab-bar /></el-tabs>");const l=Je("tabs"),c=q(),d=q(),h=()=>{let g=0,v=0;const _=["top","bottom"].includes(a.props.tabPosition)?"width":"height",S=_==="width"?"x":"y",T=S==="x"?"left":"top";return r.tabs.every(b=>{var I,C;const P=(C=(I=o.parent)==null?void 0:I.refs)==null?void 0:C[`tab-${b.uid}`];if(!P)return!1;if(!b.active)return!0;g=P[`offset${vs(T)}`],v=P[`client${vs(_)}`];const R=window.getComputedStyle(P);return _==="width"&&(v-=Number.parseFloat(R.paddingLeft)+Number.parseFloat(R.paddingRight),g+=Number.parseFloat(R.paddingLeft)),!1}),{[_]:`${v}px`,transform:`translate${vs(S)}(${g}px)`}},m=()=>d.value=h();return Ge(()=>r.tabs,async()=>{await wt(),m()},{immediate:!0}),Sr(c,()=>m()),t({ref:c,update:m}),(g,v)=>(F(),Q("div",{ref_key:"barRef",ref:c,class:B([f(l).e("active-bar"),f(l).is(f(a).props.tabPosition)]),style:kt(d.value)},null,6))}});var TOe=at(EOe,[["__file","tab-bar.vue"]]);const COe=it({panes:{type:Se(Array),default:()=>Er([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),wOe={tabClick:(e,t,r)=>r instanceof Event,tabRemove:(e,t)=>t instanceof Event},mU="ElTabNav",IOe=he({name:mU,props:COe,emits:wOe,setup(e,{expose:t,emit:r}){const o=pt(nS);o||to(mU,"<el-tabs><tab-nav /></el-tabs>");const a=Je("tabs"),l=Kae(),c=ose(),d=q(),h=q(),m=q(),g=q(),v=q(!1),_=q(0),S=q(!1),T=q(!0),b=D(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),I=D(()=>({transform:`translate${b.value==="width"?"X":"Y"}(-${_.value}px)`})),C=()=>{if(!d.value)return;const L=d.value[`offset${vs(b.value)}`],M=_.value;if(!M)return;const U=M>L?M-L:0;_.value=U},P=()=>{if(!d.value||!h.value)return;const L=h.value[`offset${vs(b.value)}`],M=d.value[`offset${vs(b.value)}`],U=_.value;if(L-U<=M)return;const j=L-U>M*2?U+M:L-M;_.value=j},R=async()=>{const L=h.value;if(!v.value||!m.value||!d.value||!L)return;await wt();const M=m.value.querySelector(".is-active");if(!M)return;const U=d.value,j=["top","bottom"].includes(o.props.tabPosition),W=M.getBoundingClientRect(),re=U.getBoundingClientRect(),ae=j?L.offsetWidth-re.width:L.offsetHeight-re.height,ee=_.value;let G=ee;j?(W.left<re.left&&(G=ee-(re.left-W.left)),W.right>re.right&&(G=ee+W.right-re.right)):(W.top<re.top&&(G=ee-(re.top-W.top)),W.bottom>re.bottom&&(G=ee+(W.bottom-re.bottom))),G=Math.max(G,0),_.value=Math.min(G,ae)},k=()=>{var L;if(!h.value||!d.value)return;e.stretch&&((L=g.value)==null||L.update());const M=h.value[`offset${vs(b.value)}`],U=d.value[`offset${vs(b.value)}`],j=_.value;U<M?(v.value=v.value||{},v.value.prev=j,v.value.next=j+U<M,M-j<U&&(_.value=M-U)):(v.value=!1,j>0&&(_.value=0))},N=L=>{const M=L.code,{up:U,down:j,left:W,right:re}=It;if(![U,j,W,re].includes(M))return;const ae=Array.from(L.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),ee=ae.indexOf(L.target);let G;M===W||M===U?ee===0?G=ae.length-1:G=ee-1:ee<ae.length-1?G=ee+1:G=0,ae[G].focus({preventScroll:!0}),ae[G].click(),O()},O=()=>{T.value&&(S.value=!0)},$=()=>S.value=!1;return Ge(l,L=>{L==="hidden"?T.value=!1:L==="visible"&&setTimeout(()=>T.value=!0,50)}),Ge(c,L=>{L?setTimeout(()=>T.value=!0,50):T.value=!1}),Sr(m,k),Zt(()=>setTimeout(()=>R(),0)),yl(()=>k()),t({scrollToActiveTab:R,removeFocus:$}),()=>{const L=v.value?[se("span",{class:[a.e("nav-prev"),a.is("disabled",!v.value.prev)],onClick:C},[se(St,null,{default:()=>[se(xc,null,null)]})]),se("span",{class:[a.e("nav-next"),a.is("disabled",!v.value.next)],onClick:P},[se(St,null,{default:()=>[se(ai,null,null)]})])]:null,M=e.panes.map((U,j)=>{var W,re,ae,ee;const G=U.uid,Z=U.props.disabled,X=(re=(W=U.props.name)!=null?W:U.index)!=null?re:`${j}`,H=!Z&&(U.isClosable||e.editable);U.index=`${j}`;const J=H?se(St,{class:"is-icon-close",onClick:me=>r("tabRemove",U,me)},{default:()=>[se(Ba,null,null)]}):null,fe=((ee=(ae=U.slots).label)==null?void 0:ee.call(ae))||U.props.label,ge=!Z&&U.active?0:-1;return se("div",{ref:`tab-${G}`,class:[a.e("item"),a.is(o.props.tabPosition),a.is("active",U.active),a.is("disabled",Z),a.is("closable",H),a.is("focus",S.value)],id:`tab-${X}`,key:`tab-${G}`,"aria-controls":`pane-${X}`,role:"tab","aria-selected":U.active,tabindex:ge,onFocus:()=>O(),onBlur:()=>$(),onClick:me=>{$(),r("tabClick",U,X,me)},onKeydown:me=>{H&&(me.code===It.delete||me.code===It.backspace)&&r("tabRemove",U,me)}},[fe,J])});return se("div",{ref:m,class:[a.e("nav-wrap"),a.is("scrollable",!!v.value),a.is(o.props.tabPosition)]},[L,se("div",{class:a.e("nav-scroll"),ref:d},[se("div",{class:[a.e("nav"),a.is(o.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:h,style:I.value,role:"tablist",onKeydown:N},[e.type?null:se(TOe,{ref:g,tabs:[...e.panes]},null),M])])])}}}),kOe=it({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Se(Function),default:()=>!0},stretch:Boolean}),wI=e=>Mt(e)||xt(e),ROe={[tn]:e=>wI(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>wI(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>wI(e),tabAdd:()=>!0},AOe=he({name:"ElTabs",props:kOe,emits:ROe,setup(e,{emit:t,slots:r,expose:o}){var a;const l=Je("tabs"),c=D(()=>["left","right"].includes(e.tabPosition)),{children:d,addChild:h,removeChild:m}=jR(Qt(),"ElTabPane"),g=q(),v=q((a=e.modelValue)!=null?a:"0"),_=async(C,P=!1)=>{var R,k,N;if(!(v.value===C||Ar(C)))try{await((R=e.beforeLeave)==null?void 0:R.call(e,C,v.value))!==!1&&(v.value=C,P&&(t(tn,C),t("tabChange",C)),(N=(k=g.value)==null?void 0:k.removeFocus)==null||N.call(k))}catch{}},S=(C,P,R)=>{C.props.disabled||(_(P,!0),t("tabClick",C,R))},T=(C,P)=>{C.props.disabled||Ar(C.props.name)||(P.stopPropagation(),t("edit",C.props.name,"remove"),t("tabRemove",C.props.name))},b=()=>{t("edit",void 0,"add"),t("tabAdd")};Ge(()=>e.modelValue,C=>_(C)),Ge(v,async()=>{var C;await wt(),(C=g.value)==null||C.scrollToActiveTab()}),pn(nS,{props:e,currentName:v,registerPane:C=>{d.value.push(C)},sortPane:h,unregisterPane:m}),o({currentName:v});const I=({render:C})=>C();return()=>{const C=r["add-icon"],P=e.editable||e.addable?se("div",{class:[l.e("new-tab"),c.value&&l.e("new-tab-vertical")],tabindex:"0",onClick:b,onKeydown:N=>{N.code===It.enter&&b()}},[C?Pe(r,"add-icon"):se(St,{class:l.is("icon-plus")},{default:()=>[se(q8,null,null)]})]):null,R=se("div",{class:[l.e("header"),c.value&&l.e("header-vertical"),l.is(e.tabPosition)]},[se(I,{render:()=>{const N=d.value.some(O=>O.slots.label);return se(IOe,{ref:g,currentName:v.value,editable:e.editable,type:e.type,panes:d.value,stretch:e.stretch,onTabClick:S,onTabRemove:T},{$stable:!N})}},null),P]),k=se("div",{class:l.e("content")},[Pe(r,"default")]);return se("div",{class:[l.b(),l.m(e.tabPosition),{[l.m("card")]:e.type==="card",[l.m("border-card")]:e.type==="border-card"}]},[k,R])}}}),OOe=it({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Sj="ElTabPane",NOe=he({name:Sj}),POe=he({...NOe,props:OOe,setup(e){const t=e,r=Qt(),o=co(),a=pt(nS);a||to(Sj,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const l=Je("tab-pane"),c=q(),d=D(()=>t.closable||a.props.closable),h=G3(()=>{var S;return a.currentName.value===((S=t.name)!=null?S:c.value)}),m=q(h.value),g=D(()=>{var S;return(S=t.name)!=null?S:c.value}),v=G3(()=>!t.lazy||m.value||h.value);Ge(h,S=>{S&&(m.value=!0)});const _=Un({uid:r.uid,slots:o,props:t,paneName:g,active:h,index:c,isClosable:d});return a.registerPane(_),Zt(()=>{a.sortPane(_)}),_l(()=>{a.unregisterPane(_.uid)}),(S,T)=>f(v)?qt((F(),Q("div",{key:0,id:`pane-${f(g)}`,class:B(f(l).b()),role:"tabpanel","aria-hidden":!f(h),"aria-labelledby":`tab-${f(g)}`},[Pe(S.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Nn,f(h)]]):Ie("v-if",!0)}});var Ej=at(POe,[["__file","tab-pane.vue"]]);const DOe=Kt(AOe,{TabPane:Ej}),LOe=Tr(Ej),MOe=it({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:ks,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),xOe=he({name:"ElText"}),VOe=he({...xOe,props:MOe,setup(e){const t=e,r=Jr(),o=Je("text"),a=D(()=>[o.b(),o.m(t.type),o.m(r.value),o.is("truncated",t.truncated),o.is("line-clamp",!Ar(t.lineClamp))]);return(l,c)=>(F(),Ve(ln(l.tag),{class:B(f(a)),style:kt({"-webkit-line-clamp":l.lineClamp})},{default:ye(()=>[Pe(l.$slots,"default")]),_:3},8,["class","style"]))}});var FOe=at(VOe,[["__file","text.vue"]]);const $Oe=Kt(FOe),UOe=it({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:Se(String),default:"light"},clearable:{type:Boolean,default:!0},size:no,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Se([String,Object]),default:()=>G8},clearIcon:{type:Se([String,Object]),default:()=>Gc},...Gh}),cl=e=>{const t=(e||"").split(":");if(t.length>=2){let r=Number.parseInt(t[0],10);const o=Number.parseInt(t[1],10),a=e.toUpperCase();return a.includes("AM")&&r===12?r=0:a.includes("PM")&&r!==12&&(r+=12),{hours:r,minutes:o}}return null},II=(e,t)=>{const r=cl(e);if(!r)return-1;const o=cl(t);if(!o)return-1;const a=r.minutes+r.hours*60,l=o.minutes+o.hours*60;return a===l?0:a>l?1:-1},vU=e=>`${e}`.padStart(2,"0"),Jf=e=>`${vU(e.hours)}:${vU(e.minutes)}`,BOe=(e,t)=>{const r=cl(e);if(!r)return"";const o=cl(t);if(!o)return"";const a={hours:r.hours,minutes:r.minutes};return a.minutes+=o.minutes,a.hours+=o.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,Jf(a)},HOe=he({name:"ElTimeSelect"}),jOe=he({...HOe,props:UOe,emits:["change","blur","focus","clear","update:modelValue"],setup(e,{expose:t}){const r=e;zt.extend(XR);const{Option:o}=Hc,a=Je("input"),l=q(),c=ui(),{lang:d}=En(),h=D(()=>r.modelValue),m=D(()=>{const C=cl(r.start);return C?Jf(C):null}),g=D(()=>{const C=cl(r.end);return C?Jf(C):null}),v=D(()=>{const C=cl(r.step);return C?Jf(C):null}),_=D(()=>{const C=cl(r.minTime||"");return C?Jf(C):null}),S=D(()=>{const C=cl(r.maxTime||"");return C?Jf(C):null}),T=D(()=>{const C=[];if(r.start&&r.end&&r.step){let P=m.value,R;for(;P&&g.value&&II(P,g.value)<=0;)R=zt(P,"HH:mm").locale(d.value).format(r.format),C.push({value:R,disabled:II(P,_.value||"-1:-1")<=0||II(P,S.value||"100:100")>=0}),P=BOe(P,v.value)}return C});return t({blur:()=>{var C,P;(P=(C=l.value)==null?void 0:C.blur)==null||P.call(C)},focus:()=>{var C,P;(P=(C=l.value)==null?void 0:C.focus)==null||P.call(C)}}),(C,P)=>(F(),Ve(f(Hc),{ref_key:"select",ref:l,"model-value":f(h),disabled:f(c),clearable:C.clearable,"clear-icon":C.clearIcon,size:C.size,effect:C.effect,placeholder:C.placeholder,"default-first-option":"",filterable:C.editable,"empty-values":C.emptyValues,"value-on-clear":C.valueOnClear,"onUpdate:modelValue":R=>C.$emit("update:modelValue",R),onChange:R=>C.$emit("change",R),onBlur:R=>C.$emit("blur",R),onFocus:R=>C.$emit("focus",R),onClear:()=>C.$emit("clear")},{prefix:ye(()=>[C.prefixIcon?(F(),Ve(f(St),{key:0,class:B(f(a).e("prefix-icon"))},{default:ye(()=>[(F(),Ve(ln(C.prefixIcon)))]),_:1},8,["class"])):Ie("v-if",!0)]),default:ye(()=>[(F(!0),Q(Tt,null,fn(f(T),R=>(F(),Ve(f(o),{key:R.value,label:R.value,value:R.value,disabled:R.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var WOe=at(jOe,[["__file","time-select.vue"]]);const zOe=Kt(WOe),KOe=he({name:"ElTimeline",setup(e,{slots:t}){const r=Je("timeline");return pn("timeline",t),()=>Ot("ul",{class:[r.b()]},[Pe(t,"default")])}}),GOe=it({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:ir},hollow:Boolean}),qOe=he({name:"ElTimelineItem"}),YOe=he({...qOe,props:GOe,setup(e){const t=e,r=Je("timeline-item"),o=D(()=>[r.e("node"),r.em("node",t.size||""),r.em("node",t.type||""),r.is("hollow",t.hollow)]);return(a,l)=>(F(),Q("li",{class:B([f(r).b(),{[f(r).e("center")]:a.center}])},[te("div",{class:B(f(r).e("tail"))},null,2),a.$slots.dot?Ie("v-if",!0):(F(),Q("div",{key:0,class:B(f(o)),style:kt({backgroundColor:a.color})},[a.icon?(F(),Ve(f(St),{key:0,class:B(f(r).e("icon"))},{default:ye(()=>[(F(),Ve(ln(a.icon)))]),_:1},8,["class"])):Ie("v-if",!0)],6)),a.$slots.dot?(F(),Q("div",{key:1,class:B(f(r).e("dot"))},[Pe(a.$slots,"dot")],2)):Ie("v-if",!0),te("div",{class:B(f(r).e("wrapper"))},[!a.hideTimestamp&&a.placement==="top"?(F(),Q("div",{key:0,class:B([f(r).e("timestamp"),f(r).is("top")])},et(a.timestamp),3)):Ie("v-if",!0),te("div",{class:B(f(r).e("content"))},[Pe(a.$slots,"default")],2),!a.hideTimestamp&&a.placement==="bottom"?(F(),Q("div",{key:1,class:B([f(r).e("timestamp"),f(r).is("bottom")])},et(a.timestamp),3)):Ie("v-if",!0)],2)],2))}});var Tj=at(YOe,[["__file","timeline-item.vue"]]);const JOe=Kt(KOe,{TimelineItem:Tj}),XOe=Tr(Tj),Cj=it({nowrap:Boolean});var wj=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(wj||{});const QOe=Object.values(wj),IA=it({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Se(Object),default:null}}),ZOe=it({side:{type:Se(String),values:QOe,required:!0}}),eNe=["absolute","fixed"],tNe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],kA=it({arrowPadding:{type:Se(Number),default:5},effect:{type:Se(String),default:"light"},contentClass:String,placement:{type:Se(String),values:tNe,default:"bottom"},reference:{type:Se(Object),default:null},offset:{type:Number,default:8},strategy:{type:Se(String),values:eNe,default:"absolute"},showArrow:Boolean,...ko(["ariaLabel"])}),RA=it({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Se(Function)},"onUpdate:open":{type:Se(Function)}}),Kf={type:Se(Function)},AA=it({onBlur:Kf,onClick:Kf,onFocus:Kf,onMouseDown:Kf,onMouseEnter:Kf,onMouseLeave:Kf}),nNe=it({...RA,...IA,...AA,...kA,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Se(Object),default:null},teleported:Boolean,to:{type:Se(String),default:"body"}}),rS=Symbol("tooltipV2"),Ij=Symbol("tooltipV2Content"),kI="tooltip_v2.open",rNe=he({name:"ElTooltipV2Root"}),oNe=he({...rNe,props:RA,setup(e,{expose:t}){const r=e,o=q(r.defaultOpen),a=q(null),l=D({get:()=>gd(r.open)?o.value:r.open,set:I=>{var C;o.value=I,(C=r["onUpdate:open"])==null||C.call(r,I)}}),c=D(()=>xt(r.delayDuration)&&r.delayDuration>0),{start:d,stop:h}=md(()=>{l.value=!0},D(()=>r.delayDuration),{immediate:!1}),m=Je("tooltip-v2"),g=Mo(),v=()=>{h(),l.value=!0},_=()=>{f(c)?d():v()},S=v,T=()=>{h(),l.value=!1};return Ge(l,I=>{var C;I&&(document.dispatchEvent(new CustomEvent(kI)),S()),(C=r.onOpenChange)==null||C.call(r,I)}),Zt(()=>{document.addEventListener(kI,T)}),ur(()=>{h(),document.removeEventListener(kI,T)}),pn(rS,{contentId:g,triggerRef:a,ns:m,onClose:T,onDelayOpen:_,onOpen:S}),t({onOpen:S,onClose:T}),(I,C)=>Pe(I.$slots,"default",{open:f(l)})}});var iNe=at(oNe,[["__file","root.vue"]]);const aNe=he({name:"ElTooltipV2Arrow"}),sNe=he({...aNe,props:{...IA,...ZOe},setup(e){const t=e,{ns:r}=pt(rS),{arrowRef:o}=pt(Ij),a=D(()=>{const{style:l,width:c,height:d}=t,h=r.namespace.value;return{[`--${h}-tooltip-v2-arrow-width`]:`${c}px`,[`--${h}-tooltip-v2-arrow-height`]:`${d}px`,[`--${h}-tooltip-v2-arrow-border-width`]:`${c/2}px`,[`--${h}-tooltip-v2-arrow-cover-width`]:c/2-1,...l||{}}});return(l,c)=>(F(),Q("span",{ref_key:"arrowRef",ref:o,style:kt(f(a)),class:B(f(r).e("arrow"))},null,6))}});var gU=at(sNe,[["__file","arrow.vue"]]);const lNe=it({style:{type:Se([String,Object,Array]),default:()=>({})}}),cNe=he({name:"ElVisuallyHidden"}),uNe=he({...cNe,props:lNe,setup(e){const t=e,r=D(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(o,a)=>(F(),Q("span",sn(o.$attrs,{style:f(r)}),[Pe(o.$slots,"default")],16))}});var dNe=at(uNe,[["__file","visual-hidden.vue"]]);const fNe=he({name:"ElTooltipV2Content"}),hNe=he({...fNe,props:{...kA,...Cj},setup(e){const t=e,{triggerRef:r,contentId:o}=pt(rS),a=q(t.placement),l=q(t.strategy),c=q(null),{referenceRef:d,contentRef:h,middlewareData:m,x:g,y:v,update:_}=qve({placement:a,strategy:l,middleware:D(()=>{const R=[R6(t.offset)];return t.showArrow&&R.push(Yve({arrowRef:c})),R})}),S=zh().nextZIndex(),T=Je("tooltip-v2"),b=D(()=>a.value.split("-")[0]),I=D(()=>({position:f(l),top:`${f(v)||0}px`,left:`${f(g)||0}px`,zIndex:S})),C=D(()=>{if(!t.showArrow)return{};const{arrow:R}=f(m);return{[`--${T.namespace.value}-tooltip-v2-arrow-x`]:`${R==null?void 0:R.x}px`||"",[`--${T.namespace.value}-tooltip-v2-arrow-y`]:`${R==null?void 0:R.y}px`||""}}),P=D(()=>[T.e("content"),T.is("dark",t.effect==="dark"),T.is(f(l)),t.contentClass]);return Ge(c,()=>_()),Ge(()=>t.placement,R=>a.value=R),Zt(()=>{Ge(()=>t.reference||r.value,R=>{d.value=R||void 0},{immediate:!0})}),pn(Ij,{arrowRef:c}),(R,k)=>(F(),Q("div",{ref_key:"contentRef",ref:h,style:kt(f(I)),"data-tooltip-v2-root":""},[R.nowrap?Ie("v-if",!0):(F(),Q("div",{key:0,"data-side":f(b),class:B(f(P))},[Pe(R.$slots,"default",{contentStyle:f(I),contentClass:f(P)}),se(f(dNe),{id:f(o),role:"tooltip"},{default:ye(()=>[R.ariaLabel?(F(),Q(Tt,{key:0},[Jt(et(R.ariaLabel),1)],64)):Pe(R.$slots,"default",{key:1})]),_:3},8,["id"]),Pe(R.$slots,"arrow",{style:kt(f(C)),side:f(b)})],10,["data-side"]))],4))}});var yU=at(hNe,[["__file","content.vue"]]);const pNe=it({setRef:{type:Se(Function),required:!0},onlyChild:Boolean});var mNe=he({props:pNe,setup(e,{slots:t}){const r=q(),o=$0(r,a=>{a?e.setRef(a.nextElementSibling):e.setRef(null)});return()=>{var a;const[l]=((a=t.default)==null?void 0:a.call(t))||[],c=e.onlyChild?Bpe(l.children):l.children;return se(Tt,{ref:o},[c])}}});const vNe=he({name:"ElTooltipV2Trigger"}),gNe=he({...vNe,props:{...Cj,...AA},setup(e){const t=e,{onClose:r,onOpen:o,onDelayOpen:a,triggerRef:l,contentId:c}=pt(rS);let d=!1;const h=P=>{l.value=P},m=()=>{d=!1},g=Rr(t.onMouseEnter,a),v=Rr(t.onMouseLeave,r),_=Rr(t.onMouseDown,()=>{r(),d=!0,document.addEventListener("mouseup",m,{once:!0})}),S=Rr(t.onFocus,()=>{d||o()}),T=Rr(t.onBlur,r),b=Rr(t.onClick,P=>{P.detail===0&&r()}),I={blur:T,click:b,focus:S,mousedown:_,mouseenter:g,mouseleave:v},C=(P,R,k)=>{P&&Object.entries(R).forEach(([N,O])=>{P[k](N,O)})};return Ge(l,(P,R)=>{C(P,I,"addEventListener"),C(R,I,"removeEventListener"),P&&P.setAttribute("aria-describedby",c.value)}),ur(()=>{C(l.value,I,"removeEventListener"),document.removeEventListener("mouseup",m)}),(P,R)=>P.nowrap?(F(),Ve(f(mNe),{key:0,"set-ref":h,"only-child":""},{default:ye(()=>[Pe(P.$slots,"default")]),_:3})):(F(),Q("button",sn({key:1,ref_key:"triggerRef",ref:l},P.$attrs),[Pe(P.$slots,"default")],16))}});var yNe=at(gNe,[["__file","trigger.vue"]]);const _Ne=he({name:"ElTooltipV2"}),bNe=he({..._Ne,props:nNe,setup(e){const r=So(e),o=Un(xa(r,Object.keys(IA))),a=Un(xa(r,Object.keys(kA))),l=Un(xa(r,Object.keys(RA))),c=Un(xa(r,Object.keys(AA)));return(d,h)=>(F(),Ve(iNe,Ma(Pc(l)),{default:ye(({open:m})=>[se(yNe,sn(c,{nowrap:""}),{default:ye(()=>[Pe(d.$slots,"trigger")]),_:3},16),se(f(qh),{to:d.to,disabled:!d.teleported},{default:ye(()=>[d.fullTransition?(F(),Ve(eo,Ma(sn({key:0},d.transitionProps)),{default:ye(()=>[d.alwaysOn||m?(F(),Ve(yU,Ma(sn({key:0},a)),{arrow:ye(({style:g,side:v})=>[d.showArrow?(F(),Ve(gU,sn({key:0},o,{style:g,side:v}),null,16,["style","side"])):Ie("v-if",!0)]),default:ye(()=>[Pe(d.$slots,"default")]),_:3},16)):Ie("v-if",!0)]),_:2},1040)):(F(),Q(Tt,{key:1},[d.alwaysOn||m?(F(),Ve(yU,Ma(sn({key:0},a)),{arrow:ye(({style:g,side:v})=>[d.showArrow?(F(),Ve(gU,sn({key:0},o,{style:g,side:v}),null,16,["style","side"])):Ie("v-if",!0)]),default:ye(()=>[Pe(d.$slots,"default")]),_:3},16)):Ie("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var SNe=at(bNe,[["__file","tooltip.vue"]]);const ENe=Kt(SNe),kj="left-check-change",Rj="right-check-change",Xf=it({data:{type:Se(Array),default:()=>[]},titles:{type:Se(Array),default:()=>[]},buttonTexts:{type:Se(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Se(Function)},leftDefaultChecked:{type:Se(Array),default:()=>[]},rightDefaultChecked:{type:Se(Array),default:()=>[]},renderContent:{type:Se(Function)},modelValue:{type:Se(Array),default:()=>[]},format:{type:Se(Object),default:()=>({})},filterable:Boolean,props:{type:Se(Object),default:()=>Er({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),qk=(e,t)=>[e,t].every(ht)||ht(e)&&yo(t),TNe={[pr]:(e,t,r)=>[e,r].every(ht)&&["left","right"].includes(t),[tn]:e=>ht(e),[kj]:qk,[Rj]:qk},Yk="checked-change",CNe=it({data:Xf.data,optionRender:{type:Se(Function)},placeholder:String,title:String,filterable:Boolean,format:Xf.format,filterMethod:Xf.filterMethod,defaultChecked:Xf.leftDefaultChecked,props:Xf.props}),wNe={[Yk]:qk},Eg=e=>{const t={label:"label",key:"key",disabled:"disabled"};return D(()=>({...t,...e.props}))},INe=(e,t,r)=>{const o=Eg(e),a=D(()=>e.data.filter(g=>Lt(e.filterMethod)?e.filterMethod(t.query,g):String(g[o.value.label]||g[o.value.key]).toLowerCase().includes(t.query.toLowerCase()))),l=D(()=>a.value.filter(g=>!g[o.value.disabled])),c=D(()=>{const g=t.checked.length,v=e.data.length,{noChecked:_,hasChecked:S}=e.format;return _&&S?g>0?S.replace(/\${checked}/g,g.toString()).replace(/\${total}/g,v.toString()):_.replace(/\${total}/g,v.toString()):`${g}/${v}`}),d=D(()=>{const g=t.checked.length;return g>0&&g<l.value.length}),h=()=>{const g=l.value.map(v=>v[o.value.key]);t.allChecked=g.length>0&&g.every(v=>t.checked.includes(v))},m=g=>{t.checked=g?l.value.map(v=>v[o.value.key]):[]};return Ge(()=>t.checked,(g,v)=>{if(h(),t.checkChangeByUser){const _=g.concat(v).filter(S=>!g.includes(S)||!v.includes(S));r(Yk,g,_)}else r(Yk,g),t.checkChangeByUser=!0}),Ge(l,()=>{h()}),Ge(()=>e.data,()=>{const g=[],v=a.value.map(_=>_[o.value.key]);t.checked.forEach(_=>{v.includes(_)&&g.push(_)}),t.checkChangeByUser=!1,t.checked=g}),Ge(()=>e.defaultChecked,(g,v)=>{if(v&&g.length===v.length&&g.every(T=>v.includes(T)))return;const _=[],S=l.value.map(T=>T[o.value.key]);g.forEach(T=>{S.includes(T)&&_.push(T)}),t.checkChangeByUser=!1,t.checked=_},{immediate:!0}),{filteredData:a,checkableData:l,checkedSummary:c,isIndeterminate:d,updateAllChecked:h,handleAllCheckedChange:m}},kNe=(e,t)=>({onSourceCheckedChange:(a,l)=>{e.leftChecked=a,l&&t(kj,a,l)},onTargetCheckedChange:(a,l)=>{e.rightChecked=a,l&&t(Rj,a,l)}}),RNe=e=>{const t=Eg(e),r=D(()=>e.data.reduce((l,c)=>(l[c[t.value.key]]=c)&&l,{})),o=D(()=>e.data.filter(l=>!e.modelValue.includes(l[t.value.key]))),a=D(()=>e.targetOrder==="original"?e.data.filter(l=>e.modelValue.includes(l[t.value.key])):e.modelValue.reduce((l,c)=>{const d=r.value[c];return d&&l.push(d),l},[]));return{sourceData:o,targetData:a}},ANe=(e,t,r)=>{const o=Eg(e),a=(d,h,m)=>{r(tn,d),r(pr,d,h,m)};return{addToLeft:()=>{const d=e.modelValue.slice();t.rightChecked.forEach(h=>{const m=d.indexOf(h);m>-1&&d.splice(m,1)}),a(d,"left",t.rightChecked)},addToRight:()=>{let d=e.modelValue.slice();const h=e.data.filter(m=>{const g=m[o.value.key];return t.leftChecked.includes(g)&&!e.modelValue.includes(g)}).map(m=>m[o.value.key]);d=e.targetOrder==="unshift"?h.concat(d):d.concat(h),e.targetOrder==="original"&&(d=e.data.filter(m=>d.includes(m[o.value.key])).map(m=>m[o.value.key])),a(d,"right",t.leftChecked)}}},ONe=he({name:"ElTransferPanel"}),NNe=he({...ONe,props:CNe,emits:wNe,setup(e,{expose:t,emit:r}){const o=e,a=co(),l=({option:R})=>R,{t:c}=En(),d=Je("transfer"),h=Un({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),m=Eg(o),{filteredData:g,checkedSummary:v,isIndeterminate:_,handleAllCheckedChange:S}=INe(o,h,r),T=D(()=>!da(h.query)&&da(g.value)),b=D(()=>!da(a.default()[0].children)),{checked:I,allChecked:C,query:P}=So(h);return t({query:P}),(R,k)=>(F(),Q("div",{class:B(f(d).b("panel"))},[te("p",{class:B(f(d).be("panel","header"))},[se(f(_a),{modelValue:f(C),"onUpdate:modelValue":N=>lr(C)?C.value=N:null,indeterminate:f(_),"validate-event":!1,onChange:f(S)},{default:ye(()=>[Jt(et(R.title)+" ",1),te("span",null,et(f(v)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),te("div",{class:B([f(d).be("panel","body"),f(d).is("with-footer",f(b))])},[R.filterable?(F(),Ve(f(wo),{key:0,modelValue:f(P),"onUpdate:modelValue":N=>lr(P)?P.value=N:null,class:B(f(d).be("panel","filter")),size:"default",placeholder:R.placeholder,"prefix-icon":f(bpe),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Ie("v-if",!0),qt(se(f(PH),{modelValue:f(I),"onUpdate:modelValue":N=>lr(I)?I.value=N:null,"validate-event":!1,class:B([f(d).is("filterable",R.filterable),f(d).be("panel","list")])},{default:ye(()=>[(F(!0),Q(Tt,null,fn(f(g),N=>(F(),Ve(f(_a),{key:N[f(m).key],class:B(f(d).be("panel","item")),value:N[f(m).key],disabled:N[f(m).disabled],"validate-event":!1},{default:ye(()=>{var O;return[se(l,{option:(O=R.optionRender)==null?void 0:O.call(R,N)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[Nn,!f(T)&&!f(da)(R.data)]]),qt(te("p",{class:B(f(d).be("panel","empty"))},et(f(T)?f(c)("el.transfer.noMatch"):f(c)("el.transfer.noData")),3),[[Nn,f(T)||f(da)(R.data)]])],2),f(b)?(F(),Q("p",{key:0,class:B(f(d).be("panel","footer"))},[Pe(R.$slots,"default")],2)):Ie("v-if",!0)],2))}});var _U=at(NNe,[["__file","transfer-panel.vue"]]);const PNe=he({name:"ElTransfer"}),DNe=he({...PNe,props:Xf,emits:TNe,setup(e,{expose:t,emit:r}){const o=e,a=co(),{t:l}=En(),c=Je("transfer"),{formItem:d}=Go(),h=Un({leftChecked:[],rightChecked:[]}),m=Eg(o),{sourceData:g,targetData:v}=RNe(o),{onSourceCheckedChange:_,onTargetCheckedChange:S}=kNe(h,r),{addToLeft:T,addToRight:b}=ANe(o,h,r),I=q(),C=q(),P=L=>{switch(L){case"left":I.value.query="";break;case"right":C.value.query="";break}},R=D(()=>o.buttonTexts.length===2),k=D(()=>o.titles[0]||l("el.transfer.titles.0")),N=D(()=>o.titles[1]||l("el.transfer.titles.1")),O=D(()=>o.filterPlaceholder||l("el.transfer.filterPlaceholder"));Ge(()=>o.modelValue,()=>{var L;o.validateEvent&&((L=d==null?void 0:d.validate)==null||L.call(d,"change").catch(M=>void 0))});const $=D(()=>L=>o.renderContent?o.renderContent(Ot,L):a.default?a.default({option:L}):Ot("span",L[m.value.label]||L[m.value.key]));return t({clearQuery:P,leftPanel:I,rightPanel:C}),(L,M)=>(F(),Q("div",{class:B(f(c).b())},[se(_U,{ref_key:"leftPanel",ref:I,data:f(g),"option-render":f($),placeholder:f(O),title:f(k),filterable:L.filterable,format:L.format,"filter-method":L.filterMethod,"default-checked":L.leftDefaultChecked,props:o.props,onCheckedChange:f(_)},{default:ye(()=>[Pe(L.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),te("div",{class:B(f(c).e("buttons"))},[se(f(lo),{type:"primary",class:B([f(c).e("button"),f(c).is("with-texts",f(R))]),disabled:f(da)(h.rightChecked),onClick:f(T)},{default:ye(()=>[se(f(St),null,{default:ye(()=>[se(f(xc))]),_:1}),f(Ar)(L.buttonTexts[0])?Ie("v-if",!0):(F(),Q("span",{key:0},et(L.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),se(f(lo),{type:"primary",class:B([f(c).e("button"),f(c).is("with-texts",f(R))]),disabled:f(da)(h.leftChecked),onClick:f(b)},{default:ye(()=>[f(Ar)(L.buttonTexts[1])?Ie("v-if",!0):(F(),Q("span",{key:0},et(L.buttonTexts[1]),1)),se(f(St),null,{default:ye(()=>[se(f(ai))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),se(_U,{ref_key:"rightPanel",ref:C,data:f(v),"option-render":f($),placeholder:f(O),filterable:L.filterable,format:L.format,"filter-method":L.filterMethod,title:f(N),"default-checked":L.rightDefaultChecked,props:o.props,onCheckedChange:f(S)},{default:ye(()=>[Pe(L.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var LNe=at(DNe,[["__file","transfer.vue"]]);const MNe=Kt(LNe),fh="$treeNodeId",bU=function(e,t){!t||t[fh]||Object.defineProperty(t,fh,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},OA=function(e,t){return e?t[e]:t[fh]},Jk=(e,t,r)=>{const o=e.value.currentNode;r();const a=e.value.currentNode;o!==a&&t("current-change",a?a.data:null,a)},Xk=e=>{let t=!0,r=!0,o=!0;for(let a=0,l=e.length;a<l;a++){const c=e[a];(c.checked!==!0||c.indeterminate)&&(t=!1,c.disabled||(o=!1)),(c.checked!==!1||c.indeterminate)&&(r=!1)}return{all:t,none:r,allWithoutDisable:o,half:!t&&!r}},nv=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:r,half:o}=Xk(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):o?(e.checked=!1,e.indeterminate=!0):r&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||nv(a)},vb=function(e,t){const r=e.store.props,o=e.data||{},a=r[t];if(typeof a=="function")return a(o,e);if(typeof a=="string")return o[a];if(typeof a=="undefined"){const l=o[t];return l===void 0?"":l}};let xNe=0;class fd{constructor(t){this.id=xNe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const r in t)wn(t,r)&&(this[r]=t[r]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const r=t.props;if(r&&typeof r.isLeaf!="undefined"){const l=vb(this,"isLeaf");typeof l=="boolean"&&(this.isLeafByUser=l)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||bU(this,this.data),!this.data)return;const o=t.defaultExpandedKeys,a=t.key;a&&o&&o.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||bU(this,t),this.data=t,this.childNodes=[];let r;this.level===0&&Array.isArray(this.data)?r=this.data:r=vb(this,"children")||[];for(let o=0,a=r.length;o<a;o++)this.insertChild({data:r[o]})}get label(){return vb(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return vb(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const r=t.childNodes.indexOf(this);if(r>-1)return t.childNodes[r+1]}return null}get previousSibling(){const t=this.parent;if(t){const r=t.childNodes.indexOf(this);if(r>-1)return r>0?t.childNodes[r-1]:null}return null}contains(t,r=!0){return(this.childNodes||[]).some(o=>o===t||r&&o.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,r,o){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof fd)){if(!o){const a=this.getChildren(!0);a.includes(t.data)||(typeof r=="undefined"||r<0?a.push(t.data):a.splice(r,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Un(new fd(t)),t instanceof fd&&t.initialize()}t.level=this.level+1,typeof r=="undefined"||r<0?this.childNodes.push(t):this.childNodes.splice(r,0,t),this.updateLeafState()}insertBefore(t,r){let o;r&&(o=this.childNodes.indexOf(r)),this.insertChild(t,o)}insertAfter(t,r){let o;r&&(o=this.childNodes.indexOf(r),o!==-1&&(o+=1)),this.insertChild(t,o)}removeChild(t){const r=this.getChildren()||[],o=r.indexOf(t.data);o>-1&&r.splice(o,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let r=null;for(let o=0;o<this.childNodes.length;o++)if(this.childNodes[o].data===t){r=this.childNodes[o];break}r&&this.removeChild(r)}expand(t,r){const o=()=>{if(r){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Array.isArray(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||nv(this),o())}):o()}doCreateChildren(t,r={}){t.forEach(o=>{this.insertChild(Object.assign({data:o},r),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser!="undefined"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,r,o,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:c,allWithoutDisable:d}=Xk(this.childNodes);!this.isLeaf&&!c&&d&&(this.checked=!1,t=!1);const h=()=>{if(r){const m=this.childNodes;for(let _=0,S=m.length;_<S;_++){const T=m[_];a=a||t!==!1;const b=T.disabled?T.checked:a;T.setChecked(b,r,!0,a)}const{half:g,all:v}=Xk(m);v||(this.checked=v,this.indeterminate=g)}};if(this.shouldLoadData()){this.loadData(()=>{h(),nv(this)},{checked:t!==!1});return}else h()}const l=this.parent;!l||l.level===0||o||nv(l)}getChildren(t=!1){if(this.level===0)return this.data;const r=this.data;if(!r)return null;const o=this.store.props;let a="children";return o&&(a=o.children||"children"),r[a]===void 0&&(r[a]=null),t&&!r[a]&&(r[a]=[]),r[a]}updateChildren(){const t=this.getChildren()||[],r=this.childNodes.map(l=>l.data),o={},a=[];t.forEach((l,c)=>{const d=l[fh];!!d&&r.findIndex(m=>m[fh]===d)>=0?o[d]={index:c,data:l}:a.push({index:c,data:l})}),this.store.lazy||r.forEach(l=>{o[l[fh]]||this.removeChildByData(l)}),a.forEach(({index:l,data:c})=>{this.insertChild({data:c},l)}),this.updateLeafState()}loadData(t,r={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(r).length)){this.loading=!0;const o=l=>{this.childNodes=[],this.doCreateChildren(l,r),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,l)},a=()=>{this.loading=!1};this.store.load(this,o,a)}else t&&t.call(this)}eachNode(t){const r=[this];for(;r.length;){const o=r.shift();r.unshift(...o.childNodes),t(o)}}reInitChecked(){this.store.checkStrictly||nv(this)}}class VNe{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const r in t)wn(t,r)&&(this[r]=t[r]);this.nodesMap={}}initialize(){if(this.root=new fd({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,r=>{this.root.doCreateChildren(r),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const r=this.filterNodeMethod,o=this.lazy,a=function(l){const c=l.root?l.root.childNodes:l.childNodes;if(c.forEach(d=>{d.visible=r.call(d,t,d.data,d),a(d)}),!l.visible&&c.length){let d=!0;d=!c.some(h=>h.visible),l.root?l.root.visible=d===!1:l.visible=d===!1}!t||l.visible&&!l.isLeaf&&(!o||l.loaded)&&l.expand()};a(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof fd)return t;const r=nn(t)?OA(this.key,t):t;return this.nodesMap[r]||null}insertBefore(t,r){const o=this.getNode(r);o.parent.insertBefore({data:t},o)}insertAfter(t,r){const o=this.getNode(r);o.parent.insertAfter({data:t},o)}remove(t){const r=this.getNode(t);r&&r.parent&&(r===this.currentNode&&(this.currentNode=null),r.parent.removeChild(r))}append(t,r){const o=gd(r)?this.root:this.getNode(r);o&&o.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],r=this.nodesMap;t.forEach(o=>{const a=r[o];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const r=this.key;!t||!t.data||(r?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(o=>{this.deregisterNode(o)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,r=!1){const o=[],a=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(d=>{(d.checked||r&&d.indeterminate)&&(!t||t&&d.isLeaf)&&o.push(d.data),a(d)})};return a(this),o}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(r=>(r||{})[this.key])}getHalfCheckedNodes(){const t=[],r=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(l=>{l.indeterminate&&t.push(l.data),r(l)})};return r(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],r=this.nodesMap;for(const o in r)wn(r,o)&&t.push(r[o]);return t}updateChildren(t,r){const o=this.nodesMap[t];if(!o)return;const a=o.childNodes;for(let l=a.length-1;l>=0;l--){const c=a[l];this.remove(c.data)}for(let l=0,c=r.length;l<c;l++){const d=r[l];this.append(d,o.data)}}_setCheckedKeys(t,r=!1,o){const a=this._getAllNodes().sort((h,m)=>h.level-m.level),l=Object.create(null),c=Object.keys(o);a.forEach(h=>h.setChecked(!1,!1));const d=h=>{h.childNodes.forEach(m=>{var g;l[m.data[t]]=!0,(g=m.childNodes)!=null&&g.length&&d(m)})};for(let h=0,m=a.length;h<m;h++){const g=a[h],v=g.data[t].toString();if(!c.includes(v)){g.checked&&!l[v]&&g.setChecked(!1,!1);continue}if(g.childNodes.length&&d(g),g.isLeaf||this.checkStrictly){g.setChecked(!0,!1);continue}if(g.setChecked(!0,!0),r){g.setChecked(!1,!1);const S=function(T){T.childNodes.forEach(I=>{I.isLeaf||I.setChecked(!1,!1),S(I)})};S(g)}}}setCheckedNodes(t,r=!1){const o=this.key,a={};t.forEach(l=>{a[(l||{})[o]]=!0}),this._setCheckedKeys(o,r,a)}setCheckedKeys(t,r=!1){this.defaultCheckedKeys=t;const o=this.key,a={};t.forEach(l=>{a[l]=!0}),this._setCheckedKeys(o,r,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(r=>{const o=this.getNode(r);o&&o.expand(null,this.autoExpandParent)})}setChecked(t,r,o){const a=this.getNode(t);a&&a.setChecked(!!r,o)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const r=this.currentNode;r&&(r.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,r=!0){const o=t[this.key],a=this.nodesMap[o];this.setCurrentNode(a),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,r=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const o=this.getNode(t);o&&(this.setCurrentNode(o),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const FNe=he({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=Je("tree"),r=pt("NodeInstance"),o=pt("RootTree");return()=>{const a=e.node,{data:l,store:c}=a;return e.renderContent?e.renderContent(Ot,{_self:r,node:a,data:l,store:c}):Pe(o.ctx.slots,"default",{node:a,data:l},()=>[Ot("span",{class:t.be("node","label")},[a.label])])}}});var $Ne=at(FNe,[["__file","tree-node-content.vue"]]);function Aj(e){const t=pt("TreeNodeMap",null),r={treeNodeExpand:o=>{e.node!==o&&e.node.collapse()},children:[]};return t&&t.children.push(r),pn("TreeNodeMap",r),{broadcastExpanded:o=>{if(!!e.accordion)for(const a of r.children)a.treeNodeExpand(o)}}}const Oj=Symbol("dragEvents");function UNe({props:e,ctx:t,el$:r,dropIndicator$:o,store:a}){const l=Je("tree"),c=q({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return pn(Oj,{treeNodeDragStart:({event:g,treeNode:v})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(v.node))return g.preventDefault(),!1;g.dataTransfer.effectAllowed="move";try{g.dataTransfer.setData("text/plain","")}catch{}c.value.draggingNode=v,t.emit("node-drag-start",v.node,g)},treeNodeDragOver:({event:g,treeNode:v})=>{const _=v,S=c.value.dropNode;S&&S.node.id!==_.node.id&&Ko(S.$el,l.is("drop-inner"));const T=c.value.draggingNode;if(!T||!_)return;let b=!0,I=!0,C=!0,P=!0;typeof e.allowDrop=="function"&&(b=e.allowDrop(T.node,_.node,"prev"),P=I=e.allowDrop(T.node,_.node,"inner"),C=e.allowDrop(T.node,_.node,"next")),g.dataTransfer.dropEffect=I||b||C?"move":"none",(b||I||C)&&(S==null?void 0:S.node.id)!==_.node.id&&(S&&t.emit("node-drag-leave",T.node,S.node,g),t.emit("node-drag-enter",T.node,_.node,g)),b||I||C?c.value.dropNode=_:c.value.dropNode=null,_.node.nextSibling===T.node&&(C=!1),_.node.previousSibling===T.node&&(b=!1),_.node.contains(T.node,!1)&&(I=!1),(T.node===_.node||T.node.contains(_.node))&&(b=!1,I=!1,C=!1);const R=_.$el.querySelector(`.${l.be("node","content")}`).getBoundingClientRect(),k=r.value.getBoundingClientRect();let N;const O=b?I?.25:C?.45:1:-1,$=C?I?.75:b?.55:0:1;let L=-9999;const M=g.clientY-R.top;M<R.height*O?N="before":M>R.height*$?N="after":I?N="inner":N="none";const U=_.$el.querySelector(`.${l.be("node","expand-icon")}`).getBoundingClientRect(),j=o.value;N==="before"?L=U.top-k.top:N==="after"&&(L=U.bottom-k.top),j.style.top=`${L}px`,j.style.left=`${U.right-k.left}px`,N==="inner"?fa(_.$el,l.is("drop-inner")):Ko(_.$el,l.is("drop-inner")),c.value.showDropIndicator=N==="before"||N==="after",c.value.allowDrop=c.value.showDropIndicator||P,c.value.dropType=N,t.emit("node-drag-over",T.node,_.node,g)},treeNodeDragEnd:g=>{const{draggingNode:v,dropType:_,dropNode:S}=c.value;if(g.preventDefault(),g.dataTransfer.dropEffect="move",v&&S){const T={data:v.node.data};_!=="none"&&v.node.remove(),_==="before"?S.node.parent.insertBefore(T,S.node):_==="after"?S.node.parent.insertAfter(T,S.node):_==="inner"&&S.node.insertChild(T),_!=="none"&&(a.value.registerNode(T),a.value.key&&v.node.eachNode(b=>{var I;(I=a.value.nodesMap[b.data[a.value.key]])==null||I.setChecked(b.checked,!a.value.checkStrictly)})),Ko(S.$el,l.is("drop-inner")),t.emit("node-drag-end",v.node,S.node,_,g),_!=="none"&&t.emit("node-drop",v.node,S.node,_,g)}v&&!S&&t.emit("node-drag-end",v.node,null,_,g),c.value.showDropIndicator=!1,c.value.draggingNode=null,c.value.dropNode=null,c.value.allowDrop=!0}}),{dragState:c}}const BNe=he({name:"ElTreeNode",components:{ElCollapseTransition:X0,ElCheckbox:_a,NodeContent:$Ne,ElIcon:St,Loading:Ts},props:{node:{type:fd,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const r=Je("tree"),{broadcastExpanded:o}=Aj(e),a=pt("RootTree"),l=q(!1),c=q(!1),d=q(null),h=q(null),m=q(null),g=pt(Oj),v=Qt();pn("NodeInstance",v),e.node.expanded&&(l.value=!0,c.value=!0);const _=a.props.props.children||"children";Ge(()=>{const M=e.node.data[_];return M&&[...M]},()=>{e.node.updateChildren()}),Ge(()=>e.node.indeterminate,M=>{b(e.node.checked,M)}),Ge(()=>e.node.checked,M=>{b(M,e.node.indeterminate)}),Ge(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),Ge(()=>e.node.expanded,M=>{wt(()=>l.value=M),M&&(c.value=!0)});const S=M=>OA(a.props.nodeKey,M.data),T=M=>{const U=e.props.class;if(!U)return{};let j;if(Lt(U)){const{data:W}=M;j=U(W,M)}else j=U;return Mt(j)?{[j]:!0}:j},b=(M,U)=>{(d.value!==M||h.value!==U)&&a.ctx.emit("check-change",e.node.data,M,U),d.value=M,h.value=U},I=M=>{Jk(a.store,a.ctx.emit,()=>a.store.value.setCurrentNode(e.node)),a.currentNode.value=e.node,a.props.expandOnClickNode&&P(),a.props.checkOnClickNode&&!e.node.disabled&&R(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,v,M)},C=M=>{a.instance.vnode.props.onNodeContextmenu&&(M.stopPropagation(),M.preventDefault()),a.ctx.emit("node-contextmenu",M,e.node.data,e.node,v)},P=()=>{e.node.isLeaf||(l.value?(a.ctx.emit("node-collapse",e.node.data,e.node,v),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,v)))},R=(M,U)=>{e.node.setChecked(U.target.checked,!a.props.checkStrictly),wt(()=>{const j=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:j.getCheckedNodes(),checkedKeys:j.getCheckedKeys(),halfCheckedNodes:j.getHalfCheckedNodes(),halfCheckedKeys:j.getHalfCheckedKeys()})})};return{ns:r,node$:m,tree:a,expanded:l,childNodeRendered:c,oldChecked:d,oldIndeterminate:h,getNodeKey:S,getNodeClass:T,handleSelectChange:b,handleClick:I,handleContextMenu:C,handleExpandIconClick:P,handleCheckChange:R,handleChildNodeExpand:(M,U,j)=>{o(U),a.ctx.emit("node-expand",M,U,j)},handleDragStart:M=>{!a.props.draggable||g.treeNodeDragStart({event:M,treeNode:e})},handleDragOver:M=>{M.preventDefault(),a.props.draggable&&g.treeNodeDragOver({event:M,treeNode:{$el:m.value,node:e.node}})},handleDrop:M=>{M.preventDefault()},handleDragEnd:M=>{!a.props.draggable||g.treeNodeDragEnd(M)},CaretRight:K8}}});function HNe(e,t,r,o,a,l){const c=en("el-icon"),d=en("el-checkbox"),h=en("loading"),m=en("node-content"),g=en("el-tree-node"),v=en("el-collapse-transition");return qt((F(),Q("div",{ref:"node$",class:B([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:Vt(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:Vt(e.handleDragStart,["stop"]),onDragover:Vt(e.handleDragOver,["stop"]),onDragend:Vt(e.handleDragEnd,["stop"]),onDrop:Vt(e.handleDrop,["stop"])},[te("div",{class:B(e.ns.be("node","content")),style:kt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(F(),Ve(c,{key:0,class:B([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Vt(e.handleExpandIconClick,["stop"])},{default:ye(()=>[(F(),Ve(ln(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Ie("v-if",!0),e.showCheckbox?(F(),Ve(d,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:Vt(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Ie("v-if",!0),e.node.loading?(F(),Ve(c,{key:2,class:B([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:ye(()=>[se(h)]),_:1},8,["class"])):Ie("v-if",!0),se(m,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),se(v,null,{default:ye(()=>[!e.renderAfterExpand||e.childNodeRendered?qt((F(),Q("div",{key:0,class:B(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(F(!0),Q(Tt,null,fn(e.node.childNodes,_=>(F(),Ve(g,{key:e.getNodeKey(_),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:_,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[Nn,e.expanded]]):Ie("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Nn,e.node.visible]])}var jNe=at(BNe,[["render",HNe],["__file","tree-node.vue"]]);function WNe({el$:e},t){const r=Je("tree"),o=dr([]),a=dr([]);Zt(()=>{c()}),yl(()=>{o.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),Ge(a,d=>{d.forEach(h=>{h.setAttribute("tabindex","-1")})}),Zn(e,"keydown",d=>{const h=d.target;if(!h.className.includes(r.b("node")))return;const m=d.code;o.value=Array.from(e.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`));const g=o.value.indexOf(h);let v;if([It.up,It.down].includes(m)){if(d.preventDefault(),m===It.up){v=g===-1?0:g!==0?g-1:o.value.length-1;const S=v;for(;!t.value.getNode(o.value[v].dataset.key).canFocus;){if(v--,v===S){v=-1;break}v<0&&(v=o.value.length-1)}}else{v=g===-1?0:g<o.value.length-1?g+1:0;const S=v;for(;!t.value.getNode(o.value[v].dataset.key).canFocus;){if(v++,v===S){v=-1;break}v>=o.value.length&&(v=0)}}v!==-1&&o.value[v].focus()}[It.left,It.right].includes(m)&&(d.preventDefault(),h.click());const _=h.querySelector('[type="checkbox"]');[It.enter,It.space].includes(m)&&_&&(d.preventDefault(),_.click())});const c=()=>{var d;o.value=Array.from(e.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const h=e.value.querySelectorAll(`.${r.is("checked")}[role=treeitem]`);if(h.length){h[0].setAttribute("tabindex","0");return}(d=o.value[0])==null||d.setAttribute("tabindex","0")}}const zNe=he({name:"ElTree",components:{ElTreeNode:jNe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:ir}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:r}=En(),o=Je("tree"),a=pt(Jh,null),l=q(new VNe({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));l.value.initialize();const c=q(l.value.root),d=q(null),h=q(null),m=q(null),{broadcastExpanded:g}=Aj(e),{dragState:v}=UNe({props:e,ctx:t,el$:h,dropIndicator$:m,store:l});WNe({el$:h},l);const _=D(()=>{const{childNodes:X}=c.value,H=a?a.hasFilteredOptions!==0:!1;return(!X||X.length===0||X.every(({visible:J})=>!J))&&!H});Ge(()=>e.currentNodeKey,X=>{l.value.setCurrentNodeKey(X)}),Ge(()=>e.defaultCheckedKeys,X=>{l.value.setDefaultCheckedKey(X)}),Ge(()=>e.defaultExpandedKeys,X=>{l.value.setDefaultExpandedKeys(X)}),Ge(()=>e.data,X=>{l.value.setData(X)},{deep:!0}),Ge(()=>e.checkStrictly,X=>{l.value.checkStrictly=X});const S=X=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");l.value.filter(X)},T=X=>OA(e.nodeKey,X.data),b=X=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const H=l.value.getNode(X);if(!H)return[];const J=[H.data];let fe=H.parent;for(;fe&&fe!==c.value;)J.push(fe.data),fe=fe.parent;return J.reverse()},I=(X,H)=>l.value.getCheckedNodes(X,H),C=X=>l.value.getCheckedKeys(X),P=()=>{const X=l.value.getCurrentNode();return X?X.data:null},R=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const X=P();return X?X[e.nodeKey]:null},k=(X,H)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");l.value.setCheckedNodes(X,H)},N=(X,H)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");l.value.setCheckedKeys(X,H)},O=(X,H,J)=>{l.value.setChecked(X,H,J)},$=()=>l.value.getHalfCheckedNodes(),L=()=>l.value.getHalfCheckedKeys(),M=(X,H=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Jk(l,t.emit,()=>{g(X),l.value.setUserCurrentNode(X,H)})},U=(X,H=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Jk(l,t.emit,()=>{g(),l.value.setCurrentNodeKey(X,H)})},j=X=>l.value.getNode(X),W=X=>{l.value.remove(X)},re=(X,H)=>{l.value.append(X,H)},ae=(X,H)=>{l.value.insertBefore(X,H)},ee=(X,H)=>{l.value.insertAfter(X,H)},G=(X,H,J)=>{g(H),t.emit("node-expand",X,H,J)},Z=(X,H)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");l.value.updateChildren(X,H)};return pn("RootTree",{ctx:t,props:e,store:l,root:c,currentNode:d,instance:Qt()}),pn(Is,void 0),{ns:o,store:l,root:c,currentNode:d,dragState:v,el$:h,dropIndicator$:m,isEmpty:_,filter:S,getNodeKey:T,getNodePath:b,getCheckedNodes:I,getCheckedKeys:C,getCurrentNode:P,getCurrentKey:R,setCheckedNodes:k,setCheckedKeys:N,setChecked:O,getHalfCheckedNodes:$,getHalfCheckedKeys:L,setCurrentNode:M,setCurrentKey:U,t:r,getNode:j,remove:W,append:re,insertBefore:ae,insertAfter:ee,handleNodeExpand:G,updateKeyChildren:Z}}});function KNe(e,t,r,o,a,l){const c=en("el-tree-node");return F(),Q("div",{ref:"el$",class:B([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(F(!0),Q(Tt,null,fn(e.root.childNodes,d=>(F(),Ve(c,{key:e.getNodeKey(d),node:d,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(F(),Q("div",{key:0,class:B(e.ns.e("empty-block"))},[Pe(e.$slots,"empty",{},()=>{var d;return[te("span",{class:B(e.ns.e("empty-text"))},et((d=e.emptyText)!=null?d:e.t("el.tree.emptyText")),3)]})],2)):Ie("v-if",!0),qt(te("div",{ref:"dropIndicator$",class:B(e.ns.e("drop-indicator"))},null,2),[[Nn,e.dragState.showDropIndicator]])],2)}var GNe=at(zNe,[["render",KNe],["__file","tree.vue"]]);const f0=Kt(GNe),qNe=(e,{attrs:t,emit:r},{select:o,tree:a,key:l})=>{const c=Je("tree-select");return Ge(()=>e.data,()=>{e.filterable&&wt(()=>{var h,m;(m=a.value)==null||m.filter((h=o.value)==null?void 0:h.states.inputValue)})},{flush:"post"}),{...xa(So(e),Object.keys(Hc.props)),...t,"onUpdate:modelValue":h=>r(tn,h),valueKey:l,popperClass:D(()=>{const h=[c.e("popper")];return e.popperClass&&h.push(e.popperClass),h.join(" ")}),filterMethod:(h="")=>{var m;e.filterMethod?e.filterMethod(h):e.remoteMethod?e.remoteMethod(h):(m=a.value)==null||m.filter(h)}}},YNe=he({extends:Hv,setup(e,t){const r=Hv.setup(e,t);delete r.selectOptionClick;const o=Qt().proxy;return wt(()=>{r.select.states.cachedOptions.get(o.value)||r.select.onOptionCreate(o)}),Ge(()=>t.attrs.visible,a=>{r.states.visible=a},{immediate:!0}),r},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Qk(e){return e||e===0}function NA(e){return Array.isArray(e)&&e.length}function Xm(e){return Array.isArray(e)?e:Qk(e)?[e]:[]}function xb(e,t,r,o,a){for(let l=0;l<e.length;l++){const c=e[l];if(t(c,l,e,a))return o?o(c,l,e,a):c;{const d=r(c);if(NA(d)){const h=xb(d,t,r,o,c);if(h)return h}}}}function Zk(e,t,r,o){for(let a=0;a<e.length;a++){const l=e[a];t(l,a,e,o);const c=r(l);NA(c)&&Zk(c,t,r,l)}}const JNe=(e,{attrs:t,slots:r,emit:o},{select:a,tree:l,key:c})=>{Ge(()=>e.modelValue,()=>{e.showCheckbox&&wt(()=>{const v=l.value;v&&!ii(v.getCheckedKeys(),Xm(e.modelValue))&&v.setCheckedKeys(Xm(e.modelValue))})},{immediate:!0,deep:!0});const d=D(()=>({value:c.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),h=(v,_)=>{var S;const T=d.value[v];return Lt(T)?T(_,(S=l.value)==null?void 0:S.getNode(h("value",_))):_[T]},m=Xm(e.modelValue).map(v=>xb(e.data||[],_=>h("value",_)===v,_=>h("children",_),(_,S,T,b)=>b&&h("value",b))).filter(v=>Qk(v)),g=D(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const v=[];return Zk(e.data.concat(e.cacheData),_=>{const S=h("value",_);v.push({value:S,currentLabel:h("label",_),isDisabled:h("disabled",_)})},_=>h("children",_)),v});return{...xa(So(e),Object.keys(f0.props)),...t,nodeKey:c,expandOnClickNode:D(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:D(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(m):m),renderContent:(v,{node:_,data:S,store:T})=>v(YNe,{value:h("value",S),label:h("label",S),disabled:h("disabled",S),visible:_.visible},e.renderContent?()=>e.renderContent(v,{node:_,data:S,store:T}):r.default?()=>r.default({node:_,data:S,store:T}):void 0),filterNodeMethod:(v,_,S)=>e.filterNodeMethod?e.filterNodeMethod(v,_,S):v?new RegExp(pR(v),"i").test(h("label",_)||""):!0,onNodeClick:(v,_,S)=>{var T,b,I,C;if((T=t.onNodeClick)==null||T.call(t,v,_,S),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||_.isLeaf)){if(!h("disabled",v)){const P=(b=a.value)==null?void 0:b.states.options.get(h("value",v));(I=a.value)==null||I.handleOptionSelect(P)}}else e.expandOnClickNode&&S.proxy.handleExpandIconClick();(C=a.value)==null||C.focus()}},onCheck:(v,_)=>{var S;if(!e.showCheckbox)return;const T=h("value",v),b={};Zk([l.value.store.root],R=>b[R.key]=R,R=>R.childNodes);const I=_.checkedKeys,C=e.multiple?Xm(e.modelValue).filter(R=>!(R in b)&&!I.includes(R)):[],P=C.concat(I);if(e.checkStrictly)o(tn,e.multiple?P:P.includes(T)?T:void 0);else if(e.multiple)o(tn,C.concat(l.value.getCheckedKeys(!0)));else{const R=xb([v],O=>!NA(h("children",O))&&!h("disabled",O),O=>h("children",O)),k=R?h("value",R):void 0,N=Qk(e.modelValue)&&!!xb([v],O=>h("value",O)===e.modelValue,O=>h("children",O));o(tn,k===e.modelValue||N?void 0:k)}wt(()=>{var R;const k=Xm(e.modelValue);l.value.setCheckedKeys(k),(R=t.onCheck)==null||R.call(t,v,{checkedKeys:l.value.getCheckedKeys(),checkedNodes:l.value.getCheckedNodes(),halfCheckedKeys:l.value.getHalfCheckedKeys(),halfCheckedNodes:l.value.getHalfCheckedNodes()})}),(S=a.value)==null||S.focus()},cacheOptions:g}};var XNe=he({props:{data:{type:Array,default:()=>[]}},setup(e){const t=pt(Jh);return Ge(()=>e.data,()=>{var r;e.data.forEach(a=>{t.states.cachedOptions.has(a.value)||t.states.cachedOptions.set(a.value,a)});const o=((r=t.selectRef)==null?void 0:r.querySelectorAll("input"))||[];Sn&&!Array.from(o).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const QNe=he({name:"ElTreeSelect",inheritAttrs:!1,props:{...Hc.props,...f0.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:r,expose:o}=t,a=q(),l=q(),c=D(()=>e.nodeKey||e.valueKey||"value"),d=qNe(e,t,{select:a,tree:l,key:c}),{cacheOptions:h,...m}=JNe(e,t,{select:a,tree:l,key:c}),g=Un({});return o(g),Zt(()=>{Object.assign(g,{...xa(l.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...xa(a.value,["focus","blur"])})}),()=>Ot(Hc,Un({...d,ref:v=>a.value=v}),{...r,default:()=>[Ot(XNe,{data:h.value}),Ot(f0,Un({...m,ref:v=>l.value=v}))]})}});var ZNe=at(QNe,[["__file","tree-select.vue"]]);const ePe=Kt(ZNe),PA=Symbol(),tPe={key:-1,level:-1,data:{}};var rv=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(rv||{}),e1=(e=>(e.ADD="add",e.DELETE="delete",e))(e1||{});const Nj={type:Number,default:26},nPe=it({data:{type:Se(Array),default:()=>Er([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Se(Object),default:()=>Er({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Se(Array),default:()=>Er([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Se(Array),default:()=>Er([])},indent:{type:Number,default:16},itemSize:Nj,icon:{type:ir},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Se([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Se(Function)},perfMode:{type:Boolean,default:!0}}),rPe=it({node:{type:Se(Object),default:()=>Er(tPe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:Nj}),oPe=it({node:{type:Se(Object),required:!0}}),Pj="node-click",Dj="node-expand",Lj="node-collapse",Mj="current-change",xj="check",Vj="check-change",Fj="node-contextmenu",iPe={[Pj]:(e,t,r)=>e&&t&&r,[Dj]:(e,t)=>e&&t,[Lj]:(e,t)=>e&&t,[Mj]:(e,t)=>e&&t,[xj]:(e,t)=>e&&t,[Vj]:(e,t)=>e&&typeof t=="boolean",[Fj]:(e,t,r)=>e&&t&&r},aPe={click:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&typeof t=="boolean"};function sPe(e,t){const r=q(new Set),o=q(new Set),{emit:a}=Qt();Ge([()=>t.value,()=>e.defaultCheckedKeys],()=>wt(()=>{P(e.defaultCheckedKeys)}),{immediate:!0});const l=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:R,maxLevel:k}=t.value,N=r.value,O=new Set;for(let $=k-1;$>=1;--$){const L=R.get($);!L||L.forEach(M=>{const U=M.children;if(U){let j=!0,W=!1;for(const re of U){const ae=re.key;if(N.has(ae))W=!0;else if(O.has(ae)){j=!1,W=!0;break}else j=!1}j?N.add(M.key):W?(O.add(M.key),N.delete(M.key)):(N.delete(M.key),O.delete(M.key))}})}o.value=O},c=R=>r.value.has(R.key),d=R=>o.value.has(R.key),h=(R,k,N=!0)=>{const O=r.value,$=(L,M)=>{O[M?e1.ADD:e1.DELETE](L.key);const U=L.children;!e.checkStrictly&&U&&U.forEach(j=>{j.disabled||$(j,M)})};$(R,k),l(),N&&m(R,k)},m=(R,k)=>{const{checkedNodes:N,checkedKeys:O}=T(),{halfCheckedNodes:$,halfCheckedKeys:L}=b();a(xj,R.data,{checkedKeys:O,checkedNodes:N,halfCheckedKeys:L,halfCheckedNodes:$}),a(Vj,R.data,k)};function g(R=!1){return T(R).checkedKeys}function v(R=!1){return T(R).checkedNodes}function _(){return b().halfCheckedKeys}function S(){return b().halfCheckedNodes}function T(R=!1){const k=[],N=[];if((t==null?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:O}=t.value;r.value.forEach($=>{const L=O.get($);L&&(!R||R&&L.isLeaf)&&(N.push($),k.push(L.data))})}return{checkedKeys:N,checkedNodes:k}}function b(){const R=[],k=[];if((t==null?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:N}=t.value;o.value.forEach(O=>{const $=N.get(O);$&&(k.push(O),R.push($.data))})}return{halfCheckedNodes:R,halfCheckedKeys:k}}function I(R){r.value.clear(),o.value.clear(),wt(()=>{P(R)})}function C(R,k){if((t==null?void 0:t.value)&&e.showCheckbox){const N=t.value.treeNodeMap.get(R);N&&h(N,k,!1)}}function P(R){if(t!=null&&t.value){const{treeNodeMap:k}=t.value;if(e.showCheckbox&&k&&R)for(const N of R){const O=k.get(N);O&&!c(O)&&h(O,!0,!1)}}}return{updateCheckedKeys:l,toggleCheckbox:h,isChecked:c,isIndeterminate:d,getCheckedKeys:g,getCheckedNodes:v,getHalfCheckedKeys:_,getHalfCheckedNodes:S,setChecked:C,setCheckedKeys:I}}function lPe(e,t){const r=q(new Set([])),o=q(new Set([])),a=D(()=>Lt(e.filterMethod));function l(d){var h;if(!a.value)return;const m=new Set,g=o.value,v=r.value,_=[],S=((h=t.value)==null?void 0:h.treeNodes)||[],T=e.filterMethod;v.clear();function b(I){I.forEach(C=>{_.push(C),T!=null&&T(d,C.data)?_.forEach(R=>{m.add(R.key)}):C.isLeaf&&v.add(C.key);const P=C.children;if(P&&b(P),!C.isLeaf){if(!m.has(C.key))v.add(C.key);else if(P){let R=!0;for(const k of P)if(!v.has(k.key)){R=!1;break}R?g.add(C.key):g.delete(C.key)}}_.pop()})}return b(S),m}function c(d){return o.value.has(d.key)}return{hiddenExpandIconKeySet:o,hiddenNodeKeySet:r,doFilter:l,isForceHiddenExpandIcon:c}}function cPe(e,t){const r=q(new Set(e.defaultExpandedKeys)),o=q(),a=dr(),l=q();Ge(()=>e.currentNodeKey,be=>{o.value=be},{immediate:!0}),Ge(()=>e.data,be=>{de(be)},{immediate:!0});const{isIndeterminate:c,isChecked:d,toggleCheckbox:h,getCheckedKeys:m,getCheckedNodes:g,getHalfCheckedKeys:v,getHalfCheckedNodes:_,setChecked:S,setCheckedKeys:T}=sPe(e,a),{doFilter:b,hiddenNodeKeySet:I,isForceHiddenExpandIcon:C}=lPe(e,a),P=D(()=>{var be;return((be=e.props)==null?void 0:be.value)||rv.KEY}),R=D(()=>{var be;return((be=e.props)==null?void 0:be.children)||rv.CHILDREN}),k=D(()=>{var be;return((be=e.props)==null?void 0:be.disabled)||rv.DISABLED}),N=D(()=>{var be;return((be=e.props)==null?void 0:be.label)||rv.LABEL}),O=D(()=>{const be=r.value,We=I.value,ce=[],ie=a.value&&a.value.treeNodes||[];function De(){const tt=[];for(let xe=ie.length-1;xe>=0;--xe)tt.push(ie[xe]);for(;tt.length;){const xe=tt.pop();if(!!xe&&(We.has(xe.key)||ce.push(xe),be.has(xe.key))){const ze=xe.children;if(ze){const ot=ze.length;for(let le=ot-1;le>=0;--le)tt.push(ze[le])}}}}return De(),ce}),$=D(()=>O.value.length>0);function L(be){const We=new Map,ce=new Map;let ie=1;function De(xe,ze=1,ot=void 0){var le;const pe=[];for(const Re of xe){const Ae=j(Re),qe={level:ze,key:Ae,data:Re};qe.label=re(Re),qe.parent=ot;const rt=U(Re);qe.disabled=W(Re),qe.isLeaf=!rt||rt.length===0,rt&&rt.length&&(qe.children=De(rt,ze+1,qe)),pe.push(qe),We.set(Ae,qe),ce.has(ze)||ce.set(ze,[]),(le=ce.get(ze))==null||le.push(qe)}return ze>ie&&(ie=ze),pe}const tt=De(be);return{treeNodeMap:We,levelTreeNodeMap:ce,maxLevel:ie,treeNodes:tt}}function M(be){const We=b(be);We&&(r.value=We)}function U(be){return be[R.value]}function j(be){return be?be[P.value]:""}function W(be){return be[k.value]}function re(be){return be[N.value]}function ae(be){r.value.has(be.key)?J(be):H(be)}function ee(be){r.value=new Set(be)}function G(be,We){t(Pj,be.data,be,We),Z(be),e.expandOnClickNode&&ae(be),e.showCheckbox&&e.checkOnClickNode&&!be.disabled&&h(be,!d(be),!0)}function Z(be){me(be)||(o.value=be.key,t(Mj,be.data,be))}function X(be,We){h(be,We)}function H(be){const We=r.value;if(a.value&&e.accordion){const{treeNodeMap:ce}=a.value;We.forEach(ie=>{const De=ce.get(ie);be&&be.level===(De==null?void 0:De.level)&&We.delete(ie)})}We.add(be.key),t(Dj,be.data,be)}function J(be){r.value.delete(be.key),t(Lj,be.data,be)}function fe(be){return r.value.has(be.key)}function ge(be){return!!be.disabled}function me(be){const We=o.value;return We!==void 0&&We===be.key}function Ee(){var be,We;if(!!o.value)return(We=(be=a.value)==null?void 0:be.treeNodeMap.get(o.value))==null?void 0:We.data}function Fe(){return o.value}function $e(be){o.value=be}function de(be){wt(()=>a.value=L(be))}function Le(be){var We;const ce=nn(be)?j(be):be;return(We=a.value)==null?void 0:We.treeNodeMap.get(ce)}function Te(be,We="auto"){const ce=Le(be);ce&&l.value&&l.value.scrollToItem(O.value.indexOf(ce),We)}function Be(be){var We;(We=l.value)==null||We.scrollTo(be)}return{tree:a,flattenTree:O,isNotEmpty:$,listRef:l,getKey:j,getChildren:U,toggleExpand:ae,toggleCheckbox:h,isExpanded:fe,isChecked:d,isIndeterminate:c,isDisabled:ge,isCurrent:me,isForceHiddenExpandIcon:C,handleNodeClick:G,handleNodeCheck:X,getCurrentNode:Ee,getCurrentKey:Fe,setCurrentKey:$e,getCheckedKeys:m,getCheckedNodes:g,getHalfCheckedKeys:v,getHalfCheckedNodes:_,setChecked:S,setCheckedKeys:T,filter:M,setData:de,getNode:Le,expandNode:H,collapseNode:J,setExpandedKeys:ee,scrollToNode:Te,scrollTo:Be}}var uPe=he({name:"ElTreeNodeContent",props:oPe,setup(e){const t=pt(PA),r=Je("tree");return()=>{const o=e.node,{data:a}=o;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:o,data:a}):Ot("span",{class:r.be("node","label")},[o==null?void 0:o.label])}}});const dPe=he({name:"ElTreeNode"}),fPe=he({...dPe,props:rPe,emits:aPe,setup(e,{emit:t}){const r=e,o=pt(PA),a=Je("tree"),l=D(()=>{var v;return(v=o==null?void 0:o.props.indent)!=null?v:16}),c=D(()=>{var v;return(v=o==null?void 0:o.props.icon)!=null?v:K8}),d=v=>{t("click",r.node,v)},h=()=>{t("toggle",r.node)},m=v=>{t("check",r.node,v)},g=v=>{var _,S,T,b;(T=(S=(_=o==null?void 0:o.instance)==null?void 0:_.vnode)==null?void 0:S.props)!=null&&T.onNodeContextmenu&&(v.stopPropagation(),v.preventDefault()),o==null||o.ctx.emit(Fj,v,(b=r.node)==null?void 0:b.data,r.node)};return(v,_)=>{var S,T,b;return F(),Q("div",{ref:"node$",class:B([f(a).b("node"),f(a).is("expanded",v.expanded),f(a).is("current",v.current),f(a).is("focusable",!v.disabled),f(a).is("checked",!v.disabled&&v.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":v.expanded,"aria-disabled":v.disabled,"aria-checked":v.checked,"data-key":(S=v.node)==null?void 0:S.key,onClick:Vt(d,["stop"]),onContextmenu:g},[te("div",{class:B(f(a).be("node","content")),style:kt({paddingLeft:`${(v.node.level-1)*f(l)}px`,height:v.itemSize+"px"})},[f(c)?(F(),Ve(f(St),{key:0,class:B([f(a).is("leaf",!!((T=v.node)!=null&&T.isLeaf)),f(a).is("hidden",v.hiddenExpandIcon),{expanded:!((b=v.node)!=null&&b.isLeaf)&&v.expanded},f(a).be("node","expand-icon")]),onClick:Vt(h,["stop"])},{default:ye(()=>[(F(),Ve(ln(f(c))))]),_:1},8,["class","onClick"])):Ie("v-if",!0),v.showCheckbox?(F(),Ve(f(_a),{key:1,"model-value":v.checked,indeterminate:v.indeterminate,disabled:v.disabled,onChange:m,onClick:Vt(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Ie("v-if",!0),se(f(uPe),{node:v.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick"])}}});var hPe=at(fPe,[["__file","tree-node.vue"]]);const pPe=he({name:"ElTreeV2"}),mPe=he({...pPe,props:nPe,emits:iPe,setup(e,{expose:t,emit:r}){const o=e,a=co(),l=D(()=>o.itemSize);pn(PA,{ctx:{emit:r,slots:a},props:o,instance:Qt()}),pn(Is,void 0);const{t:c}=En(),d=Je("tree"),{flattenTree:h,isNotEmpty:m,listRef:g,toggleExpand:v,isExpanded:_,isIndeterminate:S,isChecked:T,isDisabled:b,isCurrent:I,isForceHiddenExpandIcon:C,handleNodeClick:P,handleNodeCheck:R,toggleCheckbox:k,getCurrentNode:N,getCurrentKey:O,setCurrentKey:$,getCheckedKeys:L,getCheckedNodes:M,getHalfCheckedKeys:U,getHalfCheckedNodes:j,setChecked:W,setCheckedKeys:re,filter:ae,setData:ee,getNode:G,expandNode:Z,collapseNode:X,setExpandedKeys:H,scrollToNode:J,scrollTo:fe}=cPe(o,r);return t({toggleCheckbox:k,getCurrentNode:N,getCurrentKey:O,setCurrentKey:$,getCheckedKeys:L,getCheckedNodes:M,getHalfCheckedKeys:U,getHalfCheckedNodes:j,setChecked:W,setCheckedKeys:re,filter:ae,setData:ee,getNode:G,expandNode:Z,collapseNode:X,setExpandedKeys:H,scrollToNode:J,scrollTo:fe}),(ge,me)=>{var Ee;return F(),Q("div",{class:B([f(d).b(),{[f(d).m("highlight-current")]:ge.highlightCurrent}]),role:"tree"},[f(m)?(F(),Ve(f(H5),{key:0,ref_key:"listRef",ref:g,"class-name":f(d).b("virtual-list"),data:f(h),total:f(h).length,height:ge.height,"item-size":f(l),"perf-mode":ge.perfMode},{default:ye(({data:Fe,index:$e,style:de})=>[(F(),Ve(hPe,{key:Fe[$e].key,style:kt(de),node:Fe[$e],expanded:f(_)(Fe[$e]),"show-checkbox":ge.showCheckbox,checked:f(T)(Fe[$e]),indeterminate:f(S)(Fe[$e]),"item-size":f(l),disabled:f(b)(Fe[$e]),current:f(I)(Fe[$e]),"hidden-expand-icon":f(C)(Fe[$e]),onClick:f(P),onToggle:f(v),onCheck:f(R)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(F(),Q("div",{key:1,class:B(f(d).e("empty-block"))},[te("span",{class:B(f(d).e("empty-text"))},et((Ee=ge.emptyText)!=null?Ee:f(c)("el.tree.emptyText")),3)],2))],2)}}});var vPe=at(mPe,[["__file","tree.vue"]]);const gPe=Kt(vPe),$j=Symbol("uploadContextKey"),yPe="ElUpload";class _Pe extends Error{constructor(t,r,o,a){super(t),this.name="UploadAjaxError",this.status=r,this.method=o,this.url=a}}function SU(e,t,r){let o;return r.response?o=`${r.response.error||r.response}`:r.responseText?o=`${r.responseText}`:o=`fail to ${t.method} ${e} ${r.status}`,new _Pe(o,r.status,t.method,e)}function bPe(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const SPe=e=>{typeof XMLHttpRequest=="undefined"&&to(yPe,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,r=e.action;t.upload&&t.upload.addEventListener("progress",l=>{const c=l;c.percent=l.total>0?l.loaded/l.total*100:0,e.onProgress(c)});const o=new FormData;if(e.data)for(const[l,c]of Object.entries(e.data))ht(c)&&c.length?o.append(l,...c):o.append(l,c);o.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(SU(r,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(SU(r,e,t));e.onSuccess(bPe(t))}),t.open(e.method,r,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const a=e.headers||{};if(a instanceof Headers)a.forEach((l,c)=>t.setRequestHeader(c,l));else for(const[l,c]of Object.entries(a))yo(c)||t.setRequestHeader(l,String(c));return t.send(o),t},Uj=["text","picture","picture-card"];let EPe=1;const t1=()=>Date.now()+EPe++,Bj=it({action:{type:String,default:"#"},headers:{type:Se(Object)},method:{type:String,default:"post"},data:{type:Se([Object,Function,Promise]),default:()=>Er({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Se(Array),default:()=>Er([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Uj,default:"text"},httpRequest:{type:Se(Function),default:SPe},disabled:Boolean,limit:Number}),TPe=it({...Bj,beforeUpload:{type:Se(Function),default:Gn},beforeRemove:{type:Se(Function)},onRemove:{type:Se(Function),default:Gn},onChange:{type:Se(Function),default:Gn},onPreview:{type:Se(Function),default:Gn},onSuccess:{type:Se(Function),default:Gn},onProgress:{type:Se(Function),default:Gn},onError:{type:Se(Function),default:Gn},onExceed:{type:Se(Function),default:Gn},crossorigin:{type:Se(String)}}),CPe=it({files:{type:Se(Array),default:()=>Er([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Se(Function),default:Gn},listType:{type:String,values:Uj,default:"text"},crossorigin:{type:Se(String)}}),wPe={remove:e=>!!e},IPe=he({name:"ElUploadList"}),kPe=he({...IPe,props:CPe,emits:wPe,setup(e,{emit:t}){const r=e,{t:o}=En(),a=Je("upload"),l=Je("icon"),c=Je("list"),d=ui(),h=q(!1),m=D(()=>[a.b("list"),a.bm("list",r.listType),a.is("disabled",r.disabled)]),g=v=>{t("remove",v)};return(v,_)=>(F(),Ve(zB,{tag:"ul",class:B(f(m)),name:f(c).b()},{default:ye(()=>[(F(!0),Q(Tt,null,fn(v.files,(S,T)=>(F(),Q("li",{key:S.uid||S.name,class:B([f(a).be("list","item"),f(a).is(S.status),{focusing:h.value}]),tabindex:"0",onKeydown:or(b=>!f(d)&&g(S),["delete"]),onFocus:b=>h.value=!0,onBlur:b=>h.value=!1,onClick:b=>h.value=!1},[Pe(v.$slots,"default",{file:S,index:T},()=>[v.listType==="picture"||S.status!=="uploading"&&v.listType==="picture-card"?(F(),Q("img",{key:0,class:B(f(a).be("list","item-thumbnail")),src:S.url,crossorigin:v.crossorigin,alt:""},null,10,["src","crossorigin"])):Ie("v-if",!0),S.status==="uploading"||v.listType!=="picture-card"?(F(),Q("div",{key:1,class:B(f(a).be("list","item-info"))},[te("a",{class:B(f(a).be("list","item-name")),onClick:Vt(b=>v.handlePreview(S),["prevent"])},[se(f(St),{class:B(f(l).m("document"))},{default:ye(()=>[se(f(Jhe))]),_:1},8,["class"]),te("span",{class:B(f(a).be("list","item-file-name")),title:S.name},et(S.name),11,["title"])],10,["onClick"]),S.status==="uploading"?(F(),Ve(f(D5),{key:0,type:v.listType==="picture-card"?"circle":"line","stroke-width":v.listType==="picture-card"?6:2,percentage:Number(S.percentage),style:kt(v.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Ie("v-if",!0)],2)):Ie("v-if",!0),te("label",{class:B(f(a).be("list","item-status-label"))},[v.listType==="text"?(F(),Ve(f(St),{key:0,class:B([f(l).m("upload-success"),f(l).m("circle-check")])},{default:ye(()=>[se(f(yR))]),_:1},8,["class"])):["picture-card","picture"].includes(v.listType)?(F(),Ve(f(St),{key:1,class:B([f(l).m("upload-success"),f(l).m("check")])},{default:ye(()=>[se(f(fg))]),_:1},8,["class"])):Ie("v-if",!0)],2),f(d)?Ie("v-if",!0):(F(),Ve(f(St),{key:2,class:B(f(l).m("close")),onClick:b=>g(S)},{default:ye(()=>[se(f(Ba))]),_:2},1032,["class","onClick"])),Ie(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Ie(" This is a bug which needs to be fixed "),Ie(" TODO: Fix the incorrect navigation interaction "),f(d)?Ie("v-if",!0):(F(),Q("i",{key:3,class:B(f(l).m("close-tip"))},et(f(o)("el.upload.deleteTip")),3)),v.listType==="picture-card"?(F(),Q("span",{key:4,class:B(f(a).be("list","item-actions"))},[te("span",{class:B(f(a).be("list","item-preview")),onClick:b=>v.handlePreview(S)},[se(f(St),{class:B(f(l).m("zoom-in"))},{default:ye(()=>[se(f(J8))]),_:1},8,["class"])],10,["onClick"]),f(d)?Ie("v-if",!0):(F(),Q("span",{key:0,class:B(f(a).be("list","item-delete")),onClick:b=>g(S)},[se(f(St),{class:B(f(l).m("delete"))},{default:ye(()=>[se(f(qhe))]),_:1},8,["class"])],10,["onClick"]))],2)):Ie("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Pe(v.$slots,"append")]),_:3},8,["class","name"]))}});var EU=at(kPe,[["__file","upload-list.vue"]]);const RPe=it({disabled:{type:Boolean,default:!1}}),APe={file:e=>ht(e)},Hj="ElUploadDrag",OPe=he({name:Hj}),NPe=he({...OPe,props:RPe,emits:APe,setup(e,{emit:t}){pt($j)||to(Hj,"usage: <el-upload><el-upload-dragger /></el-upload>");const o=Je("upload"),a=q(!1),l=ui(),c=h=>{if(l.value)return;a.value=!1,h.stopPropagation();const m=Array.from(h.dataTransfer.files);t("file",m)},d=()=>{l.value||(a.value=!0)};return(h,m)=>(F(),Q("div",{class:B([f(o).b("dragger"),f(o).is("dragover",a.value)]),onDrop:Vt(c,["prevent"]),onDragover:Vt(d,["prevent"]),onDragleave:Vt(g=>a.value=!1,["prevent"])},[Pe(h.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var PPe=at(NPe,[["__file","upload-dragger.vue"]]);const DPe=it({...Bj,beforeUpload:{type:Se(Function),default:Gn},onRemove:{type:Se(Function),default:Gn},onStart:{type:Se(Function),default:Gn},onSuccess:{type:Se(Function),default:Gn},onProgress:{type:Se(Function),default:Gn},onError:{type:Se(Function),default:Gn},onExceed:{type:Se(Function),default:Gn}}),LPe=he({name:"ElUploadContent",inheritAttrs:!1}),MPe=he({...LPe,props:DPe,setup(e,{expose:t}){const r=e,o=Je("upload"),a=ui(),l=dr({}),c=dr(),d=b=>{if(b.length===0)return;const{autoUpload:I,limit:C,fileList:P,multiple:R,onStart:k,onExceed:N}=r;if(C&&P.length+b.length>C){N(b,P);return}R||(b=b.slice(0,1));for(const O of b){const $=O;$.uid=t1(),k($),I&&h($)}},h=async b=>{if(c.value.value="",!r.beforeUpload)return g(b);let I,C={};try{const R=r.data,k=r.beforeUpload(b);C=Ub(r.data)?Jb(r.data):r.data,I=await k,Ub(r.data)&&ii(R,C)&&(C=Jb(r.data))}catch{I=!1}if(I===!1){r.onRemove(b);return}let P=b;I instanceof Blob&&(I instanceof File?P=I:P=new File([I],b.name,{type:b.type})),g(Object.assign(P,{uid:b.uid}),C)},m=async(b,I)=>Lt(b)?b(I):b,g=async(b,I)=>{const{headers:C,data:P,method:R,withCredentials:k,name:N,action:O,onProgress:$,onSuccess:L,onError:M,httpRequest:U}=r;try{I=await m(I!=null?I:P,b)}catch{r.onRemove(b);return}const{uid:j}=b,W={headers:C||{},withCredentials:k,file:b,data:I,method:R,filename:N,action:O,onProgress:ae=>{$(ae,b)},onSuccess:ae=>{L(ae,b),delete l.value[j]},onError:ae=>{M(ae,b),delete l.value[j]}},re=U(W);l.value[j]=re,re instanceof Promise&&re.then(W.onSuccess,W.onError)},v=b=>{const I=b.target.files;!I||d(Array.from(I))},_=()=>{a.value||(c.value.value="",c.value.click())},S=()=>{_()};return t({abort:b=>{Ehe(l.value).filter(b?([C])=>String(b.uid)===C:()=>!0).forEach(([C,P])=>{P instanceof XMLHttpRequest&&P.abort(),delete l.value[C]})},upload:h}),(b,I)=>(F(),Q("div",{class:B([f(o).b(),f(o).m(b.listType),f(o).is("drag",b.drag),f(o).is("disabled",f(a))]),tabindex:f(a)?"-1":"0",onClick:_,onKeydown:or(Vt(S,["self"]),["enter","space"])},[b.drag?(F(),Ve(PPe,{key:0,disabled:f(a),onFile:d},{default:ye(()=>[Pe(b.$slots,"default")]),_:3},8,["disabled"])):Pe(b.$slots,"default",{key:1}),te("input",{ref_key:"inputRef",ref:c,class:B(f(o).e("input")),name:b.name,disabled:f(a),multiple:b.multiple,accept:b.accept,type:"file",onChange:v,onClick:Vt(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var TU=at(MPe,[["__file","upload-content.vue"]]);const CU="ElUpload",wU=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},xPe=(e,t)=>{const r=r8(e,"fileList",void 0,{passive:!0}),o=S=>r.value.find(T=>T.uid===S.uid);function a(S){var T;(T=t.value)==null||T.abort(S)}function l(S=["ready","uploading","success","fail"]){r.value=r.value.filter(T=>!S.includes(T.status))}function c(S){r.value=r.value.filter(T=>T!==S)}const d=(S,T)=>{const b=o(T);!b||(console.error(S),b.status="fail",c(b),e.onError(S,b,r.value),e.onChange(b,r.value))},h=(S,T)=>{const b=o(T);!b||(e.onProgress(S,b,r.value),b.status="uploading",b.percentage=Math.round(S.percent))},m=(S,T)=>{const b=o(T);!b||(b.status="success",b.response=S,e.onSuccess(S,b,r.value),e.onChange(b,r.value))},g=S=>{yo(S.uid)&&(S.uid=t1());const T={name:S.name,percentage:0,status:"ready",size:S.size,raw:S,uid:S.uid};if(e.listType==="picture-card"||e.listType==="picture")try{T.url=URL.createObjectURL(S)}catch(b){b.message,e.onError(b,T,r.value)}r.value=[...r.value,T],e.onChange(T,r.value)},v=async S=>{const T=S instanceof File?o(S):S;T||to(CU,"file to be removed not found");const b=I=>{a(I),c(I),e.onRemove(I,r.value),wU(I)};e.beforeRemove?await e.beforeRemove(T,r.value)!==!1&&b(T):b(T)};function _(){r.value.filter(({status:S})=>S==="ready").forEach(({raw:S})=>{var T;return S&&((T=t.value)==null?void 0:T.upload(S))})}return Ge(()=>e.listType,S=>{S!=="picture-card"&&S!=="picture"||(r.value=r.value.map(T=>{const{raw:b,url:I}=T;if(!I&&b)try{T.url=URL.createObjectURL(b)}catch(C){e.onError(C,T,r.value)}return T}))}),Ge(r,S=>{for(const T of S)T.uid||(T.uid=t1()),T.status||(T.status="success")},{immediate:!0,deep:!0}),{uploadFiles:r,abort:a,clearFiles:l,handleError:d,handleProgress:h,handleStart:g,handleSuccess:m,handleRemove:v,submit:_,revokeFileObjectURL:wU}},VPe=he({name:"ElUpload"}),FPe=he({...VPe,props:TPe,setup(e,{expose:t}){const r=e,o=ui(),a=dr(),{abort:l,submit:c,clearFiles:d,uploadFiles:h,handleStart:m,handleError:g,handleRemove:v,handleSuccess:_,handleProgress:S,revokeFileObjectURL:T}=xPe(r,a),b=D(()=>r.listType==="picture-card"),I=D(()=>({...r,fileList:h.value,onStart:m,onProgress:S,onSuccess:_,onError:g,onRemove:v}));return ur(()=>{h.value.forEach(T)}),pn($j,{accept:Kn(r,"accept")}),t({abort:l,submit:c,clearFiles:d,handleStart:m,handleRemove:v}),(C,P)=>(F(),Q("div",null,[f(b)&&C.showFileList?(F(),Ve(EU,{key:0,disabled:f(o),"list-type":C.listType,files:f(h),crossorigin:C.crossorigin,"handle-preview":C.onPreview,onRemove:f(v)},Ua({append:ye(()=>[se(TU,sn({ref_key:"uploadRef",ref:a},f(I)),{default:ye(()=>[C.$slots.trigger?Pe(C.$slots,"trigger",{key:0}):Ie("v-if",!0),!C.$slots.trigger&&C.$slots.default?Pe(C.$slots,"default",{key:1}):Ie("v-if",!0)]),_:3},16)]),_:2},[C.$slots.file?{name:"default",fn:ye(({file:R,index:k})=>[Pe(C.$slots,"file",{file:R,index:k})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Ie("v-if",!0),!f(b)||f(b)&&!C.showFileList?(F(),Ve(TU,sn({key:1,ref_key:"uploadRef",ref:a},f(I)),{default:ye(()=>[C.$slots.trigger?Pe(C.$slots,"trigger",{key:0}):Ie("v-if",!0),!C.$slots.trigger&&C.$slots.default?Pe(C.$slots,"default",{key:1}):Ie("v-if",!0)]),_:3},16)):Ie("v-if",!0),C.$slots.trigger?Pe(C.$slots,"default",{key:2}):Ie("v-if",!0),Pe(C.$slots,"tip"),!f(b)&&C.showFileList?(F(),Ve(EU,{key:3,disabled:f(o),"list-type":C.listType,files:f(h),crossorigin:C.crossorigin,"handle-preview":C.onPreview,onRemove:f(v)},Ua({_:2},[C.$slots.file?{name:"default",fn:ye(({file:R,index:k})=>[Pe(C.$slots,"file",{file:R,index:k})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Ie("v-if",!0)]))}});var $Pe=at(FPe,[["__file","upload.vue"]]);const UPe=Kt($Pe),BPe=it({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Se([String,Array]),default:"Element Plus"},font:{type:Se(Object)},gap:{type:Se(Array),default:()=>[100,100]},offset:{type:Se(Array)}});function HPe(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function jPe(e){return Object.keys(e).map(t=>`${HPe(t)}: ${e[t]};`).join(" ")}function WPe(){return window.devicePixelRatio||1}const zPe=(e,t)=>{let r=!1;return e.removedNodes.length&&t&&(r=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(r=!0),r},jj=3;function RI(e,t,r=1){const o=document.createElement("canvas"),a=o.getContext("2d"),l=e*r,c=t*r;return o.setAttribute("width",`${l}px`),o.setAttribute("height",`${c}px`),a.save(),[a,o,l,c]}function KPe(){function e(t,r,o,a,l,c,d,h){const[m,g,v,_]=RI(a,l,o);if(t instanceof HTMLImageElement)m.drawImage(t,0,0,v,_);else{const{color:fe,fontSize:ge,fontStyle:me,fontWeight:Ee,fontFamily:Fe,textAlign:$e,textBaseline:de}=c,Le=Number(ge)*o;m.font=`${me} normal ${Ee} ${Le}px/${l}px ${Fe}`,m.fillStyle=fe,m.textAlign=$e,m.textBaseline=de;const Te=Array.isArray(t)?t:[t];Te==null||Te.forEach((Be,be)=>{m.fillText(Be!=null?Be:"",v/2,be*(Le+jj*o))})}const S=Math.PI/180*Number(r),T=Math.max(a,l),[b,I,C]=RI(T,T,o);b.translate(C/2,C/2),b.rotate(S),v>0&&_>0&&b.drawImage(g,-v/2,-_/2);function P(fe,ge){const me=fe*Math.cos(S)-ge*Math.sin(S),Ee=fe*Math.sin(S)+ge*Math.cos(S);return[me,Ee]}let R=0,k=0,N=0,O=0;const $=v/2,L=_/2;[[0-$,0-L],[0+$,0-L],[0+$,0+L],[0-$,0+L]].forEach(([fe,ge])=>{const[me,Ee]=P(fe,ge);R=Math.min(R,me),k=Math.max(k,me),N=Math.min(N,Ee),O=Math.max(O,Ee)});const U=R+C/2,j=N+C/2,W=k-R,re=O-N,ae=d*o,ee=h*o,G=(W+ae)*2,Z=re+ee,[X,H]=RI(G,Z);function J(fe=0,ge=0){X.drawImage(I,U,j,W,re,fe,ge,W,re)}return J(),J(W+ae,-re/2-ee/2),J(W+ae,+re/2+ee/2),[H.toDataURL(),G/o,Z/o]}return e}const GPe=he({name:"ElWatermark"}),qPe=he({...GPe,props:BPe,setup(e){const t=e,r={position:"relative"},o=D(()=>{var U,j;return(j=(U=t.font)==null?void 0:U.color)!=null?j:"rgba(0,0,0,.15)"}),a=D(()=>{var U,j;return(j=(U=t.font)==null?void 0:U.fontSize)!=null?j:16}),l=D(()=>{var U,j;return(j=(U=t.font)==null?void 0:U.fontWeight)!=null?j:"normal"}),c=D(()=>{var U,j;return(j=(U=t.font)==null?void 0:U.fontStyle)!=null?j:"normal"}),d=D(()=>{var U,j;return(j=(U=t.font)==null?void 0:U.fontFamily)!=null?j:"sans-serif"}),h=D(()=>{var U,j;return(j=(U=t.font)==null?void 0:U.textAlign)!=null?j:"center"}),m=D(()=>{var U,j;return(j=(U=t.font)==null?void 0:U.textBaseline)!=null?j:"hanging"}),g=D(()=>t.gap[0]),v=D(()=>t.gap[1]),_=D(()=>g.value/2),S=D(()=>v.value/2),T=D(()=>{var U,j;return(j=(U=t.offset)==null?void 0:U[0])!=null?j:_.value}),b=D(()=>{var U,j;return(j=(U=t.offset)==null?void 0:U[1])!=null?j:S.value}),I=()=>{const U={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let j=T.value-_.value,W=b.value-S.value;return j>0&&(U.left=`${j}px`,U.width=`calc(100% - ${j}px)`,j=0),W>0&&(U.top=`${W}px`,U.height=`calc(100% - ${W}px)`,W=0),U.backgroundPosition=`${j}px ${W}px`,U},C=dr(null),P=dr(),R=q(!1),k=()=>{P.value&&(P.value.remove(),P.value=void 0)},N=(U,j)=>{var W;C.value&&P.value&&(R.value=!0,P.value.setAttribute("style",jPe({...I(),backgroundImage:`url('${U}')`,backgroundSize:`${Math.floor(j)}px`})),(W=C.value)==null||W.append(P.value),setTimeout(()=>{R.value=!1}))},O=U=>{let j=120,W=64;const re=t.image,ae=t.content,ee=t.width,G=t.height;if(!re&&U.measureText){U.font=`${Number(a.value)}px ${d.value}`;const Z=Array.isArray(ae)?ae:[ae],X=Z.map(H=>{const J=U.measureText(H);return[J.width,J.fontBoundingBoxAscent!==void 0?J.fontBoundingBoxAscent+J.fontBoundingBoxDescent:J.actualBoundingBoxAscent+J.actualBoundingBoxDescent]});j=Math.ceil(Math.max(...X.map(H=>H[0]))),W=Math.ceil(Math.max(...X.map(H=>H[1])))*Z.length+(Z.length-1)*jj}return[ee!=null?ee:j,G!=null?G:W]},$=KPe(),L=()=>{const j=document.createElement("canvas").getContext("2d"),W=t.image,re=t.content,ae=t.rotate;if(j){P.value||(P.value=document.createElement("div"));const ee=WPe(),[G,Z]=O(j),X=H=>{const[J,fe]=$(H||"",ae,ee,G,Z,{color:o.value,fontSize:a.value,fontStyle:c.value,fontWeight:l.value,fontFamily:d.value,textAlign:h.value,textBaseline:m.value},g.value,v.value);N(J,fe)};if(W){const H=new Image;H.onload=()=>{X(H)},H.onerror=()=>{X(re)},H.crossOrigin="anonymous",H.referrerPolicy="no-referrer",H.src=W}else X(re)}};return Zt(()=>{L()}),Ge(()=>t,()=>{L()},{deep:!0,flush:"post"}),ur(()=>{k()}),n8(C,U=>{R.value||U.forEach(j=>{zPe(j,P.value)&&(k(),L())})},{attributes:!0,subtree:!0,childList:!0}),(U,j)=>(F(),Q("div",{ref_key:"containerRef",ref:C,style:kt([r])},[Pe(U.$slots,"default")],4))}});var YPe=at(qPe,[["__file","watermark.vue"]]);const JPe=Kt(YPe),XPe=it({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Se(Object)},targetAreaClickable:{type:Boolean,default:!0}}),QPe=(e,t,r,o,a)=>{const l=q(null),c=()=>{let v;return Mt(e.value)?v=document.querySelector(e.value):Lt(e.value)?v=e.value():v=e.value,v},d=()=>{const v=c();if(!v||!t.value){l.value=null;return}!ZPe(v)&&t.value&&v.scrollIntoView(a.value);const{left:_,top:S,width:T,height:b}=v.getBoundingClientRect();l.value={left:_,top:S,width:T,height:b,radius:0}};Zt(()=>{Ge([t,e],()=>{d()},{immediate:!0}),window.addEventListener("resize",d)}),ur(()=>{window.removeEventListener("resize",d)});const h=v=>{var _;return(_=ht(r.value.offset)?r.value.offset[v]:r.value.offset)!=null?_:6},m=D(()=>{var v;if(!l.value)return l.value;const _=h(0),S=h(1),T=((v=r.value)==null?void 0:v.radius)||2;return{left:l.value.left-_,top:l.value.top-S,width:l.value.width+_*2,height:l.value.height+S*2,radius:T}}),g=D(()=>{const v=c();return!o.value||!v||!window.DOMRect?v||void 0:{getBoundingClientRect(){var _,S,T,b;return window.DOMRect.fromRect({width:((_=m.value)==null?void 0:_.width)||0,height:((S=m.value)==null?void 0:S.height)||0,x:((T=m.value)==null?void 0:T.left)||0,y:((b=m.value)==null?void 0:b.top)||0})}}});return{mergedPosInfo:m,triggerTarget:g}},oS=Symbol("ElTour");function ZPe(e){const t=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,{top:o,right:a,bottom:l,left:c}=e.getBoundingClientRect();return o>=0&&c>=0&&a<=t&&l<=r}const eDe=(e,t,r,o,a,l,c,d)=>{const h=q(),m=q(),g=q({}),v={x:h,y:m,placement:o,strategy:a,middlewareData:g},_=D(()=>{const C=[R6(f(l)),Kve(),zve(),tDe()];return f(d)&&f(r)&&C.push(A6({element:f(r)})),C}),S=async()=>{if(!Sn)return;const C=f(e),P=f(t);if(!C||!P)return;const R=await O6(C,P,{placement:f(o),strategy:f(a),middleware:f(_)});bh(v).forEach(k=>{v[k].value=R[k]})},T=D(()=>{if(!f(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:f(c)};const{overflow:C}=f(g);return{position:f(a),zIndex:f(c),top:f(m)!=null?`${f(m)}px`:"",left:f(h)!=null?`${f(h)}px`:"",maxWidth:C!=null&&C.maxWidth?`${C==null?void 0:C.maxWidth}px`:""}}),b=D(()=>{if(!f(d))return{};const{arrow:C}=f(g);return{left:(C==null?void 0:C.x)!=null?`${C==null?void 0:C.x}px`:"",top:(C==null?void 0:C.y)!=null?`${C==null?void 0:C.y}px`:""}});let I;return Zt(()=>{const C=f(e),P=f(t);C&&P&&(I=jve(C,P,S)),Po(()=>{S()})}),ur(()=>{I&&I()}),{update:S,contentStyle:T,arrowStyle:b}},tDe=()=>({name:"overflow",async fn(e){const t=await Wve(e);let r=0;return t.left>0&&(r=t.left),t.right>0&&(r=t.right),{data:{maxWidth:e.rects.floating.width-r}}}}),nDe=he({name:"ElTourMask",inheritAttrs:!1}),rDe=he({...nDe,props:XPe,setup(e){const t=e,{ns:r}=pt(oS),o=D(()=>{var d,h;return(h=(d=t.pos)==null?void 0:d.radius)!=null?h:2}),a=D(()=>{const d=o.value,h=`a${d},${d} 0 0 1`;return{topRight:`${h} ${d},${d}`,bottomRight:`${h} ${-d},${d}`,bottomLeft:`${h} ${-d},${-d}`,topLeft:`${h} ${d},${-d}`}}),l=D(()=>{const d=window.innerWidth,h=window.innerHeight,m=a.value,g=`M${d},0 L0,0 L0,${h} L${d},${h} L${d},0 Z`,v=o.value;return t.pos?`${g} M${t.pos.left+v},${t.pos.top} h${t.pos.width-v*2} ${m.topRight} v${t.pos.height-v*2} ${m.bottomRight} h${-t.pos.width+v*2} ${m.bottomLeft} v${-t.pos.height+v*2} ${m.topLeft} z`:g}),c=D(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return IR(Kn(t,"visible"),{ns:r}),(d,h)=>d.visible?(F(),Q("div",sn({key:0,class:f(r).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:d.zIndex,pointerEvents:d.pos&&d.targetAreaClickable?"none":"auto"}},d.$attrs),[(F(),Q("svg",{style:{width:"100%",height:"100%"}},[te("path",{class:B(f(r).e("hollow")),style:kt(f(c)),d:f(l)},null,14,["d"])]))],16)):Ie("v-if",!0)}});var oDe=at(rDe,[["__file","mask.vue"]]);const iDe=["absolute","fixed"],aDe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],DA=it({placement:{type:Se(String),values:aDe,default:"bottom"},reference:{type:Se(Object),default:null},strategy:{type:Se(String),values:iDe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),sDe={close:()=>!0},lDe=he({name:"ElTourContent"}),cDe=he({...lDe,props:DA,emits:sDe,setup(e,{emit:t}){const r=e,o=q(r.placement),a=q(r.strategy),l=q(null),c=q(null);Ge(()=>r.placement,()=>{o.value=r.placement});const{contentStyle:d,arrowStyle:h}=eDe(Kn(r,"reference"),l,c,o,a,Kn(r,"offset"),Kn(r,"zIndex"),Kn(r,"showArrow")),m=D(()=>o.value.split("-")[0]),{ns:g}=pt(oS),v=()=>{t("close")},_=S=>{S.detail.focusReason==="pointer"&&S.preventDefault()};return(S,T)=>(F(),Q("div",{ref_key:"contentRef",ref:l,style:kt(f(d)),class:B(f(g).e("content")),"data-side":f(m),tabindex:"-1"},[se(f(bg),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":l.value||void 0,onReleaseRequested:v,onFocusoutPrevented:_},{default:ye(()=>[Pe(S.$slots,"default")]),_:3},8,["focus-trap-el"]),S.showArrow?(F(),Q("span",{key:0,ref_key:"arrowRef",ref:c,style:kt(f(h)),class:B(f(g).e("arrow"))},null,6)):Ie("v-if",!0)],14,["data-side"]))}});var uDe=at(cDe,[["__file","content.vue"]]),dDe=he({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:r}){let o=0;return()=>{var a,l;const c=(a=t.default)==null?void 0:a.call(t),d=[];let h=0;function m(g){!ht(g)||g.forEach(v=>{var _;((_=(v==null?void 0:v.type)||{})==null?void 0:_.name)==="ElTourStep"&&(d.push(v),h+=1)})}return c.length&&m(Rc((l=c[0])==null?void 0:l.children)),o!==h&&(o=h,r("update-total",h)),d.length?d[e.current]:null}}});const fDe=it({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:ir},placement:DA.placement,contentStyle:{type:Se([Object])},mask:{type:Se([Boolean,Object]),default:!0},gap:{type:Se(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Se([Boolean,Object]),default:()=>({block:"center"})},type:{type:Se(String)},appendTo:{type:Se([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),hDe={[tn]:e=>Vr(e),["update:current"]:e=>xt(e),close:e=>xt(e),finish:()=>!0,change:e=>xt(e)},pDe=he({name:"ElTour"}),mDe=he({...pDe,props:fDe,emits:hDe,setup(e,{emit:t}){const r=e,o=Je("tour"),a=q(0),l=q(),c=r8(r,"current",t,{passive:!0}),d=D(()=>{var M;return(M=l.value)==null?void 0:M.target}),h=D(()=>[o.b(),I.value==="primary"?o.m("primary"):""]),m=D(()=>{var M;return((M=l.value)==null?void 0:M.placement)||r.placement}),g=D(()=>{var M,U;return(U=(M=l.value)==null?void 0:M.contentStyle)!=null?U:r.contentStyle}),v=D(()=>{var M,U;return(U=(M=l.value)==null?void 0:M.mask)!=null?U:r.mask}),_=D(()=>!!v.value&&r.modelValue),S=D(()=>Vr(v.value)?void 0:v.value),T=D(()=>{var M,U;return!!d.value&&((U=(M=l.value)==null?void 0:M.showArrow)!=null?U:r.showArrow)}),b=D(()=>{var M,U;return(U=(M=l.value)==null?void 0:M.scrollIntoViewOptions)!=null?U:r.scrollIntoViewOptions}),I=D(()=>{var M,U;return(U=(M=l.value)==null?void 0:M.type)!=null?U:r.type}),{nextZIndex:C}=zh(),P=C(),R=D(()=>{var M;return(M=r.zIndex)!=null?M:P}),{mergedPosInfo:k,triggerTarget:N}=QPe(d,Kn(r,"modelValue"),Kn(r,"gap"),v,b);Ge(()=>r.modelValue,M=>{M||(c.value=0)});const O=()=>{r.closeOnPressEscape&&(t("update:modelValue",!1),t("close",c.value))},$=M=>{a.value=M},L=co();return pn(oS,{currentStep:l,current:c,total:a,showClose:Kn(r,"showClose"),closeIcon:Kn(r,"closeIcon"),mergedType:I,ns:o,slots:L,updateModelValue(M){t("update:modelValue",M)},onClose(){t("close",c.value)},onFinish(){t("finish")},onChange(){t("change",c.value)}}),(M,U)=>(F(),Q(Tt,null,[se(f(qh),{to:M.appendTo},{default:ye(()=>{var j,W;return[te("div",sn({class:f(h)},M.$attrs),[se(oDe,{visible:f(_),fill:(j=f(S))==null?void 0:j.color,style:kt((W=f(S))==null?void 0:W.style),pos:f(k),"z-index":f(R),"target-area-clickable":M.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),M.modelValue?(F(),Ve(uDe,{key:f(c),reference:f(N),placement:f(m),"show-arrow":f(T),"z-index":f(R),style:kt(f(g)),onClose:O},{default:ye(()=>[se(f(dDe),{current:f(c),onUpdateTotal:$},{default:ye(()=>[Pe(M.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Ie("v-if",!0)],16)]}),_:3},8,["to"]),Ie(" just for IDE "),Ie("v-if",!0)],64))}});var vDe=at(mDe,[["__file","tour.vue"]]);const gDe=it({target:{type:Se([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:ir},showArrow:{type:Boolean,default:void 0},placement:DA.placement,mask:{type:Se([Boolean,Object]),default:void 0},contentStyle:{type:Se([Object])},prevButtonProps:{type:Se(Object)},nextButtonProps:{type:Se(Object)},scrollIntoViewOptions:{type:Se([Boolean,Object]),default:void 0},type:{type:Se(String)}}),yDe={close:()=>!0},_De=he({name:"ElTourStep"}),bDe=he({..._De,props:gDe,emits:yDe,setup(e,{emit:t}){const r=e,{Close:o}=SR,{t:a}=En(),{currentStep:l,current:c,total:d,showClose:h,closeIcon:m,mergedType:g,ns:v,slots:_,updateModelValue:S,onClose:T,onFinish:b,onChange:I}=pt(oS);Ge(r,L=>{l.value=L},{immediate:!0});const C=D(()=>{var L;return(L=r.showClose)!=null?L:h.value}),P=D(()=>{var L,M;return(M=(L=r.closeIcon)!=null?L:m.value)!=null?M:o}),R=L=>{if(!!L)return che(L,["children","onClick"])},k=()=>{var L,M;c.value-=1,(L=r.prevButtonProps)!=null&&L.onClick&&((M=r.prevButtonProps)==null||M.onClick()),I()},N=()=>{var L;c.value>=d.value-1?O():c.value+=1,(L=r.nextButtonProps)!=null&&L.onClick&&r.nextButtonProps.onClick(),I()},O=()=>{$(),b()},$=()=>{S(!1),T(),t("close")};return(L,M)=>(F(),Q(Tt,null,[f(C)?(F(),Q("button",{key:0,"aria-label":"Close",class:B(f(v).e("closebtn")),type:"button",onClick:$},[se(f(St),{class:B(f(v).e("close"))},{default:ye(()=>[(F(),Ve(ln(f(P))))]),_:1},8,["class"])],2)):Ie("v-if",!0),te("header",{class:B([f(v).e("header"),{"show-close":f(h)}])},[Pe(L.$slots,"header",{},()=>[te("span",{role:"heading",class:B(f(v).e("title"))},et(L.title),3)])],2),te("div",{class:B(f(v).e("body"))},[Pe(L.$slots,"default",{},()=>[te("span",null,et(L.description),1)])],2),te("footer",{class:B(f(v).e("footer"))},[te("div",{class:B(f(v).b("indicators"))},[f(_).indicators?(F(),Ve(ln(f(_).indicators),{key:0,current:f(c),total:f(d)},null,8,["current","total"])):(F(!0),Q(Tt,{key:1},fn(f(d),(U,j)=>(F(),Q("span",{key:U,class:B([f(v).b("indicator"),j===f(c)?"is-active":""])},null,2))),128))],2),te("div",{class:B(f(v).b("buttons"))},[f(c)>0?(F(),Ve(f(lo),sn({key:0,size:"small",type:f(g)},R(L.prevButtonProps),{onClick:k}),{default:ye(()=>{var U,j;return[Jt(et((j=(U=L.prevButtonProps)==null?void 0:U.children)!=null?j:f(a)("el.tour.previous")),1)]}),_:1},16,["type"])):Ie("v-if",!0),f(c)<=f(d)-1?(F(),Ve(f(lo),sn({key:1,size:"small",type:f(g)==="primary"?"default":"primary"},R(L.nextButtonProps),{onClick:N}),{default:ye(()=>{var U,j;return[Jt(et((j=(U=L.nextButtonProps)==null?void 0:U.children)!=null?j:f(c)===f(d)-1?f(a)("el.tour.finish"):f(a)("el.tour.next")),1)]}),_:1},16,["type"])):Ie("v-if",!0)],2)],2)],64))}});var Wj=at(bDe,[["__file","step.vue"]]);const SDe=Kt(vDe,{TourStep:Wj}),EDe=Tr(Wj),TDe=it({container:{type:Se([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Se(String),default:"default"},direction:{type:Se(String),default:"vertical"}}),CDe={change:e=>Mt(e),click:(e,t)=>e instanceof MouseEvent&&(Mt(t)||Ar(t))},zj=Symbol("anchor"),wDe=he({name:"ElAnchor"}),IDe=he({...wDe,props:TDe,emits:CDe,setup(e,{expose:t,emit:r}){const o=e,a=q(""),l=q(null),c=q(null),d=q(),h={};let m=!1,g=0;const v=Je("anchor"),_=D(()=>[v.b(),o.type==="underline"?v.m("underline"):"",v.m(o.direction)]),S=L=>{h[L.href]=L.el},T=L=>{delete h[L]},b=L=>{a.value!==L&&(a.value=L,r("change",L))};let I=null;const C=L=>{if(!d.value)return;const M=nb(L);if(!M)return;I&&I(),m=!0;const U=LF(M,d.value),j=QI(M,U),W=U.scrollHeight-U.clientHeight,re=Math.min(j-o.offset,W);I=whe(d.value,g,re,o.duration,()=>{setTimeout(()=>{m=!1},20)})},P=L=>{L&&(b(L),C(L))},R=(L,M)=>{r("click",L,M),P(M)},k=jpe(()=>{d.value&&(g=MF(d.value));const L=N();m||Ar(L)||b(L)}),N=()=>{if(!d.value)return;const L=MF(d.value),M=[];for(const U of Object.keys(h)){const j=nb(U);if(!j)continue;const W=LF(j,d.value),re=QI(j,W);M.push({top:re-o.offset-o.bound,href:U})}M.sort((U,j)=>U.top-j.top);for(let U=0;U<M.length;U++){const j=M[U],W=M[U+1];if(U===0&&L===0)return"";if(j.top<=L&&(!W||W.top>L))return j.href}},O=()=>{const L=nb(o.container);!L||V0(L)?d.value=window:d.value=L};Zn(d,"scroll",k);const $=D(()=>{if(!l.value||!c.value||!a.value)return{};const L=h[a.value];if(!L)return{};const M=l.value.getBoundingClientRect(),U=c.value.getBoundingClientRect(),j=L.getBoundingClientRect();return o.direction==="horizontal"?{left:`${j.left-M.left}px`,width:`${j.width}px`,opacity:1}:{top:`${j.top-M.top+(j.height-U.height)/2}px`,opacity:1}});return Zt(()=>{O();const L=decodeURIComponent(window.location.hash);nb(L)?P(L):k()}),Ge(()=>o.container,()=>{O()}),pn(zj,{ns:v,direction:o.direction,currentAnchor:a,addLink:S,removeLink:T,handleClick:R}),t({scrollTo:P}),(L,M)=>(F(),Q("div",{ref_key:"anchorRef",ref:l,class:B(f(_))},[L.marker?(F(),Q("div",{key:0,ref_key:"markerRef",ref:c,class:B(f(v).e("marker")),style:kt(f($))},null,6)):Ie("v-if",!0),te("div",{class:B(f(v).e("list"))},[Pe(L.$slots,"default")],2)],2))}});var kDe=at(IDe,[["__file","anchor.vue"]]);const RDe=it({title:String,href:String}),ADe=he({name:"ElAnchorLink"}),ODe=he({...ADe,props:RDe,setup(e){const t=e,r=q(null),{ns:o,direction:a,currentAnchor:l,addLink:c,removeLink:d,handleClick:h}=pt(zj),m=D(()=>[o.e("link"),o.is("active",l.value===t.href)]),g=v=>{h(v,t.href)};return Ge(()=>t.href,(v,_)=>{wt(()=>{_&&d(_),v&&c({href:v,el:r.value})})}),Zt(()=>{const{href:v}=t;v&&c({href:v,el:r.value})}),ur(()=>{const{href:v}=t;v&&d(v)}),(v,_)=>(F(),Q("div",{class:B(f(o).e("item"))},[te("a",{ref_key:"linkRef",ref:r,class:B(f(m)),href:v.href,onClick:g},[Pe(v.$slots,"default",{},()=>[Jt(et(v.title),1)])],10,["href"]),v.$slots["sub-link"]&&f(a)==="vertical"?(F(),Q("div",{key:0,class:B(f(o).e("list"))},[Pe(v.$slots,"sub-link")],2)):Ie("v-if",!0)],2))}});var Kj=at(ODe,[["__file","anchor-link.vue"]]);const NDe=Kt(kDe,{AnchorLink:Kj}),PDe=Tr(Kj),DDe=it({options:{type:Se(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:no,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...ko(["ariaLabel"])}),LDe={[tn]:e=>Mt(e)||xt(e)||Vr(e),[pr]:e=>Mt(e)||xt(e)||Vr(e)},MDe=he({name:"ElSegmented"}),xDe=he({...MDe,props:DDe,emits:LDe,setup(e,{emit:t}){const r=e,o=Je("segmented"),a=Mo(),l=Jr(),c=ui(),{formItem:d}=Go(),{inputId:h,isLabeledByFormItem:m}=qa(r,{formItemContext:d}),g=q(null),v=jae(),_=Un({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),S=M=>{const U=T(M);t(tn,U),t(pr,U)},T=M=>nn(M)?M.value:M,b=M=>nn(M)?M.label:M,I=M=>!!(c.value||(nn(M)?M.disabled:!1)),C=M=>r.modelValue===T(M),P=M=>r.options.find(U=>T(U)===M),R=M=>[o.e("item"),o.is("selected",C(M)),o.is("disabled",I(M))],k=()=>{if(!g.value)return;const M=g.value.querySelector(".is-selected"),U=g.value.querySelector(".is-selected input");if(!M||!U){_.width=0,_.translateX=0,_.disabled=!1,_.focusVisible=!1;return}const j=M.getBoundingClientRect();_.isInit=!0,_.width=j.width,_.translateX=M.offsetLeft,_.disabled=I(P(r.modelValue));try{_.focusVisible=U.matches(":focus-visible")}catch{}},N=D(()=>[o.b(),o.m(l.value),o.is("block",r.block)]),O=D(()=>({width:`${_.width}px`,transform:`translateX(${_.translateX}px)`,display:_.isInit?"block":"none"})),$=D(()=>[o.e("item-selected"),o.is("disabled",_.disabled),o.is("focus-visible",_.focusVisible)]),L=D(()=>r.name||a.value);return Sr(g,k),Ge(v,k),Ge(()=>r.modelValue,()=>{var M;k(),r.validateEvent&&((M=d==null?void 0:d.validate)==null||M.call(d,"change").catch(U=>void 0))},{flush:"post"}),(M,U)=>(F(),Q("div",{id:f(h),ref_key:"segmentedRef",ref:g,class:B(f(N)),role:"radiogroup","aria-label":f(m)?void 0:M.ariaLabel||"segmented","aria-labelledby":f(m)?f(d).labelId:void 0},[te("div",{class:B(f(o).e("group"))},[te("div",{style:kt(f(O)),class:B(f($))},null,6),(F(!0),Q(Tt,null,fn(M.options,(j,W)=>(F(),Q("label",{key:W,class:B(R(j))},[te("input",{class:B(f(o).e("item-input")),type:"radio",name:f(L),disabled:I(j),checked:C(j),onChange:re=>S(j)},null,42,["name","disabled","checked","onChange"]),te("div",{class:B(f(o).e("item-label"))},[Pe(M.$slots,"default",{item:j},()=>[Jt(et(b(j)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"]))}});var VDe=at(xDe,[["__file","segmented.vue"]]);const FDe=Kt(VDe),$De=(e,t)=>{const r=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(r)},UDe=(e,t,r)=>{const{selectionEnd:o}=e;if(o===null)return;const a=e.value,l=Wo(t);let c=-1,d;for(let h=o-1;h>=0;--h){const m=a[h];if(m===r||m===`
`||m==="\r"){c=h;continue}if(l.includes(m)){const g=c===-1?o:c;d={pattern:a.slice(h+1,g),start:h+1,end:g,prefix:m,prefixIndex:h,splitIndex:c,selectionEnd:o};break}}return d},BDe=(e,t={debug:!1,useSelectionEnd:!1})=>{const r=e.selectionStart!==null?e.selectionStart:0,o=e.selectionEnd!==null?e.selectionEnd:0,a=t.useSelectionEnd?o:r,l=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const _=document.querySelector("#input-textarea-caret-position-mirror-div");_!=null&&_.parentNode&&_.parentNode.removeChild(_)}const c=document.createElement("div");c.id="input-textarea-caret-position-mirror-div",document.body.appendChild(c);const d=c.style,h=window.getComputedStyle(e),m=e.nodeName==="INPUT";d.whiteSpace=m?"nowrap":"pre-wrap",m||(d.wordWrap="break-word"),d.position="absolute",t.debug||(d.visibility="hidden"),l.forEach(_=>{if(m&&_==="lineHeight")if(h.boxSizing==="border-box"){const S=Number.parseInt(h.height),T=Number.parseInt(h.paddingTop)+Number.parseInt(h.paddingBottom)+Number.parseInt(h.borderTopWidth)+Number.parseInt(h.borderBottomWidth),b=T+Number.parseInt(h.lineHeight);S>b?d.lineHeight=`${S-T}px`:S===b?d.lineHeight=h.lineHeight:d.lineHeight="0"}else d.lineHeight=h.height;else d[_]=h[_]}),X1()?e.scrollHeight>Number.parseInt(h.height)&&(d.overflowY="scroll"):d.overflow="hidden",c.textContent=e.value.slice(0,Math.max(0,a)),m&&c.textContent&&(c.textContent=c.textContent.replace(/\s/g,"\xA0"));const g=document.createElement("span");g.textContent=e.value.slice(Math.max(0,a))||".",g.style.position="relative",g.style.left=`${-e.scrollLeft}px`,g.style.top=`${-e.scrollTop}px`,c.appendChild(g);const v={top:g.offsetTop+Number.parseInt(h.borderTopWidth),left:g.offsetLeft+Number.parseInt(h.borderLeftWidth),height:Number.parseInt(h.fontSize)*1.5};return t.debug?g.style.backgroundColor="#aaa":document.body.removeChild(c),v.left>=e.clientWidth&&(v.left=e.clientWidth),v},HDe=it({...zR,options:{type:Se(Array),default:()=>[]},prefix:{type:Se([String,Array]),default:"@",validator:e=>Mt(e)?e.length===1:e.every(t=>Mt(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:Se([Boolean,Function]),default:()=>$De,validator:e=>e===!1?!0:Lt(e)},placement:{type:Se(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Se(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Se(Object),default:()=>({})}}),jDe={[tn]:e=>Mt(e),search:(e,t)=>Mt(e)&&Mt(t),select:(e,t)=>Mt(e.value)&&Mt(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},WDe=it({options:{type:Se(Array),default:()=>[]},loading:Boolean,disabled:Boolean}),zDe={select:e=>Mt(e.value)},KDe=he({name:"ElMentionDropdown"}),GDe=he({...KDe,props:WDe,emits:zDe,setup(e,{expose:t,emit:r}){const o=e,a=Je("mention"),{t:l}=En(),c=q(-1),d=q(),h=q(),m=q(),g=(R,k)=>[a.be("dropdown","item"),a.is("hovering",c.value===k),a.is("disabled",R.disabled||o.disabled)],v=R=>{R.disabled||o.disabled||r("select",R)},_=R=>{c.value=R},S=D(()=>o.disabled||o.options.every(R=>R.disabled)),T=D(()=>o.options[c.value]),b=()=>{!T.value||r("select",T.value)},I=R=>{const{options:k}=o;if(k.length===0||S.value)return;R==="next"?(c.value++,c.value===k.length&&(c.value=0)):R==="prev"&&(c.value--,c.value<0&&(c.value=k.length-1));const N=k[c.value];if(N.disabled){I(R);return}wt(()=>C(N))},C=R=>{var k,N,O,$;const{options:L}=o,M=L.findIndex(j=>j.value===R.value),U=(k=h.value)==null?void 0:k[M];if(U){const j=(O=(N=m.value)==null?void 0:N.querySelector)==null?void 0:O.call(N,`.${a.be("dropdown","wrap")}`);j&&vR(j,U)}($=d.value)==null||$.handleScroll()};return Ge(()=>o.options,()=>{S.value||o.options.length===0?c.value=-1:c.value=0},{immediate:!0}),t({navigateOptions:I,selectHoverOption:b,hoverOption:T}),(R,k)=>(F(),Q("div",{ref_key:"dropdownRef",ref:m,class:B(f(a).b("dropdown"))},[R.$slots.header?(F(),Q("div",{key:0,class:B(f(a).be("dropdown","header"))},[Pe(R.$slots,"header")],2)):Ie("v-if",!0),qt(se(f(Rs),{ref_key:"scrollbarRef",ref:d,tag:"ul","wrap-class":f(a).be("dropdown","wrap"),"view-class":f(a).be("dropdown","list")},{default:ye(()=>[(F(!0),Q(Tt,null,fn(R.options,(N,O)=>(F(),Q("li",{ref_for:!0,ref_key:"optionRefs",ref:h,key:N.value,class:B(g(N,O)),onMouseenter:$=>_(O),onClick:Vt($=>v(N),["stop"])},[Pe(R.$slots,"label",{item:N,index:O},()=>{var $;return[te("span",null,et(($=N.label)!=null?$:N.value),1)]})],42,["onMouseenter","onClick"]))),128))]),_:3},8,["wrap-class","view-class"]),[[Nn,R.options.length>0&&!R.loading]]),R.loading?(F(),Q("div",{key:1,class:B(f(a).be("dropdown","loading"))},[Pe(R.$slots,"loading",{},()=>[Jt(et(f(l)("el.mention.loading")),1)])],2)):Ie("v-if",!0),R.$slots.footer?(F(),Q("div",{key:2,class:B(f(a).be("dropdown","footer"))},[Pe(R.$slots,"footer")],2)):Ie("v-if",!0)],2))}});var qDe=at(GDe,[["__file","mention-dropdown.vue"]]);const YDe=he({name:"ElMention"}),JDe=he({...YDe,props:HDe,emits:jDe,setup(e,{expose:t,emit:r}){const o=e,a=D(()=>xa(o,Object.keys(zR))),l=Je("mention"),c=q(),d=q(),h=q(),m=q(!1),g=q(),v=q(),_=D(()=>o.showArrow?o.placement:`${o.placement}-start`),S=D(()=>o.showArrow?["bottom","top"]:["bottom-start","top-start"]),T=D(()=>{const{filterOption:L,options:M}=o;return!v.value||!L?M:M.filter(U=>L(v.value.pattern,U))}),b=L=>{r("update:modelValue",L),N()},I=L=>{var M,U,j,W;if("key"in L&&!((M=c.value)!=null&&M.isComposing)){if(["ArrowLeft","ArrowRight"].includes(L.key))N();else if(["ArrowUp","ArrowDown"].includes(L.key)){if(!m.value)return;L.preventDefault();const re=L.key==="ArrowUp"?"prev":"next";(U=h.value)==null||U.navigateOptions(re)}else if(["Enter"].includes(L.key)){if(!m.value)return;L.preventDefault(),(j=h.value)!=null&&j.hoverOption?(W=h.value)==null||W.selectHoverOption():m.value=!1}else if(["Backspace"].includes(L.key)&&o.whole&&v.value){const{splitIndex:re,selectionEnd:ae,pattern:ee,prefixIndex:G,prefix:Z}=v.value,X=k();if(!X)return;const H=X.value,J=o.options.find(ge=>ge.value===ee);if((Lt(o.checkIsWhole)?o.checkIsWhole(ee,Z):J)&&re!==-1&&re+1===ae){L.preventDefault();const ge=H.slice(0,G)+H.slice(re+1);r(tn,ge);const me=G;wt(()=>{X.selectionStart=me,X.selectionEnd=me,$()})}}}},{wrapperRef:C}=yg(c,{afterFocus(){N()},beforeBlur(L){var M;return(M=d.value)==null?void 0:M.isFocusInsideContent(L)},afterBlur(){m.value=!1}}),P=()=>{N()},R=L=>{if(!v.value)return;const M=k();if(!M)return;const U=M.value,{split:j}=o,W=U.slice(v.value.end),re=W.startsWith(j),ae=`${L.value}${re?"":j}`,ee=U.slice(0,v.value.start)+ae+W;r(tn,ee),r("select",L,v.value.prefix);const G=v.value.start+ae.length+(re?1:0);wt(()=>{M.selectionStart=G,M.selectionEnd=G,M.focus(),$()})},k=()=>{var L,M;return o.type==="textarea"?(L=c.value)==null?void 0:L.textarea:(M=c.value)==null?void 0:M.input},N=()=>{setTimeout(()=>{O(),$(),wt(()=>{var L;return(L=d.value)==null?void 0:L.updatePopper()})},0)},O=()=>{const L=k();if(!L)return;const M=BDe(L),U=L.getBoundingClientRect(),j=c.value.$el.getBoundingClientRect();g.value={position:"absolute",width:0,height:`${M.height}px`,left:`${M.left+U.left-j.left}px`,top:`${M.top+U.top-j.top}px`}},$=()=>{const L=k();if(document.activeElement!==L){m.value=!1;return}const{prefix:M,split:U}=o;if(v.value=UDe(L,M,U),v.value&&v.value.splitIndex===-1){m.value=!0,r("search",v.value.pattern,v.value.prefix);return}m.value=!1};return t({input:c,tooltip:d}),(L,M)=>(F(),Q("div",{ref_key:"wrapperRef",ref:C,class:B(f(l).b())},[se(f(wo),sn(sn(f(a),L.$attrs),{ref_key:"elInputRef",ref:c,"model-value":L.modelValue,onInput:b,onKeydown:I,onMousedown:P}),Ua({_:2},[fn(L.$slots,(U,j)=>({name:j,fn:ye(W=>[Pe(L.$slots,j,Ma(Pc(W)))])}))]),1040,["model-value"]),se(f(xo),{ref_key:"tooltipRef",ref:d,visible:m.value&&(!!f(T).length||L.loading),"popper-class":[f(l).e("popper"),L.popperClass],"popper-options":L.popperOptions,placement:f(_),"fallback-placements":f(S),effect:"light",pure:"",offset:L.offset,"show-arrow":L.showArrow},{default:ye(()=>[te("div",{style:kt(g.value)},null,4)]),content:ye(()=>{var U;return[se(qDe,{ref_key:"dropdownRef",ref:h,options:f(T),disabled:L.disabled,loading:L.loading,onSelect:R,onClick:Vt((U=c.value)==null?void 0:U.focus,["stop"])},Ua({_:2},[fn(L.$slots,(j,W)=>({name:W,fn:ye(re=>[Pe(L.$slots,W,Ma(Pc(re)))])}))]),1032,["options","disabled","loading","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var XDe=at(JDe,[["__file","mention.vue"]]);const QDe=Kt(XDe);var ZDe=[fge,x6,B_e,_Oe,G_e,ebe,X6,fbe,hbe,lo,oH,T0e,R0e,U0e,B0e,BSe,BH,GSe,_a,tSe,PH,J0,zH,KH,X0,jEe,oge,tTe,nTe,rTe,oTe,iTe,zTe,tCe,nCe,pCe,h5,CCe,hwe,pwe,mwe,E5,pye,mye,St,Dwe,T5,wo,C5,Wwe,uIe,dIe,fIe,hIe,_Ie,uke,vke,wke,q6,D5,$H,pSe,hSe,Mke,Uke,Y0,Rs,Hc,Hv,WIe,E1e,O1e,N1e,oRe,cRe,Q5,bRe,ARe,ORe,xRe,LAe,MAe,yOe,DOe,LOe,Uv,$Oe,o0e,zOe,JOe,XOe,xo,ENe,MNe,f0,ePe,gPe,UPe,JPe,SDe,EDe,NDe,PDe,FDe,QDe];const ca="ElInfiniteScroll",eLe=50,tLe=200,nLe=0,rLe={delay:{type:Number,default:tLe},distance:{type:Number,default:nLe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},LA=(e,t)=>Object.entries(rLe).reduce((r,[o,a])=>{var l,c;const{type:d,default:h}=a,m=e.getAttribute(`infinite-scroll-${o}`);let g=(c=(l=t[m])!=null?l:m)!=null?c:h;return g=g==="false"?!1:g,g=d(g),r[o]=Number.isNaN(g)?h:g,r},{}),Gj=e=>{const{observer:t}=e[ca];t&&(t.disconnect(),delete e[ca].observer)},oLe=(e,t)=>{const{container:r,containerEl:o,instance:a,observer:l,lastScrollTop:c}=e[ca],{disabled:d,distance:h}=LA(e,a),{clientHeight:m,scrollHeight:g,scrollTop:v}=o,_=v-c;if(e[ca].lastScrollTop=v,l||d||_<0)return;let S=!1;if(r===e)S=g-(m+v)<=h;else{const{clientTop:T,scrollHeight:b}=e,I=QI(e,o);S=v+m>=I+T+b-h}S&&t.call(a)};function AI(e,t){const{containerEl:r,instance:o}=e[ca],{disabled:a}=LA(e,o);a||r.clientHeight===0||(r.scrollHeight<=r.clientHeight?t.call(o):Gj(e))}const iLe={async mounted(e,t){const{instance:r,value:o}=t;Lt(o)||to(ca,"'v-infinite-scroll' binding value must be a function"),await wt();const{delay:a,immediate:l}=LA(e,r),c=mR(e,!0),d=c===window?document.documentElement:c,h=ld(oLe.bind(null,e,o),a);if(!!c){if(e[ca]={instance:r,container:c,containerEl:d,delay:a,cb:o,onScroll:h,lastScrollTop:d.scrollTop},l){const m=new MutationObserver(ld(AI.bind(null,e,o),eLe));e[ca].observer=m,m.observe(e,{childList:!0,subtree:!0}),AI(e,o)}c.addEventListener("scroll",h)}},unmounted(e){if(!e[ca])return;const{container:t,onScroll:r}=e[ca];t==null||t.removeEventListener("scroll",r),Gj(e)},async updated(e){if(!e[ca])await wt();else{const{containerEl:t,cb:r,observer:o}=e[ca];t.clientHeight&&o&&AI(e,r)}}},n1=iLe;n1.install=e=>{e.directive("InfiniteScroll",n1)};const aLe=n1;function sLe(e){let t;const r=q(!1),o=Un({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(_){o.text=_}function l(){const _=o.parent,S=v.ns;if(!_.vLoadingAddClassList){let T=_.getAttribute("loading-number");T=Number.parseInt(T)-1,T?_.setAttribute("loading-number",T.toString()):(Ko(_,S.bm("parent","relative")),_.removeAttribute("loading-number")),Ko(_,S.bm("parent","hidden"))}c(),g.unmount()}function c(){var _,S;(S=(_=v.$el)==null?void 0:_.parentNode)==null||S.removeChild(v.$el)}function d(){var _;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(t),t=setTimeout(h,400),o.visible=!1,(_=e.closed)==null||_.call(e))}function h(){if(!r.value)return;const _=o.parent;r.value=!1,_.vLoadingAddClassList=void 0,l()}const m=he({name:"ElLoading",setup(_,{expose:S}){const{ns:T,zIndex:b}=K0("loading");return S({ns:T,zIndex:b}),()=>{const I=o.spinner||o.svg,C=Ot("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"0 0 50 50",...I?{innerHTML:I}:{}},[Ot("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),P=o.text?Ot("p",{class:T.b("text")},[o.text]):void 0;return Ot(eo,{name:T.b("fade"),onAfterLeave:h},{default:ye(()=>[qt(se("div",{style:{backgroundColor:o.background||""},class:[T.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[Ot("div",{class:T.b("spinner")},[C,P])]),[[Nn,o.visible]])])})}}}),g=JB(m),v=g.mount(document.createElement("div"));return{...So(o),setText:a,removeElLoadingChild:c,close:d,handleAfterLeave:h,vm:v,get $el(){return v.$el}}}let gb;const r1=function(e={}){if(!Sn)return;const t=lLe(e);if(t.fullscreen&&gb)return gb;const r=sLe({...t,closed:()=>{var a;(a=t.closed)==null||a.call(t),t.fullscreen&&(gb=void 0)}});cLe(t,t.parent,r),IU(t,t.parent,r),t.parent.vLoadingAddClassList=()=>IU(t,t.parent,r);let o=t.parent.getAttribute("loading-number");return o?o=`${Number.parseInt(o)+1}`:o="1",t.parent.setAttribute("loading-number",o),t.parent.appendChild(r.$el),wt(()=>r.visible.value=t.visible),t.fullscreen&&(gb=r),r},lLe=e=>{var t,r,o,a;let l;return Mt(e.target)?l=(t=document.querySelector(e.target))!=null?t:document.body:l=e.target||document.body,{parent:l===document.body||e.body?document.body:l,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:l===document.body&&((r=e.fullscreen)!=null?r:!0),lock:(o=e.lock)!=null?o:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,beforeClose:e.beforeClose,closed:e.closed,target:l}},cLe=async(e,t,r)=>{const{nextZIndex:o}=r.vm.zIndex||r.vm._.exposed.zIndex,a={};if(e.fullscreen)r.originalPosition.value=Tc(document.body,"position"),r.originalOverflow.value=Tc(document.body,"overflow"),a.zIndex=o();else if(e.parent===document.body){r.originalPosition.value=Tc(document.body,"position"),await wt();for(const l of["top","left"]){const c=l==="top"?"scrollTop":"scrollLeft";a[l]=`${e.target.getBoundingClientRect()[l]+document.body[c]+document.documentElement[c]-Number.parseInt(Tc(document.body,`margin-${l}`),10)}px`}for(const l of["height","width"])a[l]=`${e.target.getBoundingClientRect()[l]}px`}else r.originalPosition.value=Tc(t,"position");for(const[l,c]of Object.entries(a))r.$el.style[l]=c},IU=(e,t,r)=>{const o=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?Ko(t,o.bm("parent","relative")):fa(t,o.bm("parent","relative")),e.fullscreen&&e.lock?fa(t,o.bm("parent","hidden")):Ko(t,o.bm("parent","hidden"))},Vb=Symbol("ElLoading"),kU=(e,t)=>{var r,o,a,l;const c=t.instance,d=_=>nn(t.value)?t.value[_]:void 0,h=_=>{const S=Mt(_)&&(c==null?void 0:c[_])||_;return S&&q(S)},m=_=>h(d(_)||e.getAttribute(`element-loading-${vl(_)}`)),g=(r=d("fullscreen"))!=null?r:t.modifiers.fullscreen,v={text:m("text"),svg:m("svg"),svgViewBox:m("svgViewBox"),spinner:m("spinner"),background:m("background"),customClass:m("customClass"),fullscreen:g,target:(o=d("target"))!=null?o:g?void 0:e,body:(a=d("body"))!=null?a:t.modifiers.body,lock:(l=d("lock"))!=null?l:t.modifiers.lock};e[Vb]={options:v,instance:r1(v)}},uLe=(e,t)=>{for(const r of Object.keys(t))lr(t[r])&&(t[r].value=e[r])},RU={mounted(e,t){t.value&&kU(e,t)},updated(e,t){const r=e[Vb];t.oldValue!==t.value&&(t.value&&!t.oldValue?kU(e,t):t.value&&t.oldValue?nn(t.value)&&uLe(t.value,r.options):r==null||r.instance.close())},unmounted(e){var t;(t=e[Vb])==null||t.instance.close(),e[Vb]=null}},dLe={install(e){e.directive("loading",RU),e.config.globalProperties.$loading=r1},directive:RU,service:r1},qj=["success","info","warning","error"],Ho=Er({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Sn?document.body:void 0}),fLe=it({customClass:{type:String,default:Ho.customClass},center:{type:Boolean,default:Ho.center},dangerouslyUseHTMLString:{type:Boolean,default:Ho.dangerouslyUseHTMLString},duration:{type:Number,default:Ho.duration},icon:{type:ir,default:Ho.icon},id:{type:String,default:Ho.id},message:{type:Se([String,Object,Function]),default:Ho.message},onClose:{type:Se(Function),default:Ho.onClose},showClose:{type:Boolean,default:Ho.showClose},type:{type:String,values:qj,default:Ho.type},plain:{type:Boolean,default:Ho.plain},offset:{type:Number,default:Ho.offset},zIndex:{type:Number,default:Ho.zIndex},grouping:{type:Boolean,default:Ho.grouping},repeatNum:{type:Number,default:Ho.repeatNum}}),hLe={destroy:()=>!0},Va=D1([]),pLe=e=>{const t=Va.findIndex(a=>a.id===e),r=Va[t];let o;return t>0&&(o=Va[t-1]),{current:r,prev:o}},mLe=e=>{const{prev:t}=pLe(e);return t?t.vm.exposed.bottom.value:0},vLe=(e,t)=>Va.findIndex(o=>o.id===e)>0?16:t,gLe=he({name:"ElMessage"}),yLe=he({...gLe,props:fLe,emits:hLe,setup(e,{expose:t}){const r=e,{Close:o}=ER,{ns:a,zIndex:l}=K0("message"),{currentZIndex:c,nextZIndex:d}=l,h=q(),m=q(!1),g=q(0);let v;const _=D(()=>r.type?r.type==="error"?"danger":r.type:"info"),S=D(()=>{const $=r.type;return{[a.bm("icon",$)]:$&&$c[$]}}),T=D(()=>r.icon||$c[r.type]||""),b=D(()=>mLe(r.id)),I=D(()=>vLe(r.id,r.offset)+b.value),C=D(()=>g.value+I.value),P=D(()=>({top:`${I.value}px`,zIndex:c.value}));function R(){r.duration!==0&&({stop:v}=md(()=>{N()},r.duration))}function k(){v==null||v()}function N(){m.value=!1}function O({code:$}){$===It.esc&&N()}return Zt(()=>{R(),d(),m.value=!0}),Ge(()=>r.repeatNum,()=>{k(),R()}),Zn(document,"keydown",O),Sr(h,()=>{g.value=h.value.getBoundingClientRect().height}),t({visible:m,bottom:C,close:N}),($,L)=>(F(),Ve(eo,{name:f(a).b("fade"),onBeforeLeave:$.onClose,onAfterLeave:M=>$.$emit("destroy"),persisted:""},{default:ye(()=>[qt(te("div",{id:$.id,ref_key:"messageRef",ref:h,class:B([f(a).b(),{[f(a).m($.type)]:$.type},f(a).is("center",$.center),f(a).is("closable",$.showClose),f(a).is("plain",$.plain),$.customClass]),style:kt(f(P)),role:"alert",onMouseenter:k,onMouseleave:R},[$.repeatNum>1?(F(),Ve(f(X6),{key:0,value:$.repeatNum,type:f(_),class:B(f(a).e("badge"))},null,8,["value","type","class"])):Ie("v-if",!0),f(T)?(F(),Ve(f(St),{key:1,class:B([f(a).e("icon"),f(S)])},{default:ye(()=>[(F(),Ve(ln(f(T))))]),_:1},8,["class"])):Ie("v-if",!0),Pe($.$slots,"default",{},()=>[$.dangerouslyUseHTMLString?(F(),Q(Tt,{key:1},[Ie(" Caution here, message could've been compromised, never use user's input as message "),te("p",{class:B(f(a).e("content")),innerHTML:$.message},null,10,["innerHTML"])],2112)):(F(),Q("p",{key:0,class:B(f(a).e("content"))},et($.message),3))]),$.showClose?(F(),Ve(f(St),{key:2,class:B(f(a).e("closeBtn")),onClick:Vt(N,["stop"])},{default:ye(()=>[se(f(o))]),_:1},8,["class","onClick"])):Ie("v-if",!0)],46,["id"]),[[Nn,m.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var _Le=at(yLe,[["__file","message.vue"]]);let bLe=1;const Yj=e=>{const t=!e||Mt(e)||_r(e)||Lt(e)?{message:e}:e,r={...Ho,...t};if(!r.appendTo)r.appendTo=document.body;else if(Mt(r.appendTo)){let o=document.querySelector(r.appendTo);Bi(o)||(o=document.body),r.appendTo=o}return r},SLe=e=>{const t=Va.indexOf(e);if(t===-1)return;Va.splice(t,1);const{handler:r}=e;r.close()},ELe=({appendTo:e,...t},r)=>{const o=`message_${bLe++}`,a=t.onClose,l=document.createElement("div"),c={...t,id:o,onClose:()=>{a==null||a(),SLe(g)},onDestroy:()=>{Dc(null,l)}},d=se(_Le,c,Lt(c.message)||_r(c.message)?{default:Lt(c.message)?c.message:()=>c.message}:null);d.appContext=r||Dh._context,Dc(d,l),e.appendChild(l.firstElementChild);const h=d.component,g={id:o,vnode:d,vm:h,handler:{close:()=>{h.exposed.visible.value=!1}},props:d.component.props};return g},Dh=(e={},t)=>{if(!Sn)return{close:()=>{}};if(xt(dk.max)&&Va.length>=dk.max)return{close:()=>{}};const r=Yj(e);if(r.grouping&&Va.length){const a=Va.find(({vnode:l})=>{var c;return((c=l.props)==null?void 0:c.message)===r.message});if(a)return a.props.repeatNum+=1,a.props.type=r.type,a.handler}const o=ELe(r,t);return Va.push(o),o.handler};qj.forEach(e=>{Dh[e]=(t={},r)=>{const o=Yj(t);return Dh({...o,type:e},r)}});function TLe(e){for(const t of Va)(!e||e===t.props.type)&&t.handler.close()}Dh.closeAll=TLe;Dh._context=null;const ll=Q8(Dh,"$message"),CLe=he({name:"ElMessageBox",directives:{TrapFocus:jbe},components:{ElButton:lo,ElFocusTrap:bg,ElInput:wo,ElOverlay:aA,ElIcon:St,...ER},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Z8},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:r,zIndex:o,ns:a,size:l}=K0("message-box",D(()=>e.buttonSize)),{t:c}=r,{nextZIndex:d}=o,h=q(!1),m=Un({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:_s(Ts),cancelButtonLoadingIcon:_s(Ts),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:d()}),g=D(()=>{const G=m.type;return{[a.bm("icon",G)]:G&&$c[G]}}),v=Mo(),_=Mo(),S=D(()=>m.icon||$c[m.type]||""),T=D(()=>!!m.message),b=q(),I=q(),C=q(),P=q(),R=q(),k=D(()=>m.confirmButtonClass);Ge(()=>m.inputValue,async G=>{await wt(),e.boxType==="prompt"&&G!==null&&W()},{immediate:!0}),Ge(()=>h.value,G=>{var Z,X;G&&(e.boxType!=="prompt"&&(m.autofocus?C.value=(X=(Z=R.value)==null?void 0:Z.$el)!=null?X:b.value:C.value=b.value),m.zIndex=d()),e.boxType==="prompt"&&(G?wt().then(()=>{var H;P.value&&P.value.$el&&(m.autofocus?C.value=(H=re())!=null?H:b.value:C.value=b.value)}):(m.editorErrorMessage="",m.validateError=!1))});const N=D(()=>e.draggable),O=D(()=>e.overflow);e6(b,I,N,O),Zt(async()=>{await wt(),e.closeOnHashChange&&window.addEventListener("hashchange",$)}),ur(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",$)});function $(){!h.value||(h.value=!1,wt(()=>{m.action&&t("action",m.action)}))}const L=()=>{e.closeOnClickModal&&j(m.distinguishCancelAndClose?"close":"cancel")},M=MR(L),U=G=>{if(m.inputType!=="textarea")return G.preventDefault(),j("confirm")},j=G=>{var Z;e.boxType==="prompt"&&G==="confirm"&&!W()||(m.action=G,m.beforeClose?(Z=m.beforeClose)==null||Z.call(m,G,m,$):$())},W=()=>{if(e.boxType==="prompt"){const G=m.inputPattern;if(G&&!G.test(m.inputValue||""))return m.editorErrorMessage=m.inputErrorMessage||c("el.messagebox.error"),m.validateError=!0,!1;const Z=m.inputValidator;if(typeof Z=="function"){const X=Z(m.inputValue);if(X===!1)return m.editorErrorMessage=m.inputErrorMessage||c("el.messagebox.error"),m.validateError=!0,!1;if(typeof X=="string")return m.editorErrorMessage=X,m.validateError=!0,!1}}return m.editorErrorMessage="",m.validateError=!1,!0},re=()=>{const G=P.value.$refs;return G.input||G.textarea},ae=()=>{j("close")},ee=()=>{e.closeOnPressEscape&&ae()};return e.lockScroll&&IR(h),{...So(m),ns:a,overlayEvent:M,visible:h,hasMessage:T,typeClass:g,contentId:v,inputId:_,btnSize:l,iconComponent:S,confirmButtonClasses:k,rootRef:b,focusStartRef:C,headerRef:I,inputRef:P,confirmRef:R,doClose:$,handleClose:ae,onCloseRequested:ee,handleWrapperClick:L,handleInputEnter:U,handleAction:j,t:c}}});function wLe(e,t,r,o,a,l){const c=en("el-icon"),d=en("close"),h=en("el-input"),m=en("el-button"),g=en("el-focus-trap"),v=en("el-overlay");return F(),Ve(eo,{name:"fade-in-linear",onAfterLeave:_=>e.$emit("vanish"),persisted:""},{default:ye(()=>[qt(se(v,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:ye(()=>[te("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:B(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[se(g,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:ye(()=>[te("div",{ref:"rootRef",class:B([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:kt(e.customStyle),tabindex:"-1",onClick:Vt(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(F(),Q("div",{key:0,ref:"headerRef",class:B([e.ns.e("header"),{"show-close":e.showClose}])},[te("div",{class:B(e.ns.e("title"))},[e.iconComponent&&e.center?(F(),Ve(c,{key:0,class:B([e.ns.e("status"),e.typeClass])},{default:ye(()=>[(F(),Ve(ln(e.iconComponent)))]),_:1},8,["class"])):Ie("v-if",!0),te("span",null,et(e.title),1)],2),e.showClose?(F(),Q("button",{key:0,type:"button",class:B(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:_=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:or(Vt(_=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[se(c,{class:B(e.ns.e("close"))},{default:ye(()=>[se(d)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Ie("v-if",!0)],2)):Ie("v-if",!0),te("div",{id:e.contentId,class:B(e.ns.e("content"))},[te("div",{class:B(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(F(),Ve(c,{key:0,class:B([e.ns.e("status"),e.typeClass])},{default:ye(()=>[(F(),Ve(ln(e.iconComponent)))]),_:1},8,["class"])):Ie("v-if",!0),e.hasMessage?(F(),Q("div",{key:1,class:B(e.ns.e("message"))},[Pe(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(F(),Ve(ln(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(F(),Ve(ln(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:ye(()=>[Jt(et(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Ie("v-if",!0)],2),qt(te("div",{class:B(e.ns.e("input"))},[se(h,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":_=>e.inputValue=_,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:B({invalid:e.validateError}),onKeydown:or(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),te("div",{class:B(e.ns.e("errormsg")),style:kt({visibility:e.editorErrorMessage?"visible":"hidden"})},et(e.editorErrorMessage),7)],2),[[Nn,e.showInput]])],10,["id"]),te("div",{class:B(e.ns.e("btns"))},[e.showCancelButton?(F(),Ve(m,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:B([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:_=>e.handleAction("cancel"),onKeydown:or(Vt(_=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:ye(()=>[Jt(et(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Ie("v-if",!0),qt(se(m,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:B([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:_=>e.handleAction("confirm"),onKeydown:or(Vt(_=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:ye(()=>[Jt(et(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[Nn,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[Nn,e.visible]])]),_:3},8,["onAfterLeave"])}var ILe=at(CLe,[["render",wLe],["__file","index.vue"]]);const Jv=new Map,kLe=e=>{let t=document.body;return e.appendTo&&(Mt(e.appendTo)&&(t=document.querySelector(e.appendTo)),Bi(e.appendTo)&&(t=e.appendTo),Bi(t)||(t=document.body)),t},RLe=(e,t,r=null)=>{const o=se(ILe,e,Lt(e.message)||_r(e.message)?{default:Lt(e.message)?e.message:()=>e.message}:null);return o.appContext=r,Dc(o,t),kLe(e).appendChild(t.firstElementChild),o.component},ALe=()=>document.createElement("div"),OLe=(e,t)=>{const r=ALe();e.onVanish=()=>{Dc(null,r),Jv.delete(a)},e.onAction=l=>{const c=Jv.get(a);let d;e.showInput?d={value:a.inputValue,action:l}:d=l,e.callback?e.callback(d,o.proxy):l==="cancel"||l==="close"?e.distinguishCancelAndClose&&l!=="cancel"?c.reject("close"):c.reject("cancel"):c.resolve(d)};const o=RLe(e,r,t),a=o.proxy;for(const l in e)wn(e,l)&&!wn(a.$props,l)&&(a[l]=e[l]);return a.visible=!0,a};function Xh(e,t=null){if(!Sn)return Promise.reject();let r;return Mt(e)||_r(e)?e={message:e}:r=e.callback,new Promise((o,a)=>{const l=OLe(e,t!=null?t:Xh._context);Jv.set(l,{options:e,callback:r,resolve:o,reject:a})})}const NLe=["alert","confirm","prompt"],PLe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};NLe.forEach(e=>{Xh[e]=DLe(e)});function DLe(e){return(t,r,o,a)=>{let l="";return nn(r)?(o=r,l=""):Ar(r)?l="":l=r,Xh(Object.assign({title:l,message:t,type:"",...PLe[e]},o,{boxType:e}),a)}}Xh.close=()=>{Jv.forEach((e,t)=>{t.doClose()}),Jv.clear()};Xh._context=null;const mc=Xh;mc.install=e=>{mc._context=e._context,e.config.globalProperties.$msgbox=mc,e.config.globalProperties.$messageBox=mc,e.config.globalProperties.$alert=mc.alert,e.config.globalProperties.$confirm=mc.confirm,e.config.globalProperties.$prompt=mc.prompt};const LLe=mc,Jj=["success","info","warning","error"],MLe=it({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:ir},id:{type:String,default:""},message:{type:Se([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Se(Function),default:()=>{}},onClose:{type:Se(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Jj,""],default:""},zIndex:Number}),xLe={destroy:()=>!0},VLe=he({name:"ElNotification"}),FLe=he({...VLe,props:MLe,emits:xLe,setup(e,{expose:t}){const r=e,{ns:o,zIndex:a}=K0("notification"),{nextZIndex:l,currentZIndex:c}=a,{Close:d}=SR,h=q(!1);let m;const g=D(()=>{const R=r.type;return R&&$c[r.type]?o.m(R):""}),v=D(()=>r.type&&$c[r.type]||r.icon),_=D(()=>r.position.endsWith("right")?"right":"left"),S=D(()=>r.position.startsWith("top")?"top":"bottom"),T=D(()=>{var R;return{[S.value]:`${r.offset}px`,zIndex:(R=r.zIndex)!=null?R:c.value}});function b(){r.duration>0&&({stop:m}=md(()=>{h.value&&C()},r.duration))}function I(){m==null||m()}function C(){h.value=!1}function P({code:R}){R===It.delete||R===It.backspace?I():R===It.esc?h.value&&C():b()}return Zt(()=>{b(),l(),h.value=!0}),Zn(document,"keydown",P),t({visible:h,close:C}),(R,k)=>(F(),Ve(eo,{name:f(o).b("fade"),onBeforeLeave:R.onClose,onAfterLeave:N=>R.$emit("destroy"),persisted:""},{default:ye(()=>[qt(te("div",{id:R.id,class:B([f(o).b(),R.customClass,f(_)]),style:kt(f(T)),role:"alert",onMouseenter:I,onMouseleave:b,onClick:R.onClick},[f(v)?(F(),Ve(f(St),{key:0,class:B([f(o).e("icon"),f(g)])},{default:ye(()=>[(F(),Ve(ln(f(v))))]),_:1},8,["class"])):Ie("v-if",!0),te("div",{class:B(f(o).e("group"))},[te("h2",{class:B(f(o).e("title")),textContent:et(R.title)},null,10,["textContent"]),qt(te("div",{class:B(f(o).e("content")),style:kt(R.title?void 0:{margin:0})},[Pe(R.$slots,"default",{},()=>[R.dangerouslyUseHTMLString?(F(),Q(Tt,{key:1},[Ie(" Caution here, message could've been compromised, never use user's input as message "),te("p",{innerHTML:R.message},null,8,["innerHTML"])],2112)):(F(),Q("p",{key:0},et(R.message),1))])],6),[[Nn,R.message]]),R.showClose?(F(),Ve(f(St),{key:0,class:B(f(o).e("closeBtn")),onClick:Vt(C,["stop"])},{default:ye(()=>[se(f(d))]),_:1},8,["class","onClick"])):Ie("v-if",!0)],2)],46,["id","onClick"]),[[Nn,h.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var $Le=at(FLe,[["__file","notification.vue"]]);const h0={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},o1=16;let ULe=1;const Lh=function(e={},t=null){if(!Sn)return{close:()=>{}};(typeof e=="string"||_r(e))&&(e={message:e});const r=e.position||"top-right";let o=e.offset||0;h0[r].forEach(({vm:g})=>{var v;o+=(((v=g.el)==null?void 0:v.offsetHeight)||0)+o1}),o+=o1;const a=`notification_${ULe++}`,l=e.onClose,c={...e,offset:o,id:a,onClose:()=>{BLe(a,r,l)}};let d=document.body;Bi(e.appendTo)?d=e.appendTo:Mt(e.appendTo)&&(d=document.querySelector(e.appendTo)),Bi(d)||(d=document.body);const h=document.createElement("div"),m=se($Le,c,_r(c.message)?{default:()=>c.message}:null);return m.appContext=t!=null?t:Lh._context,m.props.onDestroy=()=>{Dc(null,h)},Dc(m,h),h0[r].push({vm:m}),d.appendChild(h.firstElementChild),{close:()=>{m.component.exposed.visible.value=!1}}};Jj.forEach(e=>{Lh[e]=(t={})=>((typeof t=="string"||_r(t))&&(t={message:t}),Lh({...t,type:e}))});function BLe(e,t,r){const o=h0[t],a=o.findIndex(({vm:m})=>{var g;return((g=m.component)==null?void 0:g.props.id)===e});if(a===-1)return;const{vm:l}=o[a];if(!l)return;r==null||r(l);const c=l.el.offsetHeight,d=t.split("-")[0];o.splice(a,1);const h=o.length;if(!(h<1))for(let m=a;m<h;m++){const{el:g,component:v}=o[m].vm,_=Number.parseInt(g.style[d],10)-c-o1;v.props.offset=_}}function HLe(){for(const e of Object.values(h0))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}Lh.closeAll=HLe;Lh._context=null;const jLe=Q8(Lh,"$notify");var WLe=[aLe,dLe,ll,LLe,jLe,P5],zLe=age([...ZDe,...WLe]),KLe=!1;/*!
 * pinia v2.2.1
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Xj;const iS=e=>Xj=e,Qj=Symbol();function i1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var _v;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_v||(_v={}));function GLe(){const e=b0(!0),t=e.run(()=>q({}));let r=[],o=[];const a=_s({install(l){iS(a),a._a=l,l.provide(Qj,a),l.config.globalProperties.$pinia=a,o.forEach(c=>r.push(c)),o=[]},use(l){return!this._a&&!KLe?o.push(l):r.push(l),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return a}const Zj=()=>{};function AU(e,t,r,o=Zj){e.push(t);const a=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),o())};return!r&&I1()&&k1(a),a}function Gf(e,...t){e.slice().forEach(r=>{r(...t)})}const qLe=e=>e(),OU=Symbol(),OI=Symbol();function a1(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,o)=>e.set(o,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const o=t[r],a=e[r];i1(a)&&i1(o)&&e.hasOwnProperty(r)&&!lr(o)&&!ad(o)?e[r]=a1(a,o):e[r]=o}return e}const YLe=Symbol();function JLe(e){return!i1(e)||!e.hasOwnProperty(YLe)}const{assign:vc}=Object;function XLe(e){return!!(lr(e)&&e.effect)}function QLe(e,t,r,o){const{state:a,actions:l,getters:c}=t,d=r.state.value[e];let h;function m(){d||(r.state.value[e]=a?a():{});const g=So(r.state.value[e]);return vc(g,l,Object.keys(c||{}).reduce((v,_)=>(v[_]=_s(D(()=>{iS(r);const S=r._s.get(e);return c[_].call(S,S)})),v),{}))}return h=eW(e,m,t,r,o,!0),h}function eW(e,t,r={},o,a,l){let c;const d=vc({actions:{}},r),h={deep:!0};let m,g,v=[],_=[],S;const T=o.state.value[e];!l&&!T&&(o.state.value[e]={}),q({});let b;function I(L){let M;m=g=!1,typeof L=="function"?(L(o.state.value[e]),M={type:_v.patchFunction,storeId:e,events:S}):(a1(o.state.value[e],L),M={type:_v.patchObject,payload:L,storeId:e,events:S});const U=b=Symbol();wt().then(()=>{b===U&&(m=!0)}),g=!0,Gf(v,M,o.state.value[e])}const C=l?function(){const{state:M}=r,U=M?M():{};this.$patch(j=>{vc(j,U)})}:Zj;function P(){c.stop(),v=[],_=[],o._s.delete(e)}const R=(L,M="")=>{if(OU in L)return L[OI]=M,L;const U=function(){iS(o);const j=Array.from(arguments),W=[],re=[];function ae(Z){W.push(Z)}function ee(Z){re.push(Z)}Gf(_,{args:j,name:U[OI],store:N,after:ae,onError:ee});let G;try{G=L.apply(this&&this.$id===e?this:N,j)}catch(Z){throw Gf(re,Z),Z}return G instanceof Promise?G.then(Z=>(Gf(W,Z),Z)).catch(Z=>(Gf(re,Z),Promise.reject(Z))):(Gf(W,G),G)};return U[OU]=!0,U[OI]=M,U},k={_p:o,$id:e,$onAction:AU.bind(null,_),$patch:I,$reset:C,$subscribe(L,M={}){const U=AU(v,L,M.detached,()=>j()),j=c.run(()=>Ge(()=>o.state.value[e],W=>{(M.flush==="sync"?g:m)&&L({storeId:e,type:_v.direct,events:S},W)},vc({},h,M)));return U},$dispose:P},N=Un(k);o._s.set(e,N);const $=(o._a&&o._a.runWithContext||qLe)(()=>o._e.run(()=>(c=b0()).run(()=>t({action:R}))));for(const L in $){const M=$[L];if(lr(M)&&!XLe(M)||ad(M))l||(T&&JLe(M)&&(lr(M)?M.value=T[L]:a1(M,T[L])),o.state.value[e][L]=M);else if(typeof M=="function"){const U=R(M,L);$[L]=U,d.actions[L]=M}}return vc(N,$),vc(er(N),$),Object.defineProperty(N,"$state",{get:()=>o.state.value[e],set:L=>{I(M=>{vc(M,L)})}}),o._p.forEach(L=>{vc(N,c.run(()=>L({store:N,app:o._a,pinia:o,options:d})))}),T&&l&&r.hydrate&&r.hydrate(N.$state,T),m=!0,g=!0,N}function ZLe(e,t,r){let o,a;const l=typeof t=="function";typeof e=="string"?(o=e,a=l?r:t):(a=e,o=e.id);function c(d,h){const m=aie();return d=d||(m?pt(Qj,null):null),d&&iS(d),d=Xj,d._s.has(o)||(l?eW(o,t,a,d):QLe(o,a,d)),d._s.get(o)}return c.$id=o,c}var tW={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){function r(n,i){return i.forEach(function(s){s&&typeof s!="string"&&!Array.isArray(s)&&Object.keys(s).forEach(function(u){if(u!=="default"&&!(u in n)){var p=Object.getOwnPropertyDescriptor(s,u);Object.defineProperty(n,u,p.get?p:{enumerable:!0,get:function(){return s[u]}})}})}),Object.freeze(n)}var o=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof ji!="undefined"?ji:typeof self!="undefined"?self:{},a=function(n){try{return!!n()}catch{return!0}},l=!a(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")}),c=l,d=Function.prototype,h=d.call,m=c&&d.bind.bind(h,h),g=c?m:function(n){return function(){return h.apply(n,arguments)}},v=g,_=v({}.toString),S=v("".slice),T=function(n){return S(_(n),8,-1)},b=a,I=T,C=Object,P=g("".split),R=b(function(){return!C("z").propertyIsEnumerable(0)})?function(n){return I(n)=="String"?P(n,""):C(n)}:C,k=function(n){return n==null},N=k,O=TypeError,$=function(n){if(N(n))throw O("Can't call method on "+n);return n},L=R,M=$,U=function(n){return L(M(n))},j=function(n){return n&&n.Math==Math&&n},W=j(typeof globalThis=="object"&&globalThis)||j(typeof window=="object"&&window)||j(typeof self=="object"&&self)||j(typeof o=="object"&&o)||function(){return this}()||Function("return this")(),re={},ae={get exports(){return re},set exports(n){re=n}},ee=W,G=Object.defineProperty,Z=function(n,i){try{G(ee,n,{value:i,configurable:!0,writable:!0})}catch{ee[n]=i}return i},X=Z,H="__core-js_shared__",J=W[H]||X(H,{}),fe=J;(ae.exports=function(n,i){return fe[n]||(fe[n]=i!==void 0?i:{})})("versions",[]).push({version:"3.30.0",mode:"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.0/LICENSE",source:"https://github.com/zloirock/core-js"});var ge,me,Ee=$,Fe=Object,$e=function(n){return Fe(Ee(n))},de=$e,Le=g({}.hasOwnProperty),Te=Object.hasOwn||function(n,i){return Le(de(n),i)},Be=g,be=0,We=Math.random(),ce=Be(1 .toString),ie=function(n){return"Symbol("+(n===void 0?"":n)+")_"+ce(++be+We,36)},De=typeof navigator!="undefined"&&String(navigator.userAgent)||"",tt=W,xe=De,ze=tt.process,ot=tt.Deno,le=ze&&ze.versions||ot&&ot.version,pe=le&&le.v8;pe&&(me=(ge=pe.split("."))[0]>0&&ge[0]<4?1:+(ge[0]+ge[1])),!me&&xe&&(!(ge=xe.match(/Edge\/(\d+)/))||ge[1]>=74)&&(ge=xe.match(/Chrome\/(\d+)/))&&(me=+ge[1]);var Re=me,Ae=Re,qe=a,rt=!!Object.getOwnPropertySymbols&&!qe(function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&Ae&&Ae<41}),Ue=rt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Xe=re,Nt=Te,Ft=ie,Et=rt,Ut=Ue,He=W.Symbol,vt=Xe("wks"),we=Ut?He.for||He:He&&He.withoutSetter||Ft,Ye=function(n){return Nt(vt,n)||(vt[n]=Et&&Nt(He,n)?He[n]:we("Symbol."+n)),vt[n]},nt=typeof document=="object"&&document.all,jt={all:nt,IS_HTMLDDA:nt===void 0&&nt!==void 0},Dt=jt.all,Me=jt.IS_HTMLDDA?function(n){return typeof n=="function"||n===Dt}:function(n){return typeof n=="function"},ft=Me,In=jt.all,rn=jt.IS_HTMLDDA?function(n){return typeof n=="object"?n!==null:ft(n)||n===In}:function(n){return typeof n=="object"?n!==null:ft(n)},qn=rn,Pn=String,Xr=TypeError,Nr=function(n){if(qn(n))return n;throw Xr(Pn(n)+" is not an object")},zi={},Cr=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),qo=Cr&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),ro={},Gr=rn,Ki=W.document,ba=Gr(Ki)&&Gr(Ki.createElement),Sa=function(n){return ba?Ki.createElement(n):{}},di=Sa,Os=!Cr&&!a(function(){return Object.defineProperty(di("div"),"a",{get:function(){return 7}}).a!=7}),Ns=l,st=Function.prototype.call,Rt=Ns?st.bind(st):function(){return st.apply(st,arguments)},Rn=W,fr=Me,mr=function(n,i){return arguments.length<2?(s=Rn[n],fr(s)?s:void 0):Rn[n]&&Rn[n][i];var s},Fr=g({}.isPrototypeOf),uo=mr,Ro=Me,fo=Fr,ct=Object,Bt=Ue?function(n){return typeof n=="symbol"}:function(n){var i=uo("Symbol");return Ro(i)&&fo(i.prototype,ct(n))},vn=String,Dn=function(n){try{return vn(n)}catch{return"Object"}},To=Me,An=Dn,Tg=TypeError,ki=function(n){if(To(n))return n;throw Tg(An(n)+" is not a function")},Ea=ki,pS=k,wl=function(n,i){var s=n[i];return pS(s)?void 0:Ea(s)},ep=Rt,Od=Me,tp=rn,Cg=TypeError,wg=Rt,np=rn,rp=Bt,Ya=wl,Nd=function(n,i){var s,u;if(i==="string"&&Od(s=n.toString)&&!tp(u=ep(s,n))||Od(s=n.valueOf)&&!tp(u=ep(s,n))||i!=="string"&&Od(s=n.toString)&&!tp(u=ep(s,n)))return u;throw Cg("Can't convert object to primitive value")},Ja=TypeError,op=Ye("toPrimitive"),Pd=function(n,i){if(!np(n)||rp(n))return n;var s,u=Ya(n,op);if(u){if(i===void 0&&(i="default"),s=wg(u,n,i),!np(s)||rp(s))return s;throw Ja("Can't convert object to primitive value")}return i===void 0&&(i="number"),Nd(n,i)},ip=Pd,ap=Bt,Il=function(n){var i=ip(n,"string");return ap(i)?i:i+""},Ig=Cr,kg=Os,mS=qo,Qc=Nr,sp=Il,Dd=TypeError,Gi=Object.defineProperty,Zc=Object.getOwnPropertyDescriptor,Ld="enumerable",kl="configurable",Md="writable";ro.f=Ig?mS?function(n,i,s){if(Qc(n),i=sp(i),Qc(s),typeof n=="function"&&i==="prototype"&&"value"in s&&Md in s&&!s[Md]){var u=Zc(n,i);u&&u[Md]&&(n[i]=s.value,s={configurable:kl in s?s[kl]:u[kl],enumerable:Ld in s?s[Ld]:u[Ld],writable:!1})}return Gi(n,i,s)}:Gi:function(n,i,s){if(Qc(n),i=sp(i),Qc(s),kg)try{return Gi(n,i,s)}catch{}if("get"in s||"set"in s)throw Dd("Accessors not supported");return"value"in s&&(n[i]=s.value),n};var lp=Math.ceil,Rg=Math.floor,eu=Math.trunc||function(n){var i=+n;return(i>0?Rg:lp)(i)},Ag=eu,qi=function(n){var i=+n;return i!=i||i===0?0:Ag(i)},Rl=qi,Og=Math.max,xd=Math.min,tu=function(n,i){var s=Rl(n);return s<0?Og(s+i,0):xd(s,i)},Ng=qi,Pg=Math.min,Ri=function(n){return n>0?Pg(Ng(n),9007199254740991):0},vS=Ri,Ai=function(n){return vS(n.length)},Dg=U,Lg=tu,cp=Ai,up=function(n){return function(i,s,u){var p,y=Dg(i),E=cp(y),A=Lg(u,E);if(n&&s!=s){for(;E>A;)if((p=y[A++])!=p)return!0}else for(;E>A;A++)if((n||A in y)&&y[A]===s)return n||A||0;return!n&&-1}},Mg={includes:up(!0),indexOf:up(!1)},dp={},fp=Te,cn=U,fi=Mg.indexOf,xg=dp,Vg=g([].push),x=function(n,i){var s,u=cn(n),p=0,y=[];for(s in u)!fp(xg,s)&&fp(u,s)&&Vg(y,s);for(;i.length>p;)fp(u,s=i[p++])&&(~fi(y,s)||Vg(y,s));return y},Y=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ne=x,_e=Y,ke=Object.keys||function(n){return ne(n,_e)},Ne=Cr,je=qo,Ze=ro,lt=Nr,ut=U,Ct=ke;zi.f=Ne&&!je?Object.defineProperties:function(n,i){lt(n);for(var s,u=ut(i),p=Ct(i),y=p.length,E=0;y>E;)Ze.f(n,s=p[E++],u[s]);return n};var At,$t=mr("document","documentElement"),Wt=ie,Fn=re("keys"),Ln=function(n){return Fn[n]||(Fn[n]=Wt(n))},Tn=Nr,_n=zi,mn=Y,yn=dp,un=$t,hr=Sa,hi="prototype",gr="script",Yo=Ln("IE_PROTO"),Xa=function(){},Vo=function(n){return"<"+gr+">"+n+"</"+gr+">"},Hr=function(n){n.write(Vo("")),n.close();var i=n.parentWindow.Object;return n=null,i},Qr=function(){try{At=new ActiveXObject("htmlfile")}catch{}var n,i,s;Qr=typeof document!="undefined"?document.domain&&At?Hr(At):(i=hr("iframe"),s="java"+gr+":",i.style.display="none",un.appendChild(i),i.src=String(s),(n=i.contentWindow.document).open(),n.write(Vo("document.F=Object")),n.close(),n.F):Hr(At);for(var u=mn.length;u--;)delete Qr[hi][mn[u]];return Qr()};yn[Yo]=!0;var oo=Object.create||function(n,i){var s;return n!==null?(Xa[hi]=Tn(n),s=new Xa,Xa[hi]=null,s[Yo]=n):s=Qr(),i===void 0?s:_n.f(s,i)},Vd=Ye,Fg=oo,Yi=ro.f,Fd=Vd("unscopables"),$d=Array.prototype;$d[Fd]==null&&Yi($d,Fd,{configurable:!0,value:Fg(null)});var Ps,Al,Ds,WA=function(n){$d[Fd][n]=!0},hp={},YW=Me,zA=W.WeakMap,JW=YW(zA)&&/native code/.test(String(zA)),Ud=function(n,i){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:i}},XW=ro,QW=Ud,Qa=Cr?function(n,i,s){return XW.f(n,i,QW(1,s))}:function(n,i,s){return n[i]=s,n},ZW=JW,KA=W,ez=rn,tz=Qa,gS=Te,yS=J,nz=Ln,rz=dp,GA="Object already initialized",_S=KA.TypeError,oz=KA.WeakMap;if(ZW||yS.state){var Za=yS.state||(yS.state=new oz);Za.get=Za.get,Za.has=Za.has,Za.set=Za.set,Ps=function(n,i){if(Za.has(n))throw _S(GA);return i.facade=n,Za.set(n,i),i},Al=function(n){return Za.get(n)||{}},Ds=function(n){return Za.has(n)}}else{var Bd=nz("state");rz[Bd]=!0,Ps=function(n,i){if(gS(n,Bd))throw _S(GA);return i.facade=n,tz(n,Bd,i),i},Al=function(n){return gS(n,Bd)?n[Bd]:{}},Ds=function(n){return gS(n,Bd)}}var Jo={set:Ps,get:Al,has:Ds,enforce:function(n){return Ds(n)?Al(n):Ps(n,{})},getterFor:function(n){return function(i){var s;if(!ez(i)||(s=Al(i)).type!==n)throw _S("Incompatible receiver, "+n+" required");return s}}},pp={},bS={},qA={}.propertyIsEnumerable,YA=Object.getOwnPropertyDescriptor,iz=YA&&!qA.call({1:2},1);bS.f=iz?function(n){var i=YA(this,n);return!!i&&i.enumerable}:qA;var az=Cr,sz=Rt,lz=bS,cz=Ud,uz=U,dz=Il,fz=Te,hz=Os,JA=Object.getOwnPropertyDescriptor;pp.f=az?JA:function(n,i){if(n=uz(n),i=dz(i),hz)try{return JA(n,i)}catch{}if(fz(n,i))return cz(!sz(lz.f,n,i),n[i])};var $g={},pz={get exports(){return $g},set exports(n){$g=n}},SS=Cr,mz=Te,XA=Function.prototype,vz=SS&&Object.getOwnPropertyDescriptor,ES=mz(XA,"name"),mp={EXISTS:ES,PROPER:ES&&function(){}.name==="something",CONFIGURABLE:ES&&(!SS||SS&&vz(XA,"name").configurable)},gz=Me,TS=J,yz=g(Function.toString);gz(TS.inspectSource)||(TS.inspectSource=function(n){return yz(n)});var CS=TS.inspectSource,wS=g,_z=a,bz=Me,Ug=Te,IS=Cr,Sz=mp.CONFIGURABLE,Ez=CS,Tz=Jo.enforce,Cz=Jo.get,QA=String,Bg=Object.defineProperty,wz=wS("".slice),Iz=wS("".replace),kz=wS([].join),Rz=IS&&!_z(function(){return Bg(function(){},"length",{value:8}).length!==8}),Az=String(String).split("String"),Oz=pz.exports=function(n,i,s){wz(QA(i),0,7)==="Symbol("&&(i="["+Iz(QA(i),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(i="get "+i),s&&s.setter&&(i="set "+i),(!Ug(n,"name")||Sz&&n.name!==i)&&(IS?Bg(n,"name",{value:i,configurable:!0}):n.name=i),Rz&&s&&Ug(s,"arity")&&n.length!==s.arity&&Bg(n,"length",{value:s.arity});try{s&&Ug(s,"constructor")&&s.constructor?IS&&Bg(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch{}var u=Tz(n);return Ug(u,"source")||(u.source=kz(Az,typeof i=="string"?i:"")),n};Function.prototype.toString=Oz(function(){return bz(this)&&Cz(this).source||Ez(this)},"toString");var Nz=Me,Pz=ro,Dz=$g,Lz=Z,Ji=function(n,i,s,u){u||(u={});var p=u.enumerable,y=u.name!==void 0?u.name:i;if(Nz(s)&&Dz(s,y,u),u.global)p?n[i]=s:Lz(i,s);else{try{u.unsafe?n[i]&&(p=!0):delete n[i]}catch{}p?n[i]=s:Pz.f(n,i,{value:s,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return n},vp={},Mz=x,xz=Y.concat("length","prototype");vp.f=Object.getOwnPropertyNames||function(n){return Mz(n,xz)};var kS={};kS.f=Object.getOwnPropertySymbols;var nu,ZA,eO,Vz=mr,Fz=vp,$z=kS,Uz=Nr,Bz=g([].concat),Hz=Vz("Reflect","ownKeys")||function(n){var i=Fz.f(Uz(n)),s=$z.f;return s?Bz(i,s(n)):i},tO=Te,jz=Hz,Wz=pp,zz=ro,nO=function(n,i,s){for(var u=jz(i),p=zz.f,y=Wz.f,E=0;E<u.length;E++){var A=u[E];tO(n,A)||s&&tO(s,A)||p(n,A,y(i,A))}},Kz=a,Gz=Me,qz=/#|\.prototype\./,gp=function(n,i){var s=Jz[Yz(n)];return s==Qz||s!=Xz&&(Gz(i)?Kz(i):!!i)},Yz=gp.normalize=function(n){return String(n).replace(qz,".").toLowerCase()},Jz=gp.data={},Xz=gp.NATIVE="N",Qz=gp.POLYFILL="P",RS=gp,AS=W,Zz=pp.f,eK=Qa,tK=Ji,nK=Z,rK=nO,oK=RS,qr=function(n,i){var s,u,p,y,E,A=n.target,w=n.global,V=n.stat;if(s=w?AS:V?AS[A]||nK(A,{}):(AS[A]||{}).prototype)for(u in i){if(y=i[u],p=n.dontCallGetSet?(E=Zz(s,u))&&E.value:s[u],!oK(w?u:A+(V?".":"#")+u,n.forced)&&p!==void 0){if(typeof y==typeof p)continue;rK(y,p)}(n.sham||p&&p.sham)&&eK(y,"sham",!0),tK(s,u,y,n)}},iK=!a(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),aK=Te,sK=Me,lK=$e,cK=iK,rO=Ln("IE_PROTO"),OS=Object,uK=OS.prototype,Hg=cK?OS.getPrototypeOf:function(n){var i=lK(n);if(aK(i,rO))return i[rO];var s=i.constructor;return sK(s)&&i instanceof s?s.prototype:i instanceof OS?uK:null},dK=a,fK=Me,hK=rn,oO=Hg,pK=Ji,NS=Ye("iterator"),iO=!1;[].keys&&("next"in(eO=[].keys())?(ZA=oO(oO(eO)))!==Object.prototype&&(nu=ZA):iO=!0);var mK=!hK(nu)||dK(function(){var n={};return nu[NS].call(n)!==n});mK&&(nu={}),fK(nu[NS])||pK(nu,NS,function(){return this});var PS={IteratorPrototype:nu,BUGGY_SAFARI_ITERATORS:iO},vK=ro.f,gK=Te,aO=Ye("toStringTag"),Hd=function(n,i,s){n&&!s&&(n=n.prototype),n&&!gK(n,aO)&&vK(n,aO,{configurable:!0,value:i})},yK=PS.IteratorPrototype,_K=oo,bK=Ud,SK=Hd,EK=hp,TK=function(){return this},sO=function(n,i,s,u){var p=i+" Iterator";return n.prototype=_K(yK,{next:bK(+!u,s)}),SK(n,p,!1),EK[p]=TK,n},CK=g,wK=ki,IK=Me,kK=String,RK=TypeError,AK=function(n,i,s){try{return CK(wK(Object.getOwnPropertyDescriptor(n,i)[s]))}catch{}},OK=Nr,NK=function(n){if(typeof n=="object"||IK(n))return n;throw RK("Can't set "+kK(n)+" as a prototype")},jd=Object.setPrototypeOf||("__proto__"in{}?function(){var n,i=!1,s={};try{(n=AK(Object.prototype,"__proto__","set"))(s,[]),i=s instanceof Array}catch{}return function(u,p){return OK(u),NK(p),i?n(u,p):u.__proto__=p,u}}():void 0),PK=qr,DK=Rt,LK=Me,MK=sO,lO=Hg,cO=jd,xK=Hd,VK=Qa,DS=Ji,FK=hp,$K=mp.PROPER,UK=mp.CONFIGURABLE,uO=PS.IteratorPrototype,jg=PS.BUGGY_SAFARI_ITERATORS,yp=Ye("iterator"),dO="keys",_p="values",fO="entries",BK=function(){return this},hO=function(n,i,s,u,p,y,E){MK(s,i,u);var A,w,V,K=function(mt){if(mt===p&&Qe)return Qe;if(!jg&&mt in ve)return ve[mt];switch(mt){case dO:case _p:case fO:return function(){return new s(this,mt)}}return function(){return new s(this)}},z=i+" Iterator",ue=!1,ve=n.prototype,Oe=ve[yp]||ve["@@iterator"]||p&&ve[p],Qe=!jg&&Oe||K(p),gt=i=="Array"&&ve.entries||Oe;if(gt&&(A=lO(gt.call(new n)))!==Object.prototype&&A.next&&(lO(A)!==uO&&(cO?cO(A,uO):LK(A[yp])||DS(A,yp,BK)),xK(A,z,!0)),$K&&p==_p&&Oe&&Oe.name!==_p&&(UK?VK(ve,"name",_p):(ue=!0,Qe=function(){return DK(Oe,this)})),p)if(w={values:K(_p),keys:y?Qe:K(dO),entries:K(fO)},E)for(V in w)(jg||ue||!(V in ve))&&DS(ve,V,w[V]);else PK({target:i,proto:!0,forced:jg||ue},w);return ve[yp]!==Qe&&DS(ve,yp,Qe,{name:p}),FK[i]=Qe,w},pO=function(n,i){return{value:n,done:i}},HK=U,LS=WA,mO=hp,vO=Jo,jK=ro.f,WK=hO,gO=pO,zK=Cr,yO="Array Iterator",KK=vO.set,GK=vO.getterFor(yO),qK=WK(Array,"Array",function(n,i){KK(this,{type:yO,target:HK(n),index:0,kind:i})},function(){var n=GK(this),i=n.target,s=n.kind,u=n.index++;return!i||u>=i.length?(n.target=void 0,gO(void 0,!0)):gO(s=="keys"?u:s=="values"?i[u]:[u,i[u]],!1)},"values"),_O=mO.Arguments=mO.Array;if(LS("keys"),LS("values"),LS("entries"),zK&&_O.name!=="values")try{jK(_O,"name",{value:"values"})}catch{}var bO={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},MS=Sa("span").classList,SO=MS&&MS.constructor&&MS.constructor.prototype,EO=SO===Object.prototype?void 0:SO,TO=W,CO=bO,YK=EO,bp=qK,xS=Qa,wO=Ye,VS=wO("iterator"),IO=wO("toStringTag"),FS=bp.values,kO=function(n,i){if(n){if(n[VS]!==FS)try{xS(n,VS,FS)}catch{n[VS]=FS}if(n[IO]||xS(n,IO,i),CO[i]){for(var s in bp)if(n[s]!==bp[s])try{xS(n,s,bp[s])}catch{n[s]=bp[s]}}}};for(var $S in CO)kO(TO[$S]&&TO[$S].prototype,$S);kO(YK,"DOMTokenList");var Sp=typeof process!="undefined"&&T(process)=="process",RO=$g,JK=ro,ru=function(n,i,s){return s.get&&RO(s.get,i,{getter:!0}),s.set&&RO(s.set,i,{setter:!0}),JK.f(n,i,s)},XK=mr,QK=ru,ZK=Cr,AO=Ye("species"),Wg=function(n){var i=XK(n);ZK&&i&&!i[AO]&&QK(i,AO,{configurable:!0,get:function(){return this}})},e9=Fr,t9=TypeError,Ep=function(n,i){if(e9(i,n))return n;throw t9("Incorrect invocation")},OO={};OO[Ye("toStringTag")]="z";var n9=String(OO)==="[object z]",r9=Me,zg=T,o9=Ye("toStringTag"),i9=Object,a9=zg(function(){return arguments}())=="Arguments",Ol=n9?zg:function(n){var i,s,u;return n===void 0?"Undefined":n===null?"Null":typeof(s=function(p,y){try{return p[y]}catch{}}(i=i9(n),o9))=="string"?s:a9?zg(i):(u=zg(i))=="Object"&&r9(i.callee)?"Arguments":u},s9=g,l9=a,NO=Me,c9=Ol,u9=CS,PO=function(){},d9=[],DO=mr("Reflect","construct"),US=/^\s*(?:class|function)\b/,f9=s9(US.exec),h9=!US.exec(PO),Tp=function(n){if(!NO(n))return!1;try{return DO(PO,d9,n),!0}catch{return!1}},LO=function(n){if(!NO(n))return!1;switch(c9(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h9||!!f9(US,u9(n))}catch{return!0}};LO.sham=!0;var Cp,Wd,MO,BS,HS=!DO||l9(function(){var n;return Tp(Tp.call)||!Tp(Object)||!Tp(function(){n=!0})||n})?LO:Tp,p9=HS,m9=Dn,v9=TypeError,xO=function(n){if(p9(n))return n;throw v9(m9(n)+" is not a constructor")},VO=Nr,g9=xO,y9=k,_9=Ye("species"),jS=function(n,i){var s,u=VO(n).constructor;return u===void 0||y9(s=VO(u)[_9])?i:g9(s)},b9=l,FO=Function.prototype,$O=FO.apply,UO=FO.call,BO=typeof Reflect=="object"&&Reflect.apply||(b9?UO.bind($O):function(){return UO.apply($O,arguments)}),S9=T,E9=g,wp=function(n){if(S9(n)==="Function")return E9(n)},T9=ki,C9=l,w9=wp(wp.bind),Nl=function(n,i){return T9(n),i===void 0?n:C9?w9(n,i):function(){return n.apply(i,arguments)}},I9=g([].slice),k9=TypeError,WS=function(n,i){if(n<i)throw k9("Not enough arguments");return n},HO=/(?:ipad|iphone|ipod).*applewebkit/i.test(De),Oi=W,R9=BO,A9=Nl,jO=Me,O9=Te,WO=a,zO=$t,N9=I9,KO=Sa,P9=WS,D9=HO,L9=Sp,zS=Oi.setImmediate,KS=Oi.clearImmediate,M9=Oi.process,GS=Oi.Dispatch,x9=Oi.Function,GO=Oi.MessageChannel,V9=Oi.String,qS=0,Ip={},qO="onreadystatechange";WO(function(){Cp=Oi.location});var YS=function(n){if(O9(Ip,n)){var i=Ip[n];delete Ip[n],i()}},JS=function(n){return function(){YS(n)}},YO=function(n){YS(n.data)},JO=function(n){Oi.postMessage(V9(n),Cp.protocol+"//"+Cp.host)};zS&&KS||(zS=function(n){P9(arguments.length,1);var i=jO(n)?n:x9(n),s=N9(arguments,1);return Ip[++qS]=function(){R9(i,void 0,s)},Wd(qS),qS},KS=function(n){delete Ip[n]},L9?Wd=function(n){M9.nextTick(JS(n))}:GS&&GS.now?Wd=function(n){GS.now(JS(n))}:GO&&!D9?(BS=(MO=new GO).port2,MO.port1.onmessage=YO,Wd=A9(BS.postMessage,BS)):Oi.addEventListener&&jO(Oi.postMessage)&&!Oi.importScripts&&Cp&&Cp.protocol!=="file:"&&!WO(JO)?(Wd=JO,Oi.addEventListener("message",YO,!1)):Wd=qO in KO("script")?function(n){zO.appendChild(KO("script"))[qO]=function(){zO.removeChild(this),YS(n)}}:function(n){setTimeout(JS(n),0)});var XO={set:zS,clear:KS},QO=function(){this.head=null,this.tail=null};QO.prototype={add:function(n){var i={item:n,next:null},s=this.tail;s?s.next=i:this.head=i,this.tail=i},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}};var zd,XS,QS,ZS,ZO,eN=QO,F9=/ipad|iphone|ipod/i.test(De)&&typeof Pebble!="undefined",$9=/web0s(?!.*chrome)/i.test(De),ou=W,tN=Nl,U9=pp.f,eE=XO.set,B9=eN,H9=HO,j9=F9,W9=$9,tE=Sp,nN=ou.MutationObserver||ou.WebKitMutationObserver,rN=ou.document,oN=ou.process,Kg=ou.Promise,iN=U9(ou,"queueMicrotask"),nE=iN&&iN.value;if(!nE){var Gg=new B9,qg=function(){var n,i;for(tE&&(n=oN.domain)&&n.exit();i=Gg.get();)try{i()}catch(s){throw Gg.head&&zd(),s}n&&n.enter()};H9||tE||W9||!nN||!rN?!j9&&Kg&&Kg.resolve?((ZS=Kg.resolve(void 0)).constructor=Kg,ZO=tN(ZS.then,ZS),zd=function(){ZO(qg)}):tE?zd=function(){oN.nextTick(qg)}:(eE=tN(eE,ou),zd=function(){eE(qg)}):(XS=!0,QS=rN.createTextNode(""),new nN(qg).observe(QS,{characterData:!0}),zd=function(){QS.data=XS=!XS}),nE=function(n){Gg.head||zd(),Gg.add(n)}}var z9=nE,rE=function(n){try{return{error:!1,value:n()}}catch(i){return{error:!0,value:i}}},kp=W.Promise,aN=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",K9=!aN&&!Sp&&typeof window=="object"&&typeof document=="object",G9=W,Rp=kp,q9=Me,Y9=RS,J9=CS,X9=Ye,Q9=K9,Z9=aN,oE=Re;Rp&&Rp.prototype;var e7=X9("species"),sN=!1,lN=q9(G9.PromiseRejectionEvent),t7=Y9("Promise",function(){var n=J9(Rp),i=n!==String(Rp);if(!i&&oE===66)return!0;if(!oE||oE<51||!/native code/.test(n)){var s=new Rp(function(p){p(1)}),u=function(p){p(function(){},function(){})};if((s.constructor={})[e7]=u,!(sN=s.then(function(){})instanceof u))return!0}return!i&&(Q9||Z9)&&!lN}),iu={CONSTRUCTOR:t7,REJECTION_EVENT:lN,SUBCLASSING:sN},Kd={},cN=ki,n7=TypeError,r7=function(n){var i,s;this.promise=new n(function(u,p){if(i!==void 0||s!==void 0)throw n7("Bad Promise constructor");i=u,s=p}),this.resolve=cN(i),this.reject=cN(s)};Kd.f=function(n){return new r7(n)};var iE,uN,dN,o7=qr,Yg=Sp,Pl=W,Gd=Rt,fN=Ji,hN=jd,i7=Hd,a7=Wg,s7=ki,Jg=Me,l7=rn,c7=Ep,u7=jS,pN=XO.set,aE=z9,d7=function(n,i){try{arguments.length==1?console.error(n):console.error(n,i)}catch{}},f7=rE,h7=eN,mN=Jo,Xg=kp,vN=Kd,Qg="Promise",gN=iu.CONSTRUCTOR,p7=iu.REJECTION_EVENT,m7=iu.SUBCLASSING,sE=mN.getterFor(Qg),v7=mN.set,qd=Xg&&Xg.prototype,Yd=Xg,Zg=qd,yN=Pl.TypeError,lE=Pl.document,cE=Pl.process,uE=vN.f,g7=uE,y7=!!(lE&&lE.createEvent&&Pl.dispatchEvent),_N="unhandledrejection",bN=function(n){var i;return!(!l7(n)||!Jg(i=n.then))&&i},SN=function(n,i){var s,u,p,y=i.value,E=i.state==1,A=E?n.ok:n.fail,w=n.resolve,V=n.reject,K=n.domain;try{A?(E||(i.rejection===2&&b7(i),i.rejection=1),A===!0?s=y:(K&&K.enter(),s=A(y),K&&(K.exit(),p=!0)),s===n.promise?V(yN("Promise-chain cycle")):(u=bN(s))?Gd(u,s,w,V):w(s)):V(y)}catch(z){K&&!p&&K.exit(),V(z)}},EN=function(n,i){n.notified||(n.notified=!0,aE(function(){for(var s,u=n.reactions;s=u.get();)SN(s,n);n.notified=!1,i&&!n.rejection&&_7(n)}))},TN=function(n,i,s){var u,p;y7?((u=lE.createEvent("Event")).promise=i,u.reason=s,u.initEvent(n,!1,!0),Pl.dispatchEvent(u)):u={promise:i,reason:s},!p7&&(p=Pl["on"+n])?p(u):n===_N&&d7("Unhandled promise rejection",s)},_7=function(n){Gd(pN,Pl,function(){var i,s=n.facade,u=n.value;if(CN(n)&&(i=f7(function(){Yg?cE.emit("unhandledRejection",u,s):TN(_N,s,u)}),n.rejection=Yg||CN(n)?2:1,i.error))throw i.value})},CN=function(n){return n.rejection!==1&&!n.parent},b7=function(n){Gd(pN,Pl,function(){var i=n.facade;Yg?cE.emit("rejectionHandled",i):TN("rejectionhandled",i,n.value)})},Jd=function(n,i,s){return function(u){n(i,u,s)}},Xd=function(n,i,s){n.done||(n.done=!0,s&&(n=s),n.value=i,n.state=2,EN(n,!0))},dE=function(n,i,s){if(!n.done){n.done=!0,s&&(n=s);try{if(n.facade===i)throw yN("Promise can't be resolved itself");var u=bN(i);u?aE(function(){var p={done:!1};try{Gd(u,i,Jd(dE,p,n),Jd(Xd,p,n))}catch(y){Xd(p,y,n)}}):(n.value=i,n.state=1,EN(n,!1))}catch(p){Xd({done:!1},p,n)}}};if(gN&&(Zg=(Yd=function(n){c7(this,Zg),s7(n),Gd(iE,this);var i=sE(this);try{n(Jd(dE,i),Jd(Xd,i))}catch(s){Xd(i,s)}}).prototype,(iE=function(n){v7(this,{type:Qg,done:!1,notified:!1,parent:!1,reactions:new h7,rejection:!1,state:0,value:void 0})}).prototype=fN(Zg,"then",function(n,i){var s=sE(this),u=uE(u7(this,Yd));return s.parent=!0,u.ok=!Jg(n)||n,u.fail=Jg(i)&&i,u.domain=Yg?cE.domain:void 0,s.state==0?s.reactions.add(u):aE(function(){SN(u,s)}),u.promise}),uN=function(){var n=new iE,i=sE(n);this.promise=n,this.resolve=Jd(dE,i),this.reject=Jd(Xd,i)},vN.f=uE=function(n){return n===Yd||n===void 0?new uN(n):g7(n)},Jg(Xg)&&qd!==Object.prototype)){dN=qd.then,m7||fN(qd,"then",function(n,i){var s=this;return new Yd(function(u,p){Gd(dN,s,u,p)}).then(n,i)},{unsafe:!0});try{delete qd.constructor}catch{}hN&&hN(qd,Zg)}o7({global:!0,constructor:!0,wrap:!0,forced:gN},{Promise:Yd}),i7(Yd,Qg,!1),a7(Qg);var S7=hp,E7=Ye("iterator"),T7=Array.prototype,fE=function(n){return n!==void 0&&(S7.Array===n||T7[E7]===n)},C7=Ol,wN=wl,w7=k,I7=hp,k7=Ye("iterator"),Ap=function(n){if(!w7(n))return wN(n,k7)||wN(n,"@@iterator")||I7[C7(n)]},R7=Rt,A7=ki,O7=Nr,N7=Dn,P7=Ap,D7=TypeError,ey=function(n,i){var s=arguments.length<2?P7(n):i;if(A7(s))return O7(R7(s,n));throw D7(N7(n)+" is not iterable")},L7=Rt,IN=Nr,M7=wl,kN=function(n,i,s){var u,p;IN(n);try{if(!(u=M7(n,"return"))){if(i==="throw")throw s;return s}u=L7(u,n)}catch(y){p=!0,u=y}if(i==="throw")throw s;if(p)throw u;return IN(u),s},x7=Nl,V7=Rt,F7=Nr,$7=Dn,U7=fE,B7=Ai,RN=Fr,H7=ey,j7=Ap,AN=kN,W7=TypeError,ty=function(n,i){this.stopped=n,this.result=i},ON=ty.prototype,NN=function(n,i,s){var u,p,y,E,A,w,V,K=s&&s.that,z=!(!s||!s.AS_ENTRIES),ue=!(!s||!s.IS_RECORD),ve=!(!s||!s.IS_ITERATOR),Oe=!(!s||!s.INTERRUPTED),Qe=x7(i,K),gt=function(dt){return u&&AN(u,"normal",dt),new ty(!0,dt)},mt=function(dt){return z?(F7(dt),Oe?Qe(dt[0],dt[1],gt):Qe(dt[0],dt[1])):Oe?Qe(dt,gt):Qe(dt)};if(ue)u=n.iterator;else if(ve)u=n;else{if(!(p=j7(n)))throw W7($7(n)+" is not iterable");if(U7(p)){for(y=0,E=B7(n);E>y;y++)if((A=mt(n[y]))&&RN(ON,A))return A;return new ty(!1)}u=H7(n,p)}for(w=ue?n.next:u.next;!(V=V7(w,u)).done;){try{A=mt(V.value)}catch(dt){AN(u,"throw",dt)}if(typeof A=="object"&&A&&RN(ON,A))return A}return new ty(!1)},PN=Ye("iterator"),DN=!1;try{var z7=0,LN={next:function(){return{done:!!z7++}},return:function(){DN=!0}};LN[PN]=function(){return this},Array.from(LN,function(){throw 2})}catch{}var MN=function(n,i){if(!i&&!DN)return!1;var s=!1;try{var u={};u[PN]=function(){return{next:function(){return{done:s=!0}}}},n(u)}catch{}return s},K7=kp,xN=iu.CONSTRUCTOR||!MN(function(n){K7.all(n).then(void 0,function(){})}),G7=Rt,q7=ki,Y7=Kd,J7=rE,X7=NN;qr({target:"Promise",stat:!0,forced:xN},{all:function(n){var i=this,s=Y7.f(i),u=s.resolve,p=s.reject,y=J7(function(){var E=q7(i.resolve),A=[],w=0,V=1;X7(n,function(K){var z=w++,ue=!1;V++,G7(E,i,K).then(function(ve){ue||(ue=!0,A[z]=ve,--V||u(A))},p)}),--V||u(A)});return y.error&&p(y.value),s.promise}});var Q7=qr,Z7=iu.CONSTRUCTOR,hE=kp,eG=mr,tG=Me,nG=Ji,VN=hE&&hE.prototype;if(Q7({target:"Promise",proto:!0,forced:Z7,real:!0},{catch:function(n){return this.then(void 0,n)}}),tG(hE)){var FN=eG("Promise").prototype.catch;VN.catch!==FN&&nG(VN,"catch",FN,{unsafe:!0})}var rG=Rt,oG=ki,iG=Kd,aG=rE,sG=NN;qr({target:"Promise",stat:!0,forced:xN},{race:function(n){var i=this,s=iG.f(i),u=s.reject,p=aG(function(){var y=oG(i.resolve);sG(n,function(E){rG(y,i,E).then(s.resolve,u)})});return p.error&&u(p.value),s.promise}});var lG=Rt,cG=Kd;qr({target:"Promise",stat:!0,forced:iu.CONSTRUCTOR},{reject:function(n){var i=cG.f(this);return lG(i.reject,void 0,n),i.promise}});var uG=Nr,dG=rn,fG=Kd,$N=function(n,i){if(uG(n),dG(i)&&i.constructor===n)return i;var s=fG.f(n);return(0,s.resolve)(i),s.promise},hG=qr,pG=iu.CONSTRUCTOR,mG=$N;mr("Promise"),hG({target:"Promise",stat:!0,forced:pG},{resolve:function(n){return mG(this,n)}});var vG=Me,gG=rn,UN=jd,BN=function(n,i,s){var u,p;return UN&&vG(u=i.constructor)&&u!==s&&gG(p=u.prototype)&&p!==s.prototype&&UN(n,p),n},yG=rn,_G=T,bG=Ye("match"),HN=function(n){var i;return yG(n)&&((i=n[bG])!==void 0?!!i:_G(n)=="RegExp")},SG=Ol,EG=String,Ni=function(n){if(SG(n)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return EG(n)},TG=Nr,jN=function(){var n=TG(this),i="";return n.hasIndices&&(i+="d"),n.global&&(i+="g"),n.ignoreCase&&(i+="i"),n.multiline&&(i+="m"),n.dotAll&&(i+="s"),n.unicode&&(i+="u"),n.unicodeSets&&(i+="v"),n.sticky&&(i+="y"),i},CG=Rt,wG=Te,IG=Fr,kG=jN,WN=RegExp.prototype,zN=function(n){var i=n.flags;return i!==void 0||"flags"in WN||wG(n,"flags")||!IG(WN,n)?i:CG(kG,n)},pE=a,mE=W.RegExp,vE=pE(function(){var n=mE("a","y");return n.lastIndex=2,n.exec("abcd")!=null}),RG=vE||pE(function(){return!mE("a","y").sticky}),AG=vE||pE(function(){var n=mE("^r","gy");return n.lastIndex=2,n.exec("str")!=null}),KN={BROKEN_CARET:AG,MISSED_STICKY:RG,UNSUPPORTED_Y:vE},OG=ro.f,NG=a,PG=W.RegExp,GN=NG(function(){var n=PG(".","s");return!(n.dotAll&&n.exec(`
`)&&n.flags==="s")}),DG=a,LG=W.RegExp,qN=DG(function(){var n=LG("(?<a>b)","g");return n.exec("b").groups.a!=="b"||"b".replace(n,"$<a>c")!=="bc"}),MG=Cr,gE=W,Op=g,xG=RS,VG=BN,FG=Qa,$G=vp.f,YN=Fr,UG=HN,JN=Ni,BG=zN,XN=KN,HG=function(n,i,s){s in n||OG(n,s,{configurable:!0,get:function(){return i[s]},set:function(u){i[s]=u}})},jG=Ji,WG=a,zG=Te,KG=Jo.enforce,GG=Wg,QN=GN,ZN=qN,qG=Ye("match"),Dl=gE.RegExp,Qd=Dl.prototype,YG=gE.SyntaxError,JG=Op(Qd.exec),ny=Op("".charAt),eP=Op("".replace),tP=Op("".indexOf),XG=Op("".slice),QG=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,au=/a/g,yE=/a/g,ZG=new Dl(au)!==au,nP=XN.MISSED_STICKY,eq=XN.UNSUPPORTED_Y,tq=MG&&(!ZG||nP||QN||ZN||WG(function(){return yE[qG]=!1,Dl(au)!=au||Dl(yE)==yE||Dl(au,"i")!="/a/i"}));if(xG("RegExp",tq)){for(var su=function(n,i){var s,u,p,y,E,A,w=YN(Qd,this),V=UG(n),K=i===void 0,z=[],ue=n;if(!w&&V&&K&&n.constructor===su)return n;if((V||YN(Qd,n))&&(n=n.source,K&&(i=BG(ue))),n=n===void 0?"":JN(n),i=i===void 0?"":JN(i),ue=n,QN&&"dotAll"in au&&(u=!!i&&tP(i,"s")>-1)&&(i=eP(i,/s/g,"")),s=i,nP&&"sticky"in au&&(p=!!i&&tP(i,"y")>-1)&&eq&&(i=eP(i,/y/g,"")),ZN&&(y=function(ve){for(var Oe,Qe=ve.length,gt=0,mt="",dt=[],an={},gn=!1,nr=!1,Qn=0,xn="";gt<=Qe;gt++){if((Oe=ny(ve,gt))==="\\")Oe+=ny(ve,++gt);else if(Oe==="]")gn=!1;else if(!gn)switch(!0){case Oe==="[":gn=!0;break;case Oe==="(":JG(QG,XG(ve,gt+1))&&(gt+=2,nr=!0),mt+=Oe,Qn++;continue;case(Oe===">"&&nr):if(xn===""||zG(an,xn))throw new YG("Invalid capture group name");an[xn]=!0,dt[dt.length]=[xn,Qn],nr=!1,xn="";continue}nr?xn+=Oe:mt+=Oe}return[mt,dt]}(n),n=y[0],z=y[1]),E=VG(Dl(n,i),w?this:Qd,su),(u||p||z.length)&&(A=KG(E),u&&(A.dotAll=!0,A.raw=su(function(ve){for(var Oe,Qe=ve.length,gt=0,mt="",dt=!1;gt<=Qe;gt++)(Oe=ny(ve,gt))!=="\\"?dt||Oe!=="."?(Oe==="["?dt=!0:Oe==="]"&&(dt=!1),mt+=Oe):mt+="[\\s\\S]":mt+=Oe+ny(ve,++gt);return mt}(n),s)),p&&(A.sticky=!0),z.length&&(A.groups=z)),n!==ue)try{FG(E,"source",ue===""?"(?:)":ue)}catch{}return E},rP=$G(Dl),oP=0;rP.length>oP;)HG(su,Dl,rP[oP++]);Qd.constructor=su,su.prototype=Qd,jG(gE,"RegExp",su,{constructor:!0})}GG("RegExp");var Zd=Rt,ry=g,nq=Ni,rq=jN,oq=KN,iq=oo,aq=Jo.get,sq=GN,lq=qN,cq=re("native-string-replace",String.prototype.replace),oy=RegExp.prototype.exec,_E=oy,uq=ry("".charAt),dq=ry("".indexOf),fq=ry("".replace),bE=ry("".slice),SE=function(){var n=/a/,i=/b*/g;return Zd(oy,n,"a"),Zd(oy,i,"a"),n.lastIndex!==0||i.lastIndex!==0}(),iP=oq.BROKEN_CARET,EE=/()??/.exec("")[1]!==void 0;(SE||EE||iP||sq||lq)&&(_E=function(n){var i,s,u,p,y,E,A,w=this,V=aq(w),K=nq(n),z=V.raw;if(z)return z.lastIndex=w.lastIndex,i=Zd(_E,z,K),w.lastIndex=z.lastIndex,i;var ue=V.groups,ve=iP&&w.sticky,Oe=Zd(rq,w),Qe=w.source,gt=0,mt=K;if(ve&&(Oe=fq(Oe,"y",""),dq(Oe,"g")===-1&&(Oe+="g"),mt=bE(K,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&uq(K,w.lastIndex-1)!==`
`)&&(Qe="(?: "+Qe+")",mt=" "+mt,gt++),s=new RegExp("^(?:"+Qe+")",Oe)),EE&&(s=new RegExp("^"+Qe+"$(?!\\s)",Oe)),SE&&(u=w.lastIndex),p=Zd(oy,ve?s:w,mt),ve?p?(p.input=bE(p.input,gt),p[0]=bE(p[0],gt),p.index=w.lastIndex,w.lastIndex+=p[0].length):w.lastIndex=0:SE&&p&&(w.lastIndex=w.global?p.index+p[0].length:u),EE&&p&&p.length>1&&Zd(cq,p[0],s,function(){for(y=1;y<arguments.length-2;y++)arguments[y]===void 0&&(p[y]=void 0)}),p&&ue)for(p.groups=E=iq(null),y=0;y<ue.length;y++)E[(A=ue[y])[0]]=p[A[1]];return p});var iy=_E;qr({target:"RegExp",proto:!0,forced:/./.exec!==iy},{exec:iy});var hq=T,aP=Array.isArray||function(n){return hq(n)=="Array"},sP=aP,pq=HS,mq=rn,vq=Ye("species"),lP=Array,gq=function(n){var i;return sP(n)&&(i=n.constructor,(pq(i)&&(i===lP||sP(i.prototype))||mq(i)&&(i=i[vq])===null)&&(i=void 0)),i===void 0?lP:i},yq=Nl,_q=R,bq=$e,Sq=Ai,Eq=function(n,i){return new(gq(n))(i===0?0:i)},cP=g([].push),Ll=function(n){var i=n==1,s=n==2,u=n==3,p=n==4,y=n==6,E=n==7,A=n==5||y;return function(w,V,K,z){for(var ue,ve,Oe=bq(w),Qe=_q(Oe),gt=yq(V,K),mt=Sq(Qe),dt=0,an=z||Eq,gn=i?an(w,mt):s||E?an(w,0):void 0;mt>dt;dt++)if((A||dt in Qe)&&(ve=gt(ue=Qe[dt],dt,Oe),n))if(i)gn[dt]=ve;else if(ve)switch(n){case 3:return!0;case 5:return ue;case 6:return dt;case 2:cP(gn,ue)}else switch(n){case 4:return!1;case 7:cP(gn,ue)}return y?-1:u||p?p:gn}},uP={forEach:Ll(0),map:Ll(1),filter:Ll(2),some:Ll(3),every:Ll(4),find:Ll(5),findIndex:Ll(6),filterReject:Ll(7)},Tq=a,TE=function(n,i){var s=[][n];return!!s&&Tq(function(){s.call(null,i||function(){return 1},1)})},Cq=uP.forEach,wq=TE("forEach")?[].forEach:function(n){return Cq(this,n,arguments.length>1?arguments[1]:void 0)},dP=W,fP=bO,Iq=EO,CE=wq,kq=Qa,hP=function(n){if(n&&n.forEach!==CE)try{kq(n,"forEach",CE)}catch{n.forEach=CE}};for(var wE in fP)fP[wE]&&hP(dP[wE]&&dP[wE].prototype);hP(Iq);var Rq=ki,Aq=$e,Oq=R,Nq=Ai,Pq=TypeError,pP=function(n){return function(i,s,u,p){Rq(s);var y=Aq(i),E=Oq(y),A=Nq(y),w=n?A-1:0,V=n?-1:1;if(u<2)for(;;){if(w in E){p=E[w],w+=V;break}if(w+=V,n?w<0:A<=w)throw Pq("Reduce of empty array with no initial value")}for(;n?w>=0:A>w;w+=V)w in E&&(p=s(p,E[w],w,y));return p}},Dq={left:pP(!1),right:pP(!0)}.left;qr({target:"Array",proto:!0,forced:!Sp&&Re>79&&Re<83||!TE("reduce")},{reduce:function(n){var i=arguments.length;return Dq(this,n,i,i>1?arguments[1]:void 0)}});var mP=wp,vP=Ji,Lq=iy,gP=a,yP=Ye,Mq=Qa,xq=yP("species"),IE=RegExp.prototype,kE=g,Vq=qi,Fq=Ni,$q=$,Uq=kE("".charAt),_P=kE("".charCodeAt),Bq=kE("".slice),bP=function(n){return function(i,s){var u,p,y=Fq($q(i)),E=Vq(s),A=y.length;return E<0||E>=A?n?"":void 0:(u=_P(y,E))<55296||u>56319||E+1===A||(p=_P(y,E+1))<56320||p>57343?n?Uq(y,E):u:n?Bq(y,E,E+2):p-56320+(u-55296<<10)+65536}},RE={codeAt:bP(!1),charAt:bP(!0)},Hq=RE.charAt,AE=g,jq=$e,Wq=Math.floor,OE=AE("".charAt),zq=AE("".replace),NE=AE("".slice),Kq=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Gq=/\$([$&'`]|\d{1,2})/g,SP=function(n,i,s,u,p,y){var E=s+n.length,A=u.length,w=Gq;return p!==void 0&&(p=jq(p),w=Kq),zq(y,w,function(V,K){var z;switch(OE(K,0)){case"$":return"$";case"&":return n;case"`":return NE(i,0,s);case"'":return NE(i,E);case"<":z=p[NE(K,1,-1)];break;default:var ue=+K;if(ue===0)return V;if(ue>A){var ve=Wq(ue/10);return ve===0?V:ve<=A?u[ve-1]===void 0?OE(K,1):u[ve-1]+OE(K,1):V}z=u[ue-1]}return z===void 0?"":z})},EP=Rt,qq=Nr,Yq=Me,Jq=T,Xq=iy,Qq=TypeError,Zq=BO,TP=Rt,ay=g,eY=function(n,i,s,u){var p=yP(n),y=!gP(function(){var V={};return V[p]=function(){return 7},""[n](V)!=7}),E=y&&!gP(function(){var V=!1,K=/a/;return n==="split"&&((K={}).constructor={},K.constructor[xq]=function(){return K},K.flags="",K[p]=/./[p]),K.exec=function(){return V=!0,null},K[p](""),!V});if(!y||!E||s){var A=mP(/./[p]),w=i(p,""[n],function(V,K,z,ue,ve){var Oe=mP(V),Qe=K.exec;return Qe===Lq||Qe===IE.exec?y&&!ve?{done:!0,value:A(K,z,ue)}:{done:!0,value:Oe(z,K,ue)}:{done:!1}});vP(String.prototype,n,w[0]),vP(IE,p,w[1])}u&&Mq(IE[p],"sham",!0)},tY=a,nY=Nr,rY=Me,oY=k,iY=qi,aY=Ri,ef=Ni,sY=$,lY=function(n,i,s){return i+(s?Hq(n,i).length:1)},cY=wl,uY=SP,dY=function(n,i){var s=n.exec;if(Yq(s)){var u=EP(s,n,i);return u!==null&&qq(u),u}if(Jq(n)==="RegExp")return EP(Xq,n,i);throw Qq("RegExp#exec called on incompatible receiver")},PE=Ye("replace"),fY=Math.max,hY=Math.min,pY=ay([].concat),DE=ay([].push),CP=ay("".indexOf),wP=ay("".slice),mY=function(n){return n===void 0?n:String(n)},vY="a".replace(/./,"$0")==="$0",IP=!!/./[PE]&&/./[PE]("a","$0")==="",gY=!tY(function(){var n=/./;return n.exec=function(){var i=[];return i.groups={a:"7"},i},"".replace(n,"$<a>")!=="7"});eY("replace",function(n,i,s){var u=IP?"$":"$0";return[function(p,y){var E=sY(this),A=oY(p)?void 0:cY(p,PE);return A?TP(A,p,E,y):TP(i,ef(E),p,y)},function(p,y){var E=nY(this),A=ef(p);if(typeof y=="string"&&CP(y,u)===-1&&CP(y,"$<")===-1){var w=s(i,E,A,y);if(w.done)return w.value}var V=rY(y);V||(y=ef(y));var K=E.global;if(K){var z=E.unicode;E.lastIndex=0}for(var ue=[];;){var ve=dY(E,A);if(ve===null||(DE(ue,ve),!K))break;ef(ve[0])===""&&(E.lastIndex=lY(A,aY(E.lastIndex),z))}for(var Oe="",Qe=0,gt=0;gt<ue.length;gt++){for(var mt=ef((ve=ue[gt])[0]),dt=fY(hY(iY(ve.index),A.length),0),an=[],gn=1;gn<ve.length;gn++)DE(an,mY(ve[gn]));var nr=ve.groups;if(V){var Qn=pY([mt],an,dt,A);nr!==void 0&&DE(Qn,nr);var xn=ef(Zq(y,void 0,Qn))}else xn=uY(mt,A,dt,an,nr,y);dt>=Qe&&(Oe+=wP(A,Qe,dt)+xn,Qe=dt+mt.length)}return Oe+wP(A,Qe)}]},!gY||!vY||IP);var yY=Mg.includes,_Y=WA;qr({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(n){return yY(this,n,arguments.length>1?arguments[1]:void 0)}}),_Y("includes");var bY=qi,SY=Ni,EY=$,TY=RangeError,kP=g,CY=Ri,RP=Ni,wY=function(n){var i=SY(EY(this)),s="",u=bY(n);if(u<0||u==1/0)throw TY("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(i+=i))1&u&&(s+=i);return s},IY=$,kY=kP(wY),RY=kP("".slice),AY=Math.ceil,AP=function(n){return function(i,s,u){var p,y,E=RP(IY(i)),A=CY(s),w=E.length,V=u===void 0?" ":RP(u);return A<=w||V==""?E:((y=kY(V,AY((p=A-w)/V.length))).length>p&&(y=RY(y,0,p)),n?E+y:y+E)}},OY={start:AP(!1),end:AP(!0)},NY=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(De),PY=OY.start;qr({target:"String",proto:!0,forced:NY},{padStart:function(n){return PY(this,n,arguments.length>1?arguments[1]:void 0)}});var DY=a,LY=Cr,MY=Ye("iterator"),OP=!DY(function(){var n=new URL("b?a=1&b=2&c=3","http://a"),i=n.searchParams,s="";return n.pathname="c%20d",i.forEach(function(u,p){i.delete("b"),s+=p+u}),!i.size&&!LY||!i.sort||n.href!=="http://a/c%20d?a=1&c=3"||i.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!i[MY]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||s!=="a1c3"||new URL("http://x",void 0).host!=="x"}),xY=Ji,NP=function(n,i,s){for(var u in i)xY(n,u,i[u],s);return n},VY=Il,FY=ro,$Y=Ud,PP=function(n,i,s){var u=VY(i);u in n?FY.f(n,u,$Y(0,s)):n[u]=s},DP=tu,UY=Ai,BY=PP,HY=Array,jY=Math.max,LE=function(n,i,s){for(var u=UY(n),p=DP(i,u),y=DP(s===void 0?u:s,u),E=HY(jY(y-p,0)),A=0;p<y;p++,A++)BY(E,A,n[p]);return E.length=A,E},LP=LE,WY=Math.floor,ME=function(n,i){var s=n.length,u=WY(s/2);return s<8?zY(n,i):KY(n,ME(LP(n,0,u),i),ME(LP(n,u),i),i)},zY=function(n,i){for(var s,u,p=n.length,y=1;y<p;){for(u=y,s=n[y];u&&i(n[u-1],s)>0;)n[u]=n[--u];u!==y++&&(n[u]=s)}return n},KY=function(n,i,s,u){for(var p=i.length,y=s.length,E=0,A=0;E<p||A<y;)n[E+A]=E<p&&A<y?u(i[E],s[A])<=0?i[E++]:s[A++]:E<p?i[E++]:s[A++];return n},xE=ME,VE=qr,tf=W,sy=Rt,es=g,nf=Cr,MP=OP,xP=Ji,GY=ru,qY=NP,YY=Hd,JY=sO,FE=Jo,VP=Ep,$E=Me,XY=Te,QY=Nl,ZY=Ol,eJ=Nr,FP=rn,Pi=Ni,tJ=oo,$P=Ud,UE=ey,nJ=Ap,rf=WS,rJ=xE,oJ=Ye("iterator"),Np="URLSearchParams",UP=Np+"Iterator",BP=FE.set,Xi=FE.getterFor(Np),iJ=FE.getterFor(UP),aJ=Object.getOwnPropertyDescriptor,BE=function(n){if(!nf)return tf[n];var i=aJ(tf,n);return i&&i.value},HP=BE("fetch"),ly=BE("Request"),Pp=BE("Headers"),HE=ly&&ly.prototype,jP=Pp&&Pp.prototype,sJ=tf.RegExp,lJ=tf.TypeError,WP=tf.decodeURIComponent,cJ=tf.encodeURIComponent,uJ=es("".charAt),zP=es([].join),lu=es([].push),jE=es("".replace),dJ=es([].shift),KP=es([].splice),GP=es("".split),fJ=es("".slice),hJ=/\+/g,qP=Array(4),pJ=function(n){return qP[n-1]||(qP[n-1]=sJ("((?:%[\\da-f]{2}){"+n+"})","gi"))},mJ=function(n){try{return WP(n)}catch{return n}},YP=function(n){var i=jE(n,hJ," "),s=4;try{return WP(i)}catch{for(;s;)i=jE(i,pJ(s--),mJ);return i}},vJ=/[!'()~]|%20/g,gJ={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},yJ=function(n){return gJ[n]},JP=function(n){return jE(cJ(n),vJ,yJ)},WE=JY(function(n,i){BP(this,{type:UP,iterator:UE(Xi(n).entries),kind:i})},"Iterator",function(){var n=iJ(this),i=n.kind,s=n.iterator.next(),u=s.value;return s.done||(s.value=i==="keys"?u.key:i==="values"?u.value:[u.key,u.value]),s},!0),XP=function(n){this.entries=[],this.url=null,n!==void 0&&(FP(n)?this.parseObject(n):this.parseQuery(typeof n=="string"?uJ(n,0)==="?"?fJ(n,1):n:Pi(n)))};XP.prototype={type:Np,bindURL:function(n){this.url=n,this.update()},parseObject:function(n){var i,s,u,p,y,E,A,w=nJ(n);if(w)for(s=(i=UE(n,w)).next;!(u=sy(s,i)).done;){if(y=(p=UE(eJ(u.value))).next,(E=sy(y,p)).done||(A=sy(y,p)).done||!sy(y,p).done)throw lJ("Expected sequence with length 2");lu(this.entries,{key:Pi(E.value),value:Pi(A.value)})}else for(var V in n)XY(n,V)&&lu(this.entries,{key:V,value:Pi(n[V])})},parseQuery:function(n){if(n)for(var i,s,u=GP(n,"&"),p=0;p<u.length;)(i=u[p++]).length&&(s=GP(i,"="),lu(this.entries,{key:YP(dJ(s)),value:YP(zP(s,"="))}))},serialize:function(){for(var n,i=this.entries,s=[],u=0;u<i.length;)n=i[u++],lu(s,JP(n.key)+"="+JP(n.value));return zP(s,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var cy=function(){VP(this,of);var n=BP(this,new XP(arguments.length>0?arguments[0]:void 0));nf||(this.length=n.entries.length)},of=cy.prototype;if(qY(of,{append:function(n,i){rf(arguments.length,2);var s=Xi(this);lu(s.entries,{key:Pi(n),value:Pi(i)}),nf||this.length++,s.updateURL()},delete:function(n){rf(arguments.length,1);for(var i=Xi(this),s=i.entries,u=Pi(n),p=0;p<s.length;)s[p].key===u?KP(s,p,1):p++;nf||(this.length=s.length),i.updateURL()},get:function(n){rf(arguments.length,1);for(var i=Xi(this).entries,s=Pi(n),u=0;u<i.length;u++)if(i[u].key===s)return i[u].value;return null},getAll:function(n){rf(arguments.length,1);for(var i=Xi(this).entries,s=Pi(n),u=[],p=0;p<i.length;p++)i[p].key===s&&lu(u,i[p].value);return u},has:function(n){rf(arguments.length,1);for(var i=Xi(this).entries,s=Pi(n),u=0;u<i.length;)if(i[u++].key===s)return!0;return!1},set:function(n,i){rf(arguments.length,1);for(var s,u=Xi(this),p=u.entries,y=!1,E=Pi(n),A=Pi(i),w=0;w<p.length;w++)(s=p[w]).key===E&&(y?KP(p,w--,1):(y=!0,s.value=A));y||lu(p,{key:E,value:A}),nf||(this.length=p.length),u.updateURL()},sort:function(){var n=Xi(this);rJ(n.entries,function(i,s){return i.key>s.key?1:-1}),n.updateURL()},forEach:function(n){for(var i,s=Xi(this).entries,u=QY(n,arguments.length>1?arguments[1]:void 0),p=0;p<s.length;)u((i=s[p++]).value,i.key,this)},keys:function(){return new WE(this,"keys")},values:function(){return new WE(this,"values")},entries:function(){return new WE(this,"entries")}},{enumerable:!0}),xP(of,oJ,of.entries,{name:"entries"}),xP(of,"toString",function(){return Xi(this).serialize()},{enumerable:!0}),nf&&GY(of,"size",{get:function(){return Xi(this).entries.length},configurable:!0,enumerable:!0}),YY(cy,Np),VE({global:!0,constructor:!0,forced:!MP},{URLSearchParams:cy}),!MP&&$E(Pp)){var _J=es(jP.has),bJ=es(jP.set),QP=function(n){if(FP(n)){var i,s=n.body;if(ZY(s)===Np)return i=n.headers?new Pp(n.headers):new Pp,_J(i,"content-type")||bJ(i,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),tJ(n,{body:$P(0,Pi(s)),headers:$P(0,i)})}return n};if($E(HP)&&VE({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(n){return HP(n,arguments.length>1?QP(arguments[1]):{})}}),$E(ly)){var zE=function(n){return VP(this,HE),new ly(n,arguments.length>1?QP(arguments[1]):{})};HE.constructor=zE,zE.prototype=HE,VE({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:zE})}}var SJ={URLSearchParams:cy,getState:Xi},EJ=qr,uy=kp,TJ=a,ZP=mr,eD=Me,CJ=jS,tD=$N,wJ=Ji,KE=uy&&uy.prototype;if(EJ({target:"Promise",proto:!0,real:!0,forced:!!uy&&TJ(function(){KE.finally.call({then:function(){}},function(){})})},{finally:function(n){var i=CJ(this,ZP("Promise")),s=eD(n);return this.then(s?function(u){return tD(i,n()).then(function(){return u})}:n,s?function(u){return tD(i,n()).then(function(){throw u})}:n)}}),eD(uy)){var nD=ZP("Promise").prototype.finally;KE.finally!==nD&&wJ(KE,"finally",nD,{unsafe:!0})}var rD=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,IJ=$,kJ=Ni,GE=rD,oD=g("".replace),RJ=RegExp("^["+GE+"]+"),AJ=RegExp("(^|[^"+GE+"])["+GE+"]+$"),qE=function(n){return function(i){var s=kJ(IJ(i));return 1&n&&(s=oD(s,RJ,"")),2&n&&(s=oD(s,AJ,"$1")),s}},OJ={start:qE(1),end:qE(2),trim:qE(3)},NJ=mp.PROPER,PJ=a,iD=rD,DJ=OJ.trim;qr({target:"String",proto:!0,forced:function(n){return PJ(function(){return!!iD[n]()||"\u200B\x85\u180E"[n]()!=="\u200B\x85\u180E"||NJ&&iD[n].name!==n})}("trim")},{trim:function(){return DJ(this)}});var LJ=qr,MJ=Cr,dy=g,xJ=Te,VJ=Me,FJ=Fr,$J=Ni,UJ=ru,BJ=nO,Ls=W.Symbol,cu=Ls&&Ls.prototype;if(MJ&&VJ(Ls)&&(!("description"in cu)||Ls().description!==void 0)){var aD={},fy=function(){var n=arguments.length<1||arguments[0]===void 0?void 0:$J(arguments[0]),i=FJ(cu,this)?new Ls(n):n===void 0?Ls():Ls(n);return n===""&&(aD[i]=!0),i};BJ(fy,Ls),fy.prototype=cu,cu.constructor=fy;var HJ=String(Ls("test"))=="Symbol(test)",jJ=dy(cu.valueOf),WJ=dy(cu.toString),zJ=/^Symbol\((.*)\)[^)]+$/,KJ=dy("".replace),GJ=dy("".slice);UJ(cu,"description",{configurable:!0,get:function(){var n=jJ(this);if(xJ(aD,n))return"";var i=WJ(n),s=HJ?GJ(i,7,-1):KJ(i,zJ,"$1");return s===""?void 0:s}}),LJ({global:!0,constructor:!0,forced:!0},{Symbol:fy})}var qJ=RE.charAt,YJ=Ni,sD=Jo,JJ=hO,lD=pO,cD="String Iterator",XJ=sD.set,QJ=sD.getterFor(cD);JJ(String,"String",function(n){XJ(this,{type:cD,string:YJ(n),index:0})},function(){var n,i=QJ(this),s=i.string,u=i.index;return u>=s.length?lD(void 0,!0):(n=qJ(s,u),i.index+=n.length,lD(n,!1))});var Qi,uD=Cr,ZJ=g,eX=Rt,tX=a,YE=ke,nX=kS,rX=bS,oX=$e,iX=R,af=Object.assign,dD=Object.defineProperty,aX=ZJ([].concat),sX=!af||tX(function(){if(uD&&af({b:1},af(dD({},"a",{enumerable:!0,get:function(){dD(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var n={},i={},s=Symbol(),u="abcdefghijklmnopqrst";return n[s]=7,u.split("").forEach(function(p){i[p]=p}),af({},n)[s]!=7||YE(af({},i)).join("")!=u})?function(n,i){for(var s=oX(n),u=arguments.length,p=1,y=nX.f,E=rX.f;u>p;)for(var A,w=iX(arguments[p++]),V=y?aX(YE(w),y(w)):YE(w),K=V.length,z=0;K>z;)A=V[z++],uD&&!eX(E,w,A)||(s[A]=w[A]);return s}:af,lX=Nr,cX=kN,uX=Nl,dX=Rt,fX=$e,hX=function(n,i,s,u){try{return u?i(lX(s)[0],s[1]):i(s)}catch(p){cX(n,"throw",p)}},pX=fE,mX=HS,vX=Ai,fD=PP,gX=ey,yX=Ap,hD=Array,uu=g,JE=2147483647,_X=/[^\0-\u007E]/,pD=/[.\u3002\uFF0E\uFF61]/g,mD="Overflow: input needs wider integers to process",vD=RangeError,bX=uu(pD.exec),sf=Math.floor,XE=String.fromCharCode,gD=uu("".charCodeAt),yD=uu([].join),Ml=uu([].push),SX=uu("".replace),EX=uu("".split),TX=uu("".toLowerCase),_D=function(n){return n+22+75*(n<26)},CX=function(n,i,s){var u=0;for(n=s?sf(n/700):n>>1,n+=sf(n/i);n>455;)n=sf(n/35),u+=36;return sf(u+36*n/(n+38))},wX=function(n){var i=[];n=function(mt){for(var dt=[],an=0,gn=mt.length;an<gn;){var nr=gD(mt,an++);if(nr>=55296&&nr<=56319&&an<gn){var Qn=gD(mt,an++);(64512&Qn)==56320?Ml(dt,((1023&nr)<<10)+(1023&Qn)+65536):(Ml(dt,nr),an--)}else Ml(dt,nr)}return dt}(n);var s,u,p=n.length,y=128,E=0,A=72;for(s=0;s<n.length;s++)(u=n[s])<128&&Ml(i,XE(u));var w=i.length,V=w;for(w&&Ml(i,"-");V<p;){var K=JE;for(s=0;s<n.length;s++)(u=n[s])>=y&&u<K&&(K=u);var z=V+1;if(K-y>sf((JE-E)/z))throw vD(mD);for(E+=(K-y)*z,y=K,s=0;s<n.length;s++){if((u=n[s])<y&&++E>JE)throw vD(mD);if(u==y){for(var ue=E,ve=36;;){var Oe=ve<=A?1:ve>=A+26?26:ve-A;if(ue<Oe)break;var Qe=ue-Oe,gt=36-Oe;Ml(i,XE(_D(Oe+Qe%gt))),ue=sf(Qe/gt),ve+=36}Ml(i,XE(_D(ue))),A=CX(E,z,V==w),E=0,V++}}E++,y++}return yD(i,"")},IX=qr,QE=Cr,kX=OP,ZE=W,bD=Nl,Zi=g,hy=Ji,ea=ru,RX=Ep,eT=Te,tT=sX,lf=function(n){var i=fX(n),s=mX(this),u=arguments.length,p=u>1?arguments[1]:void 0,y=p!==void 0;y&&(p=uX(p,u>2?arguments[2]:void 0));var E,A,w,V,K,z,ue=yX(i),ve=0;if(!ue||this===hD&&pX(ue))for(E=vX(i),A=s?new this(E):hD(E);E>ve;ve++)z=y?p(i[ve],ve):i[ve],fD(A,ve,z);else for(K=(V=gX(i,ue)).next,A=s?new this:[];!(w=dX(K,V)).done;ve++)z=y?hX(V,p,[w.value,ve],!0):w.value,fD(A,ve,z);return A.length=ve,A},Ta=LE,AX=RE.codeAt,OX=function(n){var i,s,u=[],p=EX(SX(TX(n),pD,"."),".");for(i=0;i<p.length;i++)s=p[i],Ml(u,bX(_X,s)?"xn--"+wX(s):s);return yD(u,".")},Ms=Ni,NX=Hd,PX=WS,SD=SJ,ED=Jo,DX=ED.set,py=ED.getterFor("URL"),LX=SD.URLSearchParams,MX=SD.getState,Dp=ZE.URL,nT=ZE.TypeError,my=ZE.parseInt,xX=Math.floor,TD=Math.pow,ta=Zi("".charAt),Ca=Zi(/./.exec),Lp=Zi([].join),VX=Zi(1 .toString),FX=Zi([].pop),cf=Zi([].push),rT=Zi("".replace),$X=Zi([].shift),UX=Zi("".split),Mp=Zi("".slice),vy=Zi("".toLowerCase),BX=Zi([].unshift),oT="Invalid scheme",du="Invalid host",CD="Invalid port",wD=/[a-z]/i,HX=/[\d+-.a-z]/i,iT=/\d/,jX=/^0x/i,WX=/^[0-7]+$/,zX=/^\d+$/,ID=/^[\da-f]+$/i,KX=/[\0\t\n\r #%/:<>?@[\\\]^|]/,GX=/[\0\t\n\r #/:<>?@[\\\]^|]/,qX=/^[\u0000-\u0020]+/,YX=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,JX=/[\t\n\r]/g,xp=function(n){var i,s,u,p;if(typeof n=="number"){for(i=[],s=0;s<4;s++)BX(i,n%256),n=xX(n/256);return Lp(i,".")}if(typeof n=="object"){for(i="",u=function(y){for(var E=null,A=1,w=null,V=0,K=0;K<8;K++)y[K]!==0?(V>A&&(E=w,A=V),w=null,V=0):(w===null&&(w=K),++V);return V>A&&(E=w,A=V),E}(n),s=0;s<8;s++)p&&n[s]===0||(p&&(p=!1),u===s?(i+=s?":":"::",p=!0):(i+=VX(n[s],16),s<7&&(i+=":")));return"["+i+"]"}return n},gy={},kD=tT({},gy,{" ":1,'"':1,"<":1,">":1,"`":1}),RD=tT({},kD,{"#":1,"?":1,"{":1,"}":1}),aT=tT({},RD,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xl=function(n,i){var s=AX(n,0);return s>32&&s<127&&!eT(i,n)?n:encodeURIComponent(n)},yy={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Vp=function(n,i){var s;return n.length==2&&Ca(wD,ta(n,0))&&((s=ta(n,1))==":"||!i&&s=="|")},AD=function(n){var i;return n.length>1&&Vp(Mp(n,0,2))&&(n.length==2||(i=ta(n,2))==="/"||i==="\\"||i==="?"||i==="#")},XX=function(n){return n==="."||vy(n)==="%2e"},sT={},OD={},lT={},ND={},PD={},cT={},DD={},LD={},_y={},by={},uT={},dT={},fT={},hT={},MD={},pT={},uf={},ts={},xD={},fu={},xs={},mT=function(n,i,s){var u,p,y,E=Ms(n);if(i){if(p=this.parse(E))throw nT(p);this.searchParams=null}else{if(s!==void 0&&(u=new mT(s,!0)),p=this.parse(E,null,u))throw nT(p);(y=MX(new LX)).bindURL(this),this.searchParams=y}};mT.prototype={type:"URL",parse:function(n,i,s){var u,p,y,E,A,w=this,V=i||sT,K=0,z="",ue=!1,ve=!1,Oe=!1;for(n=Ms(n),i||(w.scheme="",w.username="",w.password="",w.host=null,w.port=null,w.path=[],w.query=null,w.fragment=null,w.cannotBeABaseURL=!1,n=rT(n,qX,""),n=rT(n,YX,"$1")),n=rT(n,JX,""),u=lf(n);K<=u.length;){switch(p=u[K],V){case sT:if(!p||!Ca(wD,p)){if(i)return oT;V=lT;continue}z+=vy(p),V=OD;break;case OD:if(p&&(Ca(HX,p)||p=="+"||p=="-"||p=="."))z+=vy(p);else{if(p!=":"){if(i)return oT;z="",V=lT,K=0;continue}if(i&&(w.isSpecial()!=eT(yy,z)||z=="file"&&(w.includesCredentials()||w.port!==null)||w.scheme=="file"&&!w.host))return;if(w.scheme=z,i)return void(w.isSpecial()&&yy[w.scheme]==w.port&&(w.port=null));z="",w.scheme=="file"?V=hT:w.isSpecial()&&s&&s.scheme==w.scheme?V=ND:w.isSpecial()?V=LD:u[K+1]=="/"?(V=PD,K++):(w.cannotBeABaseURL=!0,cf(w.path,""),V=xD)}break;case lT:if(!s||s.cannotBeABaseURL&&p!="#")return oT;if(s.cannotBeABaseURL&&p=="#"){w.scheme=s.scheme,w.path=Ta(s.path),w.query=s.query,w.fragment="",w.cannotBeABaseURL=!0,V=xs;break}V=s.scheme=="file"?hT:cT;continue;case ND:if(p!="/"||u[K+1]!="/"){V=cT;continue}V=_y,K++;break;case PD:if(p=="/"){V=by;break}V=ts;continue;case cT:if(w.scheme=s.scheme,p==Qi)w.username=s.username,w.password=s.password,w.host=s.host,w.port=s.port,w.path=Ta(s.path),w.query=s.query;else if(p=="/"||p=="\\"&&w.isSpecial())V=DD;else if(p=="?")w.username=s.username,w.password=s.password,w.host=s.host,w.port=s.port,w.path=Ta(s.path),w.query="",V=fu;else{if(p!="#"){w.username=s.username,w.password=s.password,w.host=s.host,w.port=s.port,w.path=Ta(s.path),w.path.length--,V=ts;continue}w.username=s.username,w.password=s.password,w.host=s.host,w.port=s.port,w.path=Ta(s.path),w.query=s.query,w.fragment="",V=xs}break;case DD:if(!w.isSpecial()||p!="/"&&p!="\\"){if(p!="/"){w.username=s.username,w.password=s.password,w.host=s.host,w.port=s.port,V=ts;continue}V=by}else V=_y;break;case LD:if(V=_y,p!="/"||ta(z,K+1)!="/")continue;K++;break;case _y:if(p!="/"&&p!="\\"){V=by;continue}break;case by:if(p=="@"){ue&&(z="%40"+z),ue=!0,y=lf(z);for(var Qe=0;Qe<y.length;Qe++){var gt=y[Qe];if(gt!=":"||Oe){var mt=xl(gt,aT);Oe?w.password+=mt:w.username+=mt}else Oe=!0}z=""}else if(p==Qi||p=="/"||p=="?"||p=="#"||p=="\\"&&w.isSpecial()){if(ue&&z=="")return"Invalid authority";K-=lf(z).length+1,z="",V=uT}else z+=p;break;case uT:case dT:if(i&&w.scheme=="file"){V=pT;continue}if(p!=":"||ve){if(p==Qi||p=="/"||p=="?"||p=="#"||p=="\\"&&w.isSpecial()){if(w.isSpecial()&&z=="")return du;if(i&&z==""&&(w.includesCredentials()||w.port!==null))return;if(E=w.parseHost(z))return E;if(z="",V=uf,i)return;continue}p=="["?ve=!0:p=="]"&&(ve=!1),z+=p}else{if(z=="")return du;if(E=w.parseHost(z))return E;if(z="",V=fT,i==dT)return}break;case fT:if(!Ca(iT,p)){if(p==Qi||p=="/"||p=="?"||p=="#"||p=="\\"&&w.isSpecial()||i){if(z!=""){var dt=my(z,10);if(dt>65535)return CD;w.port=w.isSpecial()&&dt===yy[w.scheme]?null:dt,z=""}if(i)return;V=uf;continue}return CD}z+=p;break;case hT:if(w.scheme="file",p=="/"||p=="\\")V=MD;else{if(!s||s.scheme!="file"){V=ts;continue}if(p==Qi)w.host=s.host,w.path=Ta(s.path),w.query=s.query;else if(p=="?")w.host=s.host,w.path=Ta(s.path),w.query="",V=fu;else{if(p!="#"){AD(Lp(Ta(u,K),""))||(w.host=s.host,w.path=Ta(s.path),w.shortenPath()),V=ts;continue}w.host=s.host,w.path=Ta(s.path),w.query=s.query,w.fragment="",V=xs}}break;case MD:if(p=="/"||p=="\\"){V=pT;break}s&&s.scheme=="file"&&!AD(Lp(Ta(u,K),""))&&(Vp(s.path[0],!0)?cf(w.path,s.path[0]):w.host=s.host),V=ts;continue;case pT:if(p==Qi||p=="/"||p=="\\"||p=="?"||p=="#"){if(!i&&Vp(z))V=ts;else if(z==""){if(w.host="",i)return;V=uf}else{if(E=w.parseHost(z))return E;if(w.host=="localhost"&&(w.host=""),i)return;z="",V=uf}continue}z+=p;break;case uf:if(w.isSpecial()){if(V=ts,p!="/"&&p!="\\")continue}else if(i||p!="?")if(i||p!="#"){if(p!=Qi&&(V=ts,p!="/"))continue}else w.fragment="",V=xs;else w.query="",V=fu;break;case ts:if(p==Qi||p=="/"||p=="\\"&&w.isSpecial()||!i&&(p=="?"||p=="#")){if((A=vy(A=z))===".."||A==="%2e."||A===".%2e"||A==="%2e%2e"?(w.shortenPath(),p=="/"||p=="\\"&&w.isSpecial()||cf(w.path,"")):XX(z)?p=="/"||p=="\\"&&w.isSpecial()||cf(w.path,""):(w.scheme=="file"&&!w.path.length&&Vp(z)&&(w.host&&(w.host=""),z=ta(z,0)+":"),cf(w.path,z)),z="",w.scheme=="file"&&(p==Qi||p=="?"||p=="#"))for(;w.path.length>1&&w.path[0]==="";)$X(w.path);p=="?"?(w.query="",V=fu):p=="#"&&(w.fragment="",V=xs)}else z+=xl(p,RD);break;case xD:p=="?"?(w.query="",V=fu):p=="#"?(w.fragment="",V=xs):p!=Qi&&(w.path[0]+=xl(p,gy));break;case fu:i||p!="#"?p!=Qi&&(p=="'"&&w.isSpecial()?w.query+="%27":w.query+=p=="#"?"%23":xl(p,gy)):(w.fragment="",V=xs);break;case xs:p!=Qi&&(w.fragment+=xl(p,kD))}K++}},parseHost:function(n){var i,s,u;if(ta(n,0)=="["){if(ta(n,n.length-1)!="]"||(i=function(p){var y,E,A,w,V,K,z,ue=[0,0,0,0,0,0,0,0],ve=0,Oe=null,Qe=0,gt=function(){return ta(p,Qe)};if(gt()==":"){if(ta(p,1)!=":")return;Qe+=2,Oe=++ve}for(;gt();){if(ve==8)return;if(gt()!=":"){for(y=E=0;E<4&&Ca(ID,gt());)y=16*y+my(gt(),16),Qe++,E++;if(gt()=="."){if(E==0||(Qe-=E,ve>6))return;for(A=0;gt();){if(w=null,A>0){if(!(gt()=="."&&A<4))return;Qe++}if(!Ca(iT,gt()))return;for(;Ca(iT,gt());){if(V=my(gt(),10),w===null)w=V;else{if(w==0)return;w=10*w+V}if(w>255)return;Qe++}ue[ve]=256*ue[ve]+w,++A!=2&&A!=4||ve++}if(A!=4)return;break}if(gt()==":"){if(Qe++,!gt())return}else if(gt())return;ue[ve++]=y}else{if(Oe!==null)return;Qe++,Oe=++ve}}if(Oe!==null)for(K=ve-Oe,ve=7;ve!=0&&K>0;)z=ue[ve],ue[ve--]=ue[Oe+K-1],ue[Oe+--K]=z;else if(ve!=8)return;return ue}(Mp(n,1,-1)),!i))return du;this.host=i}else if(this.isSpecial()){if(n=OX(n),Ca(KX,n)||(i=function(p){var y,E,A,w,V,K,z,ue=UX(p,".");if(ue.length&&ue[ue.length-1]==""&&ue.length--,(y=ue.length)>4)return p;for(E=[],A=0;A<y;A++){if((w=ue[A])=="")return p;if(V=10,w.length>1&&ta(w,0)=="0"&&(V=Ca(jX,w)?16:8,w=Mp(w,V==8?1:2)),w==="")K=0;else{if(!Ca(V==10?zX:V==8?WX:ID,w))return p;K=my(w,V)}cf(E,K)}for(A=0;A<y;A++)if(K=E[A],A==y-1){if(K>=TD(256,5-y))return null}else if(K>255)return null;for(z=FX(E),A=0;A<E.length;A++)z+=E[A]*TD(256,3-A);return z}(n),i===null))return du;this.host=i}else{if(Ca(GX,n))return du;for(i="",s=lf(n),u=0;u<s.length;u++)i+=xl(s[u],gy);this.host=i}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return eT(yy,this.scheme)},shortenPath:function(){var n=this.path,i=n.length;!i||this.scheme=="file"&&i==1&&Vp(n[0],!0)||n.length--},serialize:function(){var n=this,i=n.scheme,s=n.username,u=n.password,p=n.host,y=n.port,E=n.path,A=n.query,w=n.fragment,V=i+":";return p!==null?(V+="//",n.includesCredentials()&&(V+=s+(u?":"+u:"")+"@"),V+=xp(p),y!==null&&(V+=":"+y)):i=="file"&&(V+="//"),V+=n.cannotBeABaseURL?E[0]:E.length?"/"+Lp(E,"/"):"",A!==null&&(V+="?"+A),w!==null&&(V+="#"+w),V},setHref:function(n){var i=this.parse(n);if(i)throw nT(i);this.searchParams.update()},getOrigin:function(){var n=this.scheme,i=this.port;if(n=="blob")try{return new df(n.path[0]).origin}catch{return"null"}return n!="file"&&this.isSpecial()?n+"://"+xp(this.host)+(i!==null?":"+i:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(n){this.parse(Ms(n)+":",sT)},getUsername:function(){return this.username},setUsername:function(n){var i=lf(Ms(n));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var s=0;s<i.length;s++)this.username+=xl(i[s],aT)}},getPassword:function(){return this.password},setPassword:function(n){var i=lf(Ms(n));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var s=0;s<i.length;s++)this.password+=xl(i[s],aT)}},getHost:function(){var n=this.host,i=this.port;return n===null?"":i===null?xp(n):xp(n)+":"+i},setHost:function(n){this.cannotBeABaseURL||this.parse(n,uT)},getHostname:function(){var n=this.host;return n===null?"":xp(n)},setHostname:function(n){this.cannotBeABaseURL||this.parse(n,dT)},getPort:function(){var n=this.port;return n===null?"":Ms(n)},setPort:function(n){this.cannotHaveUsernamePasswordPort()||((n=Ms(n))==""?this.port=null:this.parse(n,fT))},getPathname:function(){var n=this.path;return this.cannotBeABaseURL?n[0]:n.length?"/"+Lp(n,"/"):""},setPathname:function(n){this.cannotBeABaseURL||(this.path=[],this.parse(n,uf))},getSearch:function(){var n=this.query;return n?"?"+n:""},setSearch:function(n){(n=Ms(n))==""?this.query=null:(ta(n,0)=="?"&&(n=Mp(n,1)),this.query="",this.parse(n,fu)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var n=this.fragment;return n?"#"+n:""},setHash:function(n){(n=Ms(n))!=""?(ta(n,0)=="#"&&(n=Mp(n,1)),this.fragment="",this.parse(n,xs)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var df=function(n){var i=RX(this,Xo),s=PX(arguments.length,1)>1?arguments[1]:void 0,u=DX(i,new mT(n,!1,s));QE||(i.href=u.serialize(),i.origin=u.getOrigin(),i.protocol=u.getProtocol(),i.username=u.getUsername(),i.password=u.getPassword(),i.host=u.getHost(),i.hostname=u.getHostname(),i.port=u.getPort(),i.pathname=u.getPathname(),i.search=u.getSearch(),i.searchParams=u.getSearchParams(),i.hash=u.getHash())},Xo=df.prototype,na=function(n,i){return{get:function(){return py(this)[n]()},set:i&&function(s){return py(this)[i](s)},configurable:!0,enumerable:!0}};if(QE&&(ea(Xo,"href",na("serialize","setHref")),ea(Xo,"origin",na("getOrigin")),ea(Xo,"protocol",na("getProtocol","setProtocol")),ea(Xo,"username",na("getUsername","setUsername")),ea(Xo,"password",na("getPassword","setPassword")),ea(Xo,"host",na("getHost","setHost")),ea(Xo,"hostname",na("getHostname","setHostname")),ea(Xo,"port",na("getPort","setPort")),ea(Xo,"pathname",na("getPathname","setPathname")),ea(Xo,"search",na("getSearch","setSearch")),ea(Xo,"searchParams",na("getSearchParams")),ea(Xo,"hash",na("getHash","setHash"))),hy(Xo,"toJSON",function(){return py(this).serialize()},{enumerable:!0}),hy(Xo,"toString",function(){return py(this).serialize()},{enumerable:!0}),Dp){var VD=Dp.createObjectURL,FD=Dp.revokeObjectURL;VD&&hy(df,"createObjectURL",bD(VD,Dp)),FD&&hy(df,"revokeObjectURL",bD(FD,Dp))}NX(df,"URL"),IX({global:!0,constructor:!0,forced:!kX,sham:!QE},{URL:df});var $D=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined",QX=qi,ZX=Ri,eQ=RangeError,UD=function(n){if(n===void 0)return 0;var i=QX(n),s=ZX(i);if(i!==s)throw eQ("Wrong length or index");return s},tQ=Array,nQ=Math.abs,Vs=Math.pow,rQ=Math.floor,oQ=Math.log,iQ=Math.LN2,aQ={pack:function(n,i,s){var u,p,y,E=tQ(s),A=8*s-i-1,w=(1<<A)-1,V=w>>1,K=i===23?Vs(2,-24)-Vs(2,-77):0,z=n<0||n===0&&1/n<0?1:0,ue=0;for((n=nQ(n))!=n||n===1/0?(p=n!=n?1:0,u=w):(u=rQ(oQ(n)/iQ),n*(y=Vs(2,-u))<1&&(u--,y*=2),(n+=u+V>=1?K/y:K*Vs(2,1-V))*y>=2&&(u++,y/=2),u+V>=w?(p=0,u=w):u+V>=1?(p=(n*y-1)*Vs(2,i),u+=V):(p=n*Vs(2,V-1)*Vs(2,i),u=0));i>=8;)E[ue++]=255&p,p/=256,i-=8;for(u=u<<i|p,A+=i;A>0;)E[ue++]=255&u,u/=256,A-=8;return E[--ue]|=128*z,E},unpack:function(n,i){var s,u=n.length,p=8*u-i-1,y=(1<<p)-1,E=y>>1,A=p-7,w=u-1,V=n[w--],K=127&V;for(V>>=7;A>0;)K=256*K+n[w--],A-=8;for(s=K&(1<<-A)-1,K>>=-A,A+=i;A>0;)s=256*s+n[w--],A-=8;if(K===0)K=1-E;else{if(K===y)return s?NaN:V?-1/0:1/0;s+=Vs(2,i),K-=E}return(V?-1:1)*s*Vs(2,K-i)}},sQ=$e,BD=tu,lQ=Ai,HD=function(n){for(var i=sQ(this),s=lQ(i),u=arguments.length,p=BD(u>1?arguments[1]:void 0,s),y=u>2?arguments[2]:void 0,E=y===void 0?s:BD(y,s);E>p;)i[p++]=n;return i},Sy=W,vT=g,gT=Cr,cQ=$D,jD=mp,WD=Qa,uQ=ru,zD=NP,yT=a,Ey=Ep,dQ=qi,fQ=Ri,Ty=UD,KD=aQ,hQ=Hg,GD=jd,pQ=vp.f,mQ=HD,vQ=LE,qD=Hd,_T=Jo,gQ=jD.PROPER,YD=jD.CONFIGURABLE,ff="ArrayBuffer",Cy="DataView",hf="prototype",JD="Wrong index",XD=_T.getterFor(ff),Fp=_T.getterFor(Cy),QD=_T.set,ra=Sy[ff],wa=ra,pf=wa&&wa[hf],Fs=Sy[Cy],hu=Fs&&Fs[hf],ZD=Object.prototype,yQ=Sy.Array,wy=Sy.RangeError,_Q=vT(mQ),bQ=vT([].reverse),eL=KD.pack,tL=KD.unpack,nL=function(n){return[255&n]},rL=function(n){return[255&n,n>>8&255]},oL=function(n){return[255&n,n>>8&255,n>>16&255,n>>24&255]},iL=function(n){return n[3]<<24|n[2]<<16|n[1]<<8|n[0]},SQ=function(n){return eL(n,23,4)},EQ=function(n){return eL(n,52,8)},Iy=function(n,i,s){uQ(n[hf],i,{configurable:!0,get:function(){return s(this)[i]}})},Vl=function(n,i,s,u){var p=Ty(s),y=Fp(n);if(p+i>y.byteLength)throw wy(JD);var E=y.bytes,A=p+y.byteOffset,w=vQ(E,A,A+i);return u?w:bQ(w)},Fl=function(n,i,s,u,p,y){var E=Ty(s),A=Fp(n);if(E+i>A.byteLength)throw wy(JD);for(var w=A.bytes,V=E+A.byteOffset,K=u(+p),z=0;z<i;z++)w[V+z]=K[y?z:i-z-1]};if(cQ){var aL=gQ&&ra.name!==ff;if(yT(function(){ra(1)})&&yT(function(){new ra(-1)})&&!yT(function(){return new ra,new ra(1.5),new ra(NaN),ra.length!=1||aL&&!YD}))aL&&YD&&WD(ra,"name",ff);else{(wa=function(n){return Ey(this,pf),new ra(Ty(n))})[hf]=pf;for(var bT,sL=pQ(ra),lL=0;sL.length>lL;)(bT=sL[lL++])in wa||WD(wa,bT,ra[bT]);pf.constructor=wa}GD&&hQ(hu)!==ZD&&GD(hu,ZD);var ky=new Fs(new wa(2)),cL=vT(hu.setInt8);ky.setInt8(0,2147483648),ky.setInt8(1,2147483649),!ky.getInt8(0)&&ky.getInt8(1)||zD(hu,{setInt8:function(n,i){cL(this,n,i<<24>>24)},setUint8:function(n,i){cL(this,n,i<<24>>24)}},{unsafe:!0})}else pf=(wa=function(n){Ey(this,pf);var i=Ty(n);QD(this,{type:ff,bytes:_Q(yQ(i),0),byteLength:i}),gT||(this.byteLength=i,this.detached=!1)})[hf],hu=(Fs=function(n,i,s){Ey(this,hu),Ey(n,pf);var u=XD(n),p=u.byteLength,y=dQ(i);if(y<0||y>p)throw wy("Wrong offset");if(y+(s=s===void 0?p-y:fQ(s))>p)throw wy("Wrong length");QD(this,{type:Cy,buffer:n,byteLength:s,byteOffset:y,bytes:u.bytes}),gT||(this.buffer=n,this.byteLength=s,this.byteOffset=y)})[hf],gT&&(Iy(wa,"byteLength",XD),Iy(Fs,"buffer",Fp),Iy(Fs,"byteLength",Fp),Iy(Fs,"byteOffset",Fp)),zD(hu,{getInt8:function(n){return Vl(this,1,n)[0]<<24>>24},getUint8:function(n){return Vl(this,1,n)[0]},getInt16:function(n){var i=Vl(this,2,n,arguments.length>1?arguments[1]:void 0);return(i[1]<<8|i[0])<<16>>16},getUint16:function(n){var i=Vl(this,2,n,arguments.length>1?arguments[1]:void 0);return i[1]<<8|i[0]},getInt32:function(n){return iL(Vl(this,4,n,arguments.length>1?arguments[1]:void 0))},getUint32:function(n){return iL(Vl(this,4,n,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(n){return tL(Vl(this,4,n,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(n){return tL(Vl(this,8,n,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(n,i){Fl(this,1,n,nL,i)},setUint8:function(n,i){Fl(this,1,n,nL,i)},setInt16:function(n,i){Fl(this,2,n,rL,i,arguments.length>2?arguments[2]:void 0)},setUint16:function(n,i){Fl(this,2,n,rL,i,arguments.length>2?arguments[2]:void 0)},setInt32:function(n,i){Fl(this,4,n,oL,i,arguments.length>2?arguments[2]:void 0)},setUint32:function(n,i){Fl(this,4,n,oL,i,arguments.length>2?arguments[2]:void 0)},setFloat32:function(n,i){Fl(this,4,n,SQ,i,arguments.length>2?arguments[2]:void 0)},setFloat64:function(n,i){Fl(this,8,n,EQ,i,arguments.length>2?arguments[2]:void 0)}});qD(wa,ff),qD(Fs,Cy);var Ry={ArrayBuffer:wa,DataView:Fs},TQ=qr,ST=wp,CQ=a,uL=Nr,dL=tu,wQ=Ri,IQ=jS,ET=Ry.ArrayBuffer,TT=Ry.DataView,fL=TT.prototype,hL=ST(ET.prototype.slice),kQ=ST(fL.getUint8),RQ=ST(fL.setUint8);TQ({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:CQ(function(){return!new ET(2).slice(1,void 0).byteLength})},{slice:function(n,i){if(hL&&i===void 0)return hL(uL(this),n);for(var s=uL(this).byteLength,u=dL(n,s),p=dL(i===void 0?s:i,s),y=new(IQ(this,ET))(wQ(p-u)),E=new TT(this),A=new TT(y),w=0;u<p;)RQ(A,w++,kQ(E,u++));return y}});var pi,mf,Ay,Oy={},pL={get exports(){return Oy},set exports(n){Oy=n}},AQ=$D,CT=Cr,Qo=W,mL=Me,Ny=rn,$l=Te,wT=Ol,OQ=Dn,NQ=Qa,IT=Ji,PQ=ru,DQ=Fr,Py=Hg,vf=jd,LQ=Ye,MQ=ie,vL=Jo.enforce,xQ=Jo.get,Dy=Qo.Int8Array,kT=Dy&&Dy.prototype,gL=Qo.Uint8ClampedArray,yL=gL&&gL.prototype,ns=Dy&&Py(Dy),Ia=kT&&Py(kT),VQ=Object.prototype,RT=Qo.TypeError,_L=LQ("toStringTag"),AT=MQ("TYPED_ARRAY_TAG"),Ly="TypedArrayConstructor",$s=AQ&&!!vf&&wT(Qo.opera)!=="Opera",bL=!1,Us={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},OT={BigInt64Array:8,BigUint64Array:8},SL=function(n){var i=Py(n);if(Ny(i)){var s=xQ(i);return s&&$l(s,Ly)?s[Ly]:SL(i)}},EL=function(n){if(!Ny(n))return!1;var i=wT(n);return $l(Us,i)||$l(OT,i)};for(pi in Us)(Ay=(mf=Qo[pi])&&mf.prototype)?vL(Ay)[Ly]=mf:$s=!1;for(pi in OT)(Ay=(mf=Qo[pi])&&mf.prototype)&&(vL(Ay)[Ly]=mf);if((!$s||!mL(ns)||ns===Function.prototype)&&(ns=function(){throw RT("Incorrect invocation")},$s))for(pi in Us)Qo[pi]&&vf(Qo[pi],ns);if((!$s||!Ia||Ia===VQ)&&(Ia=ns.prototype,$s))for(pi in Us)Qo[pi]&&vf(Qo[pi].prototype,Ia);if($s&&Py(yL)!==Ia&&vf(yL,Ia),CT&&!$l(Ia,_L))for(pi in bL=!0,PQ(Ia,_L,{configurable:!0,get:function(){return Ny(this)?this[AT]:void 0}}),Us)Qo[pi]&&NQ(Qo[pi],AT,pi);var Bs={NATIVE_ARRAY_BUFFER_VIEWS:$s,TYPED_ARRAY_TAG:bL&&AT,aTypedArray:function(n){if(EL(n))return n;throw RT("Target is not a typed array")},aTypedArrayConstructor:function(n){if(mL(n)&&(!vf||DQ(ns,n)))return n;throw RT(OQ(n)+" is not a typed array constructor")},exportTypedArrayMethod:function(n,i,s,u){if(CT){if(s)for(var p in Us){var y=Qo[p];if(y&&$l(y.prototype,n))try{delete y.prototype[n]}catch{try{y.prototype[n]=i}catch{}}}Ia[n]&&!s||IT(Ia,n,s?i:$s&&kT[n]||i,u)}},exportTypedArrayStaticMethod:function(n,i,s){var u,p;if(CT){if(vf){if(s){for(u in Us)if((p=Qo[u])&&$l(p,n))try{delete p[n]}catch{}}if(ns[n]&&!s)return;try{return IT(ns,n,s?i:$s&&ns[n]||i)}catch{}}for(u in Us)!(p=Qo[u])||p[n]&&!s||IT(p,n,i)}},getTypedArrayConstructor:SL,isView:function(n){if(!Ny(n))return!1;var i=wT(n);return i==="DataView"||$l(Us,i)||$l(OT,i)},isTypedArray:EL,TypedArray:ns,TypedArrayPrototype:Ia},TL=W,NT=a,FQ=MN,$Q=Bs.NATIVE_ARRAY_BUFFER_VIEWS,UQ=TL.ArrayBuffer,pu=TL.Int8Array,CL=!$Q||!NT(function(){pu(1)})||!NT(function(){new pu(-1)})||!FQ(function(n){new pu,new pu(null),new pu(1.5),new pu(n)},!0)||NT(function(){return new pu(new UQ(2),1,void 0).length!==1}),BQ=rn,HQ=Math.floor,jQ=Number.isInteger||function(n){return!BQ(n)&&isFinite(n)&&HQ(n)===n},WQ=qi,zQ=RangeError,KQ=function(n){var i=WQ(n);if(i<0)throw zQ("The argument can't be less than 0");return i},GQ=RangeError,wL=function(n,i){var s=KQ(n);if(s%i)throw GQ("Wrong offset");return s},qQ=Ol,YQ=Pd,JQ=TypeError,IL=function(n){var i=YQ(n,"number");if(typeof i=="number")throw JQ("Can't convert number to bigint");return BigInt(i)},XQ=Nl,QQ=Rt,ZQ=xO,eZ=$e,tZ=Ai,nZ=ey,rZ=Ap,oZ=fE,iZ=function(n){var i=qQ(n);return i=="BigInt64Array"||i=="BigUint64Array"},aZ=Bs.aTypedArrayConstructor,sZ=IL,kL=function(n){var i,s,u,p,y,E,A,w,V=ZQ(this),K=eZ(n),z=arguments.length,ue=z>1?arguments[1]:void 0,ve=ue!==void 0,Oe=rZ(K);if(Oe&&!oZ(Oe))for(w=(A=nZ(K,Oe)).next,K=[];!(E=QQ(w,A)).done;)K.push(E.value);for(ve&&z>2&&(ue=XQ(ue,arguments[2])),s=tZ(K),u=new(aZ(V))(s),p=iZ(u),i=0;s>i;i++)y=ve?ue(K[i],i):K[i],u[i]=p?sZ(y):+y;return u},RL=qr,AL=W,OL=Rt,lZ=Cr,cZ=CL,gf=Bs,NL=Ry,PL=Ep,uZ=Ud,$p=Qa,dZ=jQ,fZ=Ri,DL=UD,PT=wL,LL=Il,Up=Te,hZ=Ol,DT=rn,pZ=Bt,mZ=oo,vZ=Fr,My=jd,gZ=vp.f,ML=kL,yZ=uP.forEach,_Z=Wg,bZ=ru,xL=ro,VL=pp,SZ=BN,LT=Jo.get,EZ=Jo.set,TZ=Jo.enforce,FL=xL.f,CZ=VL.f,wZ=Math.round,MT=AL.RangeError,$L=NL.ArrayBuffer,IZ=$L.prototype,kZ=NL.DataView,xy=gf.NATIVE_ARRAY_BUFFER_VIEWS,UL=gf.TYPED_ARRAY_TAG,BL=gf.TypedArray,Bp=gf.TypedArrayPrototype,RZ=gf.aTypedArrayConstructor,xT=gf.isTypedArray,Vy="BYTES_PER_ELEMENT",VT="Wrong length",HL=function(n,i){RZ(n);for(var s=0,u=i.length,p=new n(u);u>s;)p[s]=i[s++];return p},Fy=function(n,i){bZ(n,i,{configurable:!0,get:function(){return LT(this)[i]}})},jL=function(n){var i;return vZ(IZ,n)||(i=hZ(n))=="ArrayBuffer"||i=="SharedArrayBuffer"},WL=function(n,i){return xT(n)&&!pZ(i)&&i in n&&dZ(+i)&&i>=0},zL=function(n,i){return i=LL(i),WL(n,i)?uZ(2,n[i]):CZ(n,i)},KL=function(n,i,s){return i=LL(i),!(WL(n,i)&&DT(s)&&Up(s,"value"))||Up(s,"get")||Up(s,"set")||s.configurable||Up(s,"writable")&&!s.writable||Up(s,"enumerable")&&!s.enumerable?FL(n,i,s):(n[i]=s.value,n)};lZ?(xy||(VL.f=zL,xL.f=KL,Fy(Bp,"buffer"),Fy(Bp,"byteOffset"),Fy(Bp,"byteLength"),Fy(Bp,"length")),RL({target:"Object",stat:!0,forced:!xy},{getOwnPropertyDescriptor:zL,defineProperty:KL}),pL.exports=function(n,i,s){var u=n.match(/\d+/)[0]/8,p=n+(s?"Clamped":"")+"Array",y="get"+n,E="set"+n,A=AL[p],w=A,V=w&&w.prototype,K={},z=function(ve,Oe){FL(ve,Oe,{get:function(){return function(Qe,gt){var mt=LT(Qe);return mt.view[y](gt*u+mt.byteOffset,!0)}(this,Oe)},set:function(Qe){return function(gt,mt,dt){var an=LT(gt);s&&(dt=(dt=wZ(dt))<0?0:dt>255?255:255&dt),an.view[E](mt*u+an.byteOffset,dt,!0)}(this,Oe,Qe)},enumerable:!0})};xy?cZ&&(w=i(function(ve,Oe,Qe,gt){return PL(ve,V),SZ(DT(Oe)?jL(Oe)?gt!==void 0?new A(Oe,PT(Qe,u),gt):Qe!==void 0?new A(Oe,PT(Qe,u)):new A(Oe):xT(Oe)?HL(w,Oe):OL(ML,w,Oe):new A(DL(Oe)),ve,w)}),My&&My(w,BL),yZ(gZ(A),function(ve){ve in w||$p(w,ve,A[ve])}),w.prototype=V):(w=i(function(ve,Oe,Qe,gt){PL(ve,V);var mt,dt,an,gn=0,nr=0;if(DT(Oe)){if(!jL(Oe))return xT(Oe)?HL(w,Oe):OL(ML,w,Oe);mt=Oe,nr=PT(Qe,u);var Qn=Oe.byteLength;if(gt===void 0){if(Qn%u||(dt=Qn-nr)<0)throw MT(VT)}else if((dt=fZ(gt)*u)+nr>Qn)throw MT(VT);an=dt/u}else an=DL(Oe),mt=new $L(dt=an*u);for(EZ(ve,{buffer:mt,byteOffset:nr,byteLength:dt,length:an,view:new kZ(mt)});gn<an;)z(ve,gn++)}),My&&My(w,BL),V=w.prototype=mZ(Bp)),V.constructor!==w&&$p(V,"constructor",w),TZ(V).TypedArrayConstructor=w,UL&&$p(V,UL,p);var ue=w!=A;K[p]=w,RL({global:!0,constructor:!0,forced:ue,sham:!xy},K),Vy in w||$p(w,Vy,u),Vy in V||$p(V,Vy,u),_Z(p)}):pL.exports=function(){},Oy("Uint8",function(n){return function(i,s,u){return n(this,i,s,u)}});var AZ=HD,OZ=IL,NZ=Ol,PZ=Rt,DZ=a,LZ=Bs.aTypedArray,MZ=Bs.exportTypedArrayMethod,xZ=g("".slice);MZ("fill",function(n){var i=arguments.length;LZ(this);var s=xZ(NZ(this),0,3)==="Big"?OZ(n):+n;return PZ(AZ,this,s,i>1?arguments[1]:void 0,i>2?arguments[2]:void 0)},DZ(function(){var n=0;return new Int8Array(2).fill({valueOf:function(){return n++}}),n!==1}));var GL=W,qL=Rt,FT=Bs,VZ=Ai,FZ=wL,$Z=$e,YL=a,UZ=GL.RangeError,$T=GL.Int8Array,JL=$T&&$T.prototype,XL=JL&&JL.set,BZ=FT.aTypedArray,HZ=FT.exportTypedArrayMethod,UT=!YL(function(){var n=new Uint8ClampedArray(2);return qL(XL,n,{length:1,0:3},1),n[1]!==3}),jZ=UT&&FT.NATIVE_ARRAY_BUFFER_VIEWS&&YL(function(){var n=new $T(2);return n.set(1),n.set("2",1),n[0]!==0||n[1]!==2});HZ("set",function(n){BZ(this);var i=FZ(arguments.length>1?arguments[1]:void 0,1),s=$Z(n);if(UT)return qL(XL,this,s,i);var u=this.length,p=VZ(s),y=0;if(p+i>u)throw UZ("Wrong length");for(;y<p;)this[i+y]=s[y++]},!UT||jZ);var QL=De.match(/firefox\/(\d+)/i),ZL=!!QL&&+QL[1],e2=/MSIE|Trident/.test(De),t2=De.match(/AppleWebKit\/(\d+)\./),n2=!!t2&&+t2[1],WZ=wp,BT=a,zZ=ki,KZ=xE,r2=ZL,GZ=e2,o2=Re,i2=n2,qZ=Bs.aTypedArray,YZ=Bs.exportTypedArrayMethod,Hp=W.Uint16Array,yf=Hp&&WZ(Hp.prototype.sort),JZ=!(!yf||BT(function(){yf(new Hp(2),null)})&&BT(function(){yf(new Hp(2),{})})),a2=!!yf&&!BT(function(){if(o2)return o2<74;if(r2)return r2<67;if(GZ)return!0;if(i2)return i2<602;var n,i,s=new Hp(516),u=Array(516);for(n=0;n<516;n++)i=n%4,s[n]=515-n,u[n]=n-2*i+3;for(yf(s,function(p,y){return(p/4|0)-(y/4|0)}),n=0;n<516;n++)if(s[n]!==u[n])return!0});YZ("sort",function(n){return n!==void 0&&zZ(n),a2?yf(this,n):KZ(qZ(this),function(i){return function(s,u){return i!==void 0?+i(s,u)||0:u!=u?-1:s!=s?1:s===0&&u===0?1/s>0&&1/u<0?1:-1:s>u}}(n))},!a2||JZ),Oy("Float32",function(n){return function(i,s,u){return n(this,i,s,u)}});var XZ=Wg,HT="ArrayBuffer",s2=Ry[HT];qr({global:!0,constructor:!0,forced:W[HT]!==s2},{ArrayBuffer:s2}),XZ(HT);var QZ=qr,ZZ=aP,eee=g([].reverse),l2=[1,2];QZ({target:"Array",proto:!0,forced:String(l2)===String(l2.reverse())},{reverse:function(){return ZZ(this)&&(this.length=this.length),eee(this)}});var c2=Dn,tee=TypeError,nee=qr,u2=g,ree=ki,oee=$e,d2=Ai,iee=function(n,i){if(!delete n[i])throw tee("Cannot delete property "+c2(i)+" of "+c2(n))},f2=Ni,jT=a,aee=xE,see=TE,h2=ZL,lee=e2,p2=Re,m2=n2,Ul=[],v2=u2(Ul.sort),cee=u2(Ul.push),uee=jT(function(){Ul.sort(void 0)}),dee=jT(function(){Ul.sort(null)}),fee=see("sort"),g2=!jT(function(){if(p2)return p2<70;if(!(h2&&h2>3)){if(lee)return!0;if(m2)return m2<603;var n,i,s,u,p="";for(n=65;n<76;n++){switch(i=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:s=3;break;case 68:case 71:s=4;break;default:s=2}for(u=0;u<47;u++)Ul.push({k:i+u,v:s})}for(Ul.sort(function(y,E){return E.v-y.v}),u=0;u<Ul.length;u++)i=Ul[u].k.charAt(0),p.charAt(p.length-1)!==i&&(p+=i);return p!=="DGBEFHACIJK"}});nee({target:"Array",proto:!0,forced:uee||!dee||!fee||!g2},{sort:function(n){n!==void 0&&ree(n);var i=oee(this);if(g2)return n===void 0?v2(i):v2(i,n);var s,u,p=[],y=d2(i);for(u=0;u<y;u++)u in i&&cee(p,i[u]);for(aee(p,function(E){return function(A,w){return w===void 0?-1:A===void 0?1:E!==void 0?+E(A,w)||0:f2(A)>f2(w)?1:-1}}(n)),s=d2(p),u=0;u<s;)i[u]=p[u++];for(;u<y;)iee(i,u++);return i}});var hee=qr,pee=Rt,WT=g,y2=$,mee=Me,vee=k,gee=HN,jp=Ni,yee=wl,_ee=zN,bee=SP,See=Ye("replace"),Eee=TypeError,_2=WT("".indexOf);WT("".replace);var b2=WT("".slice),Tee=Math.max,S2=function(n,i,s){return s>n.length?-1:i===""?s:_2(n,i,s)};hee({target:"String",proto:!0},{replaceAll:function(n,i){var s,u,p,y,E,A,w,V,K=y2(this),z=0,ue=0,ve="";if(!vee(n)){if(gee(n)&&(s=jp(y2(_ee(n))),!~_2(s,"g")))throw Eee("`.replaceAll` does not allow non-global regexes");if(u=yee(n,See))return pee(u,n,K,i)}for(p=jp(K),y=jp(n),(E=mee(i))||(i=jp(i)),A=y.length,w=Tee(1,A),z=S2(p,y,0);z!==-1;)V=E?jp(i(y,z,p)):bee(y,p,z,[],void 0,i),ve+=b2(p,ue,z)+V,ue=z+A,z=S2(p,y,z+w);return ue<p.length&&(ve+=b2(p,ue)),ve}}),(0,Bs.exportTypedArrayStaticMethod)("from",kL,CL);let E2=!0,T2=!0;function $y(n,i,s){const u=n.match(i);return u&&u.length>=s&&parseInt(u[s],10)}function mu(n,i,s){if(!n.RTCPeerConnection)return;const u=n.RTCPeerConnection.prototype,p=u.addEventListener;u.addEventListener=function(E,A){if(E!==i)return p.apply(this,arguments);const w=V=>{const K=s(V);K&&(A.handleEvent?A.handleEvent(K):A(K))};return this._eventMap=this._eventMap||{},this._eventMap[i]||(this._eventMap[i]=new Map),this._eventMap[i].set(A,w),p.apply(this,[E,w])};const y=u.removeEventListener;u.removeEventListener=function(E,A){if(E!==i||!this._eventMap||!this._eventMap[i])return y.apply(this,arguments);if(!this._eventMap[i].has(A))return y.apply(this,arguments);const w=this._eventMap[i].get(A);return this._eventMap[i].delete(A),this._eventMap[i].size===0&&delete this._eventMap[i],Object.keys(this._eventMap).length===0&&delete this._eventMap,y.apply(this,[E,w])},Object.defineProperty(u,"on"+i,{get(){return this["_on"+i]},set(E){this["_on"+i]&&(this.removeEventListener(i,this["_on"+i]),delete this["_on"+i]),E&&this.addEventListener(i,this["_on"+i]=E)},enumerable:!0,configurable:!0})}function Cee(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(E2=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function wee(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(T2=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function C2(){if(typeof window=="object"){if(E2)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function zT(n,i){T2&&console.warn(n+" is deprecated, please use "+i+" instead.")}function w2(n){return Object.prototype.toString.call(n)==="[object Object]"}function I2(n){return w2(n)?Object.keys(n).reduce(function(i,s){const u=w2(n[s]),p=u?I2(n[s]):n[s],y=u&&!Object.keys(p).length;return p===void 0||y?i:Object.assign(i,{[s]:p})},{}):n}function KT(n,i,s){i&&!s.has(i.id)&&(s.set(i.id,i),Object.keys(i).forEach(u=>{u.endsWith("Id")?KT(n,n.get(i[u]),s):u.endsWith("Ids")&&i[u].forEach(p=>{KT(n,n.get(p),s)})}))}function k2(n,i,s){const u=s?"outbound-rtp":"inbound-rtp",p=new Map;if(i===null)return p;const y=[];return n.forEach(E=>{E.type==="track"&&E.trackIdentifier===i.id&&y.push(E)}),y.forEach(E=>{n.forEach(A=>{A.type===u&&A.trackId===E.id&&KT(n,A,p)})}),p}const R2=C2;function A2(n,i){const s=n&&n.navigator;if(!s.mediaDevices)return;const u=function(E){if(typeof E!="object"||E.mandatory||E.optional)return E;const A={};return Object.keys(E).forEach(w=>{if(w==="require"||w==="advanced"||w==="mediaSource")return;const V=typeof E[w]=="object"?E[w]:{ideal:E[w]};V.exact!==void 0&&typeof V.exact=="number"&&(V.min=V.max=V.exact);const K=function(z,ue){return z?z+ue.charAt(0).toUpperCase()+ue.slice(1):ue==="deviceId"?"sourceId":ue};if(V.ideal!==void 0){A.optional=A.optional||[];let z={};typeof V.ideal=="number"?(z[K("min",w)]=V.ideal,A.optional.push(z),z={},z[K("max",w)]=V.ideal,A.optional.push(z)):(z[K("",w)]=V.ideal,A.optional.push(z))}V.exact!==void 0&&typeof V.exact!="number"?(A.mandatory=A.mandatory||{},A.mandatory[K("",w)]=V.exact):["min","max"].forEach(z=>{V[z]!==void 0&&(A.mandatory=A.mandatory||{},A.mandatory[K(z,w)]=V[z])})}),E.advanced&&(A.optional=(A.optional||[]).concat(E.advanced)),A},p=function(E,A){if(i.version>=61)return A(E);if((E=JSON.parse(JSON.stringify(E)))&&typeof E.audio=="object"){const w=function(V,K,z){K in V&&!(z in V)&&(V[z]=V[K],delete V[K])};w((E=JSON.parse(JSON.stringify(E))).audio,"autoGainControl","googAutoGainControl"),w(E.audio,"noiseSuppression","googNoiseSuppression"),E.audio=u(E.audio)}if(E&&typeof E.video=="object"){let w=E.video.facingMode;w=w&&(typeof w=="object"?w:{ideal:w});const V=i.version<66;if(w&&(w.exact==="user"||w.exact==="environment"||w.ideal==="user"||w.ideal==="environment")&&(!s.mediaDevices.getSupportedConstraints||!s.mediaDevices.getSupportedConstraints().facingMode||V)){let K;if(delete E.video.facingMode,w.exact==="environment"||w.ideal==="environment"?K=["back","rear"]:w.exact!=="user"&&w.ideal!=="user"||(K=["front"]),K)return s.mediaDevices.enumerateDevices().then(z=>{let ue=(z=z.filter(ve=>ve.kind==="videoinput")).find(ve=>K.some(Oe=>ve.label.toLowerCase().includes(Oe)));return!ue&&z.length&&K.includes("back")&&(ue=z[z.length-1]),ue&&(E.video.deviceId=w.exact?{exact:ue.deviceId}:{ideal:ue.deviceId}),E.video=u(E.video),R2("chrome: "+JSON.stringify(E)),A(E)})}E.video=u(E.video)}return R2("chrome: "+JSON.stringify(E)),A(E)},y=function(E){return i.version>=64?E:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[E.name]||E.name,message:E.message,constraint:E.constraint||E.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(s.getUserMedia=function(E,A,w){p(E,V=>{s.webkitGetUserMedia(V,A,K=>{w&&w(y(K))})})}.bind(s),s.mediaDevices.getUserMedia){const E=s.mediaDevices.getUserMedia.bind(s.mediaDevices);s.mediaDevices.getUserMedia=function(A){return p(A,w=>E(w).then(V=>{if(w.audio&&!V.getAudioTracks().length||w.video&&!V.getVideoTracks().length)throw V.getTracks().forEach(K=>{K.stop()}),new DOMException("","NotFoundError");return V},V=>Promise.reject(y(V))))}}}function O2(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function N2(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(s){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=s)},enumerable:!0,configurable:!0});const i=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",u=>{let p;p=n.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(E=>E.track&&E.track.id===u.track.id):{track:u.track};const y=new Event("track");y.track=u.track,y.receiver=p,y.transceiver={receiver:p},y.streams=[s.stream],this.dispatchEvent(y)}),s.stream.getTracks().forEach(u=>{let p;p=n.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(E=>E.track&&E.track.id===u.id):{track:u};const y=new Event("track");y.track=u,y.receiver=p,y.transceiver={receiver:p},y.streams=[s.stream],this.dispatchEvent(y)})},this.addEventListener("addstream",this._ontrackpoly)),i.apply(this,arguments)}}else mu(n,"track",i=>(i.transceiver||Object.defineProperty(i,"transceiver",{value:{receiver:i.receiver}}),i))}function P2(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const i=function(p,y){return{track:y,get dtmf(){return this._dtmf===void 0&&(y.kind==="audio"?this._dtmf=p.createDTMFSender(y):this._dtmf=null),this._dtmf},_pc:p}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const p=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(E,A){let w=p.apply(this,arguments);return w||(w=i(this,E),this._senders.push(w)),w};const y=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(E){y.apply(this,arguments);const A=this._senders.indexOf(E);A!==-1&&this._senders.splice(A,1)}}const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(p){this._senders=this._senders||[],s.apply(this,[p]),p.getTracks().forEach(y=>{this._senders.push(i(this,y))})};const u=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(p){this._senders=this._senders||[],u.apply(this,[p]),p.getTracks().forEach(y=>{const E=this._senders.find(A=>A.track===y);E&&this._senders.splice(this._senders.indexOf(E),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const i=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=i.apply(this,[]);return s.forEach(u=>u._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function D2(n){if(!n.RTCPeerConnection)return;const i=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[s,u,p]=arguments;if(arguments.length>0&&typeof s=="function")return i.apply(this,arguments);if(i.length===0&&(arguments.length===0||typeof s!="function"))return i.apply(this,[]);const y=function(A){const w={};return A.result().forEach(V=>{const K={id:V.id,timestamp:V.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[V.type]||V.type};V.names().forEach(z=>{K[z]=V.stat(z)}),w[K.id]=K}),w},E=function(A){return new Map(Object.keys(A).map(w=>[w,A[w]]))};if(arguments.length>=2){const A=function(w){u(E(y(w)))};return i.apply(this,[A,s])}return new Promise((A,w)=>{i.apply(this,[function(V){A(E(y(V)))},w])}).then(u,p)}}function L2(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const s=n.RTCPeerConnection.prototype.getSenders;s&&(n.RTCPeerConnection.prototype.getSenders=function(){const p=s.apply(this,[]);return p.forEach(y=>y._pc=this),p});const u=n.RTCPeerConnection.prototype.addTrack;u&&(n.RTCPeerConnection.prototype.addTrack=function(){const p=u.apply(this,arguments);return p._pc=this,p}),n.RTCRtpSender.prototype.getStats=function(){const p=this;return this._pc.getStats().then(y=>k2(y,p.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const s=n.RTCPeerConnection.prototype.getReceivers;s&&(n.RTCPeerConnection.prototype.getReceivers=function(){const u=s.apply(this,[]);return u.forEach(p=>p._pc=this),u}),mu(n,"track",u=>(u.receiver._pc=u.srcElement,u)),n.RTCRtpReceiver.prototype.getStats=function(){const u=this;return this._pc.getStats().then(p=>k2(p,u.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype)||!("getStats"in n.RTCRtpReceiver.prototype))return;const i=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let u,p,y;return this.getSenders().forEach(E=>{E.track===s&&(u?y=!0:u=E)}),this.getReceivers().forEach(E=>(E.track===s&&(p?y=!0:p=E),E.track===s)),y||u&&p?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):u?u.getStats():p?p.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}function M2(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(y=>this._shimmedLocalStreams[y][0])};const i=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(y,E){if(!E)return i.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const A=i.apply(this,arguments);return this._shimmedLocalStreams[E.id]?this._shimmedLocalStreams[E.id].indexOf(A)===-1&&this._shimmedLocalStreams[E.id].push(A):this._shimmedLocalStreams[E.id]=[E,A],A};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(y){this._shimmedLocalStreams=this._shimmedLocalStreams||{},y.getTracks().forEach(w=>{if(this.getSenders().find(V=>V.track===w))throw new DOMException("Track already exists.","InvalidAccessError")});const E=this.getSenders();s.apply(this,arguments);const A=this.getSenders().filter(w=>E.indexOf(w)===-1);this._shimmedLocalStreams[y.id]=[y].concat(A)};const u=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(y){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[y.id],u.apply(this,arguments)};const p=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(y){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},y&&Object.keys(this._shimmedLocalStreams).forEach(E=>{const A=this._shimmedLocalStreams[E].indexOf(y);A!==-1&&this._shimmedLocalStreams[E].splice(A,1),this._shimmedLocalStreams[E].length===1&&delete this._shimmedLocalStreams[E]}),p.apply(this,arguments)}}function x2(n,i){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&i.version>=65)return M2(n);const s=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const w=s.apply(this);return this._reverseStreams=this._reverseStreams||{},w.map(V=>this._reverseStreams[V.id])};const u=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(w){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},w.getTracks().forEach(V=>{if(this.getSenders().find(K=>K.track===V))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[w.id]){const V=new n.MediaStream(w.getTracks());this._streams[w.id]=V,this._reverseStreams[V.id]=w,w=V}u.apply(this,[w])};const p=n.RTCPeerConnection.prototype.removeStream;function y(w,V){let K=V.sdp;return Object.keys(w._reverseStreams||[]).forEach(z=>{const ue=w._reverseStreams[z],ve=w._streams[ue.id];K=K.replace(new RegExp(ve.id,"g"),ue.id)}),new RTCSessionDescription({type:V.type,sdp:K})}n.RTCPeerConnection.prototype.removeStream=function(w){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},p.apply(this,[this._streams[w.id]||w]),delete this._reverseStreams[this._streams[w.id]?this._streams[w.id].id:w.id],delete this._streams[w.id]},n.RTCPeerConnection.prototype.addTrack=function(w,V){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const K=[].slice.call(arguments,1);if(K.length!==1||!K[0].getTracks().find(ue=>ue===w))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(ue=>ue.track===w))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const z=this._streams[V.id];if(z)z.addTrack(w),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const ue=new n.MediaStream([w]);this._streams[V.id]=ue,this._reverseStreams[ue.id]=V,this.addStream(ue)}return this.getSenders().find(ue=>ue.track===w)},["createOffer","createAnswer"].forEach(function(w){const V=n.RTCPeerConnection.prototype[w],K={[w](){const z=arguments;return arguments.length&&typeof arguments[0]=="function"?V.apply(this,[ue=>{const ve=y(this,ue);z[0].apply(null,[ve])},ue=>{z[1]&&z[1].apply(null,ue)},arguments[2]]):V.apply(this,arguments).then(ue=>y(this,ue))}};n.RTCPeerConnection.prototype[w]=K[w]});const E=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(w,V){let K=V.sdp;return Object.keys(w._reverseStreams||[]).forEach(z=>{const ue=w._reverseStreams[z],ve=w._streams[ue.id];K=K.replace(new RegExp(ue.id,"g"),ve.id)}),new RTCSessionDescription({type:V.type,sdp:K})}(this,arguments[0]),E.apply(this,arguments)):E.apply(this,arguments)};const A=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const w=A.get.apply(this);return w.type===""?w:y(this,w)}}),n.RTCPeerConnection.prototype.removeTrack=function(w){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!w._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(w._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let V;this._streams=this._streams||{},Object.keys(this._streams).forEach(K=>{this._streams[K].getTracks().find(z=>w.track===z)&&(V=this._streams[K])}),V&&(V.getTracks().length===1?this.removeStream(this._reverseStreams[V.id]):V.removeTrack(w.track),this.dispatchEvent(new Event("negotiationneeded")))}}function GT(n,i){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const u=n.RTCPeerConnection.prototype[s],p={[s](){return arguments[0]=new(s==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};n.RTCPeerConnection.prototype[s]=p[s]})}function V2(n,i){mu(n,"negotiationneeded",s=>{const u=s.target;if(!(i.version<72||u.getConfiguration&&u.getConfiguration().sdpSemantics==="plan-b")||u.signalingState==="stable")return s})}var F2=Object.freeze({__proto__:null,shimMediaStream:O2,shimOnTrack:N2,shimGetSendersWithDtmf:P2,shimGetStats:D2,shimSenderReceiverGetStats:L2,shimAddTrackRemoveTrackWithNative:M2,shimAddTrackRemoveTrack:x2,shimPeerConnection:GT,fixNegotiationNeeded:V2,shimGetUserMedia:A2,shimGetDisplayMedia:function(n,i){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(typeof i=="function"?n.navigator.mediaDevices.getDisplayMedia=function(s){return i(s).then(u=>{const p=s.video&&s.video.width,y=s.video&&s.video.height,E=s.video&&s.video.frameRate;return s.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:u,maxFrameRate:E||3}},p&&(s.video.mandatory.maxWidth=p),y&&(s.video.mandatory.maxHeight=y),n.navigator.mediaDevices.getUserMedia(s)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}});function $2(n,i){const s=n&&n.navigator,u=n&&n.MediaStreamTrack;if(s.getUserMedia=function(p,y,E){zT("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),s.mediaDevices.getUserMedia(p).then(y,E)},!(i.version>55&&"autoGainControl"in s.mediaDevices.getSupportedConstraints())){const p=function(E,A,w){A in E&&!(w in E)&&(E[w]=E[A],delete E[A])},y=s.mediaDevices.getUserMedia.bind(s.mediaDevices);if(s.mediaDevices.getUserMedia=function(E){return typeof E=="object"&&typeof E.audio=="object"&&(E=JSON.parse(JSON.stringify(E)),p(E.audio,"autoGainControl","mozAutoGainControl"),p(E.audio,"noiseSuppression","mozNoiseSuppression")),y(E)},u&&u.prototype.getSettings){const E=u.prototype.getSettings;u.prototype.getSettings=function(){const A=E.apply(this,arguments);return p(A,"mozAutoGainControl","autoGainControl"),p(A,"mozNoiseSuppression","noiseSuppression"),A}}if(u&&u.prototype.applyConstraints){const E=u.prototype.applyConstraints;u.prototype.applyConstraints=function(A){return this.kind==="audio"&&typeof A=="object"&&(A=JSON.parse(JSON.stringify(A)),p(A,"autoGainControl","mozAutoGainControl"),p(A,"noiseSuppression","mozNoiseSuppression")),E.apply(this,[A])}}}}function U2(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function qT(n,i){if(typeof n!="object"||!n.RTCPeerConnection&&!n.mozRTCPeerConnection)return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(p){const y=n.RTCPeerConnection.prototype[p],E={[p](){return arguments[0]=new(p==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),y.apply(this,arguments)}};n.RTCPeerConnection.prototype[p]=E[p]});const s={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},u=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[p,y,E]=arguments;return u.apply(this,[p||null]).then(A=>{if(i.version<53&&!y)try{A.forEach(w=>{w.type=s[w.type]||w.type})}catch(w){if(w.name!=="TypeError")throw w;A.forEach((V,K)=>{A.set(K,Object.assign({},V,{type:s[V.type]||V.type}))})}return A}).then(y,E)}}function B2(n){if(typeof n!="object"||!n.RTCPeerConnection||!n.RTCRtpSender||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const i=n.RTCPeerConnection.prototype.getSenders;i&&(n.RTCPeerConnection.prototype.getSenders=function(){const u=i.apply(this,[]);return u.forEach(p=>p._pc=this),u});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const u=s.apply(this,arguments);return u._pc=this,u}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function H2(n){if(typeof n!="object"||!n.RTCPeerConnection||!n.RTCRtpSender||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const i=n.RTCPeerConnection.prototype.getReceivers;i&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=i.apply(this,[]);return s.forEach(u=>u._pc=this),s}),mu(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function j2(n){n.RTCPeerConnection&&!("removeStream"in n.RTCPeerConnection.prototype)&&(n.RTCPeerConnection.prototype.removeStream=function(i){zT("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&i.getTracks().includes(s.track)&&this.removeTrack(s)})})}function W2(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function z2(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const i=n.RTCPeerConnection.prototype.addTransceiver;i&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const u=s.length>0;u&&s.forEach(y=>{if("rid"in y&&!/^[a-z0-9]{0,16}$/i.test(y.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in y&&!(parseFloat(y.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in y&&!(parseFloat(y.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const p=i.apply(this,arguments);if(u){const{sender:y}=p,E=y.getParameters();(!("encodings"in E)||E.encodings.length===1&&Object.keys(E.encodings[0]).length===0)&&(E.encodings=s,y.sendEncodings=s,this.setParametersPromises.push(y.setParameters(E).then(()=>{delete y.sendEncodings}).catch(()=>{delete y.sendEncodings})))}return p})}function K2(n){if(typeof n!="object"||!n.RTCRtpSender)return;const i=n.RTCRtpSender.prototype.getParameters;i&&(n.RTCRtpSender.prototype.getParameters=function(){const s=i.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function G2(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const i=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function q2(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const i=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}var Y2=Object.freeze({__proto__:null,shimOnTrack:U2,shimPeerConnection:qT,shimSenderGetStats:B2,shimReceiverGetStats:H2,shimRemoveStream:j2,shimRTCDataChannel:W2,shimAddTransceiver:z2,shimGetParameters:K2,shimCreateOffer:G2,shimCreateAnswer:q2,shimGetUserMedia:$2,shimGetDisplayMedia:function(n,i){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!s||!s.video){const u=new DOMException("getDisplayMedia without video constraints is undefined");return u.name="NotFoundError",u.code=8,Promise.reject(u)}return s.video===!0?s.video={mediaSource:i}:s.video.mediaSource=i,n.navigator.mediaDevices.getUserMedia(s)})}});function J2(n){if(typeof n=="object"&&n.RTCPeerConnection){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const i=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(u=>i.call(this,u,s)),s.getVideoTracks().forEach(u=>i.call(this,u,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...u){return u&&u.forEach(p=>{this._localStreams?this._localStreams.includes(p)||this._localStreams.push(p):this._localStreams=[p]}),i.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(i){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(i);if(s===-1)return;this._localStreams.splice(s,1);const u=i.getTracks();this.getSenders().forEach(p=>{u.includes(p.track)&&this.removeTrack(p)})})}}function X2(n){if(typeof n=="object"&&n.RTCPeerConnection&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(s){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=s),this.addEventListener("track",this._onaddstreampoly=u=>{u.streams.forEach(p=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(p))return;this._remoteStreams.push(p);const y=new Event("addstream");y.stream=p,this.dispatchEvent(y)})})}});const i=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(u){u.streams.forEach(p=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(p)>=0)return;s._remoteStreams.push(p);const y=new Event("addstream");y.stream=p,s.dispatchEvent(y)})}),i.apply(s,arguments)}}}function Q2(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const i=n.RTCPeerConnection.prototype,s=i.createOffer,u=i.createAnswer,p=i.setLocalDescription,y=i.setRemoteDescription,E=i.addIceCandidate;i.createOffer=function(w,V){const K=arguments.length>=2?arguments[2]:arguments[0],z=s.apply(this,[K]);return V?(z.then(w,V),Promise.resolve()):z},i.createAnswer=function(w,V){const K=arguments.length>=2?arguments[2]:arguments[0],z=u.apply(this,[K]);return V?(z.then(w,V),Promise.resolve()):z};let A=function(w,V,K){const z=p.apply(this,[w]);return K?(z.then(V,K),Promise.resolve()):z};i.setLocalDescription=A,A=function(w,V,K){const z=y.apply(this,[w]);return K?(z.then(V,K),Promise.resolve()):z},i.setRemoteDescription=A,A=function(w,V,K){const z=E.apply(this,[w]);return K?(z.then(V,K),Promise.resolve()):z},i.addIceCandidate=A}function Z2(n){const i=n&&n.navigator;if(i.mediaDevices&&i.mediaDevices.getUserMedia){const s=i.mediaDevices,u=s.getUserMedia.bind(s);i.mediaDevices.getUserMedia=p=>u(eM(p))}!i.getUserMedia&&i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(s,u,p){i.mediaDevices.getUserMedia(s).then(u,p)}.bind(i))}function eM(n){return n&&n.video!==void 0?Object.assign({},n,{video:I2(n.video)}):n}function tM(n){if(!n.RTCPeerConnection)return;const i=n.RTCPeerConnection;n.RTCPeerConnection=function(s,u){if(s&&s.iceServers){const p=[];for(let y=0;y<s.iceServers.length;y++){let E=s.iceServers[y];E.urls===void 0&&E.url?(zT("RTCIceServer.url","RTCIceServer.urls"),E=JSON.parse(JSON.stringify(E)),E.urls=E.url,delete E.url,p.push(E)):p.push(s.iceServers[y])}s.iceServers=p}return new i(s,u)},n.RTCPeerConnection.prototype=i.prototype,"generateCertificate"in i&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get:()=>i.generateCertificate})}function nM(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function rM(n){const i=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){s.offerToReceiveAudio!==void 0&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const u=this.getTransceivers().find(y=>y.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):s.offerToReceiveAudio!==!0||u||this.addTransceiver("audio",{direction:"recvonly"}),s.offerToReceiveVideo!==void 0&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const p=this.getTransceivers().find(y=>y.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&p?p.direction==="sendrecv"?p.setDirection?p.setDirection("sendonly"):p.direction="sendonly":p.direction==="recvonly"&&(p.setDirection?p.setDirection("inactive"):p.direction="inactive"):s.offerToReceiveVideo!==!0||p||this.addTransceiver("video",{direction:"recvonly"})}return i.apply(this,arguments)}}function oM(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}var iM=Object.freeze({__proto__:null,shimLocalStreamsAPI:J2,shimRemoteStreamsAPI:X2,shimCallbacksAPI:Q2,shimGetUserMedia:Z2,shimConstraints:eM,shimRTCIceServerUrls:tM,shimTrackEventTransceiver:nM,shimCreateOfferLegacy:rM,shimAudioContext:oM}),Uy={};(function(n){const i={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};i.localCName=i.generateIdentifier(),i.splitLines=function(s){return s.trim().split(`
`).map(u=>u.trim())},i.splitSections=function(s){return s.split(`
m=`).map((u,p)=>(p>0?"m="+u:u).trim()+`\r
`)},i.getDescription=function(s){const u=i.splitSections(s);return u&&u[0]},i.getMediaSections=function(s){const u=i.splitSections(s);return u.shift(),u},i.matchPrefix=function(s,u){return i.splitLines(s).filter(p=>p.indexOf(u)===0)},i.parseCandidate=function(s){let u;u=s.indexOf("a=candidate:")===0?s.substring(12).split(" "):s.substring(10).split(" ");const p={foundation:u[0],component:{1:"rtp",2:"rtcp"}[u[1]]||u[1],protocol:u[2].toLowerCase(),priority:parseInt(u[3],10),ip:u[4],address:u[4],port:parseInt(u[5],10),type:u[7]};for(let y=8;y<u.length;y+=2)switch(u[y]){case"raddr":p.relatedAddress=u[y+1];break;case"rport":p.relatedPort=parseInt(u[y+1],10);break;case"tcptype":p.tcpType=u[y+1];break;case"ufrag":p.ufrag=u[y+1],p.usernameFragment=u[y+1];break;default:p[u[y]]===void 0&&(p[u[y]]=u[y+1])}return p},i.writeCandidate=function(s){const u=[];u.push(s.foundation);const p=s.component;p==="rtp"?u.push(1):p==="rtcp"?u.push(2):u.push(p),u.push(s.protocol.toUpperCase()),u.push(s.priority),u.push(s.address||s.ip),u.push(s.port);const y=s.type;return u.push("typ"),u.push(y),y!=="host"&&s.relatedAddress&&s.relatedPort&&(u.push("raddr"),u.push(s.relatedAddress),u.push("rport"),u.push(s.relatedPort)),s.tcpType&&s.protocol.toLowerCase()==="tcp"&&(u.push("tcptype"),u.push(s.tcpType)),(s.usernameFragment||s.ufrag)&&(u.push("ufrag"),u.push(s.usernameFragment||s.ufrag)),"candidate:"+u.join(" ")},i.parseIceOptions=function(s){return s.substring(14).split(" ")},i.parseRtpMap=function(s){let u=s.substring(9).split(" ");const p={payloadType:parseInt(u.shift(),10)};return u=u[0].split("/"),p.name=u[0],p.clockRate=parseInt(u[1],10),p.channels=u.length===3?parseInt(u[2],10):1,p.numChannels=p.channels,p},i.writeRtpMap=function(s){let u=s.payloadType;s.preferredPayloadType!==void 0&&(u=s.preferredPayloadType);const p=s.channels||s.numChannels||1;return"a=rtpmap:"+u+" "+s.name+"/"+s.clockRate+(p!==1?"/"+p:"")+`\r
`},i.parseExtmap=function(s){const u=s.substring(9).split(" ");return{id:parseInt(u[0],10),direction:u[0].indexOf("/")>0?u[0].split("/")[1]:"sendrecv",uri:u[1],attributes:u.slice(2).join(" ")}},i.writeExtmap=function(s){return"a=extmap:"+(s.id||s.preferredId)+(s.direction&&s.direction!=="sendrecv"?"/"+s.direction:"")+" "+s.uri+(s.attributes?" "+s.attributes:"")+`\r
`},i.parseFmtp=function(s){const u={};let p;const y=s.substring(s.indexOf(" ")+1).split(";");for(let E=0;E<y.length;E++)p=y[E].trim().split("="),u[p[0].trim()]=p[1];return u},i.writeFmtp=function(s){let u="",p=s.payloadType;if(s.preferredPayloadType!==void 0&&(p=s.preferredPayloadType),s.parameters&&Object.keys(s.parameters).length){const y=[];Object.keys(s.parameters).forEach(E=>{s.parameters[E]!==void 0?y.push(E+"="+s.parameters[E]):y.push(E)}),u+="a=fmtp:"+p+" "+y.join(";")+`\r
`}return u},i.parseRtcpFb=function(s){const u=s.substring(s.indexOf(" ")+1).split(" ");return{type:u.shift(),parameter:u.join(" ")}},i.writeRtcpFb=function(s){let u="",p=s.payloadType;return s.preferredPayloadType!==void 0&&(p=s.preferredPayloadType),s.rtcpFeedback&&s.rtcpFeedback.length&&s.rtcpFeedback.forEach(y=>{u+="a=rtcp-fb:"+p+" "+y.type+(y.parameter&&y.parameter.length?" "+y.parameter:"")+`\r
`}),u},i.parseSsrcMedia=function(s){const u=s.indexOf(" "),p={ssrc:parseInt(s.substring(7,u),10)},y=s.indexOf(":",u);return y>-1?(p.attribute=s.substring(u+1,y),p.value=s.substring(y+1)):p.attribute=s.substring(u+1),p},i.parseSsrcGroup=function(s){const u=s.substring(13).split(" ");return{semantics:u.shift(),ssrcs:u.map(p=>parseInt(p,10))}},i.getMid=function(s){const u=i.matchPrefix(s,"a=mid:")[0];if(u)return u.substring(6)},i.parseFingerprint=function(s){const u=s.substring(14).split(" ");return{algorithm:u[0].toLowerCase(),value:u[1].toUpperCase()}},i.getDtlsParameters=function(s,u){return{role:"auto",fingerprints:i.matchPrefix(s+u,"a=fingerprint:").map(i.parseFingerprint)}},i.writeDtlsParameters=function(s,u){let p="a=setup:"+u+`\r
`;return s.fingerprints.forEach(y=>{p+="a=fingerprint:"+y.algorithm+" "+y.value+`\r
`}),p},i.parseCryptoLine=function(s){const u=s.substring(9).split(" ");return{tag:parseInt(u[0],10),cryptoSuite:u[1],keyParams:u[2],sessionParams:u.slice(3)}},i.writeCryptoLine=function(s){return"a=crypto:"+s.tag+" "+s.cryptoSuite+" "+(typeof s.keyParams=="object"?i.writeCryptoKeyParams(s.keyParams):s.keyParams)+(s.sessionParams?" "+s.sessionParams.join(" "):"")+`\r
`},i.parseCryptoKeyParams=function(s){if(s.indexOf("inline:")!==0)return null;const u=s.substring(7).split("|");return{keyMethod:"inline",keySalt:u[0],lifeTime:u[1],mkiValue:u[2]?u[2].split(":")[0]:void 0,mkiLength:u[2]?u[2].split(":")[1]:void 0}},i.writeCryptoKeyParams=function(s){return s.keyMethod+":"+s.keySalt+(s.lifeTime?"|"+s.lifeTime:"")+(s.mkiValue&&s.mkiLength?"|"+s.mkiValue+":"+s.mkiLength:"")},i.getCryptoParameters=function(s,u){return i.matchPrefix(s+u,"a=crypto:").map(i.parseCryptoLine)},i.getIceParameters=function(s,u){const p=i.matchPrefix(s+u,"a=ice-ufrag:")[0],y=i.matchPrefix(s+u,"a=ice-pwd:")[0];return p&&y?{usernameFragment:p.substring(12),password:y.substring(10)}:null},i.writeIceParameters=function(s){let u="a=ice-ufrag:"+s.usernameFragment+`\r
a=ice-pwd:`+s.password+`\r
`;return s.iceLite&&(u+=`a=ice-lite\r
`),u},i.parseRtpParameters=function(s){const u={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},p=i.splitLines(s)[0].split(" ");u.profile=p[2];for(let E=3;E<p.length;E++){const A=p[E],w=i.matchPrefix(s,"a=rtpmap:"+A+" ")[0];if(w){const V=i.parseRtpMap(w),K=i.matchPrefix(s,"a=fmtp:"+A+" ");switch(V.parameters=K.length?i.parseFmtp(K[0]):{},V.rtcpFeedback=i.matchPrefix(s,"a=rtcp-fb:"+A+" ").map(i.parseRtcpFb),u.codecs.push(V),V.name.toUpperCase()){case"RED":case"ULPFEC":u.fecMechanisms.push(V.name.toUpperCase())}}}i.matchPrefix(s,"a=extmap:").forEach(E=>{u.headerExtensions.push(i.parseExtmap(E))});const y=i.matchPrefix(s,"a=rtcp-fb:* ").map(i.parseRtcpFb);return u.codecs.forEach(E=>{y.forEach(A=>{E.rtcpFeedback.find(w=>w.type===A.type&&w.parameter===A.parameter)||E.rtcpFeedback.push(A)})}),u},i.writeRtpDescription=function(s,u){let p="";p+="m="+s+" ",p+=u.codecs.length>0?"9":"0",p+=" "+(u.profile||"UDP/TLS/RTP/SAVPF")+" ",p+=u.codecs.map(E=>E.preferredPayloadType!==void 0?E.preferredPayloadType:E.payloadType).join(" ")+`\r
`,p+=`c=IN IP4 0.0.0.0\r
`,p+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,u.codecs.forEach(E=>{p+=i.writeRtpMap(E),p+=i.writeFmtp(E),p+=i.writeRtcpFb(E)});let y=0;return u.codecs.forEach(E=>{E.maxptime>y&&(y=E.maxptime)}),y>0&&(p+="a=maxptime:"+y+`\r
`),u.headerExtensions&&u.headerExtensions.forEach(E=>{p+=i.writeExtmap(E)}),p},i.parseRtpEncodingParameters=function(s){const u=[],p=i.parseRtpParameters(s),y=p.fecMechanisms.indexOf("RED")!==-1,E=p.fecMechanisms.indexOf("ULPFEC")!==-1,A=i.matchPrefix(s,"a=ssrc:").map(ue=>i.parseSsrcMedia(ue)).filter(ue=>ue.attribute==="cname"),w=A.length>0&&A[0].ssrc;let V;const K=i.matchPrefix(s,"a=ssrc-group:FID").map(ue=>ue.substring(17).split(" ").map(ve=>parseInt(ve,10)));K.length>0&&K[0].length>1&&K[0][0]===w&&(V=K[0][1]),p.codecs.forEach(ue=>{if(ue.name.toUpperCase()==="RTX"&&ue.parameters.apt){let ve={ssrc:w,codecPayloadType:parseInt(ue.parameters.apt,10)};w&&V&&(ve.rtx={ssrc:V}),u.push(ve),y&&(ve=JSON.parse(JSON.stringify(ve)),ve.fec={ssrc:w,mechanism:E?"red+ulpfec":"red"},u.push(ve))}}),u.length===0&&w&&u.push({ssrc:w});let z=i.matchPrefix(s,"b=");return z.length&&(z=z[0].indexOf("b=TIAS:")===0?parseInt(z[0].substring(7),10):z[0].indexOf("b=AS:")===0?1e3*parseInt(z[0].substring(5),10)*.95-16e3:void 0,u.forEach(ue=>{ue.maxBitrate=z})),u},i.parseRtcpParameters=function(s){const u={},p=i.matchPrefix(s,"a=ssrc:").map(A=>i.parseSsrcMedia(A)).filter(A=>A.attribute==="cname")[0];p&&(u.cname=p.value,u.ssrc=p.ssrc);const y=i.matchPrefix(s,"a=rtcp-rsize");u.reducedSize=y.length>0,u.compound=y.length===0;const E=i.matchPrefix(s,"a=rtcp-mux");return u.mux=E.length>0,u},i.writeRtcpParameters=function(s){let u="";return s.reducedSize&&(u+=`a=rtcp-rsize\r
`),s.mux&&(u+=`a=rtcp-mux\r
`),s.ssrc!==void 0&&s.cname&&(u+="a=ssrc:"+s.ssrc+" cname:"+s.cname+`\r
`),u},i.parseMsid=function(s){let u;const p=i.matchPrefix(s,"a=msid:");if(p.length===1)return u=p[0].substring(7).split(" "),{stream:u[0],track:u[1]};const y=i.matchPrefix(s,"a=ssrc:").map(E=>i.parseSsrcMedia(E)).filter(E=>E.attribute==="msid");return y.length>0?(u=y[0].value.split(" "),{stream:u[0],track:u[1]}):void 0},i.parseSctpDescription=function(s){const u=i.parseMLine(s),p=i.matchPrefix(s,"a=max-message-size:");let y;p.length>0&&(y=parseInt(p[0].substring(19),10)),isNaN(y)&&(y=65536);const E=i.matchPrefix(s,"a=sctp-port:");if(E.length>0)return{port:parseInt(E[0].substring(12),10),protocol:u.fmt,maxMessageSize:y};const A=i.matchPrefix(s,"a=sctpmap:");if(A.length>0){const w=A[0].substring(10).split(" ");return{port:parseInt(w[0],10),protocol:w[1],maxMessageSize:y}}},i.writeSctpDescription=function(s,u){let p=[];return p=s.protocol!=="DTLS/SCTP"?["m="+s.kind+" 9 "+s.protocol+" "+u.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+u.port+`\r
`]:["m="+s.kind+" 9 "+s.protocol+" "+u.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+u.port+" "+u.protocol+` 65535\r
`],u.maxMessageSize!==void 0&&p.push("a=max-message-size:"+u.maxMessageSize+`\r
`),p.join("")},i.generateSessionId=function(){return Math.random().toString().substr(2,22)},i.writeSessionBoilerplate=function(s,u,p){let y;const E=u!==void 0?u:2;return y=s||i.generateSessionId(),`v=0\r
o=`+(p||"thisisadapterortc")+" "+y+" "+E+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},i.getDirection=function(s,u){const p=i.splitLines(s);for(let y=0;y<p.length;y++)switch(p[y]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return p[y].substring(2)}return u?i.getDirection(u):"sendrecv"},i.getKind=function(s){return i.splitLines(s)[0].split(" ")[0].substring(2)},i.isRejected=function(s){return s.split(" ",2)[1]==="0"},i.parseMLine=function(s){const u=i.splitLines(s)[0].substring(2).split(" ");return{kind:u[0],port:parseInt(u[1],10),protocol:u[2],fmt:u.slice(3).join(" ")}},i.parseOLine=function(s){const u=i.matchPrefix(s,"o=")[0].substring(2).split(" ");return{username:u[0],sessionId:u[1],sessionVersion:parseInt(u[2],10),netType:u[3],addressType:u[4],address:u[5]}},i.isValidSDP=function(s){if(typeof s!="string"||s.length===0)return!1;const u=i.splitLines(s);for(let p=0;p<u.length;p++)if(u[p].length<2||u[p].charAt(1)!=="=")return!1;return!0},n.exports=i})({get exports(){return Uy},set exports(n){Uy=n}});var _f=Uy,Iee=r({__proto__:null,default:_f},[Uy]);function By(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const i=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&((s=JSON.parse(JSON.stringify(s))).candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const u=new i(s),p=_f.parseCandidate(s.candidate);for(const y in p)y in u||Object.defineProperty(u,y,{value:p[y]});return u.toJSON=function(){return{candidate:u.candidate,sdpMid:u.sdpMid,sdpMLineIndex:u.sdpMLineIndex,usernameFragment:u.usernameFragment}},u}return new i(s)},n.RTCIceCandidate.prototype=i.prototype,mu(n,"icecandidate",s=>(s.candidate&&Object.defineProperty(s,"candidate",{value:new n.RTCIceCandidate(s.candidate),writable:"false"}),s))}function YT(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||mu(n,"icecandidate",i=>{if(i.candidate){const s=_f.parseCandidate(i.candidate.candidate);s.type==="relay"&&(i.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[s.priority>>24])}return i})}function Hy(n,i){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const s=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,i.browser==="chrome"&&i.version>=76){const{sdpSemantics:u}=this.getConfiguration();u==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(u){if(!u||!u.sdp)return!1;const p=_f.splitSections(u.sdp);return p.shift(),p.some(y=>{const E=_f.parseMLine(y);return E&&E.kind==="application"&&E.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const u=function(w){const V=w.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(V===null||V.length<2)return-1;const K=parseInt(V[1],10);return K!=K?-1:K}(arguments[0]),p=function(w){let V=65536;return i.browser==="firefox"&&(V=i.version<57?w===-1?16384:2147483637:i.version<60?i.version===57?65535:65536:2147483637),V}(u),y=function(w,V){let K=65536;i.browser==="firefox"&&i.version===57&&(K=65535);const z=_f.matchPrefix(w.sdp,"a=max-message-size:");return z.length>0?K=parseInt(z[0].substring(19),10):i.browser==="firefox"&&V!==-1&&(K=2147483637),K}(arguments[0],u);let E;E=p===0&&y===0?Number.POSITIVE_INFINITY:p===0||y===0?Math.max(p,y):Math.min(p,y);const A={};Object.defineProperty(A,"maxMessageSize",{get:()=>E}),this._sctp=A}return s.apply(this,arguments)}}function jy(n){if(!n.RTCPeerConnection||!("createDataChannel"in n.RTCPeerConnection.prototype))return;function i(u,p){const y=u.send;u.send=function(){const E=arguments[0],A=E.length||E.size||E.byteLength;if(u.readyState==="open"&&p.sctp&&A>p.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+p.sctp.maxMessageSize+" bytes)");return y.apply(u,arguments)}}const s=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const u=s.apply(this,arguments);return i(u,this),u},mu(n,"datachannel",u=>(i(u.channel,u.target),u))}function JT(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const i=n.RTCPeerConnection.prototype;Object.defineProperty(i,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(i,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(s){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),s&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=s)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(s=>{const u=i[s];i[s]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=p=>{const y=p.target;if(y._lastConnectionState!==y.connectionState){y._lastConnectionState=y.connectionState;const E=new Event("connectionstatechange",p);y.dispatchEvent(E)}return p},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),u.apply(this,arguments)}})}function XT(n,i){if(!n.RTCPeerConnection||i.browser==="chrome"&&i.version>=71||i.browser==="safari"&&i.version>=605)return;const s=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(u){if(u&&u.sdp&&u.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const p=u.sdp.split(`
`).filter(y=>y.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&u instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:u.type,sdp:p}):u.sdp=p}return s.apply(this,arguments)}}function Wy(n,i){if(!n.RTCPeerConnection||!n.RTCPeerConnection.prototype)return;const s=n.RTCPeerConnection.prototype.addIceCandidate;s&&s.length!==0&&(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(i.browser==="chrome"&&i.version<78||i.browser==="firefox"&&i.version<68||i.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():s.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function zy(n,i){if(!n.RTCPeerConnection||!n.RTCPeerConnection.prototype)return;const s=n.RTCPeerConnection.prototype.setLocalDescription;s&&s.length!==0&&(n.RTCPeerConnection.prototype.setLocalDescription=function(){let u=arguments[0]||{};if(typeof u!="object"||u.type&&u.sdp)return s.apply(this,arguments);if(u={type:u.type,sdp:u.sdp},!u.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":u.type="offer";break;default:u.type="answer"}return u.sdp||u.type!=="offer"&&u.type!=="answer"?s.apply(this,[u]):(u.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(p=>s.apply(this,[p]))})}var kee=Object.freeze({__proto__:null,shimRTCIceCandidate:By,shimRTCIceCandidateRelayProtocol:YT,shimMaxMessageSize:Hy,shimSendThrowTypeError:jy,shimConnectionState:JT,removeExtmapAllowMixed:XT,shimAddIceCandidateNullOrEmpty:Wy,shimParameterlessSetLocalDescription:zy});(function({window:n}={},i={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const s=C2,u=function(y){const E={browser:null,version:null};if(y===void 0||!y.navigator||!y.navigator.userAgent)return E.browser="Not a browser.",E;const{navigator:A}=y;if(A.mozGetUserMedia)E.browser="firefox",E.version=$y(A.userAgent,/Firefox\/(\d+)\./,1);else if(A.webkitGetUserMedia||y.isSecureContext===!1&&y.webkitRTCPeerConnection)E.browser="chrome",E.version=$y(A.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!y.RTCPeerConnection||!A.userAgent.match(/AppleWebKit\/(\d+)\./))return E.browser="Not a supported browser.",E;E.browser="safari",E.version=$y(A.userAgent,/AppleWebKit\/(\d+)\./,1),E.supportsUnifiedPlan=y.RTCRtpTransceiver&&"currentDirection"in y.RTCRtpTransceiver.prototype}return E}(n),p={browserDetails:u,commonShim:kee,extractVersion:$y,disableLog:Cee,disableWarnings:wee,sdp:Iee};switch(u.browser){case"chrome":if(!F2||!GT||!i.shimChrome)return s("Chrome shim is not included in this adapter release."),p;if(u.version===null)return s("Chrome shim can not determine version, not shimming."),p;s("adapter.js shimming chrome."),p.browserShim=F2,Wy(n,u),zy(n),A2(n,u),O2(n),GT(n,u),N2(n),x2(n,u),P2(n),D2(n),L2(n),V2(n,u),By(n),YT(n),JT(n),Hy(n,u),jy(n),XT(n,u);break;case"firefox":if(!Y2||!qT||!i.shimFirefox)return s("Firefox shim is not included in this adapter release."),p;s("adapter.js shimming firefox."),p.browserShim=Y2,Wy(n,u),zy(n),$2(n,u),qT(n,u),U2(n),j2(n),B2(n),H2(n),W2(n),z2(n),K2(n),G2(n),q2(n),By(n),JT(n),Hy(n,u),jy(n);break;case"safari":if(!iM||!i.shimSafari)return s("Safari shim is not included in this adapter release."),p;s("adapter.js shimming safari."),p.browserShim=iM,Wy(n,u),zy(n),tM(n),rM(n),Q2(n),J2(n),X2(n),nM(n),Z2(n),oM(n),By(n),YT(n),Hy(n,u),jy(n),XT(n,u);break;default:s("Unsupported browser!")}})({window:typeof window=="undefined"?void 0:window});var dn,Ree=Object.create,Wp=Object.defineProperty,Aee=Object.defineProperties,aM=Object.getOwnPropertyDescriptor,Oee=Object.getOwnPropertyDescriptors,Nee=Object.getOwnPropertyNames,Ky=Object.getOwnPropertySymbols,sM=Object.getPrototypeOf,QT=Object.prototype.hasOwnProperty,lM=Object.prototype.propertyIsEnumerable,Pee=Reflect.get,ZT=Math.pow,eC=(n,i,s)=>i in n?Wp(n,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[i]=s,hn=(n,i)=>{for(var s in i||(i={}))QT.call(i,s)&&eC(n,s,i[s]);if(Ky)for(var s of Ky(i))lM.call(i,s)&&eC(n,s,i[s]);return n},Yn=(n,i)=>Aee(n,Oee(i)),Hs=(n,i)=>()=>(i||n((i={exports:{}}).exports,i),i.exports),zp=(n,i)=>{for(var s in i)Wp(n,s,{get:i[s],enumerable:!0})},Ao=(n,i,s)=>(s=n!=null?Ree(sM(n)):{},((u,p,y,E)=>{if(p&&typeof p=="object"||typeof p=="function")for(let A of Nee(p))!QT.call(u,A)&&A!==y&&Wp(u,A,{get:()=>p[A],enumerable:!(E=aM(p,A))||E.enumerable});return u})(!i&&n&&n.__esModule?s:Wp(s,"default",{value:n,enumerable:!0}),n)),Yt=(n,i,s,u)=>{for(var p,y=u>1?void 0:u?aM(i,s):i,E=n.length-1;E>=0;E--)(p=n[E])&&(y=(u?p(i,s,y):p(y))||y);return u&&y&&Wp(i,s,y),y},oe=(n,i,s)=>(eC(n,typeof i!="symbol"?i+"":i,s),s),oa=(n,i,s)=>Pee(sM(n),s,i),Ke=(n,i,s)=>new Promise((u,p)=>{var y=w=>{try{A(s.next(w))}catch(V){p(V)}},E=w=>{try{A(s.throw(w))}catch(V){p(V)}},A=w=>w.done?u(w.value):Promise.resolve(w.value).then(y,E);A((s=s.apply(n,i)).next())}),mi=Hs((n,i)=>{var s=Object.prototype.hasOwnProperty,u="~";function p(){}function y(V,K,z){this.fn=V,this.context=K,this.once=z||!1}function E(V,K,z,ue,ve){if(typeof z!="function")throw new TypeError("The listener must be a function");var Oe=new y(z,ue||V,ve),Qe=u?u+K:K;return V._events[Qe]?V._events[Qe].fn?V._events[Qe]=[V._events[Qe],Oe]:V._events[Qe].push(Oe):(V._events[Qe]=Oe,V._eventsCount++),V}function A(V,K){--V._eventsCount==0?V._events=new p:delete V._events[K]}function w(){this._events=new p,this._eventsCount=0}Object.create&&(p.prototype=Object.create(null),new p().__proto__||(u=!1)),w.prototype.eventNames=function(){var V,K,z=[];if(this._eventsCount===0)return z;for(K in V=this._events)s.call(V,K)&&z.push(u?K.slice(1):K);return Object.getOwnPropertySymbols?z.concat(Object.getOwnPropertySymbols(V)):z},w.prototype.listeners=function(V){var K=u?u+V:V,z=this._events[K];if(!z)return[];if(z.fn)return[z.fn];for(var ue=0,ve=z.length,Oe=new Array(ve);ue<ve;ue++)Oe[ue]=z[ue].fn;return Oe},w.prototype.listenerCount=function(V){var K=u?u+V:V,z=this._events[K];return z?z.fn?1:z.length:0},w.prototype.emit=function(V,K,z,ue,ve,Oe){var Qe=u?u+V:V;if(!this._events[Qe])return!1;var gt,mt,dt=this._events[Qe],an=arguments.length;if(dt.fn){switch(dt.once&&this.removeListener(V,dt.fn,void 0,!0),an){case 1:return dt.fn.call(dt.context),!0;case 2:return dt.fn.call(dt.context,K),!0;case 3:return dt.fn.call(dt.context,K,z),!0;case 4:return dt.fn.call(dt.context,K,z,ue),!0;case 5:return dt.fn.call(dt.context,K,z,ue,ve),!0;case 6:return dt.fn.call(dt.context,K,z,ue,ve,Oe),!0}for(mt=1,gt=new Array(an-1);mt<an;mt++)gt[mt-1]=arguments[mt];dt.fn.apply(dt.context,gt)}else{var gn,nr=dt.length;for(mt=0;mt<nr;mt++)switch(dt[mt].once&&this.removeListener(V,dt[mt].fn,void 0,!0),an){case 1:dt[mt].fn.call(dt[mt].context);break;case 2:dt[mt].fn.call(dt[mt].context,K);break;case 3:dt[mt].fn.call(dt[mt].context,K,z);break;case 4:dt[mt].fn.call(dt[mt].context,K,z,ue);break;default:if(!gt)for(gn=1,gt=new Array(an-1);gn<an;gn++)gt[gn-1]=arguments[gn];dt[mt].fn.apply(dt[mt].context,gt)}}return!0},w.prototype.on=function(V,K,z){return E(this,V,K,z,!1)},w.prototype.once=function(V,K,z){return E(this,V,K,z,!0)},w.prototype.removeListener=function(V,K,z,ue){var ve=u?u+V:V;if(!this._events[ve])return this;if(!K)return A(this,ve),this;var Oe=this._events[ve];if(Oe.fn)Oe.fn===K&&(!ue||Oe.once)&&(!z||Oe.context===z)&&A(this,ve);else{for(var Qe=0,gt=[],mt=Oe.length;Qe<mt;Qe++)(Oe[Qe].fn!==K||ue&&!Oe[Qe].once||z&&Oe[Qe].context!==z)&&gt.push(Oe[Qe]);gt.length?this._events[ve]=gt.length===1?gt[0]:gt:A(this,ve)}return this},w.prototype.removeAllListeners=function(V){var K;return V?(K=u?u+V:V,this._events[K]&&A(this,K)):(this._events=new p,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=u,w.EventEmitter=w,i!==void 0&&(i.exports=w)}),cM=Hs((n,i)=>{var s=i.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(u){return u.encoding?"rtpmap:%d %s/%s/%s":u.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(u){return u.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(u){return u.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(u){return"extmap:%d"+(u.direction?"/%s":"%v")+(u["encrypt-uri"]?" %s":"%v")+" %s"+(u.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(u){return u.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(u){var p="candidate:%s %d %s %d %s %d typ %s";return p+=u.raddr!=null?" raddr %s rport %d":"%v%v",p+=u.tcptype!=null?" tcptype %s":"%v",u.generation!=null&&(p+=" generation %d"),p+=u["network-id"]!=null?" network-id %d":"%v",p+=u["network-cost"]!=null?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(u){var p="ssrc:%d";return u.attribute!=null&&(p+=" %s",u.value!=null&&(p+=":%s")),p}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(u){return u.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(u){return u.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(u){return"imageattr:%s %s %s"+(u.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(u){return"simulcast:%s %s"+(u.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(u){return"ts-refclk:%s"+(u.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(u){var p="mediaclk:";return p+=u.id!=null?"id=%s %s":"%v%s",p+=u.mediaClockValue!=null?"=%s":"",p+=u.rateNumerator!=null?" rate=%s":"",p+=u.rateDenominator!=null?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(s).forEach(function(u){s[u].forEach(function(p){p.reg||(p.reg=/(.*)/),p.format||(p.format="%s")})})}),Dee=Hs(n=>{var i=function(E){return String(Number(E))===E?Number(E):E},s=function(E,A,w){var V=E.name&&E.names;E.push&&!A[E.push]?A[E.push]=[]:V&&!A[E.name]&&(A[E.name]={});var K=E.push?{}:V?A[E.name]:A;(function(z,ue,ve,Oe){if(Oe&&!ve)ue[Oe]=i(z[1]);else for(var Qe=0;Qe<ve.length;Qe+=1)z[Qe+1]!=null&&(ue[ve[Qe]]=i(z[Qe+1]))})(w.match(E.reg),K,E.names,E.name),E.push&&A[E.push].push(K)},u=cM(),p=RegExp.prototype.test.bind(/^([a-z])=(.*)/);n.parse=function(E){var A={},w=[],V=A;return E.split(/(\r\n|\r|\n)/).filter(p).forEach(function(K){var z=K[0],ue=K.slice(2);z==="m"&&(w.push({rtp:[],fmtp:[]}),V=w[w.length-1]);for(var ve=0;ve<(u[z]||[]).length;ve+=1){var Oe=u[z][ve];if(Oe.reg.test(ue))return s(Oe,V,ue)}}),A.media=w,A};var y=function(E,A){var w=A.split(/=(.+)/,2);return w.length===2?E[w[0]]=i(w[1]):w.length===1&&A.length>1&&(E[w[0]]=void 0),E};n.parseParams=function(E){return E.split(/;\s?/).reduce(y,{})},n.parseFmtpConfig=n.parseParams,n.parsePayloads=function(E){return E.toString().split(" ").map(Number)},n.parseRemoteCandidates=function(E){for(var A=[],w=E.split(" ").map(i),V=0;V<w.length;V+=3)A.push({component:w[V],ip:w[V+1],port:w[V+2]});return A},n.parseImageAttributes=function(E){return E.split(" ").map(function(A){return A.substring(1,A.length-1).split(",").reduce(y,{})})},n.parseSimulcastStreamList=function(E){return E.split(";").map(function(A){return A.split(",").map(function(w){var V,K=!1;return w[0]!=="~"?V=i(w):(V=i(w.substring(1,w.length)),K=!0),{scid:V,paused:K}})})}}),Lee=Hs((n,i)=>{var s=cM(),u=/%[sdv%]/g,p=function(w){var V=1,K=arguments,z=K.length;return w.replace(u,function(ue){if(V>=z)return ue;var ve=K[V];switch(V+=1,ue){case"%%":return"%";case"%s":return String(ve);case"%d":return Number(ve);case"%v":return""}})},y=function(w,V,K){var z=[w+"="+(V.format instanceof Function?V.format(V.push?K:K[V.name]):V.format)];if(V.names)for(var ue=0;ue<V.names.length;ue+=1){var ve=V.names[ue];V.name?z.push(K[V.name][ve]):z.push(K[V.names[ue]])}else z.push(K[V.name]);return p.apply(null,z)},E=["v","o","s","i","u","e","p","c","b","t","r","z","a"],A=["i","c","b","a"];i.exports=function(w,V){V=V||{},w.version==null&&(w.version=0),w.name==null&&(w.name=" "),w.media.forEach(function(ve){ve.payloads==null&&(ve.payloads="")});var K=V.outerOrder||E,z=V.innerOrder||A,ue=[];return K.forEach(function(ve){s[ve].forEach(function(Oe){Oe.name in w&&w[Oe.name]!=null?ue.push(y(ve,Oe,w)):Oe.push in w&&w[Oe.push]!=null&&w[Oe.push].forEach(function(Qe){ue.push(y(ve,Oe,Qe))})})}),w.media.forEach(function(ve){ue.push(y("m",s.m[0],ve)),z.forEach(function(Oe){s[Oe].forEach(function(Qe){Qe.name in ve&&ve[Qe.name]!=null?ue.push(y(Oe,Qe,ve)):Qe.push in ve&&ve[Qe.push]!=null&&ve[Qe.push].forEach(function(gt){ue.push(y(Oe,Qe,gt))})})})}),ue.join(`\r
`)+`\r
`}}),Mee=Hs(n=>{var i=Dee(),s=Lee();n.write=s,n.parse=i.parse,n.parseParams=i.parseParams,n.parseFmtpConfig=i.parseFmtpConfig,n.parsePayloads=i.parsePayloads,n.parseRemoteCandidates=i.parseRemoteCandidates,n.parseImageAttributes=i.parseImageAttributes,n.parseSimulcastStreamList=i.parseSimulcastStreamList}),uM=Hs((n,i)=>{var s=i.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(u){return u.encoding?"rtpmap:%d %s/%s/%s":u.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(u){return u.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(u){return u.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(u){return"extmap:%d"+(u.direction?"/%s":"%v")+(u["encrypt-uri"]?" %s":"%v")+" %s"+(u.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(u){return u.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(u){var p="candidate:%s %d %s %d %s %d typ %s";return p+=u.raddr!=null?" raddr %s rport %d":"%v%v",p+=u.tcptype!=null?" tcptype %s":"%v",u.generation!=null&&(p+=" generation %d"),p+=u["network-id"]!=null?" network-id %d":"%v",p+=u["network-cost"]!=null?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(u){var p="ssrc:%d";return u.attribute!=null&&(p+=" %s",u.value!=null&&(p+=":%s")),p}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(u){return u.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(u){return u.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(u){return"imageattr:%s %s %s"+(u.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(u){return"simulcast:%s %s"+(u.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(u){return"ts-refclk:%s"+(u.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(u){var p="mediaclk:";return p+=u.id!=null?"id=%s %s":"%v%s",p+=u.mediaClockValue!=null?"=%s":"",p+=u.rateNumerator!=null?" rate=%s":"",p+=u.rateDenominator!=null?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(s).forEach(function(u){s[u].forEach(function(p){p.reg||(p.reg=/(.*)/),p.format||(p.format="%s")})})}),xee=Hs(n=>{var i=function(E){return String(Number(E))===E?Number(E):E},s=function(E,A,w){var V=E.name&&E.names;E.push&&!A[E.push]?A[E.push]=[]:V&&!A[E.name]&&(A[E.name]={});var K=E.push?{}:V?A[E.name]:A;(function(z,ue,ve,Oe){if(Oe&&!ve)ue[Oe]=i(z[1]);else for(var Qe=0;Qe<ve.length;Qe+=1)z[Qe+1]!=null&&(ue[ve[Qe]]=i(z[Qe+1]))})(w.match(E.reg),K,E.names,E.name),E.push&&A[E.push].push(K)},u=uM(),p=RegExp.prototype.test.bind(/^([a-z])=(.*)/);n.parse=function(E){var A={},w=[],V=A;return E.split(/(\r\n|\r|\n)/).filter(p).forEach(function(K){var z=K[0],ue=K.slice(2);z==="m"&&(w.push({rtp:[],fmtp:[]}),V=w[w.length-1]);for(var ve=0;ve<(u[z]||[]).length;ve+=1){var Oe=u[z][ve];if(Oe.reg.test(ue))return s(Oe,V,ue)}}),A.media=w,A};var y=function(E,A){var w=A.split(/=(.+)/,2);return w.length===2?E[w[0]]=i(w[1]):w.length===1&&A.length>1&&(E[w[0]]=void 0),E};n.parseParams=function(E){return E.split(/;\s?/).reduce(y,{})},n.parseFmtpConfig=n.parseParams,n.parsePayloads=function(E){return E.toString().split(" ").map(Number)},n.parseRemoteCandidates=function(E){for(var A=[],w=E.split(" ").map(i),V=0;V<w.length;V+=3)A.push({component:w[V],ip:w[V+1],port:w[V+2]});return A},n.parseImageAttributes=function(E){return E.split(" ").map(function(A){return A.substring(1,A.length-1).split(",").reduce(y,{})})},n.parseSimulcastStreamList=function(E){return E.split(";").map(function(A){return A.split(",").map(function(w){var V,K=!1;return w[0]!=="~"?V=i(w):(V=i(w.substring(1,w.length)),K=!0),{scid:V,paused:K}})})}}),Vee=Hs((n,i)=>{var s=uM(),u=/%[sdv%]/g,p=function(w){var V=1,K=arguments,z=K.length;return w.replace(u,function(ue){if(V>=z)return ue;var ve=K[V];switch(V+=1,ue){case"%%":return"%";case"%s":return String(ve);case"%d":return Number(ve);case"%v":return""}})},y=function(w,V,K){var z=[w+"="+(V.format instanceof Function?V.format(V.push?K:K[V.name]):V.format)];if(V.names)for(var ue=0;ue<V.names.length;ue+=1){var ve=V.names[ue];V.name?z.push(K[V.name][ve]):z.push(K[V.names[ue]])}else z.push(K[V.name]);return p.apply(null,z)},E=["v","o","s","i","u","e","p","c","b","t","r","z","a"],A=["i","c","b","a"];i.exports=function(w,V){V=V||{},w.version==null&&(w.version=0),w.name==null&&(w.name=" "),w.media.forEach(function(ve){ve.payloads==null&&(ve.payloads="")});var K=V.outerOrder||E,z=V.innerOrder||A,ue=[];return K.forEach(function(ve){s[ve].forEach(function(Oe){Oe.name in w&&w[Oe.name]!=null?ue.push(y(ve,Oe,w)):Oe.push in w&&w[Oe.push]!=null&&w[Oe.push].forEach(function(Qe){ue.push(y(ve,Oe,Qe))})})}),w.media.forEach(function(ve){ue.push(y("m",s.m[0],ve)),z.forEach(function(Oe){s[Oe].forEach(function(Qe){Qe.name in ve&&ve[Qe.name]!=null?ue.push(y(Oe,Qe,ve)):Qe.push in ve&&ve[Qe.push]!=null&&ve[Qe.push].forEach(function(gt){ue.push(y(Oe,Qe,gt))})})})}),ue.join(`\r
`)+`\r
`}}),dM=Hs(n=>{var i=xee(),s=Vee();n.write=s,n.parse=i.parse,n.parseParams=i.parseParams,n.parseFmtpConfig=i.parseFmtpConfig,n.parsePayloads=i.parsePayloads,n.parseRemoteCandidates=i.parseRemoteCandidates,n.parseImageAttributes=i.parseImageAttributes,n.parseSimulcastStreamList=i.parseSimulcastStreamList}),Fee=Ao(mi()),fM=((dn=fM||{})[dn.INVALID_PARAMETER=4096]="INVALID_PARAMETER",dn[dn.INVALID_OPERATION=4097]="INVALID_OPERATION",dn[dn.NOT_SUPPORTED=4098]="NOT_SUPPORTED",dn[dn.DEVICE_NOT_FOUND=4099]="DEVICE_NOT_FOUND",dn[dn.INITIALIZE_FAILED=4100]="INITIALIZE_FAILED",dn[dn.SIGNAL_CHANNEL_SETUP_FAILED=16385]="SIGNAL_CHANNEL_SETUP_FAILED",dn[dn.SIGNAL_CHANNEL_ERROR=16386]="SIGNAL_CHANNEL_ERROR",dn[dn.ICE_TRANSPORT_ERROR=16387]="ICE_TRANSPORT_ERROR",dn[dn.JOIN_ROOM_FAILED=16388]="JOIN_ROOM_FAILED",dn[dn.CREATE_OFFER_FAILED=16389]="CREATE_OFFER_FAILED",dn[dn.SIGNAL_CHANNEL_RECONNECTION_FAILED=16390]="SIGNAL_CHANNEL_RECONNECTION_FAILED",dn[dn.UPLINK_RECONNECTION_FAILED=16391]="UPLINK_RECONNECTION_FAILED",dn[dn.DOWNLINK_RECONNECTION_FAILED=16392]="DOWNLINK_RECONNECTION_FAILED",dn[dn.REMOTE_STREAM_NOT_EXIST=16400]="REMOTE_STREAM_NOT_EXIST",dn[dn.CLIENT_BANNED=16448]="CLIENT_BANNED",dn[dn.SERVER_TIMEOUT=16449]="SERVER_TIMEOUT",dn[dn.SUBSCRIPTION_TIMEOUT=16450]="SUBSCRIPTION_TIMEOUT",dn[dn.PLAY_NOT_ALLOWED=16451]="PLAY_NOT_ALLOWED",dn[dn.DEVICE_AUTO_RECOVER_FAILED=16452]="DEVICE_AUTO_RECOVER_FAILED",dn[dn.START_PUBLISH_CDN_FAILED=16453]="START_PUBLISH_CDN_FAILED",dn[dn.STOP_PUBLISH_CDN_FAILED=16454]="STOP_PUBLISH_CDN_FAILED",dn[dn.START_MIX_TRANSCODE_FAILED=16455]="START_MIX_TRANSCODE_FAILED",dn[dn.STOP_MIX_TRANSCODE_FAILED=16456]="STOP_MIX_TRANSCODE_FAILED",dn[dn.NOT_SUPPORTED_H264=16457]="NOT_SUPPORTED_H264",dn[dn.SWITCH_ROLE_FAILED=16458]="SWITCH_ROLE_FAILED",dn[dn.API_CALL_TIMEOUT=16459]="API_CALL_TIMEOUT",dn[dn.SCHEDULE_FAILED=16460]="SCHEDULE_FAILED",dn[dn.API_CALL_ABORTED=16461]="API_CALL_ABORTED",dn[dn.SPC_INITIALIZED_FAILED=16462]="SPC_INITIALIZED_FAILED",dn[dn.UNKNOWN=65535]="UNKNOWN",dn),Ht=fM,$ee=class extends Error{constructor(n){let{name:i="RtcError",message:s,code:u=Ht.UNKNOWN,extraCode:p=0,constraint:y}=n,E="<".concat(function(w){for(let V in Ht)if(Ht[V]===w)return V;return"UNKNOWN"}(u)," 0x").concat(u.toString(16),">"),A="".concat(s).concat(y?" constraint: ".concat(y):"").concat(s!=null&&s.includes(E)?"":" ".concat(E));super(A),oe(this,"code"),oe(this,"extraCode"),oe(this,"message"),oe(this,"originMessage"),oe(this,"name"),oe(this,"constraint"),this.code=u,this.extraCode=p,this.name=i,this.message=A,this.constraint=y,this.originMessage=s}getCode(){return this.code}getExtraCode(){return this.extraCode}toString(){return this.originMessage}},on=$ee,tC=(new Date().getTime(),0),nC=function(){return new Date().getTime()+tC},hM=function(){let n=new Date;return n.setTime(nC()),n.toLocaleString()},rs={};zp(rs,{bytes2ms:()=>Ite,convertObjectNumberToInt:()=>qC,copyProperties:()=>wte,deepClone:()=>ym,deepMerge:()=>wu,delay:()=>YC,fibonacci:()=>vm,formatedTime:()=>xte,getAbilityConfigUrl:()=>Ete,getConstructorName:()=>ix,getContainerFromElement:()=>Lte,getEnv:()=>Cte,getInternalVersion:()=>Nte,getLoggerUrl:()=>pm,getMuteStateFromFlag:()=>gm,getNetworkType:()=>ex,getNumNetworkType:()=>p_,getReconnectionTimeout:()=>If,getStringByteLength:()=>GC,getTurnServer:()=>Dte,getUint32Version:()=>ux,getValueType:()=>gi,getViewListFromView:()=>v_,glog:()=>Rte,ipv4ToUint32:()=>m_,isArray:()=>Fo,isAudioWorkletSupported:()=>Ote,isBoolean:()=>Li,isConstructor:()=>zC,isEmpty:()=>sx,isFunction:()=>wr,isLangChinese:()=>Kl,isMediaStreamTrack:()=>Ate,isNumber:()=>ao,isObject:()=>Gl,isOverseaSdkAppId:()=>h_,isPlainObject:()=>Ks,isPortrait:()=>cx,isPromise:()=>WC,isRemoteTrack:()=>ql,isString:()=>br,isUndefined:()=>_t,loadImage:()=>g_,ms2bytes:()=>kte,ms2samples:()=>ox,performanceNow:()=>zn,promiseAny:()=>KC,samples2ms:()=>rx,setNetworkType:()=>nx,stringify:()=>Gs,stringifyIncludeValue:()=>lx,throttlePromise:()=>dx});var pM={};zp(pM,{AUDIO_MUTE_BIT:()=>fC,AUDIO_STAT_BIT:()=>Jp,AUX_STAT_BIT:()=>qy,AUX_STREAM_MSID:()=>TM,BACKEND_ENV:()=>uC,BASE_DOC_URL:()=>vu,BASE_HOST:()=>vM,CAPABILITIES_KEYS:()=>gC,CLASS_NAME:()=>ate,CLOUD_CONSOLE_URL:()=>jee,DATA_FREEZE_TIMING:()=>pC,DOC_URL:()=>Wee,DTLS_STATE_UNKNOWN:()=>Hl,ENV_NAME:()=>gu,EXCHANGE_SDP_TIMEOUT:()=>AM,INTERVAL:()=>Zy,IS_WORKER:()=>Gy,IS_WORKLET:()=>iC,KIBANA_EVENT:()=>js,LOCAL_STREAM_PUBLISH_STATE:()=>OM,LOGGER_CMD_TYPE:()=>qp,LOGGER_DOMAIN:()=>gM,LOGGER_DOMAIN_OVERSEA:()=>yM,LOG_LEVEL:()=>Bl,LOG_LEVEL_NAME:()=>lte,MAIN_STREAM_MSID:()=>Yy,MICROPHONE_COMMUNICATIONS:()=>ste,MICROPHONE_DEFAULT:()=>Qp,NAME:()=>Ce,NETWORK_TYPE:()=>sC,NOT_SUPPORTED_H264:()=>Xy,PAUSED_RETRY_COUNT:()=>NM,PEERCONNECTION_CONNECTING_TIMEOUT:()=>mC,PEER_CONNECTION_STATE:()=>io,PEER_LEAVE_REASON:()=>PM,RAF:()=>vC,RECOVER_CAPTURE_INTERVAL:()=>em,REMOTE_STREAM_TYPE_AUX:()=>wM,REMOTE_STREAM_TYPE_MAIN:()=>CM,RENDER_FREEZE_TIMING:()=>nte,RIC:()=>tm,SCHEDULE_DOMAIN:()=>as,SCHEDULE_TIMEOUT:()=>ite,SDP_SEMANTICS_PLAN_B:()=>Jy,SDP_SEMANTICS_UNIFIED_PLAN:()=>Xp,SECOND_HOST:()=>Bee,SIGNAL_PING_PONG_INTERVAL:()=>Kee,SIGNAL_PING_TIMEOUT:()=>zee,SIGNAL_RECONNECTION_COUNT:()=>ete,SMALL_STAT_BIT:()=>dC,SPEAKER_DEFAULT:()=>Qy,STORAGE_EXPIRES_TIME:()=>bM,STREAM_TYPE_BIG:()=>rte,STREAM_TYPE_SMALL:()=>ote,SUBSCRIBE_SMALL_RETRY_COUNT:()=>Zp,SYNC_USER_LIST_INTERVAL:()=>tte,Scene:()=>EM,Switch:()=>SM,THIRD_HOST:()=>Hee,TIMEOUT:()=>nm,TRANSPORT_DIRECTION:()=>tr,TRTC_ERROR_ASSISTANCE:()=>_M,TRTC_QUALITY_BAD:()=>Xee,TRTC_QUALITY_DISCONNECTED:()=>Zee,TRTC_QUALITY_EXCELLENT:()=>qee,TRTC_QUALITY_GOOD:()=>Yee,TRTC_QUALITY_POOR:()=>Jee,TRTC_QUALITY_UNKNOWN:()=>Gee,TRTC_QUALITY_VERY_BAD:()=>Qee,UPDATE_OFFER_TIMEOUT:()=>RM,VIDEO_MUTE_BIT:()=>hC,VIDEO_STAT_BIT:()=>Yp,audioProfileMap:()=>lC,getRetryCount:()=>bf,getScriptDir:()=>Uee,innerVersion:()=>rC,loggerProxy:()=>aC,screenProfileMap:()=>cC,setLoggerProxy:()=>Gp,setRetryCount:()=>kM,setVersion:()=>mM,version:()=>os,videoProfileMap:()=>is});var rC="4.15.00.1600",os="5.0.0";function mM(n){os=n;let[i,s,u]=n.split(".").map(p=>parseInt(p,10));rC="".concat(i,".").concat(Math.min(15,s),".").concat(Math.min(15,u),".").concat(s.toString().padStart(2,"0")).concat(u.toString().padStart(2,"0"))}var oC,Kp,Di,Gy=typeof importScripts!="undefined",iC=typeof registerProcessor!="undefined",Uee=()=>{let n=Gy?self.location.href:document.currentScript.src;return n.substring(0,n.lastIndexOf("/")+1)},aC="",Gp=n=>aC=n,vM="web.sdk.qcloud.com",Bee="web.sdk.tencent.cn",Hee="web.sdk.cloud.tencent.cn",jee="https://console.cloud.tencent.com/trtc",vu="https://".concat(vM,"/trtc/webrtc/v5/doc"),Wee="".concat(vu,"/zh-cn/"),gM="https://yun.tim.qq.com",yM="https://apisgp.my-imcloud.com",_M="trtc_error_assistance",qp={LOG:"jssdk_log",EVENT:"jssdk_event",KEY_POINT:"jssdk_new_endreport",KV_STAT:"jssdk_key_metrics_report"},gu={QCLOUD:"qcloud",OLD_CLOUD_LADDER:"trtc",WEBRTC:"webrtc"},Bl=((Di=Bl||{})[Di.TRACE=0]="TRACE",Di[Di.DEBUG=1]="DEBUG",Di[Di.INFO=2]="INFO",Di[Di.WARN=3]="WARN",Di[Di.ERROR=4]="ERROR",Di[Di.NONE=5]="NONE",Di),zee=18e3,Kee=2e3,sC={unknown:0,wifi:1,"3g":2,"2g":3,"4g":4,wired:5,"5g":6},bM=6048e5,SM=((Kp=SM||{}).USEAINS="useAINS",Kp.ENABLEDEBUG="enableDebug",Kp.USEV2="useV2",Kp.USEWT="useWt",Kp),lC={standard:{sampleRate:48e3,channelCount:1,bitrate:40},"standard-stereo":{sampleRate:48e3,channelCount:2,bitrate:64},high:{sampleRate:48e3,channelCount:1,bitrate:128},"high-stereo":{sampleRate:48e3,channelCount:2,bitrate:192}},is={"120p":{width:160,height:120,frameRate:15,bitrate:200},"120p_2":{width:160,height:120,frameRate:15,bitrate:100},"180p":{width:320,height:180,frameRate:15,bitrate:350},"180p_2":{width:320,height:180,frameRate:15,bitrate:150},"240p":{width:320,height:240,frameRate:15,bitrate:400},"240p_2":{width:320,height:240,frameRate:15,bitrate:200},"360p":{width:640,height:360,frameRate:15,bitrate:800},"360p_2":{width:640,height:360,frameRate:15,bitrate:400},"480p":{width:640,height:480,frameRate:15,bitrate:900},"480p_2":{width:640,height:480,frameRate:15,bitrate:500},"720p":{width:1280,height:720,frameRate:15,bitrate:1500},"1080p":{width:1920,height:1080,frameRate:15,bitrate:2e3},"1440p":{width:2560,height:1440,frameRate:30,bitrate:4860},"4K":{width:3840,height:2160,frameRate:30,bitrate:9e3}},cC={"480p":{width:640,height:480,frameRate:5,bitrate:900},"480p_2":{width:640,height:480,frameRate:30,bitrate:1e3},"720p":{width:1280,height:720,frameRate:5,bitrate:1200},"720p_2":{width:1280,height:720,frameRate:30,bitrate:3e3},"1080p":{width:1920,height:1080,frameRate:5,bitrate:1600},"1080p_2":{width:1920,height:1080,frameRate:30,bitrate:4e3}},Ce={CANVAS:"canvas",AUDIO:"audio",VIDEO:"video",SCREEN:"screen",SMALL:"small",BIG:"big",AUXILIARY:"auxiliary",SMALL_VIDEO:"smallVideo",FACING_MODE_USER:"user",FACING_MODE_ENVIRONMENT:"environment",MUTE:"mute",UNMUTE:"unmute",ENDED:"ended",PLAYING:"playing",PAUSE:"pause",ERROR:"error",LOADEDDATA:"loadeddata",AUDIO_INPUT:"audioinput",VIDEO_INPUT:"videoinput",DETAIL:"detail",TEXT:"text",MAIN:"main",BACKUP:"backup",BANNED:"banned",KICK:"kick",USER_TIME_OUT:"user_time_out",ROOM_DISBAND:"room_disband",SEI_MESSAGE:"sei-message",ADD:"add",REMOVE:"remove",REPLACE:"replace",TRACK:"track",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",TRANSCEIVER_DIRECTION_SENDONLY:"sendonly",TRANSCEIVER_DIRECTION_RECVONLY:"recvonly",ENTER_PICTURE_IN_PICTURE:"enterpictureinpicture",LEAVE_PICTURE_IN_PICTURE:"leavepictureinpicture"},tr={INACTIVE:"inactive",SENDONLY:"sendonly",RECVONLY:"recvonly"},uC={OLD_CLOUD_LADDER:"wss://trtc.rtc.qq.com",WEBRTC:"wss://webrtc.qq.com"},EM=((oC=EM||{}).LIVE="live",oC.RTC="rtc",oC),Yp=1,dC=2,qy=4,Jp=8,fC=64,hC=16,Yy="5Y2wZK8nANNAoVw6dSAHVjNxrD1ObBM2kBPV",TM="224d130c-7b5c-415b-aaa2-79c2eb5a6df2",CM=Ce.MAIN,wM=Ce.AUXILIARY,Gee=0,qee=1,Yee=2,Jee=3,Xee=4,Qee=5,Zee=6,Hl="unknown",io={NEW:"new",CONNECTING:"connecting",FAILED:"failed",CLOSED:"closed",DISCONNECTED:"disconnected",CONNECTED:"connected",COMPLETED:"completed"},IM=1/0;function kM(n){IM=n}function bf(){return IM}var yu,ete=30,js={JOIN:"join",DELTA_JOIN:"delta-join",REJOIN:"rejoin",LEAVE:"leave",DELTA_LEAVE:"delta-leave",PUBLISH:"publish",DELTA_PUBLISH:"delta-publish",UNPUBLISH:"unpublish",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",UPLINK_CONNECTION:"uplink-connection",UPLINK_RECONNECTION:"uplink-reconnection",DOWNLINK_CONNECTION:"downlink-connection",DOWNLINK_RECONNECTION:"downlink-reconnection",ON_TRACK:"ontrack",ICE_CONNECTION_STATE:"iceConnectionState",LOCAL_STREAM_INITIALIZE:"stream-initialize",SIGNAL_CONNECTION:"websocketConnectionState",SIGNAL_RECONNECTION:"websocketReconnectionState",UPDATE_STREAM:"update-stream",RECOVER_LOCAL_AUDIO_TRACK:"recover-local-audio-track",RECOVER_LOCAL_VIDEO_TRACK:"recover-local-video-track",RECOVER_SUBSCRIPTION:"recover-subscription",START_MIX_TRANSCODE:"start-mix-transcode",STOP_MIX_TRANSCODE:"stop-mix-transcode",PLAYER_ERROR:"player-error",SCHEDULE:"schedule",LOAD_WORKLET:"load-worklet",VIDEO_FROZEN_COUNT:"videoFrozenCount",GET_USER_MEDIA_RETRY:"getUserMedia-retry"},tte=1e4,RM=1e4,AM=1e4,Xp="unified-plan",Jy="plan-b",Xy=1028,OM=((yu=OM||{})[yu.UNPUBLISH=-1]="UNPUBLISH",yu[yu.PUBLISHING=0]="PUBLISHING",yu[yu.PUBLISHED=1]="PUBLISHED",yu),pC=500,nte=1e3,rte=Ce.BIG,ote=Ce.SMALL,mC=1e4,as={MAIN:"schedule.cloud-rtc.com",BACKUP:"schedule.rtc.qcloud.com",MAIN_OVERSEA:"schedule.rtc-web.com",BACKUP_OVERSEA:"schedule.rtc-web.io",MAIN_OVERSEA_OLD:"schedule.rtc.tencentcloud.com",BACKUP_OVERSEA_OLD:"schedule-ecdn.rtc.tencentcloud.com"},ite=2e3,ate={TRTC:"TRTC",CLIENT:"Client",LOCAL_STREAM:"LocalStream",REMOTE_STREAM:"RemoteStream",STREAM:"Stream"},NM=5,Qp="default",Qy=Qp,ste="communications",lte=Object.keys(Bl),PM=["normal leave","timeout leave","kick","role change"],Zp=10,em=2e3,tm="ric",vC="raf",Zy="interval",nm="timeout",gC=["width","height","frameRate","facingMode","sampleRate","sampleSize","channelCount","deviceId","min","max"];function rm(n){let{url:i,body:s,method:u,timeout:p}=n,y=new XMLHttpRequest;return new Promise((E,A)=>{y.onreadystatechange=()=>{if(y.readyState===4)if(y.status>=200&&y.status<300)try{let w=JSON.parse(y.response);E({data:w})}catch{E({data:y.response})}else A({status:y.status,statusText:y.statusText||"request failed!"})},y.timeout=p||5e3,y.open(u||"POST",i,!0),y.send(s)})}function DM(n){return Ke(this,null,function*(){let i=zn(),s=JSON.stringify(n);try{if(!CompressionStream||s.length<=2800)return s;let u=new Blob([s],{type:"application/json"}).stream().pipeThrough(new CompressionStream("gzip")),p=yield(yield(yield new Response(u)).blob()).arrayBuffer();return Gt.debug("compressJSON ".concat(s.length," -> ").concat(p.byteLength," ").concat(zn()-i,"ms")),p}catch{return s}})}var jl=1e8,Bn={AVOID_REPEATED_CALL:"AVOID_REPEATED_CALL",INVALID_PARAMETER_REQUIRED:"INVALID_PARAMETER_REQUIRED",INVALID_PARAMETER_TYPE:"INVALID_PARAMETER_TYPE",INVALID_PARAMETER_EMPTY:"INVALID_PARAMETER_EMPTY",INVALID_PARAMETER_INSTANCE:"INVALID_PARAMETER_INSTANCE",INVALID_PARAMETER_RANGE:"INVALID_PARAMETER_RANGE",INVALID_PARAMETER_MIN:"INVALID_PARAMETER_MIN",INVALID_PARAMETER_MAX:"INVALID_PARAMETER_MAX",INVALID_PARAMETER_STREAMTYPE:"INVALID_PARAMETER_STREAMTYPE",API_CALL_TIMEOUT:"API_CALL_TIMEOUT",SIGNAL_CHANNEL_RECONNECTION_FAILED:"SIGNAL_CHANNEL_RECONNECTION_FAILED",SIGNAL_CHANNEL_SETUP_FAILED:"SIGNAL_CHANNEL_SETUP_FAILED",ERROR_MESSAGE:"ERROR_MESSAGE",EXCHANGE_SDP_TIMEOUT:"EXCHANGE_SDP_TIMEOUT",DOWNLINK_RECONNECTION_FAILED:"DOWNLINK_RECONNECTION_FAILED",EXCHANGE_SDP_FAILED:"EXCHANGE_SDP_FAILED",UPDATE_OFFER_TIMEOUT:"UPDATE_OFFER_TIMEOUT",UPLINK_RECONNECTION_FAILED:"UPLINK_RECONNECTION_FAILED",INVALID_RECORDID:"INVALID_RECORDID",INVALID_PURE_AUDIO:"INVALID_PURE_AUDIO",INVALID_STREAMID:"INVALID_STREAMID",INVALID_USER_DEFINE_RECORDID:"INVALID_USER_DEFINE_RECORDID",INVALID_USER_DEFINE_PUSH_ARGS:"INVALID_USER_DEFINE_PUSH_ARGS",INVALID_PROXY:"INVALID_PROXY",INVALID_JOIN:"INVALID_JOIN",INVALID_ROOMID_STRING:"INVALID_ROOMID_STRING",INVALID_ROOMID_INTEGER:"INVALID_ROOMID_INTEGER",INVALID_SIGNAL_CHANNEL:"INVALID_SIGNAL_CHANNEL",JOIN_ROOM_TIMEOUT:"JOIN_ROOM_TIMEOUT",JOIN_ROOM_FAILED:"JOIN_ROOM_FAILED",REJOIN_ROOM_FAILED:"REJOIN_ROOM_FAILED",INVALID_DESTROY:"INVALID_DESTROY",INVALID_PUBLISH:"INVALID_PUBLISH",INVALID_UNPUBLISH:"INVALID_UNPUBLISH",INVALID_AUDIENCE:"INVALID_AUDIENCE",INVALID_INITIALIZE:"INVALID_INITIALIZE",INVALID_DUPLICATE_PUBLISHING:"INVALID_DUPLICATE_PUBLISHING",INVALID_SUBSCRIBE_UNDEFINED:"INVALID_SUBSCRIBE_UNDEFINED",INVALID_SUBSCRIBE_LOCAL:"INVALID_SUBSCRIBE_LOCAL",INVALID_REMOTE_STREAM:"INVALID_REMOTE_STREAM",SUBSCRIBE_FAILED:"SUBSCRIBE_FAILED",INVALID_ROLE:"INVALID_ROLE",INVALID_PARAMETER_SWITCH_ROLE:"INVALID_PARAMETER_SWITCH_ROLE",INVALID_OPERATION_SWITCH_ROLE:"INVALID_OPERATION_SWITCH_ROLE",SWITCH_ROLE_TIMEOUT:"SWITCH_ROLE_TIMEOUT",SWITCH_ROLE_FAILED:"SWITCH_ROLE_FAILED",CLIENT_BANNED:"CLIENT_BANNED",INVALID_OPERATION_START_PUBLISH_CDN:"INVALID_OPERATION_START_PUBLISH_CDN",INVALID_OPERATION_STOP_PUBLISH_CDN:"INVALID_OPERATION_STOP_PUBLISH_CDN",INVALID_STREAM_ID:"INVALID_STREAM_ID",START_PUBLISH_CDN_FAILED:"START_PUBLISH_CDN_FAILED",STOP_PUBLISH_CDN_FAILED:"STOP_PUBLISH_CDN_FAILED",START_MIX_TRANSCODE:"START_MIX_TRANSCODE",STOP_MIX_TRANSCODE:"STOP_MIX_TRANSCODE",INVALID_AUDIO_VOLUME:"INVALID_AUDIO_VOLUME",ENABLE_SMALL_STREAM_PUBLISHED:"ENABLE_SMALL_STREAM_PUBLISHED",DISABLE_SMALL_STREAM_PUBLISHED:"DISABLE_SMALL_STREAM_PUBLISHED",NOT_SUPPORTED_SMALL_STREAM:"NOT_SUPPORTED_SMALL_STREAM",INVALID_SMALL_STREAM_PROFILE:"INVALID_SMALL_STREAM_PROFILE",INVALID_PARAMETER_REMOTE_STREAM:"INVALID_PARAMETER_REMOTE_STREAM",INVALID_OPERATION_CHANGE_SMALL:"INVALID_OPERATION_CHANGE_SMALL",REMOTE_NOT_PUBLISH_SMALL_STREAM:"REMOTE_NOT_PUBLISH_SMALL_STREAM",INVALID_SWITCH_DEVICE:"INVALID_SWITCH_DEVICE",INVALID_SWITCH_DEVICE_PUBLISHING:"INVALID_SWITCH_DEVICE_PUBLISHING",INVALID_REPLACE_TRACK:"INVALID_REPLACE_TRACK",INVALID_INITIALIZE_LOCAL_STREAM:"INVALID_INITIALIZE_LOCAL_STREAM",INVALID_ADD_TRACK_REPETITIVE:"INVALID_ADD_TRACK_REPETITIVE",INVALID_ADD_TRACK_REMOVING:"INVALID_ADD_TRACK_REMOVING",INVALID_ADD_TRACK_PUBLISHING:"INVALID_ADD_TRACK_PUBLISHING",INVALID_STREAM_INITIALIZED:"INVALID_STREAM_INITIALIZED",INVALID_ADD_TRACK_NUMBER:"INVALID_ADD_TRACK_NUMBER",INVALID_REMOVE_AUDIO_TRACK:"INVALID_REMOVE_AUDIO_TRACK",INVALID_REMOVE_AUDIO_ADDING:"INVALID_REMOVE_AUDIO_ADDING",INVALID_REMOVE_AUDIO_ON:"INVALID_REMOVE_AUDIO_ON",INVALID_REMOVE_TRACK_PUBLISHING:"INVALID_REMOVE_TRACK_PUBLISHING",INVALID_REMOVE_TRACK_NOT_TRACK:"INVALID_REMOVE_TRACK_NOT_TRACK",INVALID_REMOVE_TRACK_NUMBER:"INVALID_REMOVE_TRACK_NUMBER",INVALID_REPLACE_TRACK_NO_TRACK:"INVALID_REPLACE_TRACK_NO_TRACK",REPEAT_JOIN:"REPEAT_JOIN",CLIENT_DESTROYED:"CLIENT_DESTROYED",NOT_BUG_PACKAGE:"NOT_BUG_PACKAGE",START_MIX_TRANSCODE_FAILED:"START_MIX_TRANSCODE_FAILED",STOP_MIX_TRANSCODE_FAILED:"STOP_MIX_TRANSCODE_FAILED",MIX_TRANSCODE_NOT_STARTED:"MIX_TRANSCODE_NOT_STARTED",CANNOT_LESS_THAN_ZERO:"CANNOT_LESS_THAN_ZERO",MIX_PARAMS_VIDEO_FRAMERATE:"MIX_PARAMS_VIDEO_FRAMERATE",MIX_PARAMS_VIDEO_GOP:"MIX_PARAMS_VIDEO_GOP",MIX_PARAMS_AUDIO_BITRATE:"MIX_PARAMS_AUDIO_BITRATE",MIX_PARAMS_USER_Z_ORDER:"MIX_PARAMS_USER_Z_ORDER",MIX_PARAMS_NOT_SELF:"MIX_PARAMS_NOT_SELF",MIX_PARAMS_USER_STREAM:"MIX_PARAMS_USER_STREAM",INVALID_PLAY:"INVALID_PLAY",INVALID_ELEMENT_ID:"INVALID_ELEMENT_ID",INVALID_ELEMENT_ID_TYPE:"INVALID_ELEMENT_ID_TYPE",PLAY_FAILED:"PLAY_FAILED",INVALID_USERID:"INVALID_USERID",INVALID_CREATE_STREAM_SOURCE:"INVALID_CREATE_STREAM_SOURCE",INVALID_CREATE_STREAM_SCREEN:"INVALID_CREATE_STREAM_SCREEN",INVALID_CREATE_STREAM_AUDIO:"INVALID_CREATE_STREAM_AUDIO",INVALID_CREATE_STREAM_SCREEN_AUDIO:"INVALID_CREATE_STREAM_SCREEN_AUDIO",NOT_SUPPORTED_HTTP:"NOT_SUPPORTED_HTTP",NOT_SUPPORTED_WEBRTC:"NOT_SUPPORTED_WEBRTC",NOT_SUPPORTED_PROFILE:"NOT_SUPPORTED_PROFILE",NOT_SUPPORTED_MEDIA:"NOT_SUPPORTED_MEDIA",NOT_SUPPORTED_H264ENCODE:"NOT_SUPPORTED_H264ENCODE",NOT_SUPPORTED_H264DECODE:"NOT_SUPPORTED_H264DECODE",NOT_SUPPORTED_TRACK:"NOT_SUPPORTED_TRACK",NOT_SUPPORTED_SWITCH_DEVICE:"NOT_SUPPORTED_SWITCH_DEVICE",NOT_SUPPORTED_CAPTURE:"NOT_SUPPORTED_CAPTURE",NOT_SUPPORTED_AUX:"NOT_SUPPORTED_AUX",MICROPHONE_NOT_FOUND:"MICROPHONE_NOT_FOUND",CAMERA_NOT_FOUND:"CAMERA_NOT_FOUND",SIGNAL_RESPONSE_FAILED:"SIGNAL_RESPONSE_FAILED",CATCH_HANDLER_ERROR:"CATCH_HANDLER_ERROR",API_NOT_EXIST:"API_NOT_EXIST",CONNECTION_CLOSED:"CONNECTION_CLOSED",SUBSCRIBE_ALL_FALSE:"SUBSCRIBE_ALL_FALSE",SEI_NOT_SUPPORT:"SEI_NOT_SUPPORT",SEI_DISABLED:"SEI_DISABLED",SEI_BEFORE_PUBLISH:"SEI_BEFORE_PUBLISH",SEI_NOT_VIDEO:"SEI_NOT_VIDEO",CALL_FREQUENCY_LIMIT:"CALL_FREQUENCY_LIMIT",CONNECTION_ABORTED:"CONNECTION_ABORTED",API_CALL_ABORTED:"API_CALL_ABORTED",DUPLICATE_AUX:"DUPLICATE_AUX"},ka={AVOID_REPEATED_CALL:n=>"previous ".concat(n.name,"() is ongoing, please avoid repeated calls."),INVALID_PARAMETER_REQUIRED(n){let{key:i,rule:s,fnName:u,value:p}=n;return"'".concat(i||s.name,"' is a required param when calling ").concat(u,"(), received: ").concat(p,".")},INVALID_PARAMETER_TYPE(n){let{key:i,rule:s,fnName:u,value:p}=n,y="".concat(i||s.name),E="";return E=Array.isArray(s.type)?s.type.join("|"):s.type,"'".concat(y,"' must be type of ").concat(E," when calling ").concat(u,"(), received type: ").concat(gi(p),".")},INVALID_PARAMETER_EMPTY(n){let{key:i,rule:s,fnName:u,value:p}=n;return"'".concat(i||s.name,"' cannot be '").concat(p,"' when calling ").concat(u,"().")},INVALID_PARAMETER_INSTANCE(n){let{key:i,rule:s,fnName:u,value:p}=n,y="".concat(i||s.name),E="".concat(s.instanceOf.name||s.instanceOf);return"'".concat(y,"' must be instanceof ").concat(E," when calling ").concat(u,"(), received type: ").concat(gi(p),".")},INVALID_PARAMETER_RANGE(n){let{key:i,rule:s,fnName:u,value:p}=n;return"'".concat(i||s.name,"' must be one of ").concat(s.values.join("|")," when calling ").concat(u,"(), received: ").concat(p,".")},INVALID_PARAMETER_MIN(n){let{key:i,rule:s,fnName:u,value:p}=n;return"the min value of ".concat(i||s.name," is ").concat(s.min,", received: ").concat(p,".")},INVALID_PARAMETER_MAX(n){let{key:i,rule:s,fnName:u,value:p}=n;return"the max value of ".concat(i||s.name," is ").concat(s.max,", received: ").concat(p,".")},API_CALL_TIMEOUT:n=>"".concat(n.commandDesc||n.command," timeout observed."),SIGNAL_CHANNEL_RECONNECTION_FAILED:"signal channel reconnection failed, please check your network.",SIGNAL_CHANNEL_SETUP_FAILED:n=>"SignalChannel setup failure: (errorCode: ".concat(n.errorCode,", errorMsg: ").concat(n.errorMsg," })."),ERROR_MESSAGE(n){let i="".concat(n.type," failed");return n.message&&(i="".concat(i,": ").concat(n.message,".")),i},EXCHANGE_SDP_TIMEOUT:"exchange sdp timeout.",DOWNLINK_RECONNECTION_FAILED:"downlink reconnection failed, please check your network and re-join room.",EXCHANGE_SDP_FAILED:n=>"exchange sdp failed ".concat(n.errMsg,"."),UPDATE_OFFER_TIMEOUT:"update offer timeout observed.",UPLINK_RECONNECTION_FAILED:"uplink reconnection failed, please check your network and publish again.",INVALID_RECORDID:"recordId must be an integer number.",INVALID_PURE_AUDIO:"pureAudioPushMode must be 1 or 2.",INVALID_STREAMID:"streamId must be a sting literal within 64 bytes, and not be empty.",INVALID_USER_DEFINE_RECORDID:"userDefineRecordId must be a sting literal contains (a-zA-Z),(0-9), underline and hyphen, within 64 bytes, and not be empty.",INVALID_USER_DEFINE_PUSH_ARGS:"userDefinePushArgs must be a sting literal within 256 bytes, and not be empty.",INVALID_PROXY:'proxy server url must start with "wss://".',INVALID_JOIN:"duplicate join() called.",INVALID_ROOMID_STRING:n=>"'".concat(n,"' must be validate string when useStringRoomId is true."),INVALID_ROOMID_INTEGER:n=>"'".concat(n,"' must be an integer between [1, 4294967294] when useStringRoomId is false."),INVALID_SIGNAL_CHANNEL:"SignalChannel is not ready yet.",JOIN_ROOM_TIMEOUT:"join room timeout.",JOIN_ROOM_FAILED(n){let{error:i,code:s}=n;return"Failed to join room - ".concat(i," code: ").concat(s)},REJOIN_ROOM_FAILED:n=>"reJoin room: ".concat(n.roomId," failed, please check your network."),INVALID_DESTROY:"please call leave() before destroy().",INVALID_PUBLISH:"please call join() before publish().",INVALID_UNPUBLISH:"stream has not been published yet.",INVALID_AUDIENCE:"no permission to publish() under live/".concat("audience",', please call switchRole("',"anchor",'") firstly before publish().'),INVALID_INITIALIZE:"cannot publish stream because stream is not initialized, is switching device, or has been closed.",INVALID_DUPLICATE_PUBLISHING:n=>"duplicate ".concat(n," stream publishing, please unpublish your prev ").concat(n," stream and then re-publish."),INVALID_SUBSCRIBE_UNDEFINED:"stream is undefined or null.",INVALID_SUBSCRIBE_LOCAL:"stream cannot be LocalStream.",INVALID_REMOTE_STREAM:"remoteStream does not exist because it has been unpublished by remote peer.",SUBSCRIBE_FAILED(n){let{message:i,userId:s,streamType:u}=n;return"failed to subscribe ".concat(s," ").concat(u," stream, reason: ").concat(i,".")},INVALID_ROLE:"switchRole can only be called in live mode.",INVALID_PARAMETER_SWITCH_ROLE:"role could only be set to a value as ".concat("anchor"," or ","audience","."),INVALID_OPERATION_SWITCH_ROLE:"please call join() before switchRole().",SWITCH_ROLE_TIMEOUT:"switchRole timeout.",SWITCH_ROLE_FAILED:n=>"switchRole failed, errCode: ".concat(n.code," errMsg: ").concat(n.message,"."),CLIENT_BANNED:n=>"client was banned because of ".concat(n.message,"."),INVALID_OPERATION_START_PUBLISH_CDN:"please call startPublishCDNStream() after join room and publish the local stream.",INVALID_OPERATION_STOP_PUBLISH_CDN:"please call startPublishCDNStream() before stopPublishCDNStream().",START_PUBLISH_CDN_FAILED:n=>"startPublishCDNStream failed, errMsg: ".concat(n.message,"."),STOP_PUBLISH_CDN_FAILED:n=>"stopPublishCDNStream failed, errMsg: ".concat(n.message,"."),INVALID_STREAM_ID:n=>"'".concat(n,"' can only consist of uppercase and lowercase english letters (a-zA-Z), numbers (0-9), hyphens and underscores."),START_MIX_TRANSCODE:"please call startMixTranscode() after join().",STOP_MIX_TRANSCODE:"please call stopMixTranscode() after startMixTranscode().",INVALID_AUDIO_VOLUME:"interval must be a number.",ENABLE_SMALL_STREAM_PUBLISHED:"Cannot enable small stream after localStream published.",DISABLE_SMALL_STREAM_PUBLISHED:"Cannot disable small stream after localStream published.",NOT_SUPPORTED_SMALL_STREAM:"your browser does not support opening small stream.",INVALID_SMALL_STREAM_PROFILE:"small stream profile is invalid.",INVALID_PARAMETER_REMOTE_STREAM:"remoteStream is invalid.",INVALID_OPERATION_CHANGE_SMALL:"cannot switch to the small stream without subscribing to the video of remoteStream.",REMOTE_NOT_PUBLISH_SMALL_STREAM:"remote peer does not publish small stream.",INVALID_SWITCH_DEVICE:"cannot switch device on current stream.",INVALID_SWITCH_DEVICE_PUBLISHING:"cannot switch device when publishing localStream.",INVALID_REPLACE_TRACK:"cannot replace track when publishing localStream.",INVALID_INITIALIZE_LOCAL_STREAM:"local stream has not initialized yet.",INVALID_ADD_TRACK_REPETITIVE:"previous addTrack is ongoing, please avoid repetitive execution.",INVALID_ADD_TRACK_REMOVING:"cannot add track when a track is removing.",INVALID_ADD_TRACK_PUBLISHING:"cannot add track when publishing localStream.",INVALID_STREAM_INITIALIZED:"your local stream haven't been initialized yet.",INVALID_ADD_TRACK_NUMBER:"a Stream has at most one audio track and one video track.",INVALID_REMOVE_AUDIO_TRACK:"remove audio track is not supported on your browser.",INVALID_REMOVE_AUDIO_ADDING:"cannot remove track when a track is adding.",INVALID_REMOVE_AUDIO_ON:"previous removeTrack is ongoing, please avoid repetitive execution.",INVALID_REMOVE_TRACK_PUBLISHING:"cannot remove track when publishing localStream.",INVALID_REMOVE_TRACK_NOT_TRACK:"localStream has not this track.",INVALID_REMOVE_TRACK_NUMBER:"remove the only video track is not supported, please use replaceTrack or muteVideo.",INVALID_REPLACE_TRACK_NO_TRACK:n=>"cannot replace ".concat(n.kind," track because stream has not ").concat(n.kind," track"),NOT_BUG_PACKAGE:"You need to buy packages, refer to tencent console.",START_MIX_TRANSCODE_FAILED:n=>"startMixTranscode failed, errMsg: ".concat(n.message,"."),STOP_MIX_TRANSCODE_FAILED:n=>"stopMixTranscode failed, errMsg: ".concat(n.message,"."),MIX_TRANSCODE_NOT_STARTED:"mixTranscode has not been started.",CANNOT_LESS_THAN_ZERO(n){let{key:i,rule:s,fnName:u,value:p}=n;return"'".concat(i||s.name,"' cannot be less than 0 when calling ").concat(u,"().")},MIX_PARAMS_VIDEO_FRAMERATE:"'config.videoFramerate' should be an integer between 0 and 30, excluding 0.",MIX_PARAMS_VIDEO_GOP:"'config.videoGOP' should be an integer between 1 and 8.",MIX_PARAMS_AUDIO_BITRATE:"'config.audioBitrate' should be an integer between 32 and 192.",MIX_PARAMS_USER_Z_ORDER:n=>"'".concat(n,"' is required and must be between 1 and 15."),MIX_PARAMS_NOT_SELF:"'config.mixUsers' must contain self.",MIX_PARAMS_USER_STREAM:"'config.videoWidth' and 'config.videoHeight' of output stream should be contain all mix stream.",INVALID_PLAY:"duplicate play() call observed, please stop() firstly.",INVALID_ELEMENT_ID:n=>{let{key:i,fnName:s}=n;return"'".concat(i,"' is not found in the document object when calling ").concat(s,"().")},INVALID_ELEMENT_ID_TYPE:n=>{let{key:i,fnName:s,type:u}=n;return"the element corresponding to '".concat(i,"' must be instanceof HTMLElement when calling ").concat(s,"(), received: ").concat(u,".")},PLAY_FAILED:n=>"".concat(n.media," play failed\uFF0Cbrowser exception: ").concat(n.error.toString()),INVALID_USERID:"userId cannot be all spaces.",INVALID_CREATE_STREAM_SOURCE:"LocalStream must be created by createStream() with either audio/video or audioSource/videoSource, but can not be mixed with audio/video and audioSource/videoSource.",INVALID_CREATE_STREAM_SCREEN:"screen/video cannot be both true.",INVALID_CREATE_STREAM_AUDIO:"audio/screenAudio cannot be both true.",INVALID_CREATE_STREAM_SCREEN_AUDIO:"when screen is true, screenAudio can be configured.",NOT_SUPPORTED_HTTP:"http protocol does not support the ability to capture microphone, camera and screen. please use https to deploy your page.",NOT_SUPPORTED_WEBRTC:"your browser or environment does not support full WebRTC capabilities.",NOT_SUPPORTED_PROFILE:"your browser does not support setVideoProfile.",NOT_SUPPORTED_MEDIA:"your browser or environment does not support navigator.mediaDevices.",NOT_SUPPORTED_H264ENCODE:"your device does not support H.264 encoding.",NOT_SUPPORTED_H264DECODE:"your device does not support H.264 decoding.",NOT_SUPPORTED_TRACK:n=>"".concat(n,"Track is not supported on your browser."),NOT_SUPPORTED_SWITCH_DEVICE:"switchDevice is not supported on your browser.",NOT_SUPPORTED_CAPTURE:"Your browser or environment does not support screen sharing, please check whether the browser version.",MICROPHONE_NOT_FOUND:"no microphone detected, please check your microphone.",CAMERA_NOT_FOUND:"no camera detected, please check your camera.",SIGNAL_RESPONSE_FAILED:n=>"".concat(n.signalResponse," failed, response code is ").concat(n.code," , errMsg: ").concat(n.message,"."),CATCH_HANDLER_ERROR(n){let{name:i,event:s}=n;return"an error was caught in ".concat(i,".on('").concat(s,"', handler), please check your code in 'handler'.")},API_NOT_EXIST(n){let{name:i}=n;return"experimental api ".concat(i," does not exist.")},REPEAT_JOIN:n=>"[".concat(n,"] is calling client.join api or has already joined room, please avoid repeated join."),CONNECTION_CLOSED:"remoteStream has been unsubscribed or unpublished by remote user.",SUBSCRIBE_ALL_FALSE:"cannot subscribe when both audio & video are false, use client.unsubscribe() instead",CLIENT_DESTROYED(n){let{funName:i}=n;return"failed to call ".concat(i,"() because client was destroyed.")},SEI_NOT_SUPPORT:n=>"not support to sendSEIMessage".concat(n===!1?" without using h264 codec":""),SEI_DISABLED:"SEI is disabled",SEI_BEFORE_PUBLISH:"please call sendSEIMessage() after publish() success",SEI_NOT_VIDEO:"cannot send sei when localStream has not video.",CALL_FREQUENCY_LIMIT:n=>{let{isSize:i,name:s,timesInSecond:u,maxSizeInSecond:p}=n;return"api ".concat(s," call ").concat(i?"size":"times"," is over ").concat(i?"".concat(p," bytes"):u," in a second.")},CONNECTION_ABORTED:n=>"connection aborted due to: ".concat(n),API_CALL_ABORTED(n){let i;return i=n.message.includes("REMOTE_STREAM_NOT_EXIST")?"Subscribe ".concat(n.userId," ").concat(n.streamType," stream aborted, reason: remote user ").concat(n.userId," unpublished stream."):"API aborted, reason: ".concat(n.message),i},DUPLICATE_AUX:"only one auxiliary stream can be published in a room.",NOT_SUPPORTED_AUX:"publish auxiliary stream is not supported on your browser.",INVALID_PARAMETER_STREAMTYPE:n=>"'streamType' is required when 'userId' is not '*', calling ".concat(n,"()")},LM={};zp(LM,{ANDROID_VERSION:()=>bC,CHROME_MAJOR_VERSION:()=>Su,CHROME_VERSION:()=>VC,EDGE_VERSION:()=>EC,EDG_MAJOR_VERSION:()=>FM,EDG_VERSION:()=>TC,FIREFOX_MAJOR_VERSION:()=>VM,FIREFOX_VERSION:()=>SC,HUAWEI_VERSION:()=>DC,IE_VERSION:()=>hte,IOS_MAIN_VERSION:()=>FC,IOS_VERSION:()=>Eu,IPADQQB_VERSION:()=>NC,IS_ANDROID:()=>vi,IS_ANDROID_WEBVIEW:()=>gte,IS_ANY_SAFARI:()=>Tf,IS_CHROME:()=>f_,IS_CHROME_OS:()=>UM,IS_CHROMIUM_BASE:()=>bu,IS_EDG:()=>am,IS_EDGE:()=>im,IS_ELECTRON:()=>mte,IS_FIREFOX:()=>jr,IS_HEADLESS_CHROME:()=>HM,IS_HUAWEI:()=>vte,IS_HUAWEIBROWSER:()=>l_,IS_IE:()=>$M,IS_IE8:()=>fte,IS_IOS:()=>Ws,IS_IOS_13_OR_14:()=>WM,IS_IOS_15_1:()=>jM,IS_IPAD:()=>om,IS_IPADQQB:()=>i_,IS_IPAD_PRO:()=>_C,IS_IPHONE:()=>Sf,IS_IPOD:()=>xM,IS_LINUX:()=>a_,IS_LOCAL:()=>Cf,IS_MAC:()=>_u,IS_MACQQB:()=>o_,IS_MIBROWSER:()=>s_,IS_MQQB:()=>cm,IS_NATIVE_ANDROID:()=>dte,IS_OLD_ANDROID:()=>ute,IS_OPPOBROWSER:()=>u_,IS_SAFARI:()=>ls,IS_SAFARI_15_1:()=>yte,IS_SAMSUNGBROWSER:()=>c_,IS_SOGOU:()=>t_,IS_SOGOUM:()=>e_,IS_TBS:()=>ss,IS_UCBROWSER:()=>BM,IS_VIVOBROWSER:()=>d_,IS_WECHAT:()=>n_,IS_WIN:()=>Ef,IS_WQQB:()=>r_,IS_WX:()=>pte,IS_X5MQQB:()=>lm,IS_XWEB:()=>sm,MACQQB_VERSION:()=>OC,MI_VERSION:()=>PC,MQQB_VERSION:()=>um,OPPO_VERSION:()=>MC,SAFARI_VERSION:()=>fm,SAMSUNG_VERSION:()=>LC,SOGOUM_VERSION:()=>CC,SOGOU_VERSION:()=>wC,TBS_VERSION:()=>IC,UA_DATA_STRING:()=>zs,USER_AGENT:()=>Ra,VIVO_VERSION:()=>xC,WECHAT_VERSION:()=>RC,WQQB_VERSION:()=>AC,XWEB_VERSION:()=>kC,browserInfo:()=>Wl,getBrowserInfo:()=>zM,getChromeMajorVersion:()=>dm,getDeviceModel:()=>KM,getOSName:()=>UC,getOSString:()=>BC,getOSType:()=>_te,getTerminalType:()=>qM,getUserAgentData:()=>$C,isLocalStorageEnabled:()=>Tu});var Ra=typeof navigator=="undefined"?"":navigator.userAgent,Wn=n=>new RegExp(n,"i").test(Ra),ho=n=>{if(Wn(n)){let i=new RegExp("".concat(n,"\\/([\\d.]+)")),s=Ra.match(i);if(s&&s[1])return s[1]}return""},yC=n=>{if(Wn(n)){let i=new RegExp("".concat(n,"\\/(\\d+)")),s=Ra.match(i);if(s&&s[1])return parseFloat(s[1])}return NaN},MM=/AppleWebKit\/([\d.]+)/i.exec(Ra),cte=MM?parseFloat(MM[1]):NaN,om=Wn("iPad"),_C=typeof navigator!="undefined"&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&Wn("Macintosh"),Sf=Wn("iPhone")&&!om,xM=Wn("iPod"),Ws=Sf||om||xM||_C,vi=Wn("Android"),bC=function(){if(vi){let n=Ra.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(n){let i=n[1]&&parseFloat(n[1]),s=n[2]&&parseFloat(n[2]);if(i&&s)return parseFloat("".concat(n[1],".").concat(n[2]));if(i)return i}}return NaN}(),ute=vi&&Wn("webkit")&&bC<2.3,dte=vi&&bC<5&&cte<537,jr=Wn("Firefox"),SC=ho("Firefox"),VM=yC("Firefox"),im=Wn("Edge"),EC=ho("Edge"),am=Wn("Edg"),TC=ho("Edg"),FM=yC("Edg"),e_=Wn("SogouMobileBrowser"),CC=ho("SogouMobileBrowser"),t_=Wn("MetaSr\\s"),wC=ho("MetaSr\\s"),ss=Wn("TBS"),IC=ho("TBS"),sm=Wn("XWEB"),kC=ho("XWEB"),fte=Wn("MSIE\\s8\\.0"),$M=Wn("MSIE\\/\\d+"),hte=function(){if($M){let n=/MSIE\s(\d+)\.\d/.exec(Ra),i=n&&parseFloat(n[1]);return!i&&/Trident\/7.0/i.test(Ra)&&/rv:11.0/.test(Ra)&&(i=11),i}return NaN}(),n_=Wn("(micromessenger|webbrowser)"),RC=ho("MicroMessenger"),lm=!ss&&Wn("MQQBrowser")&&Wn("COVC"),cm=!ss&&Wn("MQQBrowser")&&!Wn("COVC"),um=cm||lm?ho("MQQBrowser"):"",r_=!ss&&Wn(" QQBrowser"),AC=ho(" QQBrowser"),o_=!ss&&Wn("QQBrowserLite"),OC=ho("QQBrowserLite"),i_=!ss&&Wn("MQBHD"),NC=ho("MQBHD"),Ef=Wn("Windows"),_u=!Ws&&Wn("MAC OS X"),a_=!vi&&Wn("Linux"),UM=Wn("CrOS"),pte=Wn("MicroMessenger"),BM=Wn("UCBrowser"),mte=Wn("Electron"),s_=Wn("MiuiBrowser"),PC=ho("MiuiBrowser"),l_=Wn("HuaweiBrowser"),vte=Wn("Huawei"),DC=ho("HuaweiBrowser"),c_=Wn("SamsungBrowser"),LC=ho("SamsungBrowser"),u_=Wn("HeyTapBrowser"),MC=ho("HeyTapBrowser"),d_=Wn("VivoBrowser"),xC=ho("VivoBrowser"),dm=()=>yC("Chrome"),bu=Wn("Chrome"),f_=!im&&!t_&&!e_&&!ss&&!sm&&!am&&!r_&&!s_&&!l_&&!c_&&!u_&&!d_&&bu,HM=Wn("HeadlessChrome"),Su=dm(),VC=ho("Chrome"),ls=!bu&&!cm&&!lm&&!o_&&!i_&&Wn("Safari"),Tf=ls||Ws,fm=ho("Version"),gte=/Android.*(wv|.0.0.0)/.test(Ra),Eu=(()=>{if(_C)return fm;if(Ws){let n=Ra.match(/OS (\d+)_(\d+)/i);if(n&&n[1]){let i=n[1];return n[2]&&(i+=".".concat(n[2])),i}}return""})(),FC=Number(Eu.split(".")[0]),yte=fm==="15.1",jM=Eu==="15.1",WM=(()=>{let n=Number(Eu.split(".")[0]);return n===14||n===13})(),Cf=typeof location!="undefined"&&(location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"),Tu=(()=>{let n;return()=>{if(_t(n))try{n=!!window.localStorage}catch{n=!1}return n}})(),Wl=zM();function zM(){let n=new Map([[jr,["Firefox",SC]],[am,["Edg",TC]],[f_,["Chrome",VC]],[ls,["Safari",fm]],[ss,["TBS",IC]],[sm,["XWEB",kC]],[n_&&Sf,["WeChat",RC]],[r_,["QQ(Win)",AC]],[cm,["QQ(Mobile)",um]],[lm,["QQ(Mobile X5)",um]],[o_,["QQ(Mac)",OC]],[i_,["QQ(iPad)",NC]],[s_,["MI",PC]],[l_,["HW",DC]],[c_,["Samsung",LC]],[u_,["OPPO",MC]],[d_,["VIVO",xC]],[im,["EDGE",EC]],[e_,["SogouMobile",CC]],[t_,["Sogou",wC]]]),i="unknown",s="unknown";return n.has(!0)&&([i,s]=n.get(!0)),{name:i,version:s}}var Pr=null,zs="";function $C(){return Ke(this,null,function*(){if(Pr)return Pr;if(!navigator.userAgentData||!wr(navigator.userAgentData.getHighEntropyValues))return null;try{return(Pr=yield navigator.userAgentData.getHighEntropyValues(["architecture","bitness","model","platformVersion","fullVersionList"]))&&!zs&&(zs="UAData: ".concat(Pr.platform,"/").concat(Pr.platformVersion),Pr.architecture&&Pr.bitness&&(zs+=" ".concat(Pr.architecture,"/").concat(Pr.bitness)),Pr.mobile&&(zs+=" mobile"),Pr.model&&(zs+=" model: ".concat(Pr.model)),Pr.fullVersionList&&(zs+=" ".concat(Pr.fullVersionList.filter(n=>n.brand!=="Not/A)Brand").map(n=>"".concat(n.brand,"/").concat(n.version)).join(",")))),Pr}catch{return null}})}function KM(){return(Pr==null?void 0:Pr.model)||""}var GM=new Map([[vi,"Android"],[Ws,"iOS"],[Ef,"Windows"],[_u,"MacOS"],[a_,"Linux"],[UM,"ChromeOS"]]),UC=function(){return GM.get(!0)?GM.get(!0):Pr?Pr.platform:"unknown"},BC=()=>{let n=UC();return n+="/".concat(Wl.name,"/").concat(ls?Wl.version:Wl.version.split(".")[0]),Pr!=null&&Pr.platformVersion&&(n+="/".concat(Pr.platformVersion)),Pr!=null&&Pr.architecture&&(n+="/".concat(Pr.architecture)),n};function qM(){return vi?4:Sf?2:om?3:_u?12:Ef?5:a_?13:1}function _te(){return vi?"Android":Sf?"iPhone":om?"iPad":_u?"Mac":Ef?"Windows":a_?"Linux":"unknown"}var YM=(n,i)=>i?"".concat(vu,"/").concat(n,"/").concat(i):"".concat(vu,"/").concat(n,"/index.html"),bte=()=>{if(window.TRTC_ERROR_INFO&&window.TRTC_ERROR_LINK)return{TRTC_ERROR_INFO:window.TRTC_ERROR_INFO,TRTC_ERROR_LINK:window.TRTC_ERROR_LINK};let n=localStorage==null?void 0:localStorage.getItem(_M);if(n){n=JSON.parse(n);let i=document.createElement("script");i.type="text/javascript",i.text=n.message,document.body.appendChild(i);let s=window.TRTC_ERROR_INFO,u=window.TRTC_ERROR_LINK;return document.body.removeChild(i),{TRTC_ERROR_INFO:s,TRTC_ERROR_LINK:u}}return{}};function jn(n){let{key:i,data:s,link:u,addDocLink:p=!0}=n,y="",E="",A="";wr(ka[i])?y=ka[i](s):br(ka[i])&&(y=ka[i]);let{TRTC_ERROR_INFO:w,TRTC_ERROR_LINK:V}=bte();u?A="".concat(u.className,".html#").concat(u.fnName):V&&V[i]&&(wr(V[i])?A=V[i](s):br(V[i])&&(A=V[i]));let K=y;return Kl()&&(w&&w[i]&&(wr(w[i])?E=w[i](s):br(w[i])&&(E=w[i])),E&&(K=p?"".concat(E,`
\u8BF7\u67E5\u770B\u6587\u6863: `).concat(YM("zh-cn",A),`

`):"".concat(E,`

`),K+=y)),p&&(K+=` 
Refer to: `.concat(YM("en",A),`
`)),K}var On,hm=function(n){let{retryFunction:i,settings:s,onError:u,onRetrying:p,onRetryFailed:y,onRetrySuccess:E,context:A}=n;return function(){for(var w=arguments.length,V=new Array(w),K=0;K<w;K++)V[K]=arguments[K];let{retries:z=5,timeout:ue=1e3}=s,ve=0,Oe=-1,Qe=0,gt=(mt,dt)=>Ke(this,null,function*(){let an=A||this;try{let gn=yield i.apply(an,V);ve>0&&E&&E.call(this,ve),ve=0,mt(gn)}catch(gn){let nr=()=>{clearTimeout(Oe),ve=0,Qe=2,dt(gn)},Qn=()=>{Qe!==2&&ve<(wr(z)?z():z)?(ve++,Qe=1,wr(p)&&p.call(this,ve,nr),Oe=window.setTimeout(()=>{Oe=-1,gt(mt,dt)},wr(ue)?ue(ve):ue)):(nr(),wr(y)&&y.call(this,gn))};wr(u)?u.call(this,{error:gn,retry:Qn,reject:dt,retryFuncArgs:V,retriedCount:ve}):Qn()}});return new Promise(gt)}},Pt=new(Ao(mi(),1)).default,JM=((On=JM||{}).ROOM_DESTROY="1",On.JOIN_START="21",On.JOIN_SCHEDULE_SUCCESS="22",On.JOIN_SIGNAL_CONNECTION_START="23",On.JOIN_SIGNAL_CONNECTION_END="24",On.JOIN_SEND_CMD="25",On.JOIN_RECEIVED_CMD_RES="26",On.JOIN_SUCCESS="27",On.JOIN_FAILED="28",On.LEAVE_START="51",On.LEAVE_SEND_CMD="52",On.LEAVE_SUCCESS="53",On.PUBLISH_START="61",On.SEND_FIRST_VIDEO_FRAME="62",On.PUBLISH_FAILED="63",On.SUBSCRIBE_START="81",On.SUBSCRIBE_SUCCESS="82",On.SUBSCRIBE_FAILED="84",On.UNSUBSCRIBE_SUCCESS="83",On.LOCAL_TRACK_CAPTURE_START="101",On.LOCAL_TRACK_CAPTURE_SUCCESS="102",On.LOCAL_TRACK_CAPTURE_FAILED="103",On.LOCAL_TRACK_PUBLISHED="104",On.LOCAL_TRACK_UNPUBLISHED="105",On.LOCAL_TRACK_REPLACED="106",On.SWITCH_DEVICE_SUCCESS="107",On.TRACK_MUTED="108",On.TRACK_UNMUTED="109",On.REMOTE_TRACK_SUBSCRIBED="110",On.REMOTE_TRACK_UNSUBSCRIBED="111",On.LOCAL_TRACK_RECAPTURE="112",On.PLAY_TRACK_START="151",On.PLAYER_STATE_CHANGED="152",On.VIDEO_LOADED_DATA="153",On.AUTOPLAY_DIALOG_CLICK_CONFIRM="154",On.SIGNAL_CONNECTION_STATE_CHANGED="201",On.PEER_CONNECTION_STATE_CHANGED="202",On.SINGLE_CONNECTION_STAT="203",On.SPC_RECONNECTED="204",On.HEARTBEAT_REPORT="251",On.RECEIVED_PUBLISHED_USER_LIST="252",On.REMOTE_PUBLISH_STATE_CHANGED="253",On.AUDIO_LEVEL_INTERVAL="260",On.NETWORK_QUALITY="261",On.VIDEO_CODEC_IMPLEMENTATION_CHANGED="262",On.QUALITY_LIMITATION_CHANGED="263",On),Wr=new class{constructor(){this._roomIdMap=new Map,typeof registerProcessor=="undefined"&&(this._configs={sdkAppId:"",userId:"",version:os,env:gu.QCLOUD,browserVersion:Wl.name+Wl.version,ua:navigator.userAgent})}setConfig(n){let{sdkAppId:i,env:s,userId:u,roomId:p}=n;i!==this._configs.sdkAppId&&(this._configs.sdkAppId=String(i)),this._configs.env=s,this._configs.userId=u,this._roomIdMap.set(u,String(p))}logSuccessEvent(n){Cf||!Gt.isAbleToUpload||this._configs.env===gu.QCLOUD&&this.uploadEventToKibana(Yn(hn({},n),{result:"success"}))}logFailedEvent(n){if(Cf||!Gt.isAbleToUpload)return;let{eventType:i,code:s,error:u,userId:p}=n,y={roomId:this._roomIdMap.get(p||this._configs.userId),userId:p,eventType:i,result:"failed",code:s||(u==null?void 0:u.extraCode)||(u==null?void 0:u.code)||Ht.UNKNOWN};this._configs.env===gu.QCLOUD&&this.uploadEventToKibana(Yn(hn({},y),{error:u}))}uploadEventToKibana(n){let i="stat-".concat(n.eventType,"-").concat(n.result);(n.eventType==="delta-join"||n.eventType==="delta-leave"||n.eventType==="delta-publish")&&(i="".concat(n.eventType,":").concat(n.delta)),this.uploadEvent({log:i,userId:n.userId}),n.result==="failed"&&(i="stat-".concat(n.eventType,"-").concat(n.result,"-").concat(n.code),this.uploadEvent({log:i,userId:n.userId,error:n.error}))}uploadEvent(n){let{log:i,userId:s,error:u}=n,p={timestamp:hM(),sdkAppId:this._configs.sdkAppId,userId:s||this._configs.userId,version:os,log:i};u&&(p.errorInfo=u.message,u.stack&&(p.errorInfo+=`
`.concat(u.stack))),this.sendRequest(pm(this._configs.sdkAppId,qp.LOG),p)}sendRequest(n,i){Gt.isAbleToUpload?rm({url:n,body:JSON.stringify(i)}).catch(()=>{}):setTimeout(()=>{this.sendRequest(n,i)},1e3)}},HC=null,jC=!0;function zl(n){Li(n)&&n!==jC&&(jC=n,Gt.info("setIsNeedToSchedule ".concat(n)))}function Ste(n){return Ke(this,arguments,function(i){let{userId:s,sdkAppId:u,useStringRoomId:p,roomId:y,userSig:E,version:A,frameWorkType:w,role:V,latencyLevel:K}=i;return function*(){if(!jC&&HC)return{isCached:!0,result:HC};let z={delta:0,count:[1,1],msg:[],detail:[]};try{let ue=new FormData;ue.append("userId",String(s)),ue.append("sdkAppId",String(u)),ue.append("isStrGroupId",String(p)),ue.append("groupId",String(y)),ue.append("sdkVersion",A),ue.append("userSig",String(E)),V&&ue.append("role",String(V)),K&&ue.append("latencyLevel",String(K)),w&&ue.append("frameWorkType",String(w));let ve=zn(),Oe=yield function(gt,mt,dt){return new Promise((an,gn)=>{let nr=null;KC([ZM(Qn=>mt.count[0]=Qn+1,Qn=>{let{error:xn,retry:el,retriedCount:so,retryFuncArgs:ac}=Qn;mt.msg[0]=xn.message,nr||(so>=2&&(ac[0]=wf(dt,Ce.MAIN,!0)),el())})(wf(dt,Ce.MAIN),gt,{get timeout(){return 1e3*vm(2+mt.count[0])}}),ZM(Qn=>mt.count[1]=Qn+1,Qn=>{let{error:xn,retry:el,retriedCount:so,retryFuncArgs:ac}=Qn;mt.msg[1]=xn.message,nr||(so>=2&&(ac[0]=wf(dt,Ce.BACKUP,!0)),el())})(wf(dt,Ce.BACKUP),gt,{get timeout(){return 1e3*vm(2+mt.count[1])}})]).then(Qn=>{nr=Qn,an(nr)}).catch(gn)})}(ue,z,u);Oe.config&&(Oe.config.loggerDomain&&Gp(Oe.config.loggerDomain),Li(Oe.config.scheduleCache)&&zl(!Oe.config.scheduleCache)),z.delta=zn()-ve;let Qe=function(gt,mt,dt){let an=performance.getEntriesByType("resource"),gn=wf(gt,Ce.MAIN),nr=wf(gt,Ce.BACKUP),Qn={totalCost:0,local:0,dns:0,tcp:0,tls:0,request:0,response:0};for(let xn of an)if(xn.startTime>=dt&&(xn.name===gn||xn.name===nr)&&xn.transferSize>0){let el=xn.name===gn?Ce.MAIN:Ce.BACKUP,so=Math.round(xn.duration),ac=Math.round(xn.domainLookupStart-xn.startTime),fs=Math.round(xn.domainLookupEnd-xn.domainLookupStart),QV=Math.round(xn.requestStart-xn.secureConnectionStart),ZV=Math.round(xn.secureConnectionStart-xn.connectStart),e3=Math.round(xn.responseStart-xn.requestStart),t3=Math.round(xn.responseEnd-xn.responseStart),Jre=[ac,fs,QV,ZV,e3,t3];Wr.uploadEvent({log:"stat-schedule-net:".concat(so,"(").concat(Jre.join("->"),") ").concat(el),userId:mt}),Qn=Yn(hn({},Qn),{totalCost:so,local:ac,dns:fs,tcp:ZV,tls:QV,request:e3,response:t3});break}return Qn}(Number(u),s,ve);return HC=Oe,{isCached:!1,result:Oe,detailCost:Qe}}catch(ue){let ve=Fo(ue)?ue[0]:ue,Oe=ao(ve.code)?ve.code:0,Qe="schedule failed".concat(ve.message?": ".concat(ve.message):""),gt=new on({code:Ht.SCHEDULE_FAILED,extraCode:Oe,message:jn({key:Bn.JOIN_ROOM_FAILED,data:{error:Qe,code:Oe}})});throw Gt.error(Qe,Oe),gt}}()})}document&&document.head.insertAdjacentHTML("beforeend",Object.values(as).map(n=>'<link rel="dns-prefetch" href="https://'.concat(n,'">')).join(`\r
`)),Pt.on("28",()=>zl(!0)),Pt.on("63",()=>zl(!0)),Pt.on("84",()=>zl(!0)),Pt.on("201",n=>{n.state==="RECONNECTING"&&zl(!0)}),Pt.on("202",n=>{n.state==="RECONNECTING"&&zl(!0)});var Cu={main:"",backup:""};function XM(n){Fo(n)?(Cu.main=n[0],Cu.backup=n[1]):Cu.main=n}function wf(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.MAIN,s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return"https://".concat(Cu[i]||QM(n,i,s),"/api/v1/config")}function Ete(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.MAIN;return"https://".concat(Cu[i]||QM(n,i),"/api/v1/trtcAutoConf")}function QM(n){let i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.MAIN,u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return h_(n)?s===Ce.MAIN?as.MAIN_OVERSEA:as.BACKUP_OVERSEA:(i=h_(n)?u?s===Ce.MAIN?as.MAIN_OVERSEA_OLD:as.BACKUP_OVERSEA_OLD:s===Ce.MAIN?as.MAIN_OVERSEA:as.BACKUP_OVERSEA:s===Ce.MAIN?as.MAIN:as.BACKUP,i)}function Tte(n,i,s){return new Promise((u,p)=>{rm({url:n,body:i,timeout:s.timeout}).then(y=>{y.data.code===0?u(y.data.data):p({code:y.data.code,message:y.data.msg})}).catch(p)})}var ZM=(n,i)=>hm({retryFunction:Tte,settings:{retries:3,timeout:0},onError:i,onRetrying:n}),Cte=function(){return new URLSearchParams(location.search).get("trtc_env")||""},h_=n=>Number(n)<14e8,pm=function(n,i){let s;s=aC||(h_(n)?yM:gM);let u=Math.floor(Math.random()*ZT(2,31));return"".concat(s,"/v5/AVQualityReportSvc/C2S?random=").concat(u,"&sdkappid=").concat(n,"&cmdtype=").concat(i)},mm="unknown";function ex(){if(mm!=="unknown")return mm;let{userAgent:n,connection:i}=navigator,s=(n.match(/NetType\/\S+/)||[])[0]||"";s=s.toLowerCase().replace("nettype/",""),s==="3gnet"&&(s="3g");let u=i&&i.type&&i.type.toLowerCase(),p=i&&i.effectiveType&&i.effectiveType.toLowerCase();return p==="slow-2"&&(p="2g"),u&&(mm=tx(u,p)),mm}function tx(n,i){if(sC[n])return n;switch(n){case"cellular":case"wimax":return i||"unknown";case"ethernet":return"wired";default:return"unknown"}}function nx(n){mm=tx(n)}function p_(){return sC[ex()]}function wte(n,i){for(let s of Reflect.ownKeys(i))if(s!=="constructor"&&s!=="prototype"&&s!=="name"){let u=Object.getOwnPropertyDescriptor(i,s)||"";Object.defineProperty(n,s,u)}return n}function Ite(n){return rx(n/4,arguments.length>1&&arguments[1]!==void 0?arguments[1]:48e3)}function rx(n){return 1e3*n/(arguments.length>1&&arguments[1]!==void 0?arguments[1]:48e3)}function kte(n){return 4*ox(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:48e3)}function ox(n){return n*(arguments.length>1&&arguments[1]!==void 0?arguments[1]:48e3)/1e3}var Rte=typeof window!="undefined"&&typeof window.glog=="function"?window.glog:()=>{},Kl=()=>{let n=navigator.language;return n=n.substring(0,2),n==="zh"},Ks=function(n){if(!n||typeof n!="object"||Object.prototype.toString.call(n)!="[object Object]")return!1;let i=Object.getPrototypeOf(n);if(i===null)return!0;let s=Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor;return typeof s=="function"&&s instanceof s&&Function.prototype.toString.call(s)===Function.prototype.toString.call(Object)};function vm(n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return n<=1?i:vm(n-1,i,(arguments.length>1&&arguments[1]!==void 0?arguments[1]:1)+i)}function If(n){return n>8?3e4:1e3*vm(n)}function gi(n){return Reflect.apply(Object.prototype.toString,n,[]).replace(/^\[object\s(\w+)\]$/,"$1").toLowerCase()}var wr=n=>typeof n=="function",_t=n=>n===void 0,br=n=>typeof n=="string",ao=n=>typeof n=="number",Li=n=>typeof n=="boolean",Gl=n=>gi(n)==="object",Fo=n=>gi(n)==="array",Ate=n=>gi(n)==="MediaStreamTrack".toLowerCase(),ql=n=>n.isRemote,WC=n=>gi(n)==="promise",zC=n=>wr(n)&&n.prototype.constructor===n,ix=n=>zC(n)?n.prototype.constructor.name:"",Ote=typeof AudioWorkletNode!="undefined";function KC(n){return new Promise((i,s)=>{let u=[];n.forEach(p=>{p.then(i).catch(y=>{u.push(y),u.length===n.length&&s(u)})})})}function zn(){return performance&&performance.now?Math.floor(performance.now()):Date.now()}var ax=n=>+n<10?"0".concat(n):n,Nte=n=>{let i=n.match(/^\d+\.\d+\.\d+/)[0];if(!i)return n;let s=i.split("."),u=ax(s[1])+ax(s[2]);return s[1]-15>0&&(s[1]="15"),s[2]-15>0&&(s[2]="15"),"".concat(s.join("."),".").concat(u)},Pte=Object.prototype.hasOwnProperty;function sx(n){if(n==null)return!0;if(typeof n=="boolean")return!1;if(typeof n=="number")return n===0;if(typeof n=="string"||typeof n=="function"||Array.isArray(n))return n.length===0;if(n instanceof Error)return n.message==="";if(Ks(n))switch(Object.prototype.toString.call(n)){case"[object File]":case"[object Map]":case"[object Set]":return n.size===0;case"[object Object]":for(let i in n)if(Pte.call(n,i))return!1;return!0}return!1}function gm(n,i){return{userId:i,hasAudio:!!(n&Jp),hasVideo:!!(n&Yp),hasAuxiliary:!!(n&qy),hasSmall:!!(n&dC),audioMuted:!!(n&fC),videoMuted:!!(n&hC),audioAvailable:!(!(n&Jp)||n&fC),videoAvailable:!(!(n&Yp)||n&hC)}}function Dte(n){let i={urls:"turn:".concat(n.url)};return!_t(n.username)&&!_t(n.credential)&&(i.username=n.username,i.credential=n.credential,i.credentialType="password",_t(n.credentialType)||(i.credentialType=n.credentialType)),i}function m_(n){let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!br(n))return 0;let s=n.split(".");return i?(Number(s[0])<<24|Number(s[1])<<16|Number(s[2])<<8|Number(s[3]))>>>0:(Number(s[3])<<24|Number(s[2])<<16|Number(s[1])<<8|Number(s[0]))>>>0}var wu=function(n,i,s,u){if(!Gl(n)||!Gl(i))return 0;let p,y=0,E=Object.keys(i);for(let A=0,w=E.length;A<w;A++)if(p=E[A],!(_t(i[p])||s&&s.includes(p)))if(Gl(n[p])&&Gl(i[p]))y+=wu(n[p],i[p],s,u);else{if(u&&u.includes(i[p]))continue;n[p]!==i[p]&&(n[p]=ym(i[p]),y+=1)}return y};function ym(n){if(Fo(n)){let i=[];return n.forEach((s,u)=>{i[u]=ym(s)}),i}if(Gl(n)){let i={};return Object.keys(n).forEach(s=>{i[s]=ym(n[s])}),i}return n}var v_=n=>{let i=[];if(Fo(n))i=[...n];else if(br(n)){let s=document.getElementById(n);s&&i.push(s)}else n&&i.push(n);return i},Lte=n=>br(n)?document.getElementById(n):n,Mte=new Intl.DateTimeFormat("zh-CN",{dateStyle:"short",timeStyle:"medium"}),xte=()=>Mte.format(new Date);function Gs(n,i){let{keysToInclude:s,keysToExclude:u}=i;try{if(Fo(n))return"[".concat(n.map(A=>Gs(A,{keysToInclude:s,keysToExclude:u})).join(","),"]");if(!Ks(n)||!Fo(s)&&!Fo(u))return JSON.stringify(n);let p={},y=new Set(s),E=new Set(u);return Object.keys(n).forEach(A=>{(E.size===0&&y.has(A)||y.size===0&&!E.has(A))&&(p[A]=Ks(n[A])||Fo(n[A])?JSON.parse(Gs(n[A],{keysToExclude:u,keysToInclude:s})):n[A])}),JSON.stringify(p)}catch{return"{}"}}function lx(n){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=[];return Object.keys(n).forEach(u=>{i===n[u]&&s.push(u)}),Gs(n,{keysToInclude:s})}function GC(n){return n.replace(/[\u4e00-\u9fa5]/g,"aa").length}var cx=()=>{var n,i,s,u;return(n=window.screen)!=null&&n.orientation?!((u=(s=(i=window.screen)==null?void 0:i.orientation)==null?void 0:s.type)==null||!u.includes("portrait")):window.orientation===0||window.orientation===180},g_=n=>Ke(void 0,null,function*(){return new Promise((i,s)=>{let u;if(br(n))u=new Image,u.crossOrigin="anonymous",u.src=n;else if(u=n,u.complete)return void i(u);u.onload=()=>i(u),u.onerror=s})}),ux=n=>{let i=n.split(".");return+i[0]<<24|+i[1]<<16|+i[2]<<8|+i[3]},qC=n=>(Object.keys(n).forEach(i=>{ao(n[i])&&(i.startsWith("uint")||i.startsWith("int"))?n[i]=Math.floor(n[i]):(Ks(n[i])||Fo(n[i]))&&qC(n[i])}),n);function YC(n){return new Promise(i=>setTimeout(i,n))}var dx=(n,i)=>{let s=null;return function(){for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return s||(s=n.apply(i||this,p),s.finally(()=>s=null),s)}},Vte=Object.prototype.hasOwnProperty,Iu=n=>n===void 0;function Fte(n){if(n==null)return!0;if(typeof n=="boolean")return!1;if(typeof n=="number")return n===0;if(typeof n=="string"||typeof n=="function"||Array.isArray(n))return n.length===0;if(n instanceof Error)return n.message==="";if(function(i){if(!i||typeof i!="object"||Object.prototype.toString.call(i)!="[object Object]")return!1;let s=Object.getPrototypeOf(i);if(s===null)return!0;let u=Object.prototype.hasOwnProperty.call(s,"constructor")&&s.constructor;return typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)}(n))switch(Object.prototype.toString.call(n)){case"[object File]":case"[object Map]":case"[object Set]":return n.size===0;case"[object Object]":for(let i in n)if(Vte.call(n,i))return!1;return!0}return!1}var $te=class{constructor(n){oe(this,"userId"),oe(this,"remoteUserId"),oe(this,"id"),oe(this,"sdkAppId"),oe(this,"type"),oe(this,"isLocal"),this.id=n.id,this.userId=n.userId,this.sdkAppId=n.sdkAppId,this.remoteUserId=n.remoteUserId,this.isLocal=typeof n.isLocal!="boolean"||n.isLocal,this.type=this.isLocal?"":n.type}createChild(n){return Object.setPrototypeOf(n,this)}setUserId(n){this.userId=n}setSdkAppId(n){this.sdkAppId=n}log(n,i){let s=this.isLocal?this.userId:this.remoteUserId;i.unshift("[".concat(this.isLocal?"\u2191":"\u2193").concat(this.type&&this.type!=="main"?"*":"").concat(this.id).concat(s?"|".concat(s):"","]")),Gt.log(n,i,Iu(this.userId)||Fte(this.userId),this.userId,this.sdkAppId)}info(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.log(2,i)}debug(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.log(1,i)}warn(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.log(3,i)}error(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.log(4,i)}},bt=JM,Ute=!(Ws||vi||HM),Gt=new class{constructor(){oe(this,"_isEnableUploadLog",!0),oe(this,"_localJoinedUser",new Map),oe(this,"_queue",[]),oe(this,"_timeoutId",-1),oe(this,"_logLevel",1),oe(this,"_logLevelToUpload",2),!Gy&&!iC&&(this.checkURLParam(),this.installEvents())}get isAbleToUpload(){return this._isEnableUploadLog&&this._timeoutId!==-1}installEvents(){Pt.on(bt.JOIN_SCHEDULE_SUCCESS,n=>{let{schedule:i}=n;var s;((s=i==null?void 0:i.config)==null?void 0:s.logLevelToUpload)&&Bl[i.config.logLevelToUpload]&&(this._logLevelToUpload=i.config.logLevelToUpload)}),Pt.on(bt.JOIN_SUCCESS,n=>{let{room:i}=n;this.addJoinedUser({userId:i.userId,sdkAppId:i.sdkAppId}),this.startUpload()}),Pt.once(bt.JOIN_FAILED,()=>{this.startUpload()}),Pt.on(bt.LEAVE_SUCCESS,n=>{let{room:i}=n;this.deleteJoinedUser(i.userId)})}startUpload(){this._timeoutId===-1&&this.uploadInterval()}addJoinedUser(n){this._localJoinedUser.set(n.userId,n),this.startUpload()}deleteJoinedUser(n){this._localJoinedUser.delete(n)}uploadInterval(){this.upload().catch(()=>{}),this._timeoutId=window.setTimeout(()=>this.uploadInterval(),2e3)}getLogsToUpload(){let n={map:new Map,splicedQueue:[]};if(this._queue[0].forAllJoinedClients&&this._localJoinedUser.size===0)return n;let i=0;for(;i<this._queue.length&&i!==50;i++){let s=this._queue[i];if(s.forAllJoinedClients)this._localJoinedUser.forEach(u=>{let{userId:p,sdkAppId:y}=u;n.map.has(p)?n.map.get(p).logs.push(s):n.map.set(p,{userId:p,sdkAppId:y,logs:[s]})});else if(br(s.userId)&&ao(s.sdkAppId)){let{userId:u,sdkAppId:p}=s;n.map.has(u)?n.map.get(u).logs.push(s):n.map.set(u,{userId:u,sdkAppId:p,logs:[s]})}}return n.map.size>0&&(n.splicedQueue=this._queue.splice(0,i)),n}upload(){return Ke(this,null,function*(){if(this._queue.length===0||!this._isEnableUploadLog)return;let{map:n,splicedQueue:i}=this.getLogsToUpload();if(n.size===0)return;try{let u=[...n.values()];for(let p=0;p<u.length;p++){let{userId:y,sdkAppId:E,logs:A}=u[p];yield this.uploadLogWithRetry(JSON.stringify({timestamp:hM(),sdkAppId:String(E),userId:y,version:os,log:A.map(w=>w.log).join(`
`)}),E),A.forEach(w=>w.uploaded=!0)}}catch{}let s=i.filter(u=>!u.uploaded);s.length>0&&(this._queue=s.concat(this._queue))})}uploadLogWithRetry(n,i){return hm({retryFunction:()=>rm({url:pm(i,qp.LOG),body:n,timeout:5e3}),settings:{retries:3,timeout:1e3},onError:s=>{let{retry:u}=s;u()}})()}getPrefix(n){let i=new Date;i.setTime(nC());let s=String(i.getMilliseconds());return"padStart"in String.prototype&&(s=s.toString().padStart(3,"0")),"[".concat(i.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1"),":").concat(s,"] <").concat(Bl[n],">")}getLogLevel(){return this._logLevel}setLogLevel(n){_t(Bl[n])||(this._logLevel!==n&&this.info("setLogLevel",n),this._logLevel=n)}enableUploadLog(){this._isEnableUploadLog=!0}disableUploadLog(){this.warn("disableUploadLog"),this._isEnableUploadLog=!1}logChunkToString(n){if(br(n))return n;try{return n instanceof Error?n.toString():JSON.stringify(n)}catch{return""}}log(n,i){let s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=arguments.length>3?arguments[3]:void 0,p=arguments.length>4?arguments[4]:void 0;var y;if(i.unshift(this.getPrefix(n)),this._isEnableUploadLog&&n>=this._logLevelToUpload&&this._queue.push({log:i.reduce((A,w)=>"".concat(A," ").concat(this.logChunkToString(w)).trim(),""),level:n,userId:u,sdkAppId:p,forAllJoinedClients:s}),n<this._logLevel)return;let E=((y=Bl[n])==null?void 0:y.toLowerCase())||"info";Ute?console[E]("%cTRTC%c%s","padding: 1px 4px;border-radius: 3px;color: #fff;background: #1E88E5;","display: inline",...i):console[E](...i)}debug(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.log(1,i)}info(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.log(2,i)}warn(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.log(3,i)}error(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.log(4,i)}createLogger(n){return new $te(n)}checkURLParam(){let n=new URLSearchParams(location.search).get("logLevelToUpload"),i=n?Number(n):-1;Bl[i]&&(this._logLevelToUpload=i)}},fx=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=16*Math.random()|0;return(n=="x"?i:3&i|8).toString(16)})},hx=new class{constructor(){oe(this,"_prefix","TRTC"),oe(this,"_queue",new Map),this.checkStorage()}getRealKey(n){return"".concat(this._prefix,"_").concat(n)}checkStorage(){Tu()&&(setInterval(this.doFlush.bind(this),2e4),Object.keys(localStorage).filter(n=>{if(n.startsWith(this._prefix)){let i=localStorage.getItem(n);if(!i)return!1;let s=JSON.parse(i);if(s&&s.expiresIn<Date.now())return!0}return!1}).forEach(n=>localStorage.removeItem(n)))}doFlush(){if(Tu())try{for(let[n,i]of this._queue)localStorage.setItem(n,JSON.stringify(i))}catch(n){Gt.warn(n)}}getItem(n){if(!Tu())return null;try{let i=localStorage.getItem(this.getRealKey(n));if(!i)return null;let s=JSON.parse(i);return s&&s.expiresIn>=Date.now()?s.value:null}catch(i){Gt.warn(i)}}setItem(n,i){if(Tu())try{let s={expiresIn:Date.now()+bM,value:i};this._queue.set(this.getRealKey(n),s)}catch(s){Gt.warn(s)}}deleteItem(n){if(!Tu())return!1;try{return n=this.getRealKey(n),this._queue.delete(n),localStorage.removeItem(n),!0}catch(i){return Gt.warn(i),!1}}clear(){if(Tu())try{localStorage.clear()}catch(n){Gt.warn(n)}}},_m={};zp(_m,{HTTPS_API:()=>zte,IS_GET_CAPABILITIES_SUPPORTED:()=>Ex,IS_GET_SETTINGS_SUPPORTED:()=>kf,IS_SEI_SUPPORTED:()=>Ru,IS_SPC_SUPPORTED:()=>Em,basis:()=>qte,checkSystemRequirementsInternal:()=>ew,decodeSupportStatus:()=>ZC,encodeSupportStatus:()=>QC,getBrowserInfo:()=>Hte,getDisplayResolution:()=>gx,isAddTransceiverSupported:()=>qs,isBrowserSupported:()=>JC,isGetReceiversSupported:()=>b_,isGetSendersSupported:()=>Sm,isGetTransceiversSupported:()=>Yl,isGetUserMediaSupported:()=>yx,isMediaDevicesSupported:()=>XC,isMediaSessionSupported:()=>Tx,isMediaStreamTrackProcessorSupported:()=>jte,isReplaceTrackSupported:()=>Sx,isScreenCaptureApiAvailable:()=>y_,isSelectedCandidatePair:()=>bm,isSetParametersSupported:()=>nw,isSmallStreamAPISupported:()=>bx,isSmallStreamSupported:()=>__,isStopTransceiverSupported:()=>Gte,isTRTCSupported:()=>Wte,isUnifiedPlanDefault:()=>Kte,isUsedInHttpProtocol:()=>ku,isWebAudioSupported:()=>_x,isWebCodecSupported:()=>ow,isWebCodecsSupported:()=>mx,isWebRTCSupported:()=>rw,isWebTransportSupported:()=>Cx});var px=Ao(Mee(),1),cr={result:!1,detail:{isBrowserSupported:!1,isWebRTCSupported:!1,isWebCodecsSupported:!1,isMediaDevicesSupported:!1,isScreenShareSupported:!1,isSmallStreamSupported:!1,isH264EncodeSupported:!1,isVp8EncodeSupported:!1,isH264DecodeSupported:!1,isVp8DecodeSupported:!1}},Bte=new Map([[jr,["Firefox",SC]],[am,["Edg",TC]],[f_,["Chrome",VC]],[ls,["Safari",fm]],[ss,["TBS",IC]],[sm,["XWEB",kC]],[n_&&Sf,["WeChat",RC]],[r_,["QQ(Win)",AC]],[cm,["QQ(Mobile)",um]],[lm,["QQ(Mobile X5)",um]],[o_,["QQ(Mac)",OC]],[i_,["QQ(iPad)",NC]],[s_,["MI",PC]],[l_,["HW",DC]],[c_,["Samsung",LC]],[u_,["OPPO",MC]],[d_,["VIVO",xC]],[im,["EDGE",EC]],[e_,["SogouMobile",CC]],[t_,["Sogou",wC]]]);function Hte(){let n=Bte.get(!0);return{browserName:n?n[0]:"unknown",browserVersion:n?n[1]:"unknown"}}var JC=function(){return!(BM||im||am&&FM<80||jr&&VM<56)},mx=function(){return["VideoDecoder","VideoEncoder","AudioEncoder","AudioDecoder","MediaStreamTrackGenerator"].every(n=>n in window)},XC=function(){if(!navigator.mediaDevices)return ku()||Gt.error(ka.NOT_SUPPORTED_MEDIA),!1;let n=["getUserMedia","enumerateDevices"];return n.filter(i=>i in navigator.mediaDevices).length===n.length},vx=!1;function ku(){return location.protocol==="http:"&&!Cf&&(vx||Gt.error(jn({key:Bn.NOT_SUPPORTED_HTTP})),vx=!0,!0)}var jte=function(){return(window==null?void 0:window.OffscreenCanvas)&&(window==null?void 0:window.MediaStreamTrackProcessor)&&(window==null?void 0:window.MediaStreamTrackGenerator)},QC=function(){return Ke(this,null,function*(){if(cr.detail.isH264EncodeSupported&&cr.detail.isVp8EncodeSupported)return{isH264EncodeSupported:cr.detail.isH264EncodeSupported,isVp8EncodeSupported:cr.detail.isVp8EncodeSupported};let n,i=!1,s=!1;try{let u=new RTCPeerConnection,p=document.createElement(Ce.CANVAS);p.getContext("2d");let y=p.captureStream(0);return u.addTrack(y.getVideoTracks()[0],y),n=yield u.createOffer(),n.sdp.toLowerCase().indexOf("h264")!==-1&&(i=!0),n.sdp.toLowerCase().indexOf("vp8")!==-1&&(s=!0),u.close(),cr.detail.isH264EncodeSupported=i,cr.detail.isVp8EncodeSupported=s,{isH264EncodeSupported:cr.detail.isH264EncodeSupported,isVp8EncodeSupported:cr.detail.isVp8EncodeSupported}}catch{return{isH264EncodeSupported:!1,isVp8EncodeSupported:!1}}})},ZC=function(){return Ke(this,null,function*(){if(cr.detail.isH264DecodeSupported&&cr.detail.isVp8DecodeSupported)return{isH264DecodeSupported:cr.detail.isH264DecodeSupported,isVp8DecodeSupported:cr.detail.isVp8DecodeSupported};let n,i=!1,s=!1;try{let u=new RTCPeerConnection;return n=yield u.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}),n.sdp.toLowerCase().indexOf("h264")!==-1&&(i=!0),n.sdp.toLowerCase().indexOf("vp8")!==-1&&(s=!0),u.close(),{isH264DecodeSupported:i,isVp8DecodeSupported:s}}catch{return{isH264DecodeSupported:!1,isVp8DecodeSupported:!1}}})},ew=dx(()=>Ke(void 0,null,function*(){if(cr.result&&cr.detail.isH264EncodeSupported&&cr.detail.isVp8EncodeSupported&&cr.detail.isH264DecodeSupported&&cr.detail.isVp8DecodeSupported)return cr;let n=JC(),i=rw(),s=mx(),u=XC(),{isH264EncodeSupported:p,isVp8EncodeSupported:y}=yield QC(),{isH264DecodeSupported:E,isVp8DecodeSupported:A}=yield ZC();if(!p||!y){let w=yield QC();Gt.warn("detect encode again h264:".concat(p," vp8:").concat(y," result: ").concat(JSON.stringify(w))),p=w.isH264EncodeSupported,y=w.isVp8EncodeSupported}if(p&&E&&vi&&bu&&!sm&&!ss){let{encode:w,decode:V}=yield function(){return Ke(this,null,function*(){return tw||(tw=new Promise(K=>Ke(this,null,function*(){let z={encode:!1,decode:!1},ue=()=>{};try{Gt.warn("detectH264Supported start");let ve=document.createElement("canvas"),Oe=ve.getContext("2d");ve.width=320,ve.height=240;let Qe=setInterval(()=>{Oe.fillText("test",Math.floor(320*Math.random()),Math.floor(240*Math.random()))},66),gt=-1,mt=-1;ue=()=>{clearInterval(gt),clearInterval(Qe),clearTimeout(mt),an.close(),gn.close(),dt.getTracks().forEach(so=>so.stop())},mt=setTimeout(()=>{ue(),K(z)},2e3);let dt=ve.captureStream(),an=new RTCPeerConnection({}),gn=new RTCPeerConnection({offerToReceiveAudio:!0,offerToReceiveVideo:!0});an.addEventListener("icecandidate",so=>gn.addIceCandidate(so.candidate)),gn.addEventListener("icecandidate",so=>an.addIceCandidate(so.candidate)),an.addTrack(dt.getVideoTracks()[0],dt);let nr=yield an.createOffer();yield an.setLocalDescription(nr),yield gn.setRemoteDescription(nr);let Qn=yield gn.createAnswer(),xn=px.default.parse(Qn.sdp),el=xn.media[0].rtp.findIndex(so=>so.codec==="H264");xn.media[0].rtp=[xn.media[0].rtp[el]],xn.media[0].fmtp=xn.media[0].fmtp.filter(so=>so.payload===xn.media[0].rtp[0].payload),xn.media[0].rtcpFb&&(xn.media[0].rtcpFb=xn.media[0].rtcpFb.filter(so=>so.payload===xn.media[0].rtp[0].payload)),Qn.sdp=px.default.write(xn),yield gn.setLocalDescription(Qn),yield an.setRemoteDescription(Qn),gt=setInterval(()=>Ke(this,null,function*(){z.encode&&z.decode&&(ue(),K(z));let so=yield an.getSenders()[0].getStats(),ac=yield gn.getReceivers()[0].getStats();z.encode||so.forEach(fs=>{fs.type==="outbound-rtp"&&fs.mediaType===Ce.VIDEO&&fs.bytesSent>0&&(z.encode=!0)}),z.decode||ac.forEach(fs=>{fs.type==="inbound-rtp"&&fs.mediaType===Ce.VIDEO&&fs.bytesReceived>0&&(z.decode=!0)})}),100)}catch(ve){ue(),Gt.warn(ve),K(z)}})).then(K=>((!K.encode||!K.decode)&&Gt.warn("detectH264Supported encode: ".concat(K.encode," decode: ").concat(K.decode," ").concat(zs)),K)),tw)})}();p=w,w&&(E=V)}return cr.result=n&&i&&u&&(p||y)&&(E||A),cr.detail.isBrowserSupported=n,cr.detail.isWebRTCSupported=i,cr.detail.isWebCodecsSupported=s,cr.detail.isMediaDevicesSupported=u,cr.detail.isScreenShareSupported=y_(),cr.detail.isSmallStreamSupported=__(),cr.detail.isH264EncodeSupported=p,cr.detail.isVp8EncodeSupported=y,cr.detail.isH264DecodeSupported=E,cr.detail.isVp8DecodeSupported=A,cr.result||Gt.error("".concat(navigator.userAgent," ").concat(lx(cr.detail,!1))),hx.setItem(wx,{ua:navigator.userAgent,checkResult:cr}),cr})),Wte=function(){return cr.result},y_=function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)},tw=null,zte=(n,i,s)=>{location.protocol==="http:"&&!Cf&&(n[i]=()=>{throw new on({code:Ht.INVALID_OPERATION,message:ka.NOT_SUPPORTED_HTTP})})},bm=function(n){return!(n.type!=="candidate-pair"||!n.nominated||n.state!=="in-progress"&&n.state!=="succeeded")&&!(Li(n.selected)&&!n.selected)};function gx(){let n="";if(screen.width){let i=screen.width?screen.width*window.devicePixelRatio:"",s=screen.height?screen.height*window.devicePixelRatio:"";n+="".concat(i," * ").concat(s)}return n}function yx(){return navigator.getUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function _x(){let n={isSupported:!1},i=["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"];for(let s=0;s<i.length;s++)if(i[s]in window){n.isSupported=!0;break}return n.isSupported}function bx(){return"captureStream"in HTMLCanvasElement.prototype}function __(){return!(n_||Ws||Su&&Su<63)&&!(!JC()||!bx())}var Kte=function(){if(_t(window.RTCRtpTransceiver)||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n=null,i=!1;try{n=new RTCPeerConnection({sdpSemantics:Xp}),n.addTransceiver(Ce.AUDIO),i=!0}catch{}return n==null||n.close(),i};function b_(){return"RTCPeerConnection"in window&&"getReceivers"in window.RTCPeerConnection.prototype}function Sm(){return"RTCPeerConnection"in window&&"getSenders"in window.RTCPeerConnection.prototype}function Yl(){return"RTCPeerConnection"in window&&"getTransceivers"in window.RTCPeerConnection.prototype}function qs(){return FC!==11&&"RTCPeerConnection"in window&&"addTransceiver"in window.RTCPeerConnection.prototype}var Em=!(!qs()||bu&&Su<86);function Gte(){return"RTCRtpTransceiver"in window&&"stop"in window.RTCRtpTransceiver.prototype}function Sx(){return"RTCRtpSender"in window&&"replaceTrack"in window.RTCRtpSender.prototype}function nw(){return"RTCRtpSender"in window&&"setParameters"in window.RTCRtpSender.prototype&&Sm()}var kf=window.MediaStreamTrack&&"getSettings"in MediaStreamTrack.prototype,Ex=window.MediaStreamTrack&&"getCapabilities"in MediaStreamTrack.prototype,Ru="RTCRtpSender"in window&&"createEncodedStreams"in window.RTCRtpSender.prototype&&dm()>=86,rw=function(){return["RTCPeerConnection","webkitRTCPeerConnection","RTCIceGatherer"].filter(n=>n in window).length>0};function ow(){let n={AudioDecoder:!1,AudioEncoder:!1,VideoDecoder:!1,VideoEncoder:!1,ImageDecoder:!1};return _t(window.AudioDecoder)||(n.AudioDecoder=!0),_t(window.AudioEncoder)||(n.AudioEncoder=!0),_t(window.VideoDecoder)||(n.VideoDecoder=!0),_t(window.VideoEncoder)||(n.VideoEncoder=!0),_t(window.ImageDecoder)||(n.ImageDecoder=!0),n}function Tx(){return"mediaSession"in navigator&&!_t(navigator.mediaSession.setActionHandler)}function Cx(){return!_t(window.WebTransport)}function qte(){let n={browser:"".concat(Wl.name,"/").concat(Wl.version),os:UC(),displayResolution:gx(),isScreenShareSupported:y_(),isWebRTCSupported:rw(),isGetUserMediaSupported:yx(),isWebAudioSupported:_x(),isWebSocketsSupported:"WebSocket"in window&&window.WebSocket.CLOSING===2,isWebCodecSupported:ow(),isMediaSessionSupported:Tx(),isWebTransportSupported:Cx()};return navigator.userAgent.includes("miniProgram")&&(n.browser="mini/".concat(n.browser)),n}var wx="checkResult";(function(){ku();let n=hx.getItem(wx);n&&n.ua===navigator.userAgent&&(cr=n.checkResult),ew()})();var Yte=Ao(mi(),1),Ix=Symbol("instance"),S_=Symbol("cacheResult"),iw=class{constructor(n,i,s){this.oldState=n,this.newState=i,this.action=s,this.aborted=!1}abort(n){this.aborted=!0,Cm.call(n,this.oldState,new Error("action '".concat(this.action,"' aborted")))}toString(){return"".concat(this.action,"ing")}},aw=class extends Error{constructor(n,i,s){super(i),this.state=n,this.message=i,this.cause=s}},Tm=new Map;function $o(n,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(u,p,y)=>{let E=s.action||p;if(!s.context){let w=Tm.get(u)||[];Tm.has(u)||Tm.set(u,w),w.push({from:n,to:i,action:E})}let A=y.value;y.value=function(){let w=this;for(var V=arguments.length,K=new Array(V),z=0;z<V;z++)K[z]=arguments[z];if(s.context&&(w=ar.get(typeof s.context=="function"?s.context.call(this,...K):s.context)),w.state===i)return s.sync?w[S_]:Promise.resolve(w[S_]);w.state instanceof iw&&w.state.action==s.abortAction&&w.state.abort(w);let ue=null;Array.isArray(n)?n.length==0?w.state instanceof iw&&w.state.abort(w):(typeof w.state!="string"||!n.includes(w.state))&&(ue=new aw(w._state,"".concat(w.name," ").concat(E," to ").concat(i," failed: current state ").concat(w._state," not from ").concat(n.join("|")))):n!==w.state&&(ue=new aw(w._state,"".concat(w.name," ").concat(E," to ").concat(i," failed: current state ").concat(w._state," not from ").concat(n)));let ve=dt=>{if(s.fail&&s.fail.call(this,dt),s.sync){if(s.ignoreError)return dt;throw dt}return s.ignoreError?Promise.resolve(dt):Promise.reject(dt)};if(ue)return ve(ue);let Oe=w.state,Qe=new iw(Oe,i,E);Cm.call(w,Qe);let gt=dt=>{var an;return w[S_]=dt,Qe.aborted||(Cm.call(w,i),(an=s.success)===null||an===void 0||an.call(this,w[S_])),dt},mt=dt=>{let an=dt instanceof Error?dt.message:String(dt);return Cm.call(w,Oe,dt),ve(new aw(w._state,"action '".concat(E,"' failed :").concat(an),dt instanceof Error?dt:new Error(an)))};try{let dt=A.apply(this,K);return function(an){return typeof an=="object"&&an&&"then"in an}(dt)?dt.then(gt).catch(mt):s.sync?gt(dt):Promise.resolve(gt(dt))}catch(dt){return mt(dt)}}}}var Jte=typeof window!="undefined"&&window.__AFSM__?(n,i)=>{window.dispatchEvent(new CustomEvent(n,{detail:i}))}:typeof importScripts!="undefined"?(n,i)=>{postMessage({type:n,payload:i})}:()=>{};function Cm(n,i){let s=this._state;this._state=n;let u=n.toString();n&&this.emit(u,s),this.emit(ar.STATECHANGED,n,s,i),this.updateDevTools({value:n,old:s,err:i instanceof Error?i.message:String(i)})}var ar=class extends Yte.default{constructor(n,i,s){super(),this.name=n,this.groupName=i,this._state=ar.INIT,n||(n=Date.now().toString(36)),s?Object.setPrototypeOf(this,s):s=Object.getPrototypeOf(this),i||(this.groupName=this.constructor.name);let u=s[Ix];u?this.name=u.name+"-"+u.count++:s[Ix]={name:this.name,count:0},this.updateDevTools({diagram:this.stateDiagram})}get stateDiagram(){let n=Object.getPrototypeOf(this),i=Tm.get(n)||[],s=new Set,u=[],p=[],y=new Set,E=Object.getPrototypeOf(n);Tm.has(E)&&(E.stateDiagram.forEach(w=>s.add(w)),E.allStates.forEach(w=>y.add(w))),i.forEach(w=>{let{from:V,to:K,action:z}=w;typeof V=="string"?u.push({from:V,to:K,action:z}):V.length?V.forEach(ue=>{u.push({from:ue,to:K,action:z})}):p.push({to:K,action:z})}),u.forEach(w=>{let{from:V,to:K,action:z}=w;y.add(V),y.add(K),y.add(z+"ing"),s.add("".concat(V," --> ").concat(z,"ing : ").concat(z)),s.add("".concat(z,"ing --> ").concat(K," : ").concat(z," \u{1F7E2}")),s.add("".concat(z,"ing --> ").concat(V," : ").concat(z," \u{1F534}"))}),p.forEach(w=>{let{to:V,action:K}=w;s.add("".concat(K,"ing --> ").concat(V," : ").concat(K," \u{1F7E2}")),y.forEach(z=>{z!==V&&s.add("".concat(z," --> ").concat(K,"ing : ").concat(K))})});let A=[...s];return Object.defineProperties(n,{stateDiagram:{value:A},allStates:{value:y}}),A}static get(n){let i;return typeof n=="string"?(i=ar.instances.get(n),i||ar.instances.set(n,i=new ar(n,void 0,Object.create(ar.prototype)))):(i=ar.instances2.get(n),i||ar.instances2.set(n,i=new ar(n.constructor.name,void 0,Object.create(ar.prototype)))),i}static getState(n){var i;return(i=ar.get(n))===null||i===void 0?void 0:i.state}updateDevTools(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Jte(ar.UPDATEAFSM,Object.assign({name:this.name,group:this.groupName},n))}get state(){return this._state}set state(n){Cm.call(this,n)}};ar.STATECHANGED="stateChanged",ar.UPDATEAFSM="updateAFSM",ar.INIT="[*]",ar.ON="on",ar.OFF="off",ar.instances=new Map,ar.instances2=new WeakMap;var kx=(window==null?void 0:window.requestIdleCallback)||function(n){let i=Date.now();return setTimeout(()=>{n({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-i))})},1e3)},Xte=(window==null?void 0:window.cancelIdleCallback)||function(n){clearTimeout(n)},Qte=(window==null?void 0:window.cancelAnimationFrame)||(window==null?void 0:window.mozCancelAnimationFrame),sw=class{static generateTaskID(){return this.currentTaskID++}static run(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nm,i=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;s=hn(n===Zy?{delay:2e3,count:0,backgroundTask:!0}:n===tm?{delay:1e4,count:0}:n===vC?{fps:60,delay:16.6,count:0,backgroundTask:!0}:{delay:2e3,count:0,backgroundTask:!0},s),Gl(i)&&(s=hn(hn({},s),i)),wr(n)&&(i=n,n=nm);let u=hn({taskID:this.generateTaskID(),loopCount:0,intervalID:null,timeoutID:null,rafID:null,ricID:null,taskName:n,callback:i},s);return this.taskMap.set(u.taskID,u),this[n](u),u.taskID}static interval(n){return n.intervalID=setInterval(()=>{n.callback(),n.loopCount+=1,this.isBreakLoop(n)},n.delay)}static intervalInWorker(n){n.delay=(1e3/n.fps).toFixed(2);let i=new Worker(URL.createObjectURL(new Blob([`
        let timerID = null;
        self.onmessage = function (e) {
          if (e.data === 'start') {
            timerID = setInterval(() => {
              self.postMessage('tick');
            }, `.concat(n.delay,`);
          } else if (e.data === 'stop') {
            clearInterval(timerID);
          }
        };
      `)],{type:"application/javascript"})));i.onmessage=s=>{s.data==="tick"&&(n.callback(),n.loopCount+=1,this.isBreakLoop(n)&&i.postMessage("stop"))},n.worker=i,i.postMessage("start")}static timeout(n){let i=()=>{if(n.callback(),n.loopCount+=1,!this.isBreakLoop(n))return n.timeoutID=setTimeout(i,n.delay)};return n.timeoutID=setTimeout(i,n.delay)}static ric(n){let i,s=zn(),u=()=>{if(i=zn()-s,i>=n.delay&&(s=zn()-Math.floor(i%n.delay),n.callback(),n.loopCount+=1),!this.isBreakLoop(n))return n.ricID=kx(u,{timeout:n.delay})};return n.ricID=kx(u,{timeout:n.delay})}static raf(n){n.delay=(1e3/n.fps).toFixed(2);let i,s=zn(),u=()=>document.hidden&&n.backgroundTask?(i=zn()-s,s=zn(),n.callback(),n.loopCount+=1,this.isBreakLoop(n)?void 0:n.timeoutID=setTimeout(u,n.delay-Math.floor(i%n.delay))):(i=zn()-s,i>=n.delay&&(s=zn()-Math.floor(i%n.delay),n.callback(),n.loopCount+=1),this.isBreakLoop(n)?void 0:n.rafID=requestAnimationFrame(u));if(n.rafID=requestAnimationFrame(u),n.backgroundTask){let p=()=>{if(document.hidden){let y=zn()-s;y>=n.delay?u():n.timeoutID=setTimeout(u,n.delay-y)}};document.addEventListener("visibilitychange",p),n.onVisibilitychange=p,document.hidden&&p()}return n.taskID}static hasTask(n){return this.taskMap.has(n)}static clearTask(n){if(!this.taskMap.has(n))return!0;let{intervalID:i,timeoutID:s,rafID:u,ricID:p,onVisibilitychange:y,worker:E}=this.taskMap.get(n);return E&&E.terminate(),i&&clearInterval(i),s&&clearTimeout(s),u&&Qte(u),p&&Xte(p),y&&document.removeEventListener("visibilitychange",y),this.taskMap.delete(n),!0}static isBreakLoop(n){return!this.taskMap.has(n.taskID)||n.count!==0&&n.loopCount>=n.count&&(this.clearTask(n.taskID),!0)}};sw.taskMap=new Map,sw.currentTaskID=1;var Zr=sw;Ce.SEI_MESSAGE;var ia={LOADED_DATA:Ce.LOADEDDATA,MEDIA_TRACK_CHANGED:"media-track-changed",PLAYER_STATE_CHANGED:"player-state-changed",ERROR:"error"},lw={};zp(lw,{create:()=>Aa,remove:()=>Zo});var wm=new WeakMap;function Aa(n,i){wm.has(n)||wm.set(n,[]);let s=wm.get(n),u={add:(p,y)=>("addEventListener"in i?(s.push(i.removeEventListener.bind(i,p,y)),i.addEventListener(p,y)):(s.push(i.off.bind(i,p,y)),i.on(p,y)),u)};return u}function Zo(n){let i=wm.get(n);i&&(i.forEach(s=>s()),wm.delete(n))}var cs=new WeakMap;function Au(n){let{settings:i={retries:5,timeout:2e3},onError:s,onRetrying:u,onRetryFailed:p}=n;return function(y,E,A){let w=hm({retryFunction:A.value,settings:i,onError(V){let{error:K,retry:z,reject:ue,retryFuncArgs:ve}=V;var Oe;s?s.call(this,K,()=>{var Qe;(Qe=cs.get(y))!=null&&Qe.has(E)?z():ue(K)},ue,ve):(Oe=cs.get(y))!=null&&Oe.has(E)?z():ue(K)},onRetrying(V,K){var z;wr(u)&&u.call(this,V,K),(z=cs.get(y))!=null&&z.has(E)&&(cs.get(y).get(E).stopRetry=K)},onRetryFailed:p});return A.value=function(){let V=cs.get(y);for(var K=arguments.length,z=new Array(K),ue=0;ue<K;ue++)z[ue]=arguments[ue];return V?V.set(E,{args:z}):cs.set(y,new Map([[E,{args:z}]])),w.apply(this,z).finally(()=>{var ve;return(ve=cs.get(y))==null?void 0:ve.delete(E)})},A}}function E_(n){let{fnName:i,callback:s,validateArgs:u=!0}=n;return function(p,y,E){let A=E.value;return E.value=function(){for(var w,V,K=arguments.length,z=new Array(K),ue=0;ue<K;ue++)z[ue]=arguments[ue];if((w=cs.get(p))!=null&&w.has(i)){let{stopRetry:ve,args:Oe}=cs.get(p).get(i),Qe=!0;if(u){for(let gt of Oe)if(!z.find(mt=>mt===gt)){Qe=!1;break}}Qe&&(s&&s.apply(this,z),ve&&ve(),(V=cs.get(p))==null||V.delete(i))}return A.apply(this,z)},E}}var Oa,Hn,cw,Rx=class{constructor(){let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.countMap=new Map,this.distributionMap=new Map,this.log=Gt.createLogger({id:"kv"}),n&&(Pt.on("102",i=>{let{track:s,cost:u}=i;this.addSuccessEvent({key:s.kind===Ce.AUDIO?uw.START_MICROPHONE:dw.START_CAMERA,cost:u})}),Pt.on("103",i=>{let{track:s,error:u}=i;this.addFailedEvent({key:s.kind===Ce.AUDIO?uw.START_MICROPHONE:dw.START_CAMERA,error:u})}))}getReportData(){let n={msg_sdk_basic_info:{uint32_sdk_version:ux(this.version||os),uint32_terminal_type:15,bytes_device_name:"",bytes_os_version:"",uint32_framework:30,uint32_network_type:0},stats_count:[...this.countMap.entries()].map(i=>{let[s,u]=i;return{uint32_key:s,uint32_count:u}}),stats_distribution:[...this.distributionMap.entries()].map(i=>{let[s,u]=i;return{uint32_key:s,distribution_items:[...u.entries()].map(p=>{let[y,E]=p;return{uint32_item_key:y,uint32_item_value:E}})}})};return this.countMap.clear(),this.distributionMap.clear(),n}clear(){this.countMap.clear(),this.distributionMap.clear()}isEnumKey(n){let i=+String(n).slice(-3);return i>=700&&i<799}isErrorCodeKey(n){let i=+String(n).slice(-3);return i>=600&&i<699}isCountKey(n){let i=+String(n).slice(-3);return i>=0&&i<599}isNumberKey(n){let i=+String(n).slice(-3);return i>=800&&i<899}addCount(n){let{key:i,useUV:s=!1}=n;this.isCountKey(i)?s&&this.countMap.has(i)||this.countMap.set(i,(this.countMap.get(i)||0)+1):this.log.debug("".concat(i," is not count key, last 3 number should be 0~599"))}addEnum(n){let{key:i,value:s,useUV:u=!0}=n;var p;if(!this.isEnumKey(i))return this.log.debug("".concat(i," is not enum key, last 3 number should be 700~799"));if(u&&this.countMap.has(i))return;this.countMap.set(i,(this.countMap.get(i)||0)+1);let y=((p=this.distributionMap)==null?void 0:p.get(i))||new Map;y.set(s,(y.get(s)||0)+1),this.distributionMap.set(i,y)}addNumber(n){let{key:i,value:s,split:u=100,useUV:p=!1}=n;var y;if(!this.isNumberKey(i))return this.log.debug("".concat(i," is not number key, last 3 number should be 800~899"));if(p&&this.countMap.has(i))return;this.countMap.set(i,(this.countMap.get(i)||0)+1);let E=((y=this.distributionMap)==null?void 0:y.get(i))||new Map,A=0;if(ao(u))A=Math.floor(s/u);else for(let w=u.length-1;w>0;w--)if(s>u[w]){A=w;break}E.set(A,(E.get(A)||0)+1),this.distributionMap.set(i,E)}addSuccessEvent(n){let{key:i,cost:s,timeKey:u,split:p}=n;if(i&&(this.addEnum({key:i,value:1,useUV:!1}),s)){let y=+String(i).slice(-3);y<800&&y>=700?this.addNumber({key:u||i+100,value:s,split:p}):u||this.log.debug("time stat ignored, ".concat(i))}}addFailedEvent(n){let{key:i,error:s}=n;if(!i)return;let u=Ht.UNKNOWN;s&&(ao(s)?u=s:(!_t(s.extraCode)||!_t(s.code))&&(u=s.extraCode||s.code)),this.addEnum({key:i,value:0,useUV:!1}),this.addEnum({key:i,value:u,useUV:!1})}},Ax=((Hn=Ax||{})[Hn.enterRoom=500700]="enterRoom",Hn[Hn.exitRoom=500701]="exitRoom",Hn[Hn.switchRole=500702]="switchRole",Hn[Hn.destroy=500703]="destroy",Hn[Hn.startLocalAudio=500704]="startLocalAudio",Hn[Hn.updateLocalAudio=500705]="updateLocalAudio",Hn[Hn.stopLocalAudio=500706]="stopLocalAudio",Hn[Hn.startLocalVideo=500707]="startLocalVideo",Hn[Hn.updateLocalVideo=500708]="updateLocalVideo",Hn[Hn.stopLocalVideo=500709]="stopLocalVideo",Hn[Hn.startScreenShare=500710]="startScreenShare",Hn[Hn.updateScreenShare=500711]="updateScreenShare",Hn[Hn.stopScreenShare=500712]="stopScreenShare",Hn[Hn.startRemoteVideo=500713]="startRemoteVideo",Hn[Hn.updateRemoteVideo=500714]="updateRemoteVideo",Hn[Hn.stopRemoteVideo=500715]="stopRemoteVideo",Hn[Hn.muteRemoteAudio=500716]="muteRemoteAudio",Hn[Hn.setRemoteAudioVolume=500717]="setRemoteAudioVolume",Hn[Hn.use=500718]="use",Hn[Hn.sendSEIMessage=5e5]="sendSEIMessage",Hn[Hn.sendCustomMessage=500001]="sendCustomMessage",Hn),Ox=((Oa=Ox||{})[Oa.AudioMixer=550700]="AudioMixer",Oa[Oa.AIDenoiser=551700]="AIDenoiser",Oa[Oa.VirtualBackground=570700]="VirtualBackground",Oa[Oa.Beauty=571700]="Beauty",Oa[Oa.Watermark=572700]="Watermark",Oa),Nx=(n=>(n[n.AudioMixer=550701]="AudioMixer",n[n.AIDenoiser=551701]="AIDenoiser",n[n.VirtualBackground=570701]="VirtualBackground",n[n.Beauty=571701]="Beauty",n[n.Watermark=572701]="Watermark",n))(Nx||{}),Px=(n=>(n[n.AudioMixer=550702]="AudioMixer",n[n.AIDenoiser=551702]="AIDenoiser",n[n.VirtualBackground=570702]="VirtualBackground",n[n.Beauty=571702]="Beauty",n[n.Watermark=572702]="Watermark",n))(Px||{}),uw=(n=>(n[n.START_MICROPHONE=501700]="START_MICROPHONE",n[n.MICROPHONE_CAHNNELS=501701]="MICROPHONE_CAHNNELS",n[n.MICROPHONE_SAMPLERATE=501702]="MICROPHONE_SAMPLERATE",n))(uw||{}),dw=((cw=dw||{})[cw.START_CAMERA=511700]="START_CAMERA",cw),Zte=new Rx(!0),Im=new Rx(!1),bn=Zte,Rf=class extends ar{constructor(n,i){super(n.id,"".concat(i,"-player")),this.kind=i,oe(this,"id"),oe(this,"element",null),oe(this,"track"),oe(this,"url"),oe(this,"attr"),oe(this,"muted"),oe(this,"_log"),oe(this,"_pausedRetryCount"),oe(this,"_isElementPlayingFired",!1),oe(this,"_interval"),oe(this,"_delayDestroyTimeoutId",0),oe(this,"_isReplayByRecreateMediaStreamIng",!1),this.id=n.id,this._log=n.log,this.track=n.track,this.muted=n.muted,this._pausedRetryCount=NM,this._state="STOPPED",this.bindTrackEvents(),this._log.info("create ".concat(i,"-player ").concat(this.id))}get isPlaying(){var n;return this._state==="PLAYING"&&((n=this.element)==null?void 0:n.paused)===!1}get isStopped(){return this._state==="STOPPED"}setAttr(n){this.attr=n}setUrl(n){this.track&&(this.unbindTrackEvents(),this.element&&(this.element.srcObject=null),this.track=null),n!==this.url&&(this.url=n,n!==null&&this.element&&(this.element.crossOrigin="anonymous",this.element.src=n))}play(){return Ke(this,null,function*(){if(!this.isPlaying)try{this._delayDestroyTimeoutId&&(clearTimeout(this._delayDestroyTimeoutId),this._delayDestroyTimeoutId=0,this.bindTrackEvents(),this.bindElementEvents()),this.bindAutoPlayEvent(),yield this.element.play()}catch(n){let i=jn({key:Bn.PLAY_FAILED,data:{media:this.kind,error:n}});if(this.track&&!this.track.muted&&this._log.warn(n),i.includes("NotAllowedError"))throw new on({code:Ht.PLAY_NOT_ALLOWED,message:i})}})}stop(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this._isElementPlayingFired=!1,this.unbindEvents(),n>0?this._delayDestroyTimeoutId||(this._log.info("destroy element after 3 * ".concat(n)),this._delayDestroyTimeoutId=setTimeout(()=>this.destroyElement(),3*n)):this.destroyElement(),this.handleStopped(Ce.ENDED),this._interval>0&&Zr.clearTask(this._interval)}destroyElement(){this.element&&(this._log.debug("destroy element"),this.element.remove(),this.element.srcObject=null,this.element=null),clearTimeout(this._delayDestroyTimeoutId),this._delayDestroyTimeoutId=0}pause(){var n;this.isPlaying&&((n=this.element)==null||n.pause())}resume(){return this._log.info("resume"),this.isPlaying?Promise.resolve():jM?this.replay():this.play().catch(()=>{})}setMuted(n){this.element&&(this.element.muted=n),this.muted=n}replay(){return this.stop(),this.play().catch(()=>{})}bindElementEvents(){if(this.element){let n=this.handleElementEvent.bind(this);return Aa(this.element,this.element).add(Ce.PLAYING,n).add(Ce.ENDED,n).add(Ce.PAUSE,n).add(Ce.ERROR,n).add(Ce.LOADEDDATA,n)}}bindTrackEvents(){if(this.track){let n=this.handleTrackEvent.bind(this);lw==null||lw.create(this.track,this.track).add(Ce.ENDED,n).add(Ce.MUTE,n).add(Ce.UNMUTE,n),this.track.readyState===Ce.ENDED&&this.handleTrackEvent({type:Ce.ENDED}),this.track.muted&&this.handleTrackEvent({type:Ce.MUTE})}}bindAutoPlayEvent(){Pt.on(bt.AUTOPLAY_DIALOG_CLICK_CONFIRM,this.resume,this)}unbindTrackEvents(){this.track&&Zo(this.track)}unbindEvents(){this.element&&Zo(this.element),this.unbindTrackEvents(),Pt.off(bt.AUTOPLAY_DIALOG_CLICK_CONFIRM,this.resume,this)}handleElementEvent(n){switch(n.type){case Ce.PLAYING:this._isElementPlayingFired=!0,this._log.info("".concat(this.kind," player is playing")),this.handlePlaying(Ce.PLAYING),this._interval&&(Zr.clearTask(this._interval),this._interval=-1);break;case Ce.ENDED:this._log.info("".concat(this.kind," player is ended")),this.handleStopped(Ce.ENDED);break;case Ce.PAUSE:this._log.info("".concat(this.kind," player is paused")),this.handlePaused(Ce.PAUSE),Ws&&(this._interval=Zr.run(nm,()=>{this.element&&this._state==="PAUSED"&&this.resume()},{delay:3e3}));break;case Ce.ERROR:if(this.element&&this.element.error){this.handlePaused(Ce.ERROR);let{code:i,message:s}=this.element.error;this._log.error("".concat(this.kind," ").concat(this._log.isLocal?"local":"remote"," MediaError code: ").concat(i," message: ").concat(s," userAgent: ").concat(navigator.userAgent)),Wr.uploadEvent({log:"stat-".concat(this.kind,"-").concat(js.PLAYER_ERROR,"-").concat(i,"-").concat(navigator.userAgent),error:this.element.error}),this.replayByRecreateMediaStream()}break;case Ce.LOADEDDATA:this.kind===Ce.VIDEO&&this.emit(ia.LOADED_DATA)}}replayByRecreateMediaStream(){if(!this._isReplayByRecreateMediaStreamIng)return this._isReplayByRecreateMediaStreamIng=!0,this.doReplayByRecreateMediaStream(1e3).then(()=>{this._log.warn("replayByRecreateMediaStream success"),Wr.uploadEvent({log:"stat-replayByRecreateMediaStream-success"}),bn.addSuccessEvent({key:this.kind===Ce.AUDIO?506700:516700})}).catch(()=>{var n,i;this._log.error("replayByRecreateMediaStream failed"),Wr.uploadEvent({log:"stat-replayByRecreateMediaStream-failed"}),bn.addFailedEvent({key:this.kind===Ce.AUDIO?506700:516700,error:(n=this.element)==null?void 0:n.error}),(i=this.element)!=null&&i.error&&this.emit(ia.ERROR,this.element.error)}).finally(()=>{this._isReplayByRecreateMediaStreamIng=!1})}doReplayByRecreateMediaStream(n){return this._log.warn("delay ".concat(n,"ms to recreate mediaStream")),new Promise((i,s)=>{YC(n).then(()=>{this.element&&(this.element.srcObject=null,this.element.srcObject=new MediaStream([this.track]),this._log.warn("recreated mediaStream"),this.element.onerror=()=>{var u,p,y;this._log.warn("element onerror ".concat((p=(u=this.element)==null?void 0:u.error)==null?void 0:p.code," fired after recreated mediaStream")),s((y=this.element)==null?void 0:y.error)}),YC(5e3).then(()=>{var u,p;(!this.isPlaying||((u=this.element)==null?void 0:u.error))&&s((p=this.element)==null?void 0:p.error),i()})})}).finally(()=>{this.element&&(this.element.onerror=null)})}handleTrackEvent(n){switch(n.type){case Ce.ENDED:this.handleStopped(Ce.ENDED);break;case Ce.MUTE:this.handlePaused(Ce.MUTE);break;case Ce.UNMUTE:this._isElementPlayingFired&&this.handlePlaying(Ce.UNMUTE)}}handlePlaying(n){this.emit(ia.PLAYER_STATE_CHANGED,{type:this.kind,state:"PLAYING",reason:n})}handlePaused(n){this.emit(ia.PLAYER_STATE_CHANGED,{type:this.kind,state:"PAUSED",reason:n})}handleStopped(n){this.emit(ia.PLAYER_STATE_CHANGED,{type:this.kind,state:"STOPPED",reason:n})}getElement(){return this.element}};Yt([Au({settings:{retries:2,timeout:0},onError(n,i,s,u){u[0]=(u[0]||1e3)+1e3,i()}})],Rf.prototype,"doReplayByRecreateMediaStream",1),Yt([$o([],"PLAYING",{sync:!0})],Rf.prototype,"handlePlaying",1),Yt([$o("PLAYING","PAUSED",{ignoreError:!0,sync:!0})],Rf.prototype,"handlePaused",1),Yt([$o([],"STOPPED",{sync:!0})],Rf.prototype,"handleStopped",1);var Ys="trtc_autoplay",fw="".concat(Ys,"_mask"),Af="".concat(Ys,"_wrapper"),Dx="".concat(Ys,"_header"),hw="".concat(Ys,"_content"),T_="".concat(Ys,"_action_wrapper"),pw="".concat(Ys,"_question"),mw="".concat(Ys,"_collapse"),C_="".concat(Ys,"_action_confirm"),Lx="".concat(Ys,"_detail"),Mx="#2473E8",vw="dialog",ene="".concat(vw,"-show"),tne="".concat(vw,"-1"),nne="".concat(vw,"-2"),xx=!1,Vx=()=>!!document.querySelector(".".concat(Af)),Fx="".concat(vu,"/").concat(Kl()?"zh-cn":"en","/tutorial-21-advanced-auto-play-policy.html"),$x="<br><a href='".concat(Fx,"' target='_blank'>").concat(Kl()?"\u5176\u4ED6\u65B9\u6848\uFF1F":"Any other solution?","</a>"),rne="".concat(Kl()?"\u6D4F\u89C8\u5668\u81EA\u52A8\u64AD\u653E\u7B56\u7565\uFF1A\u5728\u7528\u6237\u4E0E\u9875\u9762\u4EA7\u751F\u4EA4\u4E92\uFF08\u70B9\u51FB\u3001\u89E6\u6478\uFF09\u4E4B\u524D\uFF0C\u6D4F\u89C8\u5668\u7981\u6B62\u64AD\u653E\u6709\u58F0\u5A92\u4F53\u3002\u8BE5\u5F39\u7A97\u7528\u4E8E\u5E2E\u52A9\u7528\u6237\u6062\u590D\u97F3\u89C6\u9891\u64AD\u653E\u3002".concat($x):"Autoplay Policy: Before user interacts with the web page (clicking, touching), page will not be allowed to play media with sound. This Dialog is used to help users resume playback. ".concat($x)),one=class{constructor(){if(oe(this,"content","\u97F3\u89C6\u9891\u64AD\u653E\u88AB\u6D4F\u89C8\u5668\u62E6\u622A\uFF0C\u8BF7\u70B9\u51FB\u201C\u6062\u590D\u64AD\u653E\u201D\u3002"),oe(this,"_dialogNode",null),oe(this,"_bodyPosition",""),oe(this,"_showDetail",!1),oe(this,"_isCollapseClicked",!1),oe(this,"_isQuestionClicked",!1),Kl()||(this.content='Media playback failed. Click the "Resume" to resume playback.'),!xx){let n=document.createElement("style");n.innerHTML=".".concat(fw,"{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);z-index:1500;}.").concat(fw," div:not(.").concat(T_,"){display:block !important;}.").concat(Af,"{padding:14px;background:#fff;border-radius:3px;box-shadow:0px 3px 15px #434343;border:1px solid #d1cfcf;max-width:500px;}.").concat(Af," a{color:").concat(Mx,";}.").concat(Dx,"{overflow:hidden;text-overflow:ellipsis;font-size:16px;font-weight:600;}.").concat(hw,"{margin:8px 0;}.").concat(T_,"{width:100%;display:flex !important;align-items:center;justify-content:right;float:right;}.").concat(mw,"{margin-right:auto;cursor:pointer}.").concat(pw,"{height:100%;line-height:16px;cursor:pointer;}.").concat(C_,"{margin-left:8px;color:#fff;background:").concat(Mx,";padding:4px 12px;outline:none;border:1px solid;border-radius:3px;font-weight:bold;}.").concat(C_,":hover{opacity:0.9;}.").concat(mw,",.").concat(C_,",.").concat(hw,",.").concat(pw,"{font-size:14px;}@media screen and (max-width:750px){.").concat(Af,"{width:80vw;}}"),document.head.appendChild(n),xx=!0}this.addDiaLog()}createDiaLog(){let n=document.createElement("template");n.innerHTML='<div class="'.concat(fw,`"><div class='`).concat(Af,"'><div class='").concat(Dx,"'>").concat(location.host,"</div><div class='").concat(hw,"'>").concat(this.content,"</div><div class='").concat(Lx,`' style="visibility:hidden;width:100%;height:0;font-size:12px;color:gray;">`).concat(rne,"</div><div class='").concat(T_,"'></div></div></div>").trim();let i=document.createElement("button");i.className=C_,i.innerText=Kl()?"\u6062\u590D\u64AD\u653E":"Resume",i.onclick=this.onConfirm.bind(this);let s=document.createElement("div");s.className=pw,s.innerHTML=`<?xml version="1.0" encoding="UTF-8"?>
    <svg class="icon" width="18" height="18" p-id="2030" t="1639646523624" version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
    <path d="m464 784.35c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z" p-id="2031"/>
    <path d="m512 960c-247.04 0-448-200.96-448-448s200.96-448 448-448 448 200.96 448 448-200.96 448-448 448zm0-831.71c-211.58 0-383.71 172.13-383.71 383.71 0 211.55 172.13 383.71 383.71 383.71 211.55 0 383.71-172.16 383.71-383.71 0-211.58-172.16-383.71-383.71-383.71z" p-id="2032"/>
    <path d="m512 673.7c-17.665 0-32.001-14.336-32.001-31.999v-54.112c0-52.353 40-92.352 75.328-127.65 25.887-25.92 52.672-52.672 52.672-74.017 0-53.343-43.072-96.735-95.999-96.735-53.823 0-95.999 41.536-95.999 94.559 0 17.665-14.336 31.999-32.001 31.999s-32.001-14.336-32.001-31.999c0-87.424 71.775-158.56 160-158.56s160 72.095 160 160.74c0 47.904-36.32 84.192-71.424 119.3-27.84 27.776-56.576 56.512-56.576 82.336v54.112c0 17.665-14.336 32.032-32.001 32.032z" p-id="2033"/>
    </svg>
    `,s.onclick=this.onQuestionClick.bind(this);let u=document.createElement("div");u.className=mw,u.innerText="".concat(Kl()?"\u8BE6\u60C5 >":"Detail >"),u.onclick=this.onCollapseClick.bind(this);let p=n.content.firstChild,y=p.querySelector(".".concat(T_));return y.appendChild(u),y.appendChild(s),y.appendChild(i),p}addDiaLog(){Vx()||(this._dialogNode=this.createDiaLog(),document.body.appendChild(this._dialogNode),this._dialogNode.onclick=this.onConfirm.bind(this),this._dialogNode.querySelector(".".concat(Af)).onclick=n=>n.stopPropagation(),this._bodyPosition=document.body.style.position,document.body.style.position="fixed",Gt.info("show autoplay dialog"),Wr.uploadEvent({log:ene}))}deleteDiaLog(){this._dialogNode&&(document.body.removeChild(this._dialogNode),document.body.style.position=this._bodyPosition,this._dialogNode=null)}onConfirm(){Gt.warn("confirm clicked, try resume stream"),Pt.emit(bt.AUTOPLAY_DIALOG_CLICK_CONFIRM),this.deleteDiaLog()}onCollapseClick(){let n=this._dialogNode.querySelector(".".concat(Lx));n.style.visibility="".concat(this._showDetail?"hidden":"visible"),n.style.height="".concat(this._showDetail?0:"fit-content"),this._showDetail=!this._showDetail,this._isCollapseClicked||Wr.uploadEvent({log:tne}),this._isCollapseClicked=!0}onQuestionClick(){window.open(Fx,"_blank"),this._isQuestionClicked||Wr.uploadEvent({log:nne}),this._isQuestionClicked=!0}},Jl=class extends Rf{constructor(n){super(n,Ce.VIDEO),oe(this,"viewMirror",!1),oe(this,"objectFit"),oe(this,"container"),oe(this,"canvas"),this.container=n.container,this.canvas=n.canvas,_t(n.viewMirror)||(this.viewMirror=n.viewMirror),_t(n.objectFit)||(this.objectFit=n.objectFit),this.initializeElement()}initializeElement(){var n;let i=document.createElement(Ce.VIDEO);this.track&&(i.srcObject=new MediaStream([this.track])),i.muted=!0,i.setAttribute("id","video_".concat(this.id)),i.setAttribute("style",this.styleAttribute),this.canvas&&this.canvas.setAttribute("style",this.styleAttribute),i.setAttribute("autoplay","autoplay"),i.setAttribute("playsinline","playsinline"),this.element=i,(n=this.container)==null||n.appendChild(this.elementToRender),this.bindElementEvents()}get styleAttribute(){let n="width: 100%; height: 100%; object-fit: ".concat(this.objectFit,";background-color: black;");return this.viewMirror&&(n+="transform: scaleX(-1);"),n}setContainer(n){var i;this.container=n,this.track&&this.elementToRender&&((i=this.container)==null||i.appendChild(this.elementToRender))}bindElementEvents(){let n=super.bindElementEvents();this.handleElementEvent=this.handleElementEvent.bind(this),n&&n.add(Ce.ENTER_PICTURE_IN_PICTURE,this.handleElementEvent).add(Ce.LEAVE_PICTURE_IN_PICTURE,this.handleElementEvent)}handleElementEvent(n){var i;super.handleElementEvent(n);let s=n.type;if(s===Ce.PAUSE&&(this.container&&document.getElementById(this.container.id)||this._log.warn("".concat(this.kind," player has been remove, element ID: ").concat((i=this.container)==null?void 0:i.id)),this._pausedRetryCount>0&&!Vx()&&(this._log.info("".concat(this.kind," player auto resume when paused")),this.resume(),this._pausedRetryCount--)),this.viewMirror&&this.element){let u=this.element.style.transform;s===Ce.ENTER_PICTURE_IN_PICTURE?this.element.style.transform=u.replace("scaleX(-1)",""):s===Ce.LEAVE_PICTURE_IN_PICTURE&&!u.includes("scaleX")&&(this.element.style.transform="".concat(u," scaleX(-1)"))}}setCanvas(n){var i,s;this.canvas!==n&&((i=this.canvas)==null||i.remove(),n==null||n.setAttribute("style",this.styleAttribute),this.canvas=n,n&&((s=this.container)==null||s.appendChild(n)))}setAttr(n){let i=Object.assign({autoplay:"autoplay",playsinline:"playsinline",muted:!0},n);i.style=Object.assign({width:"100%",height:"100%"},i.style),super.setAttr(i)}get mirror(){return this.viewMirror}setRect(n,i){this.elementToRender&&(this.elementToRender.style.width="".concat(n,"px"),this.elementToRender.style.height="".concat(i,"px"))}setViewMirror(n){this.elementToRender&&(this.elementToRender.style.transform=n?"scaleX(-1)":""),this.viewMirror=n}setObjectFit(n){this.elementToRender&&(this.elementToRender.style.objectFit="".concat(n)),this.objectFit=n}stop(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;var i;super.stop(n),(i=this.canvas)==null||i.remove()}play(){return this.element?this.elementToRender&&this.elementToRender.parentElement!==this.container&&this.container&&this.container.append(this.elementToRender):this.initializeElement(),super.play()}get elementToRender(){return this.canvas||this.element}setTrack(n){n!==this.track&&(this.unbindTrackEvents(),this.track=n,this.emit(ia.MEDIA_TRACK_CHANGED,n),n!==null&&(this.bindTrackEvents(),this.element&&(this.element.srcObject=new MediaStream([n]),this.element.remove()),this.elementToRender&&this.elementToRender.parentElement!==this.container&&this.container&&this.container.append(this.elementToRender)))}getVideoFrame(){if(this.canvas)return this.canvas.toDataURL("image/png");if(!this.element)return"";let n=document.createElement("canvas");return n.width=this.element.videoWidth,n.height=this.element.videoHeight,n.getContext("2d").drawImage(this.element,0,0),n.toDataURL("image/png")}getElement(){return this.element}};function gw(n,i){return Ke(this,null,function*(){if(!n.audioWorklet)return Promise.reject("audioWorklet is not supported");try{yield n.audioWorklet.addModule(i),Gt.info("worklet addModule success")}catch(s){throw Gt.info("worklet addModule catch error. ".concat(s.message)),s}})}typeof window!="undefined"&&(window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext);var Ou=new window.AudioContext({sampleRate:48e3}),w_=()=>{Ou.state==="suspended"?(Ou.resume(),document.addEventListener("click",w_)):Ou.state==="interrupted"?Ou.resume():document.removeEventListener("click",w_)};document.addEventListener("click",w_),Ou.onstatechange=()=>{Gt.info("context state: ".concat(Ou.state)),w_()};var Xl=n=>Ou,Nu=class{constructor(){this.pre=new Set,this.next=new Set,this.connectedNodes=new Set,this._channelCount=1}get channelCount(){return this._channelCount}set channelCount(n){this._channelCount=n,this.node&&(this.node.channelCount=n),this.next.forEach(i=>i.channelCount=n)}setContext(n){this.context=n,this.node&&n.addMixWeight()}removeContext(){var n;this.node&&((n=this.context)==null||n.reduceMixWeight()),delete this.context}setNode(n){var i;if(!this.node)try{(i=this.context)==null||i.addMixWeight(),this.node=n,this.node.channelCountMode="explicit",this.node.channelCount=this._channelCount,this.preNodeReconnect(),this.reconnect(),bn.addSuccessEvent({key:502701})}catch(s){Gt.error(s),bn.addFailedEvent({key:502701,error:s})}}deleteNode(){var n;if(this.node)try{this._disconnect(),delete this.node,(n=this.context)==null||n.reduceMixWeight(),this.preNodeReconnect(),bn.addSuccessEvent({key:502702})}catch(i){Gt.error(i),bn.addFailedEvent({key:502702,error:i})}}preNodeReconnect(){this.pre.forEach(n=>{n.node?n.reconnect():n.preNodeReconnect()})}connectNext(n){this.next.forEach(i=>n._connect(i.node)||i.connectNext(n))}_connect(n){return!(!this.node||!n)&&(this.node.connect(n),this.connectedNodes.add(n),!0)}_disconnect(){this.connectedNodes.forEach(n=>{var i;return(i=this.node)==null?void 0:i.disconnect(n)}),this.connectedNodes.clear()}reconnect(){this._disconnect(),this.connectNext(this)}pipeTo(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.forEach(u=>{this.next.add(u),u.pre.add(this)}),this}},ine=class extends Nu{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:256;super(),this.fftSize=n,this.dataArray=new Uint8Array(0)}setNode(n){n.fftSize=this.fftSize,this.dataArray=new Uint8Array(n.frequencyBinCount),super.setNode(n)}getByteTimeDomainData(){var n;return(n=this.node)==null||n.getByteTimeDomainData(this.dataArray),this.dataArray}get level(){var n;return(n=this.node)==null||n.getByteTimeDomainData(this.dataArray),Math.max(...this.dataArray)/128-1}get timeDomainPathData(){let n=this.getByteTimeDomainData(),i=0,s=0,u="M".concat(i,",").concat(s);for(let p=0;p<n.length;p++)s=n[p]/128*100/2,u+="L".concat(i,",").concat(s),i+=1;return u}},Ux=class{constructor(){this.source=new Nu,this.gain=new Nu,this.destination=new Nu}get volume(){var n;return((n=this.gain.node)==null?void 0:n.gain.value)||1}setVolume(n){n!==1?(this.gain.node||this.gain.setNode(this.source.node.context.createGain()),this.gain.node.gain.value=n):this.gain.node&&this.gain.deleteNode()}replaceSource(n){this.source.deleteNode(),this.source.setNode(function(i){let s=Hx.get(i);if(s)return s;let u=Xl();if(i instanceof HTMLAudioElement)s=u.createMediaElementSource(i);else{if(!(i instanceof MediaStreamTrack))return i;s=u.createMediaStreamSource(new MediaStream([i]))}return Hx.set(i,s),s}(n))}get track(){var n;return(n=this.stream)==null?void 0:n.getAudioTracks()[0]}get stream(){var n;return(n=this.destination.node)==null?void 0:n.stream}},Bx=class extends Ux{constructor(n){super(),this.context=n,this.denoiser=new Nu,this.source.pipeTo(this.denoiser.pipeTo(this.gain.pipeTo(this.destination)))}connect(){this.context.inputs.has(this)||(this.destination.setNode(this.context.destination),this.source.setContext(this.context),this.denoiser.setContext(this.context),this.gain.setContext(this.context),this.context.inputs.add(this))}disconnect(){!this.context.inputs.has(this)||(this.destination.deleteNode(),this.source.removeContext(),this.denoiser.removeContext(),this.gain.removeContext(),this.context.inputs.delete(this))}remove(){this.gain.deleteNode(),this.denoiser.deleteNode(),this.source.deleteNode(),this.disconnect()}setVolume(n){n!==1?(this.gain.node||this.gain.setNode(this.context.audioContext.createGain()),this.gain.node.gain.value=n):this.gain.node&&this.gain.deleteNode()}},ane=class{constructor(){this.audioContext=Xl(),this.destination=this.audioContext.createMediaStreamDestination(),this.inputs=new Set,this.mixWeight=0}addMixWeight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.mixWeight+=n,this.mixWeight-1==n+1>>1&&this.mixOnChange()}reduceMixWeight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.addMixWeight(-n)}close(){this.inputs.forEach(n=>n.remove())}get mixTrack(){return this.destination.stream.getAudioTracks()[0]}},Hx=new WeakMap,Of=class{constructor(n){oe(this,"_volume",0),oe(this,"_log"),oe(this,"_scriptProcessorNode",null),oe(this,"_audioWorkletNode",null),oe(this,"_interval",200),oe(this,"ready",this.preload());let{log:i}=n;this._log=i,Pt.on(bt.AUDIO_LEVEL_INTERVAL,this.handleAudioLevelInterval,this)}get node(){return this._audioWorkletNode||this._scriptProcessorNode}preload(){return Of.workletReady||(Of.workletReady=gw(Of.audioContext,URL.createObjectURL(new Blob([`
class VolumeMeter extends AudioWorkletProcessor{constructor(){super();this.volume=0;this.intervalTime=200;this.tick=this.intervalTime;this.isStop=false;this.cache=[];this.sentFirstInfo1=false;this.unmute=false;this.port.onmessage=(event)=>{const{data}=event;switch(data.name){case"chunk":this.cache.push.apply(this.cache,data.data);if(!this.sentFirstInfo1){this.port.postMessage({cl:data.data.length});this.sentFirstInfo1=true;}
break;case"setIntervalTime":this.intervalTime=data.intervalTime;break;case"unmute":this.unmute=true;break;case"stop":this.isStop=true;break;}};}
process(inputs,outputs){const input=inputs[0];const output=outputs[0];if(!input&&!output){return true;}
if(this.isStop){return false;}
const l=output?output[0].length:0;const cl=this.cache.length;if(cl>l){output[0].set(this.cache.slice(0,l));this.cache=this.cache.slice(l);}else if(this.unmute){output[0].set(input[0]);}
const firstChannel=cl>l?output[0]:input[0];if(!firstChannel){return true;}
let sum=0;let rms;for(let i=0;i<firstChannel.length;++i){sum+=firstChannel[i]*firstChannel[i];}
rms=Math.sqrt(sum/firstChannel.length);this.volume=Math.max(rms,this.volume*0.95);this.tick-=firstChannel.length;if(this.tick<0){this.tick+=(this.intervalTime/1000)*sampleRate;this.port.postMessage({volume:this.volume,cacheLen:cl,outputLen:l});}
return true;}}
registerProcessor("volume-meter",VolumeMeter);
`],{type:"application/javascript"})))),Of.workletReady.then(()=>this.initAudioWorklet()).catch(()=>this.initScriptProcessor())}initAudioWorklet(){if(!this._audioWorkletNode)try{this._audioWorkletNode=new AudioWorkletNode(Of.audioContext,"volume-meter");let n=!1;this._audioWorkletNode.port.onmessage=i=>{this._volume=i.data.volume||0,!n&&i.data.cacheLen&&i.data.outputLen&&(this._log.warn("worklet play success"),n=!0)},this.handleAudioLevelInterval({interval:this._interval})}catch(n){Wr.logFailedEvent({userId:this._log.userId,eventType:js.LOAD_WORKLET,error:n}),this.initScriptProcessor()}}initScriptProcessor(){if(!this._scriptProcessorNode)try{this._scriptProcessorNode=Xl().createScriptProcessor(2048,1,1),this._scriptProcessorNode.onaudioprocess=n=>{let i=n.inputBuffer.getChannelData(0),s=0;for(let u=0;u<i.length;++u)s+=i[u]*i[u];this._volume=Math.sqrt(s/i.length)||0}}catch(n){this._log.error("volumeMeter init script processor error: ".concat(n))}}destroy(){this._scriptProcessorNode&&(this._scriptProcessorNode.onaudioprocess=null),this._audioWorkletNode&&(this._audioWorkletNode.port.postMessage({name:"stop"}),this._audioWorkletNode.port.onmessage=null),this._audioWorkletNode=null,this._scriptProcessorNode=null,Pt.off(bt.AUDIO_LEVEL_INTERVAL,this.handleAudioLevelInterval,this)}getInternalAudioLevel(){return this._volume}getCalculatedVolume(){return parseFloat(this._volume.toFixed(2))}handleAudioLevelInterval(n){var i;let{interval:s}=n;this._interval=s,(i=this._audioWorkletNode)==null||i.port.postMessage({name:"setIntervalTime",intervalTime:s})}},yw=Of;oe(yw,"audioContext",Xl()),oe(yw,"workletReady");var sne=class extends Nu{constructor(n){super(),oe(this,"_volumeMeter"),this._volumeMeter=new yw(n)}deleteNode(){super.deleteNode(),this._volumeMeter.destroy()}init(){return Ke(this,null,function*(){yield this._volumeMeter.preload(),this.setNode(this._volumeMeter.node)})}getCalculatedVolume(){return this._volumeMeter.getCalculatedVolume()}getInternalAudioLevel(){return this._volumeMeter.getInternalAudioLevel()}write(n){if(this.node){let i=n.allocationSize({planeIndex:0}),s=new Float32Array(i>>2);n.copyTo(s,{planeIndex:0}),this.node.port.postMessage({name:"chunk",data:s},[s.buffer]),n.close()}}},lne=Ao(mi(),1),jx=n=>i=>i.deviceId===n,_w=class{constructor(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Input";oe(this,"kind"),oe(this,"type"),oe(this,"devices",[]),this.kind=n,this.type=i}update(n,i){let s=n.filter(u=>u.kind==="".concat(this.kind).concat(this.type.toLocaleLowerCase()));this.devices.length===1&&km(this.devices[0])||i&&(s.forEach(u=>{if(u.deviceId&&!this.devices.find(jx(u.deviceId))){let p="".concat(this.kind).concat(this.type,"Added");Gt.warn("".concat(p,": ").concat(JSON.stringify(u))),i.emit(p,u)}}),this.devices.forEach(u=>{if(u.deviceId&&!s.find(jx(u.deviceId))){let p="".concat(this.kind).concat(this.type,"Removed");Gt.warn("".concat(p,": ").concat(JSON.stringify(u))),i.emit(p,u)}})),this.devices=s}hasDevice(n){return!!this.devices.find(i=>i.deviceId===n)}},cne=class extends lne.EventEmitter{constructor(){super(),oe(this,"audioInputs",new _w(Ce.AUDIO)),oe(this,"videoInputs",new _w(Ce.VIDEO)),oe(this,"audioOutputs",new _w(Ce.AUDIO,"Output")),this.init(),navigator.mediaDevices&&(navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",()=>this.update()),"ondevicechange"in navigator.mediaDevices||Zr.run(Zy,()=>{this.update()},{delay:1e4}))}init(){bw().then(n=>{this.audioInputs.update(n),this.videoInputs.update(n),this.audioOutputs.update(n)})}update(){return Ke(this,arguments,function(){var n=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function*(){let s=yield bw(i);return n.audioInputs.update(s,n),n.videoInputs.update(s,n),n.audioOutputs.update(s,n),n}()})}},Uo=iC||Gy?null:new cne;function km(n){return n.deviceId===n.groupId&&n.groupId===""}function bw(){return Ke(this,arguments,function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function*(){if(ku()||!XC())return[];let i=yield navigator.mediaDevices.enumerateDevices();if(n!==0){let s={audio:!1,video:!1};if(i.forEach(u=>{km(u)&&(u.kind===Ce.AUDIO_INPUT?s.audio=!0:u.kind===Ce.VIDEO_INPUT&&(s.video=!0))}),n===2&&(s.audio=!1),n===1&&(s.video=!1),s.audio||s.video){let u;try{u=yield navigator.mediaDevices.getUserMedia(s)}catch(p){Gt.debug("capture before getDevices failed: ",p)}i=yield navigator.mediaDevices.enumerateDevices(),u==null||u.getTracks().forEach(p=>p.stop())}}return i.map((s,u)=>{let p={kind:s.kind,deviceId:s.deviceId,groupId:s.groupId,label:s.label||"".concat(s.kind,"_").concat(u)};return s.deviceId.length>0&&Sw.add("".concat(s.deviceId,"_").concat(s.kind)),s.getCapabilities&&(p.getCapabilities=()=>s.getCapabilities()),p})}()})}function Js(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return Uo.update(n?1:0).then(i=>i.audioInputs.devices)}function Ql(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return Uo.update(n?2:0).then(i=>i.videoInputs.devices)}var Wx=!1;function Nf(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return Ke(this,null,function*(){return Uo.update(n?1:0).then(i=>i.audioOutputs.devices)})}var Sw=new Set;function zx(n,i){return Ke(this,null,function*(){let s=(yield Js()).find(u=>u.deviceId===Qp);return(s==null?void 0:s.groupId)===n&&s.label===i})}var I_,une=class extends Ux{constructor(n){super(),this.log=n,oe(this,"volumeMeter"),oe(this,"volumeDestination"),oe(this,"analyser",new ine),this.volumeMeter=new sne({log:this.log}),this.volumeDestination=new Nu,this.volumeMeter.pipeTo(this.volumeDestination)}destory(){this.gain.deleteNode(),this.volumeMeter.deleteNode(),this.analyser.deleteNode(),this.source.deleteNode(),this.destination.deleteNode(),this.volumeDestination.deleteNode()}},Ew=class extends Rf{constructor(n){super(n,Ce.AUDIO),oe(this,"_outputDeviceId"),oe(this,"_volume",1),oe(this,"_destination",Xl().createMediaStreamDestination()),oe(this,"pipeline"),oe(this,"volumeMeterMode","worklet"),this.pipeline=new une(this._log)}getMediaStream(){return this.pipeline.stream||(this.track?new MediaStream([this.track]):null)}initializeElement(){if((Eu==="15.2"||Eu==="15.3"||Eu==="15.4")&&this.muted)return void this._log.info("audioElement is muted.");let n=I_||new Audio;n.setAttribute("autoplay","autoplay"),n.srcObject=this.getMediaStream(),n.muted=this.muted,this.element=n,n===I_&&(I_=void 0),this.bindElementEvents()}play(){return Ke(this,null,function*(){if(this.track)return this.pipeline.source.node||this.pipeline.replaceSource(this.track),this.element||this.initializeElement(),this._outputDeviceId&&(yield this.setSinkId(this._outputDeviceId)),this.volumeMeterMode==="worklet"?this.pipeline.volumeMeter.init():this.volumeMeterMode==="analyser"&&this.pipeline.analyser.setNode(Xl().createAnalyser()),this.setVolume(this._volume),function(){Ke(this,null,function*(){try{Wx||(Wx=!0,Gt.info("speakers:".concat((yield Nf()).map(n=>" ".concat(n.deviceId.slice(0,8),": ").concat(n.label)))))}catch{}})}(),oa(Ew.prototype,this,"play").call(this)})}stop(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.pipeline.destory(),super.stop(n)}setSinkId(n){return Ke(this,null,function*(){var i,s;this._outputDeviceId!==n&&(this._outputDeviceId=n),this.element&&this.element.sinkId!==n&&(yield(s=(i=this.element).setSinkId)==null?void 0:s.call(i,n))})}get useDestination(){return!!this.pipeline.stream}setLoop(n){!this.element||(this.element.loop=n)}getAudioLevel(){return this.pipeline.volumeMeter.getCalculatedVolume()}getInternalAudioLevel(){return this.pipeline.volumeMeter.getInternalAudioLevel()}},dne=class extends Ew{constructor(n){super(n),this.pipeline.source.pipeTo(this.pipeline.volumeMeter,this.pipeline.destination)}setTrack(n){var i;this.track!==n&&(this.unbindTrackEvents(),this.track=n,this.emit(ia.MEDIA_TRACK_CHANGED,n),n?(this.bindTrackEvents(),this.pipeline.source.channelCount=((i=n.getSettings())==null?void 0:i.channelCount)||1,this.pipeline.replaceSource(n),!this.useDestination&&this.element&&(this.element.srcObject=new MediaStream([n]))):this.pipeline.source.deleteNode())}setSourceNode(n){!n||this.pipeline.source.node===n||(this.pipeline.replaceSource(n),n instanceof MediaStreamAudioSourceNode?this.pipeline.destination.setNode(this._destination):this.pipeline.destination.deleteNode(),this.element&&(this.element.srcObject=this.getMediaStream(),this.element.play().catch(()=>{}),this.setVolume(this._volume)))}setVolume(n){this._volume=n,this.element&&(this.element.volume=n)}},fne=class extends Ew{constructor(n){super(n),oe(this,"_sourceElement"),this.pipeline.source.pipeTo(this.pipeline.gain.pipeTo(this.pipeline.volumeMeter,this.pipeline.destination))}write(n){this.pipeline.volumeMeter.write(n)}setTrack(n){var i,s,u;((s=(i=this.element)==null?void 0:i.error)==null?void 0:s.code)!==MediaError.MEDIA_ERR_DECODE&&this.track!==n&&(this.unbindTrackEvents(),this.track=n,this.emit(ia.MEDIA_TRACK_CHANGED,n),n?(this.bindTrackEvents(),this._sourceElement?this._sourceElement.srcObject=new MediaStream([n]):!this.useDestination&&this.element&&(this.element.srcObject=new MediaStream([n])),this.pipeline.source.channelCount=((u=n.getSettings())==null?void 0:u.channelCount)||1,this.pipeline.replaceSource(n)):this.pipeline.source.deleteNode())}setVolume(n){this._volume=n,this.useDestination?(this.pipeline.setVolume(n),this._log.info("set pipeline volume: ".concat(n))):n<=1?(this.element?this._log.info("set element volume: ".concat(n)):this._log.info("set element volume: no element"),this.element&&(this.element.volume=n)):(this._log.info("start set pipeline volume: ".concat(n)),this.pipeline.setVolume(n),this.element&&!this._sourceElement&&(this.pipeline.destination.setNode(this._destination),Zo(this.element),this._sourceElement=this.element,this._sourceElement.muted=!0,this.element=null,this.play()))}stop(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.pipeline.destory();let i=this._sourceElement||this.element;i&&Tf&&(I_=i),this._sourceElement&&(this._sourceElement.srcObject=null,delete this._sourceElement),super.stop(n)}},Tw=class extends ar{constructor(n){let{userId:i,sdkAppId:s,mediaType:u,room:p,PlayerClass:y=u===1?fne:Jl}=n;var E;super(),oe(this,"id",fx()),oe(this,"userId",""),oe(this,"isRemote"),oe(this,"mediaType"),oe(this,"room"),oe(this,"user"),oe(this,"_log"),oe(this,"_inputTrack"),oe(this,"_outputTrack"),oe(this,"isPlayCalled"),oe(this,"container",null),oe(this,"player"),oe(this,"subVideoPlayerMap"),oe(this,"muted",!1),oe(this,"abortCtrl"),oe(this,"objectFit","cover"),oe(this,"mirror"),oe(this,"isScreen",!1),oe(this,"manager"),oe(this,"trackSettings"),oe(this,"onPlayerError"),this.userId=i||"",this.mediaType=u,this._log=Gt.createLogger({id:"".concat(this.kind[0],"t"),userId:(E=p||this.room)==null?void 0:E.userId,remoteUserId:this instanceof ec?void 0:this.userId,sdkAppId:s,type:this.mediaType===2?"auxiliary":"main",isLocal:this instanceof ec}),this.player=new y({id:this.userId||this.id,track:null,muted:!1,container:null,log:this._log}),this.player.on(ia.PLAYER_STATE_CHANGED,A=>{Pt.emit(bt.PLAYER_STATE_CHANGED,hn({track:this},A)),this.emit("player-state-changed",A)}),this.kind===Ce.VIDEO&&(this.player.on(ia.LOADED_DATA,()=>{Pt.emit(bt.VIDEO_LOADED_DATA,{track:this})}),this.player.on(ia.MEDIA_TRACK_CHANGED,A=>{var w;(w=this.subVideoPlayerMap)==null||w.forEach(V=>V.setTrack(A))})),this.onTrackMuted=this.onTrackMuted.bind(this),this.onTrackUnmuted=this.onTrackUnmuted.bind(this),this.onTrackEnded=this.onTrackEnded.bind(this),this.onPlayerError&&this.player.on(ia.ERROR,this.onPlayerError.bind(this))}get log(){return this._log||Gt}get kind(){return this.mediaType===1?Ce.AUDIO:Ce.VIDEO}get strMediaType(){return this.mediaType===4?Ce.VIDEO:this.mediaType===2?Ce.SCREEN:Ce.AUDIO}get streamType(){return 2&this.mediaType?"auxiliary":"main"}play(n,i){return Ke(this,null,function*(){let s=Fo(n)?n[0]:n;if(this.isPlayCalled)return this.log.info("play update options: ".concat(JSON.stringify(i))),i&&!_t(i.muted)&&this.setPlayerMute(i.muted),i&&!_t(i.objectFit)&&(this.objectFit=i.objectFit),void(this.player instanceof Jl&&(this.player.setObjectFit(this.objectFit),this.container!==s&&s&&(this.container=s,this.player.setContainer(s)),Fo(n)&&n.length>=1&&(yield this.playSubContainer(n.slice(1),i))));if(i&&!_t(i.muted)?this.setPlayerMute(i.muted):(!this.isRemote||this.kind===Ce.VIDEO)&&this.setPlayerMute(!0),i&&!_t(i.objectFit)&&(this.objectFit=i.objectFit),this.player instanceof Jl&&this.player.setObjectFit(this.objectFit),this.isPlayCalled=!0,s&&(this.container=s,this.player instanceof Jl&&this.player.setContainer(s)),Pt.emit(bt.PLAY_TRACK_START,{track:this}),this._outputTrack){this._log.info("play with options: ".concat(JSON.stringify(i)));try{this.player.setTrack(this.playerMediaTrack),yield this.player.play(),Fo(n)&&n.length>1&&(yield this.playSubContainer(n.slice(1),i))}catch(u){throw this.handleAutoPlayFailed(),this.emit("error",u),u}}else this.log.info("play has not mediaTrack, abort")})}setMirror(n,i){if(this.isScreen||this.kind!==Ce.VIDEO||_t(n)||n===this.mirror)return;this.mirror=n;let s=this.player;i&&(s=i);let u=this.manager;if(Li(this.mirror))return s.setViewMirror(this.mirror),void(u&&(u.mirror=!1));switch(this.mirror){case"view":u&&(u.mirror=!1),s.setViewMirror(!0);break;case"publish":u&&(u.mirror=!0),s.setViewMirror(!0);break;case"both":u&&(u.mirror=!0),s.setViewMirror(!1)}}playSubContainer(n,i){return Ke(this,null,function*(){if(!this._outputTrack||this.kind===Ce.AUDIO)return;this.subVideoPlayerMap||(this.subVideoPlayerMap=new Map),this.subVideoPlayerMap.forEach((u,p)=>{var y;n.find(E=>p===E)||(u.stop(),(y=this.subVideoPlayerMap)==null||y.delete(p))});for(let[u,p]of n.entries()){let y=this.subVideoPlayerMap.get(p);y?i&&(_t(i.objectFit)||y.setObjectFit(i.objectFit)):this.subVideoPlayerMap.set(p,new Jl({id:this.userId||this.id,track:this.playerMediaTrack,container:p,muted:this.player.muted,objectFit:this.objectFit,log:this.log.createChild({id:"vp-sub".concat(u+1)})}))}let s=[...this.subVideoPlayerMap.values()];for(let u of s)u.setViewMirror(this.player.mirror),yield u.play()})}setAudioOutput(n){return this.player.setSinkId(n)}setAudioVolume(n){this.player.setVolume(n)}getAudioLevel(){return this.player.getAudioLevel()||0}getInternalAudioLevel(){var n;return((n=this.player)==null?void 0:n.getInternalAudioLevel())||0}stop(){!this.isPlayCalled||(this.isPlayCalled=!1,this.player&&(this.log.info("stop ".concat(this.kind," player")),this.player.stop(ql(this)?this.jitterBufferDelay:0)),this.subVideoPlayerMap&&this.subVideoPlayerMap.size>0&&this.subVideoPlayerMap.forEach(n=>{n.stop()}),this.container=null)}resume(){return Ke(this,null,function*(){var n;!this.isPlayCalled||(yield(n=this.player)==null?void 0:n.resume())})}close(){this.log.info("close"),this.isPlayCalled&&this.stop()}setMute(n){this.muted=n,this._inputTrack&&(this._inputTrack.enabled=!n),this._outputTrack&&(this._outputTrack.enabled=!n),this.emit(n?"mute":"unmute",this),Pt.emit(n?bt.TRACK_MUTED:bt.TRACK_UNMUTED,{track:this})}setPlayerMute(n){this.player.setMuted(n)}get mediaTrack(){return this._inputTrack||null}get outMediaTrack(){return this._outputTrack||null}get playerMediaTrack(){return this.outMediaTrack}installTrackEvent(n){Aa(n,n).add(Ce.MUTE,this.onTrackMuted).add(Ce.UNMUTE,this.onTrackUnmuted).add(Ce.ENDED,this.onTrackEnded),n.muted&&this.onTrackMuted(),n.readyState===Ce.ENDED&&this.onTrackEnded()}uninstallTrackEvent(n){Zo(n)}setInputMediaStreamTrack(n){var i;let s=this._inputTrack;if(n!==s)return this._inputTrack=n,this.trackSettings=(i=n.getSettings)==null?void 0:i.call(n),n.enabled=!this.muted,s&&this.uninstallTrackEvent(s),this.installTrackEvent(n),this.emit("input-media-track-changed",n||null,s||null),this.manager?this.manager.changeInput(this):this.setOutputMediaStreamTrack(n)}setOutputMediaStreamTrack(n){var i;n!==this._outputTrack&&(this.isRemote?this.log.debug("setOutputMediaStreamTrack",n.label):this.log.info("setOutputMediaStreamTrack",(i=n.getSettings)==null?void 0:i.call(n).deviceId,n.label),this._outputTrack=n,this.updatePlayingState(!!n),this.emit("output-media-track-changed",n))}setMediaType(n){this.mediaType=n}updatePlayingState(n){if(this.isPlayCalled){if(n){if(this.player.setTrack(this.playerMediaTrack),this.player.isStopped)return this.player.play().catch(()=>this.handleAutoPlayFailed()),void this.log.info("playing state updated, play ".concat(this.kind))}else if(!this.player.isStopped)return this.player.stop(ql(this)?this.jitterBufferDelay:0),void this.log.info("playing state updated, stop ".concat(this.kind))}this.log.debug("updatePlayingState abort ".concat(this.isPlayCalled," ").concat(n," ").concat(this.player.isStopped))}handleAutoPlayFailed(){if(this.room&&this.room.enableAutoPlayDialog)new one;else{let n=()=>{this.resume().then(()=>{document.removeEventListener("click",n,!0)})};document.addEventListener("click",n,!0)}}getVideoFrame(){return this.player instanceof Jl?this.player.getVideoFrame():""}onTrackMuted(){this._log.warn("".concat(this.kind," track is unable to provide media output"))}onTrackUnmuted(){this._log.info("".concat(this.kind," track is able to provide media output"))}onTrackEnded(){this._log.warn("".concat(this.kind," track ended"))}};Yt([$o([],ar.INIT,{sync:!0})],Tw.prototype,"close",1);var hne=Object.prototype.hasOwnProperty,Zl=function(n){if(n==null)return!0;if(typeof n=="boolean")return!1;if(typeof n=="number")return n===0;if(typeof n=="string"||typeof n=="function"||Array.isArray(n))return n.length===0;if(n instanceof Error)return n.message==="";if(Ks(n))switch(Object.prototype.toString.call(n)){case"[object File]":case"[object Map]":case"[object Set]":return n.size===0;case"[object Object]":for(let i in n)if(hne.call(n,i))return!1;return!0}return!1},pne=hm({retryFunction:function(n){return Ke(this,null,function*(){let i=function(y){return{audio:mne(y),video:vne(y)}}(n);Gt.info("getUserMedia with constraints: ".concat(JSON.stringify(i)));let s=[],u=[],p=["label","deviceId"];i.audio&&(s=yield Js(),Gt.info("microphones: ".concat(Gs(s,{keysToInclude:p})))),i.video&&(u=yield Ql(),Gt.info("cameras: ".concat(Gs(u,{keysToInclude:p}))));try{let y=yield navigator.mediaDevices.getUserMedia(i);return Ex&&y.getTracks().forEach(E=>{Gt.info("".concat(E.kind," capabilities: ").concat(Gs(E.getCapabilities(),{keysToInclude:gC})))}),y}catch(y){let{message:E}=y;throw y.name==="NotFoundError"&&(n.video&&u&&u.length===0&&(E=jn({key:Bn.CAMERA_NOT_FOUND})),n.audio&&s&&s.length===0&&(E=jn({key:Bn.MICROPHONE_NOT_FOUND}))),new on({code:Ht.INITIALIZE_FAILED,name:y.name,message:E,constraint:y.constraint})}})},settings:{retries:3,timeout:500},onError:n=>{let{error:i,retry:s,reject:u,retryFuncArgs:p,retriedCount:y}=n,E=y+1;i.name==="NotReadableError"||i.name==="OverconstrainedError"?(E===1?p[0].video&&(p[0].maxResolution=!1,(!ls||p[0].width*p[0].height<=2073600)&&p[0].frameRate&&(p[0].frameRate=p[0].frameRate>10?10:5)):E===2?p[0].useDeviceIdOnly=!0:E===3&&!p[0].useExactDeviceId&&(p[0].useTrueAsConstraint=!0),s()):u(i),p[0].microphoneId&&Kx(p[0].microphoneId,!1),p[0].cameraId&&Kx(p[0].cameraId,!0)},onRetrying:n=>{Gt.warn("getUserMedia NotReadableError observed, retrying [".concat(n,"/3]"))},onRetryFailed:n=>{Wr.logFailedEvent({eventType:js.GET_USER_MEDIA_RETRY,error:n})},onRetrySuccess:n=>{Wr.logSuccessEvent({eventType:js.GET_USER_MEDIA_RETRY}),Wr.uploadEvent({log:"stat-".concat(js.GET_USER_MEDIA_RETRY,"-success-").concat(n)})}});function Kx(n,i){return Ke(this,null,function*(){let s=(i?yield Ql():yield Js()).find(u=>u.deviceId===n);s&&wr(s.getCapabilities)&&Gt.warn(Gs(s.getCapabilities(),{keysToInclude:gC}))})}function mne(n){if(!n.audio)return!1;if(n.useTrueAsConstraint)return!0;let i={echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:n.sampleRate};return!Zl(n.microphoneId)&&(i.deviceId=n.useExactDeviceId?{exact:n.microphoneId}:n.microphoneId,n.useDeviceIdOnly)?i:(ao(n.channelCount)&&(i.channelCount=n.channelCount),Li(n.echoCancellation)&&!n.echoCancellation&&(i.echoCancellation=!1),Li(n.noiseSuppression)&&!n.noiseSuppression&&(i.noiseSuppression=!1),Li(n.autoGainControl)&&!n.autoGainControl&&(i.autoGainControl=!1),!!Zl(i)||i)}function vne(n){if(!n.video)return!1;if(n.useTrueAsConstraint)return!0;let{maxResolution:i=!0}=n,s={};return n.cameraId?s.deviceId=n.useExactDeviceId?{exact:n.cameraId}:n.cameraId:n.facingMode&&(s.facingMode=n.facingMode),n.useDeviceIdOnly&&!Zl(s)?s:(n.width&&(s.width={ideal:n.width},i&&!jr&&(s.width.max=n.width)),n.height&&(s.height={ideal:n.height},i&&!jr&&(s.height.max=n.height)),jr&&_u&&n.width&&n.height&&n.width*n.height<101376&&(s.width=n.width,s.height=n.height),n.frameRate&&(s.frameRate=n.frameRate),!!Zl(s)||s)}var gne=pne;function Gx(n){return $r((i,s)=>function(){for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return Ke(this,null,function*(){return yield n.apply(this,p),i.apply(this,p)})})}function Cw(n){return $r((i,s)=>function(){for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return Ke(this,null,function*(){let E=yield i.apply(this,p);return yield n.call(this,...p),E})})}function $r(n){return function(i,s,u){return u.value=n(u.value,s),u}}var yne=(()=>{let n=!1,i=document.visibilityState;return()=>{document.visibilityState!==i&&Gt.info("visibility change: ".concat(document.visibilityState)),!n&&(document.addEventListener("visibilitychange",()=>{Gt.info("visibility change: ".concat(document.visibilityState)),i=document.visibilityState}),n=!0)}})(),_ne=0,qx=class{constructor(){this.log=Gt.createLogger({id:"fq".concat(++_ne)}),this.isRunning=!1,this.queue=[]}get length(){return this.queue.length}get lastQueueItem(){return this.length===0?null:this.queue[this.length-1]}push(n){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];var s,u;let p=hn({},n),y=new Promise((E,A)=>{p.resolve=E,p.reject=A});return p.promise=y,i?this.length<=1?this.queue.push(p):(u=(s=this.lastQueueItem)==null?void 0:s.promise)==null||u.then(p.resolve,p.reject):this.queue.push(p),this.log.debug("push ".concat(this.length)),this.isRunning||this.callNext(),y}shift(){let n=this.queue.shift();return this.log.debug("shift ".concat(this.length)),n}callNext(){if(this.isRunning||this.length===0)return;this.log.debug("callNext ",this.length);let{fn:n,args:i,context:s,resolve:u,reject:p}=this.queue[0];this.isRunning=!0,n.apply(s,i).then(u,p).finally(()=>{this.isRunning=!1,this.shift(),this.callNext()})}},Rm=new WeakMap,k_=new WeakMap;function Pf(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return function(i,s,u){let p=u.value;return u.value=function(){let y=Rm.get(this)||new qx;for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];return Rm.set(this,y),y.push({fn:p,args:A,context:this},n)},u}}function Yx(n){return function(i,s,u){let p=u.value;return u.value=function(){var y,E,A;let w=[];for(var V=arguments.length,K=new Array(V),z=0;z<V;z++)K[z]=arguments[z];return(E=(y=Rm.get(this))==null?void 0:y.queue)==null||E.forEach(ue=>w.push(ue)),(A=k_.get(this))==null||A.forEach(ue=>ue==null?void 0:ue.queue.forEach(ve=>w.push(ve))),w.forEach(ue=>{ue.reject(new on({code:Ht.API_CALL_ABORTED,message:n}))}),Rm.delete(this),k_.delete(this),p.apply(this,K)},u}}function Df(n){return function(i,s,u){let p=u.value,y=E=>n(...E);return u.value=function(){for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];let V=k_.get(this)||new Map,K=V.get(y(A))||new qx;return V.set(y(A),K),k_.set(this,V),K.push({fn:p,args:A,context:this})},u}}var Jx=class extends Tw{constructor(n,i){super({mediaType:n,PlayerClass:i}),oe(this,"isRemote",!1),oe(this,"deviceId"),oe(this,"groupId",""),oe(this,"label",""),oe(this,"_isRecapturing",!1),oe(this,"_lastRecaptureTime",0),oe(this,"_onMuteTimeoutId",-1),oe(this,"profile")}get enableEncodeFrame(){return!1}get isPublished(){return this.state==="publish"}encodeFrame(n,i){throw new Error("Method not implemented.")}installTrackEvent(n){Aa(n,n).add(Ce.MUTE,this.onTrackMuted).add(Ce.UNMUTE,this.onTrackUnmuted).add(Ce.ENDED,this.onTrackEnded),n.muted&&this.onTrackMuted(),n.readyState===Ce.ENDED&&this.onTrackEnded()}uninstallTrackEvent(n){Zo(n)}setStateToCapture(){}capture(n){return Ke(this,null,function*(){var i;try{let s,u=zn();Pt.emit(bt.LOCAL_TRACK_CAPTURE_START,{track:this}),n.customSource?(s=new MediaStream,s.addTrack(n.customSource)):((i=this.mediaTrack)==null||i.stop(),s=yield gne(n));let p=s.getTracks()[0];return yield this.setInputMediaStreamTrack(p),n.customSource||(this.updateDeviceIdInUse(),this.listenDeviceChange()),Pt.emit(bt.LOCAL_TRACK_CAPTURE_SUCCESS,{track:this,cost:zn()-u}),s}catch(s){throw Pt.emit(bt.LOCAL_TRACK_CAPTURE_FAILED,{track:this,error:s}),this.log.error("getUserMedia error observed ".concat(s)),s}})}setInputMediaStreamTrack(n){return this.state===ar.INIT&&this.setStateToCapture(),super.setInputMediaStreamTrack(n)}setOutputMediaStreamTrack(n){var i;return super.setOutputMediaStreamTrack(n),(i=this.room)==null?void 0:i.replaceTrack(this)}publish(n,i){return this.room=n,this.emit("4",{mediaType:this.strMediaType,state:"starting",prevState:"stopped"}),this.userId=n.userId,this._log.setUserId(n.userId),this._log.setSdkAppId(n.sdkAppId),i}unpublish(){this.room&&this.room.localTracks.delete(this),Pt.emit(bt.LOCAL_TRACK_UNPUBLISHED,{track:this})}updateDeviceIdInUse(){return Ke(this,null,function*(){if(this.mediaTrack&&kf){let{deviceId:n,groupId:i}=this.mediaTrack.getSettings(),{label:s}=this.mediaTrack;(yield function(u){return Ke(this,arguments,function(p){let{newDeviceId:y,oldDeviceId:E,oldGroupId:A,oldLabel:w,kind:V}=p;return function*(){return y===E&&(V!==Ce.AUDIO||y!==Qp||(yield zx(A,w)))}()})}({newDeviceId:n,oldDeviceId:this.deviceId,oldGroupId:this.groupId,oldLabel:this.label,kind:this.kind}))||(this.deviceId=n,this.label=s,i&&(this.groupId=i),bw().then(u=>{let p=u.find(y=>y.deviceId===n);p&&this.emit("2",p)}))}})}setProfile(n){this.log.info("setProfile",n),Object.assign(this.profile,n)}isNeedToRecapture(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!(!this.deviceId||!this.mediaTrack||this.kind===Ce.AUDIO&&!function(i){if(i instanceof CanvasCaptureMediaStreamTrack||!(i instanceof MediaStreamTrack))return!1;let s=i.label.toLocaleLowerCase();if(s.includes("mic")||s.includes("\u9EA6\u514B\u98CE"))return!0;let u="".concat(((i==null?void 0:i.getSettings())||{}).deviceId,"_").concat(Ce.AUDIO_INPUT);return!!Sw.has(u)}(this.mediaTrack)||this.kind===Ce.VIDEO&&!function(i){if(i instanceof CanvasCaptureMediaStreamTrack||!(i instanceof MediaStreamTrack))return!1;let s=i.label.toLocaleLowerCase();if(s.includes("camera")||s.includes("webcam"))return!0;let u="".concat(((i==null?void 0:i.getSettings())||{}).deviceId,"_").concat(Ce.VIDEO_INPUT);return!!Sw.has(u)}(this.mediaTrack)||this._isRecapturing||n&&_u&&ls)}onTrackMuted(){if(super.onTrackMuted(),yne(),this.isNeedToRecapture(!0)){if(Date.now()-this._lastRecaptureTime<em)return void setTimeout(()=>this.onTrackMuted(),em);this._onMuteTimeoutId=setTimeout(()=>Ke(this,null,function*(){var n;if((n=this.mediaTrack)!=null&&n.muted){if((Ws||vi)&&document.visibilityState!=="visible")return;this.recapture(yield this.getRecoverCaptureDeviceId())}}),5e3)}}onTrackUnmuted(){super.onTrackUnmuted(),this._onMuteTimeoutId>0&&clearTimeout(this._onMuteTimeoutId)}onTrackEnded(){return Ke(this,null,function*(){if(oa(Jx.prototype,this,"onTrackEnded").call(this),this.isNeedToRecapture()){if(Date.now()-this._lastRecaptureTime<em)return void setTimeout(()=>this.onTrackEnded(),em);this.recapture(yield this.getRecoverCaptureDeviceId())}})}recapture(n){return Ke(this,null,function*(){var i;if(this._isRecapturing||!this._inputTrack)return;this.log.warn("recapture trying"),(i=this._inputTrack)==null||i.stop(),this._isRecapturing=!0,this._lastRecaptureTime=Date.now();let s={useExactDeviceId:!0};if(n==="user"||n==="environment")s.facingMode=n;else{let u;(this.kind==="audio"?yield Js():yield Ql()).find(p=>p.deviceId===n)&&(u=n),s.deviceId=u}return this.capture(s).then(()=>{this._isRecapturing=!1,this.log.warn("recapture success"),this.emit("1",{deviceId:this.deviceId}),Pt.emit(bt.LOCAL_TRACK_RECAPTURE,{track:this})}).catch(u=>{this._isRecapturing=!1,this.log.warn("recapture failed ".concat(u.message)),this.emit("5",u),Pt.emit(bt.LOCAL_TRACK_RECAPTURE,{track:this,error:u})})})}getRecoverCaptureDeviceId(){return Ke(this,null,function*(){let n=this instanceof Mi;if(n&&this.facingMode)return this.facingMode;let{deviceId:i}=this;if(i){let s=(Am.get(i)||0)+1;if(Am.set(i,s),s>=3){let u=n?(yield Ql()).find(p=>!Am.has(p.deviceId)):(yield Js()).find(p=>!Am.has(p.deviceId));u&&(this.log.warn("".concat(i," capture fail ").concat(s," times, change new ").concat(u.deviceId)),i=u.deviceId)}}return i})}close(){var n;super.close(),this._inputTrack&&(this._inputTrack.stop(),this.uninstallTrackEvent(this._inputTrack)),(n=this.manager)==null||n.removeInput(this)}},ec=Jx;Yt([$o(ar.INIT,"capture",{ignoreError:!0,sync:!0})],ec.prototype,"setStateToCapture",1),Yt([Pf()],ec.prototype,"capture",1),Yt([$o("capture","publish",{ignoreError:!0,success(){this.room.localTracks.add(this),Pt.emit(bt.LOCAL_TRACK_PUBLISHED,{track:this}),this.emit("4",{mediaType:this.strMediaType,state:"started",prevState:"starting"})},fail(n){let i="error",s=n.cause;s.message.includes("timeout")?i="timeout":s.code===Ht.API_CALL_ABORTED&&(i="api-call"),this.emit("4",{mediaType:this.strMediaType,state:"stopped",prevState:"starting",reason:i,error:s})}})],ec.prototype,"publish",1),Yt([$r(n=>function(){return Ke(this,null,function*(){let i=this.state==="publish"?"started":"starting";n.call(this),this.emit("4",{mediaType:this.strMediaType,state:"stopped",prevState:i,reason:"api-call"})})}),$o([],"capture",{sync:!0})],ec.prototype,"unpublish",1);var Am=new Map;Pt.on(bt.SWITCH_DEVICE_SUCCESS,n=>{n.track.deviceId&&Am.delete(n.track.deviceId)});var Xs=class extends ec{constructor(n){super(1,dne),oe(this,"mediaType",1),oe(this,"volume",0),oe(this,"profile",{echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0,sampleRate:48e3,channelCount:1,bitrate:40}),oe(this,"playerMuted",!0),oe(this,"pipeline"),this.manager=n,this.pipeline=new Bx(n),this.handleMicrophoneAdded=this.handleMicrophoneAdded.bind(this),this.handleMicrophoneRemoved=this.handleMicrophoneRemoved.bind(this)}getAudioLevel(){let n=(this.volume||super.getAudioLevel())*this.captureVolume;return n>1?1:n}get playerMediaTrack(){return this.mediaTrack}setInputMediaStreamTrack(n){return Ke(this,null,function*(){yield oa(Xs.prototype,this,"setInputMediaStreamTrack").call(this,n);let i=this.trackSettings||{};bn.addEnum({key:501701,value:i.channelCount||0,useUV:!1}),bn.addEnum({key:501702,value:i.sampleRate||0,useUV:!1}),bn.addEnum({key:502700,value:0});let{sampleRate:s,channelCount:u}=i;this._log.info("local audio track input ".concat(JSON.stringify({sampleRate:s,channelCount:u}))),this.pipeline.source.channelCount=u||1,this.pipeline.replaceSource(n),this.updatePlayingState(!!n)})}capture(n){let{deviceId:i,customSource:s,useExactDeviceId:u=!1}=n;return super.capture({video:!1,audio:!0,microphoneId:i,echoCancellation:this.profile.echoCancellation,autoGainControl:this.profile.autoGainControl,noiseSuppression:this.profile.noiseSuppression,sampleRate:this.profile.sampleRate,channelCount:this.profile.channelCount,useExactDeviceId:u,customSource:s})}switchDevice(n){return Ke(this,null,function*(){if(this.mediaTrack){if(this.deviceId===n&&(n!==Qp||(yield zx(this.groupId,this.label))))return;try{this.log.info("switchDevice audio to: ".concat(n)),this.mediaTrack&&this.mediaTrack.stop(),yield this.capture({deviceId:n,useExactDeviceId:!0}),this.room&&(yield this.room.replaceTrack(this)),Pt.emit(bt.SWITCH_DEVICE_SUCCESS,{track:this}),this.log.info("switch microphone success")}catch(i){throw this.log.error("switch microphone failed ".concat(i)),this.deviceId&&this.recapture(this.deviceId),i}}})}listenDeviceChange(){Uo&&!Uo.listeners("audioInputRemoved").includes(this.handleMicrophoneRemoved)&&Uo.on("audioInputRemoved",this.handleMicrophoneRemoved,this)}handleMicrophoneRemoved(n){return Ke(this,null,function*(){if(n.deviceId===this.deviceId){this.log.warn("current microphone is lost: ".concat(JSON.stringify(n))),Yr(this.userId,{eventId:2003,param1:6,streamType:1});let i=yield Js();i[0]?this.recapture(i[0].deviceId):Uo.on("audioInputAdded",this.handleMicrophoneAdded,this)}})}handleMicrophoneAdded(n){this.log.warn("microphone added: ".concat(JSON.stringify(n))),this.recapture(n.deviceId)}update3A(n){return Ke(this,arguments,function(i){var s=this;let{echoCancellation:u,noiseSuppression:p,autoGainControl:y}=i;return function*(){let E=!1;!_t(u)&&u!==s.profile.echoCancellation&&(s.profile.echoCancellation=u,E=!0),!_t(p)&&p!==s.profile.noiseSuppression&&(s.profile.noiseSuppression=p,E=!0),!_t(y)&&y!==s.profile.autoGainControl&&(s.profile.autoGainControl=y,E=!0),E&&s.deviceId&&(yield s.recapture(s.deviceId))}()})}get captureVolume(){return this.pipeline.volume}setCaptureVolume(n){this.pipeline.setVolume(n/100),this.pipeline.gain.node&&bn.addEnum({key:502700,value:2}),this.resetPlayerSource()}enableTrackANS(n){if(!this._inputTrack)return;let i=this._inputTrack.getConstraints();return i.noiseSuppression=n,this._inputTrack.applyConstraints(i).catch(s=>this._log.warn("".concat(n?"enable":"disable"," ANS failed "),s))}addDenoiser(n){var i;Su<=92&&((i=this.trackSettings)==null?void 0:i.sampleRate)!==48e3?this._log.warn("denoiser only support sampleRate 48000 before chrome 93"):(bn.addEnum({key:502700,value:1}),this.pipeline.denoiser.setNode(n),this.resetPlayerSource(),this.enableTrackANS(!1))}removeDenoiser(n){this.pipeline.denoiser.node===n&&(this.pipeline.denoiser.deleteNode(),this.resetPlayerSource(),this.enableTrackANS(!0))}resetPlayerSource(){this.player.setSourceNode(this.pipeline.gain.node||this.pipeline.denoiser.node||this.pipeline.source.node)}close(){this.pipeline.remove(),Uo.off("audioInputAdded",this.handleMicrophoneAdded,this),Uo.off("audioInputRemoved",this.handleMicrophoneRemoved,this),super.close()}recapture(n){return Ke(this,null,function*(){try{yield oa(Xs.prototype,this,"recapture").call(this,n)}catch(i){let s=(yield Js()).find(u=>u.deviceId!==n);if(!s)throw i;yield oa(Xs.prototype,this,"recapture").call(this,s.deviceId)}})}},Xx=class{constructor(n){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.dataView=n,this.isSEI&&(i?this.addPreventionByte():this.removePreventionByte())}addPreventionByte(){let n=this.seiPayloadStartIndex,i=this.dataView.byteLength-2,s=[],u=0;for(let y=n;y<=i;y++){let E=this.dataView.getInt8(y);switch(E){case 0:case 1:case 2:case 3:u===2&&(s.push(3),u=0),E==0?u++:u=0,s.push(E);break;default:u=0,s.push(E)}}s.push(this.dataView.getInt8(this.dataView.byteLength-1));let p=new DataView(new Uint8Array([...new Uint8Array(this.dataView.buffer).slice(0,n),...s]).buffer);this.dataView=p}removePreventionByte(){let n=this.seiPayloadStartIndex,i=this.dataView.byteLength-1,s=[],u=0;for(let y=n;y<=i;y++)switch(this.dataView.getInt8(y)){case 0:u++,s.push(this.dataView.getInt8(y));break;case 3:u!==2&&s.push(this.dataView.getInt8(y)),u=0;break;default:s.push(this.dataView.getInt8(y)),u=0}let p=new DataView(new Uint8Array([...new Uint8Array(this.dataView.buffer).slice(0,n),...s]).buffer);this.dataView=p}get isSEI(){return this.dataView.getUint8(4)===6}get seiPayloadStartIndex(){let n=6;for(let i=6;i<this.dataView.buffer.byteLength&&(n++,this.dataView.getUint8(i)===255);i++);return n}get seiPayloadType(){return this.isSEI?this.dataView.getUint8(5):null}get seiPayload(){if(!this.isSEI)return null;let n=0,i=6;for(let p=6;p<this.dataView.buffer.byteLength;p++){let y=this.dataView.getUint8(p);if(i++,y!==255){n+=y;break}n+=255}let s=new ArrayBuffer(n),u=new DataView(s);for(let p=0;p<s.byteLength;p++,i++)u.setInt8(p,this.dataView.getInt8(i));return u}},bne=class{constructor(){oe(this,"_seiMessageList",[]),oe(this,"_smallSeiMessageList",[]),oe(this,"_seiPayloadType",243)}encodeSEINalu(n){let i=n.byteLength,s=parseInt(String(i/255),10),u=i%255,p=[];p.push(0,0,0,1,6,this._seiPayloadType);for(let E=0;E<s;E++)p.push(255);p.push(u);let y=new DataView(n);return p.push(...new Uint8Array(y.buffer)),p.push(128),new Xx(new DataView(new Uint8Array(p).buffer),!0)}sendSEI(n,i){i!=null&&i.seiPayloadType&&(this._seiPayloadType=i.seiPayloadType),this._seiMessageList.push(n),i!=null&&i.small&&this._smallSeiMessageList.push(n)}getNaluCount(n){let i=0,s=0,u=new DataView(n);for(let p=0;p<n.byteLength;p++)switch(u.getUint8(p)){case 0:i++;break;case 1:(i===2||i===3)&&s++,i=0;break;default:i=0}return s}encode(n,i){let s=i?this._smallSeiMessageList:this._seiMessageList;if(s.length>0&&n.data.byteLength>0){let u=9-this.getNaluCount(n.data);if(u<=0)return 0;let p=s.splice(0,u).reverse().map(this.encodeSEINalu.bind(this)),y=p.reduce((K,z)=>K+z.dataView.byteLength,0),E=new ArrayBuffer(y+n.data.byteLength),A=new DataView(E),w=new DataView(n.data),V=0;for(let K=0;K<p.length;K++)for(let z=0;z<p[K].dataView.byteLength;z++)A.setInt8(V++,p[K].dataView.getInt8(z));for(let K=0;K<n.data.byteLength;K++)A.setInt8(V++,w.getInt8(K));return n.data=E,p.length}return 0}},Mi=class extends ec{constructor(n){super(arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,Jl),oe(this,"profile",{width:640,height:480,frameRate:15,bitrate:500}),oe(this,"states",{bytesSent:0,packetsSent:0,framesEncoded:0,framesSent:0,frameWidth:0,frameHeight:0}),oe(this,"small"),oe(this,"isNeedToSetBandwidth"),oe(this,"muteImage"),oe(this,"manager"),oe(this,"_seiCodec",new bne),this.manager=n;let i=()=>{this.isAllowed2k4k(this.profile)?this.room&&this.settings.height>=1440&&this.state==="publish"&&this.room.sendAbilityStatus({"2k4k":1}):(this.log.warn("Resolution is reset to 1080p, need to upgrade ability here https://cloud.tencent.com/document/product/647/85386"),this.setProfile(Yn(hn({},this.profile),{width:1920,height:1080})),this.applyProfile())};this.on("input-media-track-changed",i),this.on("publish",i),this.handleCameraAdded=this.handleCameraAdded.bind(this),this.handleCameraRemoved=this.handleCameraRemoved.bind(this)}get facingMode(){if(kf&&this.mediaTrack)return this.mediaTrack.getSettings().facingMode}get isQosClearFirst(){var n;return((n=this._inputTrack)==null?void 0:n.contentHint)==="detail"}setMute(n){return Ke(this,null,function*(){var i,s,u;if(br(n)){if(this.muteImage===n)return;yield(i=this.manager)==null?void 0:i.deleteWatermark("mute"),yield(s=this.manager)==null?void 0:s.setWatermark({x:0,y:0,width:this.settings.width,height:this.settings.height,type:"mute",zIndex:999,imageUrl:n}),this.muteImage=n,oa(Mi.prototype,this,"setMute").call(this,!1)}else yield(u=this.manager)==null?void 0:u.deleteWatermark("mute"),this.muteImage=void 0,oa(Mi.prototype,this,"setMute").call(this,n)})}capture(n){let{deviceId:i,facingMode:s,useExactDeviceId:u=!1,customSource:p}=n;return super.capture({audio:!1,video:!0,facingMode:s||this.facingMode,cameraId:i,width:this.profile.width,height:this.profile.height,frameRate:this.profile.frameRate,useExactDeviceId:u,customSource:p})}setProfile(n){let i=hn({},n),s=i.width>i.height;i.width*i.height<=19200&&vi&&bu&&(this.log.warn("resolution is ".concat(i.width,"*").concat(i.height,", fallback to 240*180")),i.width=s?240:180,i.height=s?180:240,i.bitrate=Math.max(i.bitrate,150)),i.width*i.height>921600&&WM&&(i.width=s?1280:720,i.height=s?720:1280,this.log.warn("reset to 1280 * 720 on iOS 13~14")),i.bitrate&&(this.isNeedToSetBandwidth=i.bitrate!==this.profile.bitrate),this.isAllowed2k4k(this.profile)?super.setProfile(i):(this.log.warn("Resolution is reset to 1080p, need to upgrade ability here https://cloud.tencent.com/document/product/647/85386"),super.setProfile(Yn(hn({},this.profile),{width:1920,height:1080})))}applyProfile(){var n;if(!this.mediaTrack)return;let i=this.settings;return i.height!==this.profile.height||i.width!==this.profile.width||i.frameRate!==this.profile.frameRate?(n=this.mediaTrack)==null?void 0:n.applyConstraints({width:this.profile.width,height:this.profile.height,frameRate:this.profile.frameRate}).then(()=>{if(this.manager&&this.manager.changeInput(this),this.room&&this.settings.height>=1440&&this.state==="publish"&&this.room.sendAbilityStatus({"2k4k":1}),this.isNeedToSetBandwidth&&this.room&&this.room.setBandWidth)return this.isNeedToSetBandwidth=!1,this.room.setBandWidth({bandwidth:this.profile.bitrate,type:Ce.VIDEO,videoType:Ce.BIG})}):void 0}get settings(){let n={width:this.profile.width,height:this.profile.height,frameRate:this.profile.frameRate};return kf&&this.mediaTrack&&Object.assign(n,this.mediaTrack.getSettings()),n}get scaleResolutionDownBy(){let{settings:n}=this;return n.width===this.profile.width&&n.height===this.profile.height?1:cx()&&this.profile.width>this.profile.height&&n.height>n.width?Math.max(n.width/this.profile.height,n.height/this.profile.width,1):Math.max(n.width/this.profile.width,n.height/this.profile.height,1)}isAllowed2k4k(n){var i;return!(this.room&&this.room.scheduleResult&&!this.isScreen&&!(n.height*n.width<3686400))||((i=this.room.scheduleResult.trtcAutoConf)==null?void 0:i["2k4k"])===1}isNeedToSwitchDevice(n){return!(!this.mediaTrack||this.deviceId===n||this.facingMode===n)}switchDevice(n){return Ke(this,null,function*(){try{if(!this.isNeedToSwitchDevice(n))return;let i={useExactDeviceId:!0};n==="user"||n==="environment"?i.facingMode=n:i.deviceId=n,this.mediaTrack.stop(),yield this.capture(i),Pt.emit(bt.SWITCH_DEVICE_SUCCESS,{track:this}),this.log.info("switch camera success")}catch(i){throw this.log.error("switch camera failed ".concat(i)),this.deviceId&&this.recapture(this.deviceId),i}})}listenDeviceChange(){Uo&&!Uo.listeners("videoInputRemoved").includes(this.handleCameraRemoved)&&Uo.on("videoInputRemoved",this.handleCameraRemoved,this)}handleCameraRemoved(n){return Ke(this,null,function*(){if(n.deviceId===this.deviceId){this.log.warn("current camera is lost: ".concat(JSON.stringify(n))),Yr(this.userId,{eventId:2003,param1:7,streamType:2});let i=yield Ql();i[0]?this.recapture(i[0].deviceId):Uo.on("videoInputAdded",this.handleCameraAdded,this)}})}handleCameraAdded(n){return Ke(this,null,function*(){this.log.warn("camera added: ".concat(JSON.stringify(n))),this.recapture(n.deviceId)})}encodeFrame(n,i){try{let s=this._seiCodec.encode(n,!!i);s&&this._log.debug("".concat(s," sei sent"))}catch(s){this._log.warn(s)}return n}get enableEncodeFrame(){var n;return!((n=this.room)==null||!n.enableSEI)&&Ru}sendSEI(n,i){this._seiCodec.sendSEI(n,Object.assign({small:!!this.small},i))}play(n,i){return Ke(this,null,function*(){return _t(this.mirror)&&!this.isScreen&&this.setMirror("view"),oa(Mi.prototype,this,"play").call(this,n,i)})}close(){Uo.off("videoInputAdded",this.handleCameraAdded,this),Uo.off("videoInputRemoved",this.handleCameraRemoved,this),super.close()}recapture(n){return Ke(this,null,function*(){try{yield oa(Mi.prototype,this,"recapture").call(this,n)}catch(i){let s=(yield Ql()).find(u=>u.deviceId!==n);if(!s)throw i;yield oa(Mi.prototype,this,"recapture").call(this,s.deviceId)}})}},Qx=fx();if(navigator.mediaDevices&&"setCaptureHandleConfig"in navigator.mediaDevices)try{navigator.mediaDevices.setCaptureHandleConfig({handle:Qx,exposeOrigin:!0,permittedOrigins:["*"]})}catch{}var ww,Sne=function(n){return Ke(this,null,function*(){let i=null,s=function(y){let E={preferCurrentTab:y.preferDisplaySurface==="current-tab"||!!y.captureElement,systemAudio:"include",selfBrowserSurface:"include",surfaceSwitching:"include"},A={width:ls?{max:y.width}:{ideal:y.width,max:y.width},height:ls?{max:y.height}:{ideal:y.height,max:y.height},frameRate:y.frameRate,displaySurface:y.preferDisplaySurface||"monitor"};if(E.video=A,y.systemAudio){let{echoCancellation:w=!0,noiseSuppression:V=!1,autoGainControl:K=!1}=y;E.audio={echoCancellation:w,noiseSuppression:V,autoGainControl:K,sampleRate:48e3}}return E}(n);Gt.info("getDisplayMedia with constraints: ".concat(JSON.stringify(s)));let u=yield navigator.mediaDevices.getDisplayMedia(s);n.systemAudio&&u.getAudioTracks().length===0&&(f_&&Su<74||ls||jr)&&Gt.warn("Your browser not support capture system audio");let p=u.getVideoTracks()[0];if(p){if(n.frameRate)try{yield p.applyConstraints({frameRate:{min:n.frameRate,ideal:n.frameRate},width:n.width,height:n.height})}catch(y){Gt.warn("screen applyConstraints failed: ".concat(y))}n.captureElement&&(yield function(y,E){return Ke(this,null,function*(){var A;if("CropTarget"in window&&"fromElement"in CropTarget&&wr(y.cropTo))try{if(((A=y.getCaptureHandle())==null?void 0:A.handle)!==Qx)return;let w=yield CropTarget.fromElement(E);yield y.cropTo(w)}catch(w){Gt.warn("cropTo target failed ".concat(w))}})}(p,n.captureElement))}if(n.audio){let y=function(E){let A={echoCancellation:E.echoCancellation,autoGainControl:E.autoGainControl,noiseSuppression:E.noiseSuppression,sampleRate:E.sampleRate,channelCount:E.channelCount};return _t(E.microphoneId)||(A.deviceId=E.microphoneId),{audio:A,video:!1}}(n);Gt.info("getUserMedia with constraints: ".concat(JSON.stringify(y))),i=yield navigator.mediaDevices.getUserMedia(y),u.addTrack(i.getAudioTracks()[0])}return u})},Pu=class extends Mi{constructor(n){super(n,2),oe(this,"profile",{width:1920,height:1080,frameRate:5,bitrate:1600}),oe(this,"objectFit","contain"),oe(this,"isScreen",!0),this._log.id="s-".concat(this._log.id)}capture(n){return Ke(this,arguments,function(i){var s=this;let{systemAudio:u=!1,autoGainControl:p,echoCancellation:y,noiseSuppression:E,audioTrack:A,videoTrack:w,captureElement:V,preferDisplaySurface:K}=i;return function*(){try{let z;return w||A?(z=new MediaStream,w&&z.addTrack(w),A&&z.addTrack(A)):z=yield Sne({audio:!1,systemAudio:u,width:s.profile.width,height:s.profile.height,frameRate:s.profile.frameRate,autoGainControl:p,echoCancellation:y,noiseSuppression:E,captureElement:V,preferDisplaySurface:K}),yield s.setInputMediaStreamTrack(z.getVideoTracks()[0]),z}catch(z){throw s.log.error("getDisplayMedia error observed ".concat(z)),z instanceof on?z:new on({code:Ht.INITIALIZE_FAILED,name:z.name,message:z.message})}}()})}switchDevice(n){return Ke(this,null,function*(){throw new Error("Method not implemented.")})}},Om=class extends Xs{constructor(n){super(n),this._log.id="s-".concat(this._log.id)}},Ene=class extends ane{constructor(n){super(),this.room=n,oe(this,"_localAudioTrack"),oe(this,"_localScreenAudioTrack"),oe(this,"log",Gt.createLogger({id:"am"})),oe(this,"denoiser"),n&&(this.log.setUserId(n.userId),this.log.setSdkAppId(n.sdkAppId))}get _localAudioPipline(){var n;return(n=this._localAudioTrack)==null?void 0:n.pipeline}dump(n){var i,s;if(!this._localAudioTrack)return;let u=[],p=[];(i=this._localAudioPipline)!=null&&i.source.node&&(u.push(this._localAudioPipline.source.node),p.push("mic")),(s=this._localAudioPipline)!=null&&s.denoiser.node&&(u.push(this._localAudioPipline.denoiser.node),p.push("mic-processed")),this.mixWeight>1&&(u.push(this.audioContext.createMediaStreamSource(this._localAudioPipline.stream)),p.push("mix")),this.log.info("dump audio track ".concat(p,", duration: ").concat(n));let y=new AbortController,E=[],A=setTimeout(()=>{this.log.info('dump audio track complete please input "download()" to download.'),y.abort("timeout")},1e3*n),w=()=>{for(let K=0;K<p.length;K++){let z=URL.createObjectURL(new Blob(E[K])),ue=document.createElement("a");ue.href=z,ue.download="".concat(p[K],".pcm"),ue.style.display="none",document.body.appendChild(ue),ue.click(),URL.revokeObjectURL(z),ue.remove()}clearTimeout(A),y.abort("download")},V=function(K){return Ke(this,null,function*(){let z=Xl();ww||(ww=gw(z,URL.createObjectURL(new Blob(["registerProcessor('dumper', class extends AudioWorkletProcessor {process(inputs) {this.port.postMessage(inputs);return true;}});"],{type:"application/javascript"})))),yield ww;let ue=new AudioWorkletNode(z,"dumper",{numberOfInputs:K.length,numberOfOutputs:0});return K.forEach((ve,Oe)=>ve.connect(ue,0,Oe)),new ReadableStream({start(ve){ue.port.onmessage=Oe=>{ve.enqueue(Oe.data)}},cancel(){K.forEach(ve=>ve.disconnect(ue)),ue.port.close()}})})}(u).then(K=>K.pipeTo(new WritableStream({write(z){z.forEach((ue,ve)=>E[ve]=E[ve]?E[ve].concat(ue[0]):[ue[0]])}}),y).catch(z=>w));return{then:V.then.bind(V),download:w}}get hasScreenAudioTrack(){return this._localScreenAudioTrack!==null}get hasAudioTrack(){return this._localAudioTrack!==null}changeInput(n){if(n instanceof Om)this._localScreenAudioTrack=n,n.pipeline.connect(),this.mixOnChange();else if(n instanceof Xs)this._localAudioTrack=n,this.denoiser&&n.addDenoiser(this.denoiser),n.pipeline.connect(),this.mixOnChange();else if(n instanceof Iw)return n.setOutputMediaStreamTrack(n.mediaTrack)}mixOnChange(){var n,i;(n=this._localAudioTrack)==null||n.setOutputMediaStreamTrack(this.mixWeight>1?this.mixTrack:this._localAudioTrack.mediaTrack),(i=this._localScreenAudioTrack)==null||i.setOutputMediaStreamTrack(this.mixWeight>1?this.mixTrack:this._localScreenAudioTrack.mediaTrack)}removeInput(n){n instanceof Om?delete this._localScreenAudioTrack:n instanceof Xs&&delete this._localAudioTrack}addDenoiser(n){var i;this.denoiser=n,(i=this._localAudioTrack)==null||i.addDenoiser(n)}removeDenoiser(n){var i;delete this.denoiser,(i=this._localAudioTrack)==null||i.removeDenoiser(n)}destroy(){this.close()}};function Zx(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return $r((s,u)=>function(){for(var p=arguments.length,y=new Array(p),E=0;E<p;E++)y[E]=arguments[E];return new Promise((A,w)=>{let V=setTimeout(()=>{let K=new on({code:Ht.API_CALL_TIMEOUT,message:"checkPendingPromise ".concat(u,"() timeout ").concat(n,"s")});Gt.warn(K),i===2?w(K):i===1&&A()},1e3*n);s.apply(this,y).then(A,w).finally(()=>{clearTimeout(V)})})})}var eV=class extends Tw{constructor(n,i,s){super({userId:i.userId,sdkAppId:n.sdkAppId,mediaType:s,room:n}),this.room=n,this.user=i,oe(this,"tinyId"),oe(this,"isRemote",!0),oe(this,"jitterBufferDelay",0),this.tinyId=i.tinyId}setMute(n){this.hasFlag&&super.setMute(n)}setInputMediaStreamTrack(n){super.setInputMediaStreamTrack(n),this.hasFlag&&this.isSubscribed&&this.player.setTrack(this.outMediaTrack)}waitHasMediaTrack(){return new Promise(n=>{this.mediaTrack?n():this.once("input-media-track-changed",n)})}get isSubscribing(){return this.state.toString()==="subscribeing"}get isSubscribed(){return this.state===eV.STATE_SUBSCRIBE}subscribe(n){return n}unsubscribe(){this.player.setTrack(null),this.streamType==="main"&&this.kind==="video"&&this.room.changeType(!1,this.user)}updatePlayingState(n){if(this.isPlayCalled&&this.player.isStopped===n){if(n&&(!this.isSubscribed||!this.hasFlag||!this.outMediaTrack))return void this.log.info("abort play, isSubscribed:".concat(this.isSubscribed," hasFlag:").concat(this.hasFlag," hasTrack:").concat(!!this.outMediaTrack));super.updatePlayingState(n)}}onFlagChanged(){this.updatePlayingState(this.hasFlag)}onTrackMuted(){this.hasFlag&&(this.isSubscribed||this.isSubscribing)&&this.isPlayCalled&&super.onTrackMuted()}onTrackUnmuted(){this.hasFlag&&(this.isSubscribed||this.isSubscribing)&&this.isPlayCalled&&super.onTrackUnmuted()}onTrackEnded(){this.hasFlag&&(this.isSubscribed||this.isSubscribing)&&this.isPlayCalled&&super.onTrackEnded()}},tc=eV;oe(tc,"STATE_SUBSCRIBE","subscribe"),Yt([Zx(5,1)],tc.prototype,"waitHasMediaTrack",1),Yt([$o(ar.INIT,tc.STATE_SUBSCRIBE,{success(){this.log.info("subscribed"),Pt.emit(bt.REMOTE_TRACK_SUBSCRIBED,{track:this}),this.updatePlayingState(!0)},ignoreError:!0})],tc.prototype,"subscribe",1),Yt([$o(tc.STATE_SUBSCRIBE,ar.INIT,{sync:!0,success(){this.log.info("unsubscribed"),this.updatePlayingState(!1),Pt.emit(bt.REMOTE_TRACK_UNSUBSCRIBED,{track:this})}})],tc.prototype,"unsubscribe",1);var Iw=class extends tc{constructor(n,i){super(n,i,1),oe(this,"volume",0),oe(this,"mediaType",1),oe(this,"stat",{bytesReceived:0,packetsReceived:0,packetsLost:0,end2EndDelay:0,jitterBufferDelay:0}),oe(this,"audioDecoder"),this.manager=n.audioManager}onPlayerError(n){if(this.enableDecodeFrame){this.room.enableInsertableStreams();let i=new AudioDecoder({error:s=>this._log.error(s),output:s=>{this.player.write(s)}});i.configure({codec:"opus",sampleRate:48e3,numberOfChannels:1}),this._log.info("audioDecoder state:".concat(i.state)),this.audioDecoder=i}}get enableDecodeFrame(){var n,i;return((i=(n=this.player.element)==null?void 0:n.error)==null?void 0:i.code)===MediaError.MEDIA_ERR_DECODE&&Ru&&ow().AudioDecoder}decodeFrame(n){var i;return((i=this.audioDecoder)==null?void 0:i.state)==="configured"&&this.audioDecoder.decode(new EncodedAudioChunk({data:n.data,timestamp:n.timestamp,type:"key"})),n}getAudioLevel(){let n=this.volume||super.getAudioLevel();return n>1?1:n}get hasFlag(){return this.user.muteState.hasAudio}isFlagChanged(n){let i=n.hasAudio&&!n.audioMuted;return this.hasFlag||(this.volume=0),this.hasFlag!==i}},Tne=[-1,-1,1,-1,-1,1,1,1],Cne=[0,0,1,0,0,1,1,1],Du=class extends ar{constructor(n,i){if(super(),this.context=n,oe(this,"name"),oe(this,"input"),oe(this,"output"),oe(this,"texture"),oe(this,"ctx2d",null),oe(this,"fbo"),oe(this,"width",0),oe(this,"height",0),oe(this,"x",0),oe(this,"y",0),oe(this,"program"),oe(this,"vertexShader"),oe(this,"fragmentShader"),oe(this,"totalFrames",0),oe(this,"dropFrames",0),oe(this,"matchInputSize",!0),oe(this,"texCoordBuffer"),oe(this,"positionBuffer"),oe(this,"lastInfo",{name:"",timestamp:0,totalFrames:0,x:0,y:0,width:0,height:0,fps:0}),oe(this,"cost",0),oe(this,"_canvas",null),oe(this,"_image"),this.context.on("disconnect",this.close,this),this.name=i.name,this.matchInputSize=i.matchInputSize!==!1,this.width=i.width||n.width,this.height=i.height||n.height,this._image=i.image,n instanceof nc){if(n.ctx&&i.create2d){let s=document.createElement("canvas"),u=typeof s.transferControlToOffscreen=="function"?s.transferControlToOffscreen():s;u.width=this.width,u.height=this.height,this.ctx2d=u.getContext("2d"),this._image=u,this._canvas=u}}else try{let s=n.ctx;this.texCoordBuffer=this.createBuffer(Cne),this.positionBuffer=this.createBuffer(Tne),i.createTexture!==!1&&(this.texture=s.createTexture(),this.useTexture(),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.pixelStorei(s.PACK_ALIGNMENT,1),s.pixelStorei(s.UNPACK_ALIGNMENT,1)),i.useFbo&&(this.fbo=s.createFramebuffer(),this.useBufferFrame(),this.useTexture(),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,this.width,this.height,0,s.RGBA,s.UNSIGNED_BYTE,null),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,this.texture,0)),i.useDefaultProgram?this.program=n.defaultProgam:(i.vertexShaderSource||i.fragmentShaderSource)&&(this.vertexShader=i.vertexShaderSource?n.createShader(s.VERTEX_SHADER,i.vertexShaderSource):n.defaultVShader,this.fragmentShader=i.fragmentShaderSource?n.createShader(s.FRAGMENT_SHADER,i.fragmentShaderSource):n.defaultFShader,this.program=n.createProgram(this.vertexShader,this.fragmentShader))}catch(s){this.context.destroy(s)}}get image(){return this._image}set image(n){this._image=n}createFramebuffer(n){let i=this.context.ctx,s=i.createFramebuffer();return i.bindFramebuffer(i.FRAMEBUFFER,s),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n,0),s}connect(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];return n.addInput(this,...s),this.output=n,n}addInput(n){this.input=n,this.matchInputSize&&n.width&&n.height&&this.resize(n.width,n.height)}requestFrame(n){let i=Date.now();return!!(this.context instanceof us&&this.render(n)||this.context instanceof nc&&this.render2d(n))&&(this.totalFrames++,this.cost=Date.now()-i,!0)}render2d(n){var i;return!((i=this.input)==null||!i.requestFrame(n))&&this.draw2d(this.input.image,0,0,this.width,this.height)}disconnect(){for(var n,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];(n=this.output)==null||n.removeInput(this,...s),delete this.output}removeInput(n){delete this.input}close(){var n,i;if(this.context.off("disconnect",this.close,this),(n=this.output)==null||n.removeInput(this),delete this.output,(i=this.input)==null||i.disconnect(),this.context instanceof us){let s=this.context.ctx;s.deleteBuffer(this.texCoordBuffer),s.deleteBuffer(this.positionBuffer),this.fbo&&s.deleteFramebuffer(this.fbo),this.texture&&s.deleteTexture(this.texture),this.vertexShader&&this.vertexShader!==this.context.defaultVShader&&s.deleteShader(this.vertexShader),this.fragmentShader&&this.fragmentShader!==this.context.defaultFShader&&s.deleteShader(this.fragmentShader),this.program&&this.program!==this.context.defaultProgam&&s.deleteProgram(this.program)}this._canvas&&(this._canvas.width=0,this._canvas.height=0,this.ctx2d=null),this.removeAllListeners()}useTexture(){this.useTextures(this.texture)}useInputTexture(){var n;this.useTextures((n=this.input)==null?void 0:n.texture)}useTextures(){let n=this.context.ctx;for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];s.forEach((p,y)=>{p&&(n.activeTexture(n.TEXTURE0+y),n.bindTexture(n.TEXTURE_2D,p))})}useProgram(){this.context.ctx.useProgram(this.program)}useBufferFrame(){let n=this.context.ctx;n.bindFramebuffer(n.FRAMEBUFFER,this.fbo||null)}createBuffer(n){let i=this.context.ctx,s=i.createBuffer();return i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,new Float32Array(n),i.STATIC_DRAW),s}setTexBuffer(n){let i=this.context.ctx;i.bindBuffer(i.ARRAY_BUFFER,this.texCoordBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(n),i.STATIC_DRAW)}setPosBuffer(n){let i=this.context.ctx;i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(n),i.STATIC_DRAW)}changeBufferData(n,i){let s=this.context.ctx;s.bindBuffer(s.ARRAY_BUFFER,n),s.bufferData(s.ARRAY_BUFFER,new Float32Array(i),s.STATIC_DRAW)}setAttributes(){let n=this.context.ctx;for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];s.forEach((p,y)=>{n.enableVertexAttribArray(y),n.bindBuffer(n.ARRAY_BUFFER,p),n.vertexAttribPointer(y,2,n.FLOAT,!1,0,0)})}getVertexPoint(n,i){return[n/this.width*2-1,i/this.height*2-1]}layout2texCoords(n){return[...this.getVertexPoint(n.x,n.y),...this.getVertexPoint(n.x+n.width,n.y),...this.getVertexPoint(n.x,n.y+n.height),...this.getVertexPoint(n.x+n.width,n.y+n.height)]}resize(n,i){if(this.width!==n||this.height!==i){if(this.width=n,this.height=i,this._canvas&&(this._canvas.width=n,this._canvas.height=i),this.texture&&this.fbo){this.useTexture();let s=this.context.ctx;s.texImage2D(s.TEXTURE_2D,0,s.RGBA,n,i,0,s.RGBA,s.UNSIGNED_BYTE,null)}this.output&&this.output.matchInputSize&&this.output.resize(n,i)}}draw(n,i){this.setAttributes(n||this.positionBuffer,i||this.texCoordBuffer);let s=this.context.ctx;s.drawArrays(s.TRIANGLE_STRIP,0,4)}draw2d(n,i,s,u,p){return!(!this.ctx2d||!n)&&(n instanceof ImageData?this.ctx2d.putImageData(n,i,s):this.ctx2d.drawImage(n,i,s,u,p),!0)}getInfo(){var n;let{totalFrames:i,x:s,y:u,width:p,height:y,name:E,cost:A}=this,w=Date.now(),V=(i-this.lastInfo.totalFrames)/((w-this.lastInfo.timestamp)/1e3)|0;return this.lastInfo={totalFrames:i,x:s,y:u,width:p,height:y,timestamp:w,fps:V,name:E,cost:A},hn({parent:(n=this.input)==null?void 0:n.getInfo()},this.lastInfo)}createTexture(n){let i=this.context.ctx,s=i.createTexture();return this.useTextures(s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.pixelStorei(i.PACK_ALIGNMENT,1),i.pixelStorei(i.UNPACK_ALIGNMENT,1),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n),s}};Yt([$o(ar.INIT,"connected",{sync:!0})],Du.prototype,"connect",1),Yt([$o("connected",ar.INIT,{ignoreError:!0,sync:!0})],Du.prototype,"disconnect",1),Yt([$o([],"closed",{sync:!0})],Du.prototype,"close",1);var wne=[0,1,1,1,0,0,1,0],tV=class extends Du{constructor(n,i){super(n,Object.assign({useDefaultProgram:!0,createTexture:!1,name:"destination"},i)),oe(this,"_intervalId",0),oe(this,"_sequence",0),oe(this,"checkGLError",!1),n instanceof nc?this.ctx2d=n.ctx:n.available&&(i==null?void 0:i.mirrorUpAndDown)&&this.setTexBuffer(wne)}start(n){this._intervalId=Zr.run("intervalInWorker",()=>{if(n!==this.context.frameRate&&(Zr.clearTask(this._intervalId),this.start(this.context.frameRate)),this.requestFrame(this._sequence++),this.checkGLError&&this.context instanceof us){let i=this.context.ctx.getError();i&&this.context.destroy(new Error("".concat(this.name," req ").concat(this._sequence," render ").concat(this.totalFrames," faild ").concat(i)))}},{fps:this.context.frameRate})}render(n){var i;return!((i=this.input)==null||!i.requestFrame(n))&&(this.useProgram(),this.useBufferFrame(),this.useInputTexture(),this.draw(),!0)}addInput(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];super.addInput(n,...s),this.start(this.context.frameRate)}removeInput(n){super.removeInput(n),Zr.clearTask(this._intervalId)}resize(n,i){super.resize(n,i),this.context.setSize(n,i)}},kw=class extends tV{constructor(n,i){super(n,i),oe(this,"_videoTrack"),[this._videoTrack]=n._canvas.captureStream(n.frameRate).getVideoTracks();let s=u=>{var p;let y=()=>{var A;return(A=this._videoTrack)==null?void 0:A.removeEventListener(u,E)},E=()=>{y(),this.context.destroy(new Error("video track ".concat(u)))};this.once("closed",y),(p=this._videoTrack)==null||p.addEventListener(u,E)};n instanceof us&&s("mute"),s("ended")}get videoTrack(){return this._videoTrack}close(){var n;super.close(),(n=this._videoTrack)==null||n.stop(),delete this._videoTrack}},Ine=class extends kw{render(n){var i;return!((i=this.input)==null||!i.requestFrame(n))}},kne=class extends kw{constructor(n,i){super(n,{name:"smallDestination"}),this.resolution=i}resize(n,i){let s,u=n*i,p=this.resolution.width*this.resolution.height;Gt.info("big res: ".concat(n,"*").concat(i," small res: ").concat(this.resolution.width,"*").concat(this.resolution.height," ")),u>p?s=u/p:(Gt.warn("Small stream resolution is not smaller than big stream, which is invalid. big: ".concat(n," * ").concat(i," small: ").concat(this.resolution.width," * ").concat(this.resolution.height)),s=u/19200),super.resize(n/Math.sqrt(s),i/Math.sqrt(s))}},nV=class extends Du{constructor(n,i){super(n,hn({name:"imageSource"},i)),oe(this,"_lastImage"),oe(this,"_totalFrames",0),oe(this,"_autoResize",!1),this._autoResize=(i==null?void 0:i.autoResize)!==!1}_render(n,i){var s,u;let{width:p,height:y}=this;if(this.image instanceof HTMLVideoElement){if(wr(this.image.getVideoPlaybackQuality)&&!Tf){let E=this.image.getVideoPlaybackQuality().totalVideoFrames;if(((u=(s=this.image.srcObject)==null?void 0:s.getVideoTracks()[0])==null?void 0:u.muted)===!0||this._totalFrames===E)return!1;this._totalFrames=E,this.dropFrames=this._totalFrames-this.totalFrames}if({videoWidth:p,videoHeight:y}=this.image,!p||!y)return!1;this.image.width=p,this.image.height=y}else if(this.image instanceof HTMLImageElement||this.image instanceof ImageData||this.image instanceof ImageBitmap){if({width:p,height:y}=this.image,this.image!==this._lastImage)this._lastImage=this.image;else if(p===this.width&&y===this.height)return!1}else(this.image instanceof HTMLCanvasElement||this.image instanceof OffscreenCanvas)&&({width:p,height:y}=this.image,this._lastImage=this.image);if(!this._autoResize)return!0;if(this.width===p&&this.height===y&&this.totalFrames){if(i){this.useTexture();let E=this.context.ctx;E.texSubImage2D(E.TEXTURE_2D,0,0,0,E.RGBA,E.UNSIGNED_BYTE,this.image)}}else{if(i){this.useTexture();let E=this.context.ctx;E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,this.image)}this.resize(p,y)}return!0}render(n){return this._render(n,!0)}render2d(n){return this._render(n,!1)}},rV=class extends nV{constructor(n,i,s){super(n,s),this._player=i,this.name="videoPlayerSource"}get image(){return this._player.element}},oV=class extends rV{constructor(n,i,s){super(n,new Jl({id:s.name,track:i,muted:!0,container:null,objectFit:"contain",log:s.logger}),s),this.name="videoTrackSource",this._player.play()}get image(){return this._player.element}replaceTrack(n){this._player.setTrack(n),this._player.play()}close(){super.close(),this._player.stop()}},iV=class extends ar{constructor(n){super(),oe(this,"frameRate"),oe(this,"_canvas"),oe(this,"log"),oe(this,"hasAlpha",!1),oe(this,"name"),this.name=n.name,this.log=n.logger.createChild({id:"vc-".concat(this.name)}),this.frameRate=n.frameRate}set width(n){this._canvas&&(this._canvas.width=n)}get width(){var n;return((n=this._canvas)==null?void 0:n.width)||0}set height(n){this._canvas&&(this._canvas.height=n)}get height(){var n;return((n=this._canvas)==null?void 0:n.height)||0}setSize(n,i){this._canvas&&(this._canvas.width=n,this._canvas.height=i)}createVideoTrackSource(n,i){return new oV(this,n,{logger:this.log,name:i})}createVideoTrackDestination(n){return new kw(this,n)}createVideoImageSource(n,i){return new nV(this,i?Object.assign(i,{logger:this.log,image:n}):{logger:this.log,image:n})}createVideoPlayerSource(n,i){return new rV(this,n,i?Object.assign(i,{logger:this.log}):{logger:this.log})}get available(){return this.state==="created"}disconnect(){this.emit("disconnect")}},Rne={alpha:!0,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0,powerPreference:"low-power"},us=class extends iV{constructor(){super(...arguments),oe(this,"defaultProgam"),oe(this,"defaultVShader"),oe(this,"defaultFShader"),oe(this,"ctx")}create(){if(this._canvas||(this._canvas=document.createElement("canvas")),this.ctx=this._canvas.getContext("webgl2",Rne),!this.ctx)throw new Error("webgl2 not supported");this.defaultVShader=this.createShader(this.ctx.VERTEX_SHADER,`
// \u9876\u70B9\u7740\u8272\u5668
attribute vec4 a_position;
attribute vec2 a_texCoord;
varying vec2 v_texCoord;

void main() {
  gl_Position = a_position;
  v_texCoord = a_texCoord;
}
`),this.defaultFShader=this.createShader(this.ctx.FRAGMENT_SHADER,`
// \u7247\u5143\u7740\u8272\u5668
precision mediump float;
varying vec2 v_texCoord;
uniform sampler2D u_texture;

void main() {
  gl_FragColor = texture2D(u_texture, v_texCoord);
} `),this.defaultProgam=this.createProgram(this.defaultVShader,this.defaultFShader),this._canvas.addEventListener("webglcontextlost",()=>{this.destroy(new Error("webgl context lost"))}),this.log.info("video context created use webgl")}destroy(n){return this.disconnect(),this.log.info("video context destroy ".concat(n?": ".concat(n):"")),this.ctx&&(this.ctx.deleteShader(this.defaultVShader),this.ctx.deleteShader(this.defaultFShader),this.ctx.deleteProgram(this.defaultProgam),delete this.ctx),n}set width(n){var i;(i=this.ctx)==null||i.viewport(0,0,n,this.height),super.width=n}set height(n){var i;(i=this.ctx)==null||i.viewport(0,0,this.width,n),super.height=n}setSize(n,i){var s;(s=this.ctx)==null||s.viewport(0,0,n,i),super.setSize(n,i)}createShader(n,i){let s=this.ctx,u=s.createShader(n);return s.shaderSource(u,i),s.compileShader(u),u}createProgram(n,i){let s=this.ctx,u=s.createProgram();return s.attachShader(u,n),s.attachShader(u,i),s.linkProgram(u),s.getProgramParameter(u,s.LINK_STATUS)||this.log.error(s.getProgramInfoLog(u)),u}};Yt([$o(ar.INIT,"created",{sync:!0})],us.prototype,"create",1),Yt([$o("created",ar.INIT,{ignoreError:!0,sync:!0,success(n){n&&this.emit("unavailable",n),this.removeAllListeners()}})],us.prototype,"destroy",1);var nc=class extends iV{constructor(){super(...arguments),oe(this,"ctx")}create(n){if(this.hasAlpha=n.alpha,this._canvas=document.createElement("canvas"),this.ctx=this._canvas.getContext("2d",{alpha:n.alpha}),!this.ctx)throw new Error("2d context not supported");this.log.info("video context created use 2d")}destroy(n){this.disconnect(),this.log.info("video context destroy ".concat(n?": ".concat(n):"")),delete this.ctx,this._canvas&&(this._canvas.remove(),this._canvas.width=0,this._canvas.height=0,delete this._canvas),this.removeAllListeners()}};Yt([$o(ar.INIT,"created",{sync:!0})],nc.prototype,"create",1),Yt([$o("created",ar.INIT,{ignoreError:!0,sync:!0})],nc.prototype,"destroy",1);var Nm=class extends tc{constructor(n,i){super(n,i,arguments.length>2&&arguments[2]!==void 0?arguments[2]:4),oe(this,"mediaType",4),oe(this,"source"),oe(this,"stat",{bytesReceived:0,packetsReceived:0,packetsLost:0,framesReceived:0,framesDecoded:0,frameWidth:0,frameHeight:0,end2EndDelay:0,jitterBufferDelay:0}),this.manager=n.videoManager}play(n,i){return(FC===17||(i==null?void 0:i.canvasRender))&&!this.source&&this.useCanvasPlayer(),super.play(n,i)}useCanvasPlayer(){if(this.log.info("useCanvasPlayer(), ".concat(!!this.player.element)),!this.player.element)return;let n=new nc({frameRate:15,logger:this.log,name:this.userId});n.create({alpha:!1});let i=n.createVideoPlayerSource(this.player);this.source=i;let s=new tV(n);i.connect(s),this.player.setCanvas(n._canvas),this.updateCanvasPlayerFPS=this.updateCanvasPlayerFPS.bind(this,n),this.room.on("heartbeat-report",this.updateCanvasPlayerFPS,this)}updateCanvasPlayerFPS(n){let i=this.decodeFPS,s=(u=i,[15,30,45,60].reduce((p,y)=>Math.abs(y-u)<Math.abs(p-u)?y:p));var u;!ao(i)||i<=0?this.log.debug("updateCanvasPlayerFPS() ignore decoder: ".concat(i," ")):s!==n.frameRate?(this.log.info("updateCanvasPlayerFPS() decoder: ".concat(i,", closest: ").concat(s,", current: ").concat(n.frameRate)),n.frameRate=s):this.log.debug("updateCanvasPlayerFPS() ignore ClosestFPS ".concat(s," == ").concat(n.frameRate))}get decodeFPS(){var n;let{msg_video_status:i}=((n=this.room.heartbeatReport)==null?void 0:n.msg_down_stream_info.find(p=>p.msg_user_info.str_identifier===this.userId))||{},s=this.mediaType===2?7:this.isSmall?3:2;if(!i||i.length===0)return 0;let u=i.find(p=>p.uint32_video_stream_type===s);return(u==null?void 0:u.uint32_video_dec_fps)||0}stop(){return this.room.off("heartbeat-report",this.updateCanvasPlayerFPS,this),super.stop()}get enableDecodeFrame(){return!!this.room.enableSEI&&Ru}decodeFrame(n){try{if(n.type==="empty"||n.data.byteLength===0)return n;let i=new DataView(n.data);if(i.getInt32(0)!==1||i.getInt8(4)!==6)return n;let s=[],u=0,p=-1,y=-1;for(let E=0;E<n.data.byteLength;E++){let A=i.getUint8(E);if(A===0)u++;else if(A===1){if(u===2||u===3){let w=E-u;if(p===-1?p=w:y===-1&&(y=w,s.push(new Xx(new DataView(i.buffer.slice(p,y)))),p=w,y=-1),i.getUint8(E+1)!==6){n.data=i.buffer.slice(w);break}}u=0}else u=0}this._log.debug("".concat(s.length," sei received")),s.reverse().forEach(E=>{this.room.emit("sei-message",{seiPayloadType:E.seiPayloadType,data:E.seiPayload.buffer,userId:this.user.userId,streamType:this.mediaType===2?"auxiliary":"main"})})}catch(i){this._log.warn(i)}return n}get isBig(){return this.mediaType===4}get isSmall(){return this.mediaType===8}changeType(n){this.room.changeType(n,this.user)}get hasFlag(){return this.user.muteState.hasVideo&&!this.user.muteState.videoMuted}isFlagChanged(n){let i=n.hasVideo&&!n.videoMuted;return this.hasFlag!==i}setMirror(n){n==="publish"||n==="both"||super.setMirror(n)}},aV=class extends Nm{constructor(n,i){super(n,i,2),oe(this,"mediaType",2),oe(this,"objectFit","contain")}get hasFlag(){return this.user.muteState.hasAuxiliary}isFlagChanged(n){let i=n.hasAuxiliary;return this.hasFlag!==i}};function Pm(){}var Ane=n=>n(),One=()=>typeof __FASTRX_DEVTOOLS__!="undefined",Nne=1,Dm=class extends Function{toString(){return"".concat(this.name,"(").concat(this.args.length?[...this.args].join(", "):"",")")}subscribe(n){let i=new Pne(n,this,this.streamId++);return Qs.subscribe({id:this.id,end:!1},{nodeId:i.sourceId,streamId:i.id}),this(i),i}},sV=class{constructor(){this.defers=new Set,this.disposed=!1}next(n){}complete(){this.dispose()}error(n){this.dispose()}get bindDispose(){return()=>this.dispose()}dispose(){this.disposed=!0,this.complete=Pm,this.error=Pm,this.next=Pm,this.dispose=Pm,this.subscribe=Pm,this.doDefer()}subscribe(n){return n instanceof Dm?n.subscribe(this):n(this),this}get bindSubscribe(){return n=>this.subscribe(n)}doDefer(){this.defers.forEach(Ane),this.defers.clear()}defer(n){this.defers.add(n)}removeDefer(n){this.defers.delete(n)}reset(){this.disposed=!1,delete this.complete,delete this.next,delete this.dispose,delete this.next,delete this.subscribe}resetNext(){delete this.next}resetComplete(){delete this.complete}resetError(){delete this.error}},lV=class extends sV{constructor(n){super(),this.sink=n,n.defer(this.bindDispose)}next(n){this.sink.next(n)}complete(){this.sink.complete()}error(n){this.sink.error(n)}};function R_(n,i,s){if(One()){let u=Object.defineProperties(Object.setPrototypeOf(n,Dm.prototype),{streamId:{value:0,writable:!0,configurable:!0},name:{value:i,writable:!0,configurable:!0},args:{value:s,writable:!0,configurable:!0},id:{value:0,writable:!0,configurable:!0}});Qs.create(u);for(let p=0;p<s.length;p++){let y=s[p];typeof y=="function"&&y instanceof Dm&&Qs.addSource(u,y)}return u}return n}function rc(n,i){window.postMessage({source:"fastrx-devtools-backend",payload:{event:n,payload:i}})}var Pne=class extends lV{constructor(n,i,s){super(n),this.source=i,this.id=s,this.sourceId=n.sourceId,this.defer(()=>{Qs.defer(this.source,this.id)})}next(n){Qs.next(this.source,this.id,n),this.sink.next(n)}complete(){Qs.complete(this.source,this.id),this.sink.complete()}error(n){Qs.complete(this.source,this.id,n),this.sink.error(n)}},Qs={addSource(n,i){rc("addSource",{id:n.id,name:n.toString(),source:{id:i.id,name:i.toString()}})},next(n,i,s){rc("next",{id:n.id,streamId:i,data:s&&s.toString()})},subscribe(n,i){let{id:s,end:u}=n;rc("subscribe",{id:s,end:u,sink:{nodeId:i&&i.nodeId,streamId:i&&i.streamId}})},complete(n,i,s){rc("complete",{id:n.id,streamId:i,err:s?s.toString():null})},defer(n,i){rc("defer",{id:n.id,streamId:i})},pipe(n){rc("pipe",{name:n.toString(),id:n.id,source:{id:n.source.id,name:n.source.toString()}})},update(n){rc("update",{id:n.id,name:n.toString()})},create(n){n.id||(n.id=Nne++),rc("create",{name:n.toString(),id:n.id})}},Dne=class extends sV{constructor(n){super(),this.source=n,this.sinks=new Set}add(n){n.defer(()=>this.remove(n)),this.sinks.add(n).size===1&&(this.reset(),this.subscribe(this.source))}remove(n){this.sinks.delete(n),this.sinks.size===0&&this.dispose()}next(n){this.sinks.forEach(i=>i.next(n))}complete(){this.sinks.forEach(n=>n.complete()),this.sinks.clear()}error(n){this.sinks.forEach(i=>i.error(n)),this.sinks.clear()}},Lne=function(n,i){return function(){for(var s=arguments.length,u=new Array(s),p=0;p<s;p++)u[p]=arguments[p];return y=>{if(y instanceof Dm){let E=R_(A=>{let w=new n(A,...u);w.sourceId=E.id,w.subscribe(y)},i,arguments);return E.source=y,Qs.pipe(E),E}return E=>y(new n(E,...u))}}}(class extends lV{constructor(n,i,s){super(n),this.mapper=i,this.thisArg=s}next(n){super.next(this.mapper.call(this.thisArg,n))}},"map");(function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];s.reduce((p,y)=>y(p),n)})(function(n){return R_(i=>{let s=0,u=setInterval(()=>i.next(s++),n);return i.defer(()=>{clearInterval(u)}),"interval"},"interval",arguments)}(250),Lne(()=>performance.now()),function(){return n=>{let i=new Dne(n);if(n instanceof Dm){let s=R_(u=>{i.add(u)},"share",arguments);return i.sourceId=s.id,s.source=n,Qs.pipe(s),s}return R_(i.add.bind(i),"share",arguments)}}());var Lf=new Map;function Yr(n,i){let s=Yn(hn({},i),{timestamp:nC()});Lf.has(n)?Lf.get(n).push(s):Lf.set(n,[s])}Pt.on(bt.JOIN_SUCCESS,n=>{let{room:i}=n;Yr(i.userId,{eventId:32788})}),Pt.on(bt.LEAVE_START,n=>{let{room:i}=n;Yr(i.userId,{eventId:32789})}),Pt.on(bt.LOCAL_TRACK_PUBLISHED,n=>{let{track:i}=n;if(i.room){let s=32769;i.mediaType===4?s=32768:i.mediaType===2&&(s=32805),Yr(i.room.userId,{eventId:s})}}),Pt.on(bt.LOCAL_TRACK_UNPUBLISHED,n=>{let{track:i}=n;if(i.room){let s=32771;i.mediaType===4?s=32770:i.mediaType===2&&(s=32806),Yr(i.room.userId,{eventId:s})}}),Pt.on(bt.TRACK_MUTED,n=>{let{track:i}=n;i.room&&(i.kind===Ce.AUDIO?Yr(i.room.userId,{eventId:i.isRemote?32785:32772,remoteUserId:i.isRemote?i.userId:void 0}):Yr(i.room.userId,{eventId:i.isRemote?32784:32773,remoteUserId:i.isRemote?i.userId:void 0}))}),Pt.on(bt.TRACK_UNMUTED,n=>{let{track:i}=n;i.room&&(i.kind===Ce.AUDIO?Yr(i.room.userId,{eventId:i.isRemote?32787:32774,remoteUserId:i.isRemote?i.userId:void 0}):Yr(i.room.userId,{eventId:i.isRemote?32786:32775,remoteUserId:i.isRemote?i.userId:void 0}))}),Pt.on(bt.REMOTE_TRACK_SUBSCRIBED,n=>{let{track:i}=n;!i.room||(i.mediaType===1&&Yr(i.room.userId,{eventId:32777,remoteUserId:i.userId}),i.mediaType===4&&Yr(i.room.userId,{eventId:32776,remoteUserId:i.userId}),i.mediaType===8&&Yr(i.room.userId,{eventId:32803,remoteUserId:i.userId}))}),Pt.on(bt.REMOTE_TRACK_UNSUBSCRIBED,n=>{let{track:i}=n;!i.room||(i.mediaType===1&&Yr(i.room.userId,{eventId:32779,remoteUserId:i.userId}),i.mediaType===4&&Yr(i.room.userId,{eventId:32778,remoteUserId:i.userId}),i.mediaType===8&&Yr(i.room.userId,{eventId:32804,remoteUserId:i.userId}))}),Pt.on(bt.SWITCH_DEVICE_SUCCESS,n=>{let{track:i}=n;i.room&&Yr(i.room.userId,{eventId:i.kind===Ce.VIDEO?32780:32781})}),Pt.on(bt.LOCAL_TRACK_REPLACED,n=>{let{track:i}=n;i.room&&Yr(i.room.userId,{eventId:i.kind===Ce.VIDEO?32782:32783})}),Pt.on(bt.SIGNAL_CONNECTION_STATE_CHANGED,n=>{let i,{room:s,prevState:u,state:p}=n;switch(p){case"CONNECTED":i=u==="RECONNECTING"?32795:32791;break;case"DISCONNECTED":i=u==="RECONNECTING"?32796:32790;break;case"RECONNECTING":i=32794}i&&Yr(s.userId,{eventId:i})}),Pt.on(bt.PEER_CONNECTION_STATE_CHANGED,n=>{let i,{room:s,prevState:u,state:p,remoteUserId:y}=n,E=!!y;switch(p){case"CONNECTED":i=u==="RECONNECTING"?E?32801:32798:E?32793:32792;break;case"DISCONNECTED":u==="RECONNECTING"&&(i=E?32802:32799);break;case"RECONNECTING":i=E?32800:32797}i&&Yr(s.userId,{eventId:i,remoteUserId:y})}),Pt.on(bt.VIDEO_CODEC_IMPLEMENTATION_CHANGED,n=>{let{userId:i,remoteUserId:s,codec:u,isHWCodec:p,prevImplementation:y}=n,E=p?1:0;y||(E=p?3:2);let A={eventId:4004,param1:E,param2:u==="h264"?0:2,streamType:2};s&&(A.remoteUserId=s,A.eventId=4005),Yr(i,A)}),Pt.on(bt.LOCAL_TRACK_RECAPTURE,n=>{let{track:i,error:s}=n;if(i.userId){let u={eventId:2003,param1:0};i.kind===Ce.AUDIO?(u.streamType=1,s&&(u.param1=2)):(u.streamType=i.streamType==="auxiliary"?7:2,s&&(u.param1=8)),Yr(i.userId,u)}});var Mne=Ao(mi(),1),xne=class extends Mne.EventEmitter{constructor(n,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"userId";super(),this.mySelfId=n,this._log=i,this.key=s,oe(this,"userMap",new Map),oe(this,"remotePublishedUserMap",new Map)}getPublishedUser(n){return this.remotePublishedUserMap.get(n)}addUser(n){let i=n[this.key],{userId:s,tinyId:u,role:p}=n;if(this.userMap.has(i))return;let y={userId:s,tinyId:u,role:p===20?"anchor":"audience"};this.userMap.set(i,y),this.emit("1",y)}deleteUser(n,i){let s=this.userMap.get(n);if(!s)return;let u="peer leave [".concat(n,"]");_t(i)||(u+=":".concat(PM[i])),this._log.info(u);let p=this.remotePublishedUserMap.get(n);if(p){let y=p.muteState;p.flag=0,this.emit("5",p.userId),this.deleteRemotePublishedUser(n),this.emit("6",{prevMuteState:y,muteState:p.muteState,flag:0})}this.userMap.delete(n),this.emit("2",s.userId)}setUserList(n){this.userMap.forEach(i=>{n.findIndex(s=>s[this.key]===i[this.key])<0&&this.deleteUser(i[this.key],0)}),n.forEach(i=>{!this.userMap.has(i[this.key])&&i[this.key]!==this.mySelfId&&this.addUser(i)})}addRemotePublishedUser(n){this.remotePublishedUserMap.has(n[this.key])||this.remotePublishedUserMap.set(n[this.key],n)}deleteRemotePublishedUser(n){!this.remotePublishedUserMap.has(n)||this.remotePublishedUserMap.delete(n)}setRemotePublishedUserList(n){this.remotePublishedUserMap.forEach(i=>{let s=i[this.key];if(n.findIndex(u=>u[this.key]===i[this.key])<0){this._log.info("remote [".concat(s,"] unpublish"));let u=i.muteState;i.flag=0,this.emit("5",i.userId),this.deleteRemotePublishedUser(s),this.emit("6",{prevMuteState:u,muteState:i.muteState,flag:0})}}),n.forEach(i=>{var s;let u=i[this.key];if(u===this.mySelfId)return;let{flag:p,userId:y,tinyId:E}=i,A=gm(p,y),w=(s=this.remotePublishedUserMap.get(u))==null?void 0:s.muteState;if(w){let V=this.remotePublishedUserMap.get(u);V&&V.flag!==p&&(V.flag=p,this._log.info("remote publish updated: ".concat(JSON.stringify(V.muteState))),this.emit("6",{prevMuteState:w,muteState:A,flag:p}))}else this._log.info("remote publish. state: ".concat(JSON.stringify(A))),this.addUser({userId:y,tinyId:E,role:20}),this.emit("3",i),this.emit("6",{prevMuteState:gm(0,y),muteState:A,flag:p})})}clear(){this.userMap.clear(),this.remotePublishedUserMap.clear()}};function cV(n){let{timesInSecond:i,maxSizeInSecond:s,getSize:u}=n;return $r((p,y)=>{let E=new Map;return Pt.on(bt.ROOM_DESTROY,A=>{let{room:w}=A;return E.delete(w)}),function(){let A=E.get(this);for(var w=arguments.length,V=new Array(w),K=0;K<w;K++)V[K]=arguments[K];if(A||(A={callCountInSecond:0,timestamp:0,totalSizeInSecond:0},E.set(this,A)),A.timestamp===0?A.timestamp=Date.now():Date.now()-A.timestamp>1e3&&(A.timestamp=Date.now(),A.callCountInSecond=0,A.totalSizeInSecond=0),u&&(A.totalSizeInSecond+=u(...V)),A.timestamp!==0&&Date.now()-A.timestamp<1e3&&(A.callCountInSecond>=i||A.totalSizeInSecond>s))throw new on({code:Ht.INVALID_OPERATION,message:jn({key:Bn.CALL_FREQUENCY_LIMIT,data:{isTimes:A.callCountInSecond>=i,isSize:A.totalSizeInSecond>s,name:y,timesInSecond:i,maxSizeInSecond:s}})});A.callCountInSecond++,p.call(this,...V)}})}var yt,uV=!0,Zs={SCENE_LIVE:"live",SCENE_RTC:"rtc",ROLE_ANCHOR:"anchor",ROLE_AUDIENCE:"audience",STREAM_TYPE_MAIN:"main",STREAM_TYPE_SUB:"sub",AUDIO_PROFILE_STANDARD:"standard",AUDIO_PROFILE_STANDARD_STEREO:"standard-stereo",AUDIO_PROFILE_HIGH:"high",AUDIO_PROFILE_HIGH_STEREO:"high-stereo",QOS_PREFERENCE_SMOOTH:"smooth",QOS_PREFERENCE_CLEAR:"clear"},Mn={INVALID_PARAMETER:5e3,INVALID_OPERATION:5100,ENV_NOT_SUPPORTED:5200,DEVICE_ERROR:5300,SERVER_ERROR:5400,OPERATION_FAILED:5500,OPERATION_ABORT:5998,UNKNOWN_ERROR:5999},A_=((yt=A_||{})[yt.INVALID_PARAMETER=5e3]="INVALID_PARAMETER",yt[yt.INVALID_PARAMETER_REQUIRED=5001]="INVALID_PARAMETER_REQUIRED",yt[yt.INVALID_PARAMETER_TYPE=5002]="INVALID_PARAMETER_TYPE",yt[yt.INVALID_PARAMETER_EMPTY=5003]="INVALID_PARAMETER_EMPTY",yt[yt.INVALID_PARAMETER_INSTANCE=5004]="INVALID_PARAMETER_INSTANCE",yt[yt.INVALID_PARAMETER_RANGE=5005]="INVALID_PARAMETER_RANGE",yt[yt.INVALID_PARAMETER_LESS_THAN_ZERO=5006]="INVALID_PARAMETER_LESS_THAN_ZERO",yt[yt.INVALID_PARAMETER_MIN=5007]="INVALID_PARAMETER_MIN",yt[yt.INVALID_PARAMETER_MAX=5008]="INVALID_PARAMETER_MAX",yt[yt.INVALID_ELEMENT_ID=5009]="INVALID_ELEMENT_ID",yt[yt.INVALID_ELEMENT_ID_TYPE=5010]="INVALID_ELEMENT_ID_TYPE",yt[yt.INVALID_STREAM_ID=5011]="INVALID_STREAM_ID",yt[yt.INVALID_ROOM_ID_STRING=5012]="INVALID_ROOM_ID_STRING",yt[yt.INVALID_ROOM_ID_INTEGER=5013]="INVALID_ROOM_ID_INTEGER",yt[yt.INVALID_STREAM_TYPE=5014]="INVALID_STREAM_TYPE",yt[yt.INVALID_ROOM_ID_REQUIED=5015]="INVALID_ROOM_ID_REQUIED",yt[yt.INVALID_ROOM_ID_INTEGER_STRING=5016]="INVALID_ROOM_ID_INTEGER_STRING",yt[yt.INVALID_BUFFER_EMPTY=5017]="INVALID_BUFFER_EMPTY",yt[yt.INVALID_BUFFER_OVERSIZE=5018]="INVALID_BUFFER_OVERSIZE",yt[yt.INVALID_OPERATION=5100]="INVALID_OPERATION",yt[yt.INVALID_OPERATION_NOT_JOINED=5101]="INVALID_OPERATION_NOT_JOINED",yt[yt.INVALID_OPERATION_REMOTE_USER_NOT_EXIST=5102]="INVALID_OPERATION_REMOTE_USER_NOT_EXIST",yt[yt.INVALID_OPERATION_STREAM_TYPE_NOT_EXIST=5103]="INVALID_OPERATION_STREAM_TYPE_NOT_EXIST",yt[yt.INVALID_OPERATION_REPEAT_CALL=5104]="INVALID_OPERATION_REPEAT_CALL",yt[yt.INVALID_OPERATION_NEED_VIDEO=5105]="INVALID_OPERATION_NEED_VIDEO",yt[yt.INVALID_OPERATION_NEED_AUDIO=5106]="INVALID_OPERATION_NEED_AUDIO",yt[yt.INVALID_ROLE_AUDIENCE=5107]="INVALID_ROLE_AUDIENCE",yt[yt.INVALID_NOT_ENABLE_SEI=5108]="INVALID_NOT_ENABLE_SEI",yt[yt.INVALID_NEED_CALL_PUBLISHED=5109]="INVALID_NEED_CALL_PUBLISHED",yt[yt.ENV_NOT_SUPPORTED=5200]="ENV_NOT_SUPPORTED",yt[yt.NOT_SUPPORTED_HTTP=5201]="NOT_SUPPORTED_HTTP",yt[yt.NOT_SUPPORTED_WEBRTC=5202]="NOT_SUPPORTED_WEBRTC",yt[yt.NOT_SUPPORTED_H264_ENCODE=5203]="NOT_SUPPORTED_H264_ENCODE",yt[yt.NOT_SUPPORTED_H264_DECODE=5204]="NOT_SUPPORTED_H264_DECODE",yt[yt.NOT_SUPPORTED_SCREEN_SHARE=5205]="NOT_SUPPORTED_SCREEN_SHARE",yt[yt.NOT_SUPPORTED_SMALL_VIDEO=5206]="NOT_SUPPORTED_SMALL_VIDEO",yt[yt.NOT_SUPPORTED_SEI=5207]="NOT_SUPPORTED_SEI",yt[yt.NOT_SUPPORTED_WEBGL=5208]="NOT_SUPPORTED_WEBGL",yt[yt.NOT_SUPPORTED_CHROME_VERSION=5209]="NOT_SUPPORTED_CHROME_VERSION",yt[yt.DEVICE_ERROR=5300]="DEVICE_ERROR",yt[yt.DEVICE_NOT_FOUND_ERROR=5301]="DEVICE_NOT_FOUND_ERROR",yt[yt.DEVICE_NOT_ALLOWED_ERROR=5302]="DEVICE_NOT_ALLOWED_ERROR",yt[yt.DEVICE_NOT_READABLE_ERROR=5303]="DEVICE_NOT_READABLE_ERROR",yt[yt.DEVICE_OVERCONSTRAINED_ERROR=5304]="DEVICE_OVERCONSTRAINED_ERROR",yt[yt.DEVICE_INVALID_STATE_ERROR=5305]="DEVICE_INVALID_STATE_ERROR",yt[yt.DEVICE_SECURITY_ERROR=5306]="DEVICE_SECURITY_ERROR",yt[yt.DEVICE_ABORT_ERROR=5307]="DEVICE_ABORT_ERROR",yt[yt.CAMERA_RECOVER_FAILED=5308]="CAMERA_RECOVER_FAILED",yt[yt.MICROPHONE_RECOVER_FAILED=5309]="MICROPHONE_RECOVER_FAILED",yt[yt.SERVER_ERROR=5400]="SERVER_ERROR",yt[yt.NEED_TO_BUY=5401]="NEED_TO_BUY",yt[yt.ACCOUNT_NO_MONEY=-100013]="ACCOUNT_NO_MONEY",yt[yt.OPERATION_FAILED=5500]="OPERATION_FAILED",yt[yt.FIREWALL_RESTRICTION=5501]="FIREWALL_RESTRICTION",yt[yt.REJOIN_FAILED=5502]="REJOIN_FAILED",yt[yt.EVENT_HANDLER_ERROR=5503]="EVENT_HANDLER_ERROR",yt[yt.VIDEO_CONTEXT_ERROR=5504]="VIDEO_CONTEXT_ERROR",yt[yt.OPERATION_ABORT=5998]="OPERATION_ABORT",yt[yt.UNKNOWN_ERROR=5999]="UNKNOWN_ERROR",yt),dV=Yn(hn({},ka),{INVALID_PARAMETER(n){let{fnName:i}=n;return"the parameters of the '".concat(i,"' you called does not meet the requirements, please check the API documentation.")},INVALID_PARAMETER_REQUIRED(n){let{key:i,rule:s,fnName:u,value:p}=n;return"'".concat(i||s.name,"' is a required param when calling ").concat(u,"(), received: ").concat(p,".")},INVALID_PARAMETER_TYPE(n){let{key:i,rule:s,fnName:u,value:p}=n,y="".concat(i||s.name),E="";return E=Array.isArray(s.type)?s.type.join("|"):s.type,"'".concat(y,"' must be type of ").concat(E," when calling ").concat(u,"(), received type: ").concat(gi(p),".")},INVALID_PARAMETER_EMPTY(n){let{key:i,rule:s,fnName:u,value:p}=n;return"'".concat(i||s.name,"' cannot be '").concat(p,"' when calling ").concat(u,"().")},INVALID_PARAMETER_INSTANCE(n){let{key:i,rule:s,fnName:u,value:p}=n,y="".concat(i||s.name),E="".concat(s.instanceOf.name||s.instanceOf);return"'".concat(y,"' must be instanceof ").concat(E," when calling ").concat(u,"(), received type: ").concat(gi(p),".")},INVALID_PARAMETER_RANGE(n){let{key:i,rule:s,fnName:u,value:p}=n;return"'".concat(i||s.name,"' must be one of ").concat(s.values.join("|")," when calling ").concat(u,"(), received: ").concat(p,".")},INVALID_PARAMETER_LESS_THAN_ZERO(n){let{key:i,rule:s,fnName:u}=n;return"'".concat(i||s.name,"' cannot be less than 0 when calling ").concat(u,"().")},INVALID_PARAMETER_MIN(n){let{key:i,rule:s,value:u}=n;return"the min value of ".concat(i||s.name," is ").concat(s.min,", received: ").concat(u,".")},INVALID_PARAMETER_MAX(n){let{key:i,rule:s,value:u}=n;return"the max value of ".concat(i||s.name," is ").concat(s.max,", received: ").concat(u,".")},INVALID_ELEMENT_ID(n){let{key:i,fnName:s}=n;return"'".concat(i,"' is not found in the document object when calling ").concat(s,"().")},INVALID_ELEMENT_ID_TYPE(n){let{key:i,fnName:s,type:u}=n;return"the element corresponding to '".concat(i,"' must be instanceof HTMLElement when calling ").concat(s,"(), received: ").concat(u,".")},INVALID_STREAM_ID(n){let{key:i}=n;return"'".concat(i,"' can only consist of uppercase and lowercase english letters (a-zA-Z), numbers (0-9), hyphens and underscores.")},INVALID_ROOM_ID_STRING(n){let{key:i}=n;return"'".concat(i,"' must be a valid string.")},INVALID_ROOM_ID_INTEGER(n){let{key:i}=n;return"'".concat(i,"' must be an integer between [1, 4294967294].")},INVALID_ROOM_ID_INTEGER_STRING(n){let{key:i}=n;return"'".concat(i,"' must be an integer but go a string, use 'parseInt' to convert it or use 'strRoomId' instead.")},INVALID_ROOM_ID_REQUIED:()=>"at least one of 'roomId'(between [1, 4294967294]) and 'strRoomId'(not empty) is required.",INVALID_STREAM_TYPE:n=>{let{fnName:i}=n;return"'streamType' is required when 'userId' is not '*', calling ".concat(i,"()")},INVALID_IMAGE_URL:"The 'src' param must be filled in when the background type is image.",INVALID_OPERATION(n){let{fnName:i}=n;return"the API '".concat(i,"' you called does not meet the requirements, please check the API documentation.")},INVALID_OPERATION_NOT_JOINED(n){let{fnName:i}=n;return"cannot ".concat(i," because you are not enter room yet.")},INVALID_OPERATION_REMOTE_USER_NOT_EXIST(n){let{fnName:i,value:s}=n;return"cannot ".concat(i," because remote user(userId: ").concat(s.userId,") does not publishing stream.")},INVALID_OPERATION_STREAM_TYPE_NOT_EXIST(n){let{fnName:i,value:s}=n;return"cannot ".concat(i," because remote user(userId: ").concat(s.userId,") does not publishing ").concat(s.streamType," video.")},INVALID_OPERATION_REPEAT_CALL(n){let{fnName:i}=n;return"you are already ".concat(i,"(), cannot repeated call '").concat(i,"'.")},INVALID_OPERATION_NEED_VIDEO(n){let{fnName:i}=n;return"cannot call '".concat(i,"' because the camera is not turned on.")},INVALID_OPERATION_NEED_AUDIO(n){let{fnName:i}=n;return"cannot call '".concat(i,"' because the microphone is not turned on.")},INVALID_BUFFER_EMPTY:n=>{let{key:i}=n;return"the buffer size of paramerter '".concat(i,"' cannot be empty")},INVALID_BUFFER_OVERSIZE:()=>"buffer size is over 1000 Bytes",INVALID_ROLE_AUDIENCE:()=>"role: '".concat("audience","' cannot call this api."),INVALID_NOT_ENABLE_SEI:()=>"you need to enable SEI in TRTC.create({ enableSEI: true })",INVALID_NEED_CALL_PUBLISHED:n=>{let{fnName:i}=n;return"you need to call ".concat(i,"() after publish stream.")},ENV_NOT_SUPPORTED(n){let{fnName:i}=n;return"the current browser does not support the capability of the function '".concat(i,"' you are calling, please check the API documentation.")},NOT_SUPPORTED_WEBRTC:"the current browser does not support WebRTC capability, please check the SDK documentation.",NOT_SUPPORTED_H264_ENCODE:"this browser does not support H264 encode.",NOT_SUPPORTED_H264_DECODE:"this browser does not support H264 decode.",NOT_SUPPORTED_SCREEN_SHARE:"this browser does not support screen share, please check the browser version.",NOT_SUPPORTED_SMALL_VIDEO:"this browser does not support small video, please check the browser version.",NOT_SUPPORTED_SEI:"this browser does not support SEI, please check the browser version.",NOT_SUPPORTED_WEBGL:"this browser does not support WebGL, please check the browser version.",NOT_SUPPORTED_CHROME_VERSION(n){let{fnName:i}=n;return"cannot call ".concat(i," because the browser version is too low, please upgrade to the latest version")},DEVICE_ERROR(n){let{fnName:i,error:s}=n;return"'".concat(i,"' got device exception").concat(s?", error: ".concat(s.toString(),"."):".")},DEVICE_NOT_FOUND_ERROR(n){let{fnName:i,deviceType:s=Lu(i),error:u}=n;return"NotFoundError, no ".concat(s," detected, please check your device and the configuration on '").concat(i,"'").concat(u?", error: ".concat(u.toString(),"."):".")},DEVICE_NOT_ALLOWED_ERROR(n){let{fnName:i,deviceType:s=Lu(i),error:u}=n;return"NotAllowedError, you have disabled ".concat(s," access, please allow the current application to use the ").concat(s).concat(u?", error: ".concat(u.toString(),"."):".")},DEVICE_NOT_READABLE_ERROR(n){let{fnName:i,deviceType:s=Lu(i),error:u}=n;return"NotReadableError, the ".concat(s," maybe in use by another APP, please check if the device is pre-occupied by another APP.")},DEVICE_OVERCONSTRAINED_ERROR(n){let{fnName:i,deviceType:s=Lu(i),error:u}=n;return"OverconstrainedError, the device ID is incorrect, please check whether the device ID passed in is correct".concat(u?", error: ".concat(u.toString(),"."):".")},DEVICE_INVALID_STATE_ERROR(n){let{fnName:i,deviceType:s=Lu(i),error:u}=n;return"InvalidStateError, after the user clicks and interacts with the page, turn on the ".concat(s).concat(u?", error: ".concat(u.toString(),"."):".")},DEVICE_SECURITY_ERROR(n){let{fnName:i,deviceType:s=Lu(i),error:u}=n;return"SecurityError, check whether the system security policy restricts the use of the ".concat(s,", and it is recommended to turn on the ").concat(s," after the user interacts with the page").concat(u?", error: ".concat(u.toString(),"."):".")},DEVICE_ABORT_ERROR(n){let{fnName:i,deviceType:s=Lu(i),error:u}=n;return"AbortError, an unknown exception in the system makes the device unusable, recommended to change the device or browser and re-check whether the device is normal".concat(u?" error: ".concat(u.toString(),"."):".")},CAMERA_RECOVER_FAILED(n){let{error:i}=n;return"camera recover capture failed ".concat((i==null?void 0:i.name)||"",": ").concat((i==null?void 0:i.originMessage)||(i==null?void 0:i.message))},MICROPHONE_RECOVER_FAILED(n){let{error:i}=n;return"microphone recover capture failed ".concat((i==null?void 0:i.name)||"",": ").concat((i==null?void 0:i.originMessage)||(i==null?void 0:i.message))},OPERATION_FAILED(n){let{fnName:i,error:s}=n;return"'".concat(i,"' failed, reason: ").concat(s==null?void 0:s.toString())},FIREWALL_RESTRICTION:()=>"media connection failure due to firewall restrictions, please try to change your network.",EVENT_HANDLER_ERROR(n){let{eventName:i}=n;return"an error was caught on trtc.on('".concat(i,"', handler), please check your code on 'handler'.")},VIDEO_CONTEXT_ERROR(n){let{reason:i,error:s}=n;return"video context error ".concat(i," ").concat((s==null?void 0:s.name)||""," ").concat((s==null?void 0:s.message)||"")},SERVER_ERROR(n){let{fnName:i,error:s}=n;return"'".concat(i,"' got server error: ").concat(s==null?void 0:s.toString(),", please check the SDK documentation.")},NEED_TO_BUY(n){let{value:i,url:s}=n;return"You need to buy packages for ".concat(i,". Refer to: ").concat(s)},ACCOUNT_NO_MONEY:n=>{let{fnParams:i}=n;return"your TRTC account run out of credit, please recharge.".concat(i.sdkAppId?" SDKAppId: ".concat(i.sdkAppId):"")},OPERATION_ABORT(n){let{fnName:i}=n;return"'".concat(i,"' abort")},UNKNOWN_ERROR(n){let{fnName:i,error:s}=n;return"'".concat(i,"' throw unknown exception").concat(s?", error: ".concat(s.toString(),"."):".")}});function Lu(n){if(!n)return"camera";let i=n.toLowerCase();return i.includes("screen")?"screen share":i.includes("audio")?"microphone":"camera"}var O_=class extends Error{constructor(n){let{code:i,extraCode:s,message:u="",messageParams:p,fnName:y="",originError:E}=n;var A;let w;w=u||function(V){let K,{code:z,params:ue,enableDocLink:ve=!1}=V,Oe="",Qe=A_[z];try{K=dV[Qe]}catch{K=dV.UNKNOWN_ERROR}return wr(K)?Oe=K(ue):br(K)&&(Oe=K),ue.fnName&&!Oe.includes(ue.fnName)&&(Oe[Oe.length-1]!=="."&&(Oe+="."),Oe+=" thrown from ".concat(ue.fnName,"()")),ve&&(Oe+=" doc:"),Oe}({code:s||i,params:hn({fnName:y,error:E},p)}),super(w),oe(this,"name","RtcError"),oe(this,"code"),oe(this,"extraCode"),oe(this,"functionName"),oe(this,"message"),oe(this,"handler"),oe(this,"originError"),this.name=A_[i],this.code=i,this.extraCode=s,this.functionName=y,this.originError=E,this.message=w,this.extraCode===5302&&((A=this.originError)==null?void 0:A.message.includes("system"))&&(this.handler=()=>{let V=document.createElement("a");Ef?V.href="ms-settings:privacy-".concat({startLocalVideo:"webcam",startLocalAudio:"microphone"}[this.functionName]):_u&&(V.href="x-apple.systempreferences:com.apple.preference.security?Privacy_".concat({startLocalVideo:"Camera",startLocalAudio:"Microphone",startScreenShare:"ScreenCapture"}[this.functionName])),V.href.length>0&&V.click()})}static convertFrom(n,i,s){let u=n;if(n instanceof on){let{stack:p}=n,y={code:Mn.UNKNOWN_ERROR,fnName:i,originError:n};switch(n.getCode()){case Ht.INVALID_PARAMETER:y.code=Mn.INVALID_PARAMETER,y.message=n.message;break;case Ht.INVALID_OPERATION:y.code=Mn.INVALID_OPERATION;break;case Ht.NOT_SUPPORTED:case Ht.NOT_SUPPORTED_H264:y.code=Mn.ENV_NOT_SUPPORTED,n.getCode()===Ht.NOT_SUPPORTED_H264&&(y.extraCode=n.message.includes(ka.NOT_SUPPORTED_H264ENCODE)?5203:5204);break;case Ht.JOIN_ROOM_FAILED:y.messageParams={fnParams:s};case Ht.SERVER_TIMEOUT:case Ht.SWITCH_ROLE_FAILED:y.code=Mn.SERVER_ERROR,y.extraCode=n.getExtraCode();break;case Ht.API_CALL_ABORTED:y.code=Mn.OPERATION_ABORT;break;case Ht.DEVICE_NOT_FOUND:case Ht.DEVICE_AUTO_RECOVER_FAILED:case Ht.INITIALIZE_FAILED:y.code=5300,n.name&&(y.extraCode=function(E){let A;switch(E){case"NotFoundError":A=5301;break;case"NotAllowedError":A=5302;break;case"NotReadableError":A=5303;break;case"OverconstrainedError":A=5304;break;case"InvalidStateError":A=5305;break;case"SecurityError":A=5306;break;case"AbortError":A=5307;break;default:A=5300}return A}(n.name));break;case Ht.UNKNOWN:break;default:y.code=Mn.OPERATION_FAILED}u=new O_(y),p&&(u.stack+=p.substr(p.indexOf(`
`)))}else{if(n instanceof O_)return n;u=new O_({code:Mn.UNKNOWN_ERROR,fnName:i,originError:n})}return u}},Cn=O_,fV={type:"object",properties:{cameraId:{type:"string"},useFrontCamera:{type:"boolean"},fillMode:{type:"string",values:["contain","cover","fill"]},mirror:{type:["string","boolean"],values:[!0,!1,"view","publish","both"]},small:{properties:{width:{type:"number"},height:{type:"number"},frameRate:{type:"number"},bitrate:{type:"number"}}},videoTrack:{instanceOf:MediaStreamTrack}}},hV={type:"object",properties:{systemAudio:{type:"boolean"},fillMode:{type:"string",values:["contain","cover","fill"]},profile:{type:["string","object"],properties:{width:{type:"number"},height:{type:"number"},frameRate:{type:"number"},bitrate:{type:"number"}}},videoTrack:{instanceOf:MediaStreamTrack},audioTrack:{instanceOf:MediaStreamTrack}}},Mf={type:["string",HTMLElement,null,"array"],arrayItem:{instanceOf:HTMLElement},validate(n,i,s){if(br(n)&&!document.getElementById(n))throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5009,fnName:s,messageParams:{key:i}})}},pV={name:"userId",required:!0,type:"string"},mV={type:"object",properties:{microphoneId:{type:"string"},audioTrack:{instanceOf:MediaStreamTrack},captureVolume:{type:"number",min:0},earMonitorVolume:{type:"number",min:0,max:100},profile:{values:[Zs.AUDIO_PROFILE_STANDARD,Zs.AUDIO_PROFILE_STANDARD_STEREO,Zs.AUDIO_PROFILE_HIGH,Zs.AUDIO_PROFILE_HIGH_STEREO]},echoCancellation:{type:"boolean"},autoGainControl:{type:"boolean"},noiseSuppression:{type:"boolean"}}};function Lm(n,i){if(!n)throw new Cn({code:Mn.INVALID_OPERATION,extraCode:5101,fnName:i})}function vV(n,i,s){if(!n)throw new Cn({code:Mn.INVALID_OPERATION,extraCode:5102,fnName:i,messageParams:{value:s}})}var Vne={create:[{name:"RoomConfig",instanceOf:Function},{name:"CreateConfig",type:"object",properties:{plugins:{type:"array",arrayItem:{instanceOf:Function}}}}],enterRoom:{name:"EnterRoomConfig",type:"object",required:!0,validate(n,i,s){if(this._room.isJoined)throw new Cn({code:Mn.INVALID_OPERATION,extraCode:5104,fnName:s});if(n.roomId){if(br(n.roomId))throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5016,fnName:s,messageParams:{key:i}});if(!(/^[1-9]\d*$/.test(String(n.roomId))&&n.roomId<4294967295))throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5013,fnName:s,messageParams:{key:i}})}else{if(!n.strRoomId)throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5015,fnName:s});if(!/^[A-Za-z\d\s!#$%&()+\-:;<=.>?@[\]^_{}|~,]{1,64}$/.test(n.strRoomId))throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5012,fnName:s,messageParams:{key:i}})}},properties:{sdkAppId:{required:!0,type:"number",allowEmpty:!1},userId:{required:!0,type:"string",allowEmpty:!1},userSig:{required:!0,type:"string",allowEmpty:!1},scene:{type:"string",values:["live","rtc"]},role:{type:"string",values:["audience","anchor"]},roomId:{type:["string","number"]},strRoomId:{type:"string"},proxy:{type:["object","string"],properties:{websocketProxy:{type:"string"},turnServer:{type:["object","array"],properties:{url:{required:!0,type:"string"},username:{type:"string"},credential:{type:"string"},credentialType:{type:"string",values:["password"]}}},loggerProxy:{type:"string"},webtransportProxy:{type:"string"}}},enableAutoPlayDialog:{type:"boolean"},userDefineRecordId:{type:"string"},latencyLevel:{type:"number"}}},startLocalVideo:{name:"LocalVideoConfig",type:"object",properties:{view:Mf,mute:{type:["boolean","string"]},publish:{type:"boolean"},option:fV},validate(n){var i;if(((i=n==null?void 0:n.option)==null||!i.videoTrack)&&ku())throw new Cn({code:Mn.ENV_NOT_SUPPORTED,extraCode:5201})}},updateLocalVideo:{name:"updateLocalVideoConfig",type:"object",required:!0,properties:{view:Yn(hn({},Mf),{required:!1}),publish:{type:"boolean"},mute:{type:["boolean","string"]},option:fV}},startLocalAudio:{name:"LocalAudioConfig",type:"object",properties:{publish:{type:"boolean"},option:mV},validate(n){var i;if(((i=n==null?void 0:n.option)==null||!i.audioTrack)&&ku())throw new Cn({code:Mn.ENV_NOT_SUPPORTED,extraCode:5201})}},updateLocalAudio:{name:"updateLocalAudioConfig",type:"object",required:!0,properties:{publish:{type:"boolean"},mute:{type:"boolean"},option:mV}},startScreenShare:{name:"ScreenShareConfig",type:"object",properties:{view:Mf,publish:{type:"boolean"},option:hV},validate(n,i,s,u,p){var y;if(((y=n==null?void 0:n.option)==null||!y.videoTrack)&&ku())throw new Cn({code:Mn.ENV_NOT_SUPPORTED,extraCode:5201});if(!y_())throw new Cn({code:Mn.ENV_NOT_SUPPORTED,fnName:s,extraCode:5205})}},updateScreenShare:{name:"updateScreenShareConfig",type:"object",required:!0,properties:{view:Mf,publish:{type:"boolean"},option:hV}},muteRemoteAudio:[pV,{name:"mute",required:!0,type:"boolean"}],setRemoteAudioVolume:[pV,{name:"volume",required:!0,type:"number",min:0}],startRemoteVideo:{name:"startRemoteVideoConfig",type:"object",required:!0,properties:{view:Mf,userId:{type:"string",required:!0},streamType:{values:["main","sub"],required:!0},option:{type:"object",properties:{fillMode:{type:"string",values:["contain","cover","fill"]},mirror:{type:"boolean"}}}},validate(n,i,s){Lm(this._room.isJoined,s);let u=this._room.remotePublishedUserMap.get(n.userId);if(vV(!!u,s,n),u&&(n.streamType==="main"&&!u.muteState.videoAvailable||n.streamType==="sub"&&!u.muteState.hasAuxiliary))throw new Cn({code:Mn.INVALID_OPERATION,extraCode:5103,fnName:s,messageParams:{value:n}})}},updateRemoteVideo:{name:"updateRemoteVideoConfig",type:"object",required:!0,properties:{view:Yn(hn({},Mf),{required:!1}),userId:{type:"string",required:!0},streamType:{values:["main","sub"],required:!0},option:{type:"object",properties:{fillMode:{type:"string",values:["contain","cover","fill"]},mirror:{type:"boolean"}}}},validate(n,i,s){Lm(this._room.isJoined,s);let u=this._room.remotePublishedUserMap.get(n.userId);if(vV(!!u,s,n),u&&(n.streamType==="main"&&!u.muteState.videoAvailable||n.streamType==="sub"&&!u.muteState.hasAuxiliary))throw new Cn({code:Mn.INVALID_OPERATION,extraCode:5103,fnName:s,messageParams:{value:n}})}},stopRemoteVideo:{name:"stopRemoteVideoConfig",type:"object",required:!0,properties:{userId:{type:"string",required:!0},streamType:{values:["main","sub"]}},validate(n,i,s){if(n.userId!=="*"&&_t(n.streamType))throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5014,fnName:s})}},switchRole:{name:"role",required:!0,values:["anchor","audience"],validate(n,i,s){Lm(this._room.isJoining||this._room.isJoined,s)}},enableAudioVolumeEvaluation:[{name:"interval",type:"number"},{name:"enableInBackground",type:"boolean"}],sendSEIMessage:[{name:"buffer",required:!0,instanceOf:ArrayBuffer,validate(n,i,s,u){if(!Ru)throw new Cn({code:Mn.ENV_NOT_SUPPORTED,fnName:s,extraCode:5207});if(!this._room.enableSEI)throw new Cn({code:Mn.INVALID_OPERATION,fnName:s,extraCode:5108});if(n.byteLength>1e3)throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5018,fnName:s});if(n.byteLength===0)throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5017,messageParams:{key:i},fnName:s});Lm(this._room.isJoined,s)}},{name:"options",type:"object",properties:{seiPayloadType:{type:"number",values:[5,243]},toSubStream:{type:"boolean",validate(n,i,s){if(!n&&!this._room.isMainStreamPublished||n&&!this._room.isAuxStreamPublished)throw new Cn({code:Mn.INVALID_OPERATION,extraCode:5109,messageParams:{key:i},fnName:s})}}}}],sendCustomMessage:{name:"message",required:!0,type:"object",properties:{cmdId:{type:"number",required:!0,min:1,max:10},data:{instanceOf:ArrayBuffer,required:!0,validate(n,i,s,u){if(n.byteLength>1e3)throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5018,fnName:s});if(n.byteLength===0)throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5017,fnName:s,messageParams:{key:i}})}}},validate(n,i,s){if(Lm(this._room.isJoined,s),this._room.scene==="live"&&this._room.role==="audience")throw new Cn({code:Mn.INVALID_OPERATION,extraCode:5107,fnName:s,messageParams:{key:i}})}}},Oo={TRTC:Vne},xi=class extends Error{};function Fne(n,i){let s=ym(n);for(let u=0;u<i.length;u++)wu(s[u],i[u]);return s}function $ne(n){this._resolve=Promise.resolve(n)}function Une(n){this._reject=Promise.reject(n)}var Mm=class{constructor(n,i){this.instance=n,this.group=i,this.started=!1,this.ops=[],this.startSame=()=>!0,this.mergeUpdate=Fne;let s=Mm.instances.get(n);s?s.set(i,this):Mm.instances.set(n,new Map([[i,this]]))}static get(n,i){let s=Mm.instances.get(n);return s&&s.get(i)||new Mm(n,i)}action(n,i,s){let u=E=>{var A;return n===0?this.started=!0:n===3&&(this.started=!1),this.ops.shift(),(A=this.currentOp)==null||A.action(),E},p=E=>{var A,w;throw this.ops.shift(),n===0&&((A=this.currentOp)==null?void 0:A.type)===2&&this.ops.shift().reject(new xi("start failed")),(w=this.currentOp)==null||w.action(),E},y={type:n,action:()=>i(...y.args).then(u,p),args:s,resolve:$ne,reject:Une};try{switch(this.state){case 1:if(n===0)throw new xi("already started");break;case 4:if(n===2)throw new xi("not started");break;default:return this.cacheOp(y)}}catch(E){return Promise.reject(E)}return this.ops.push(y),y.promise=i(...y.args).then(u,p)}cacheOp(n){if(this.ops.length===1)switch(this.state){case 0:case 2:if(n.type===0)throw new xi("already start");break;case 3:switch(n.type){case 2:throw new xi("update not allowed when stopping");case 3:return this.currentOp.promise}break;default:throw new xi("unknown state")}else switch(n.type){case 3:if(this.lastOpType===3)return this.lastOp.promise;{let s=new xi("keep stop");if(this.ops.slice(1).forEach(u=>u.reject(s)),this.ops=this.ops.slice(0,1),this.state===3)return this.currentOp.promise}break;case 2:switch(this.lastOpType){case 2:return this.lastOp.args=this.mergeUpdate(this.lastOp.args,n.args),this.lastOp.promise;case 3:throw new xi("update not allowed after stop")}break;case 0:switch(this.lastOpType){case 2:throw new xi("start not allowed after update");case 0:throw new xi("duplicate start");case 3:if(this.startSame(this.currentOp.args,n.args))throw this.ops.pop().reject(new xi("keep start")),new xi("already start")}}n.promise=new Promise((s,u)=>{n._resolve?n._resolve.then(s):n.resolve=s,n._reject?n._reject.catch(u):n.reject=u});let{action:i}=n;return n.action=()=>i().then(n.resolve,n.reject),this.ops.push(n),n.promise}get lastOp(){return this.ops[this.ops.length-1]}get lastOpType(){return this.lastOp.type}get currentOp(){return this.ops[0]}get state(){return this.currentOp?this.currentOp.type:this.started?1:4}},xm=Mm;xm.instances=new WeakMap;var N_=new WeakMap,P_=(n,i)=>{if(i instanceof xi){let{stack:s}=i;i=new Cn({code:Mn.OPERATION_ABORT,message:"".concat(n," abort: ").concat(i.message),fnName:n}),s&&(i.stack+=s.substr(s.indexOf(`
`)))}throw i};function Mu(n,i){return $r((s,u)=>function(){for(var p=arguments.length,y=new Array(p),E=0;E<p;E++)y[E]=arguments[E];let A=xm.get(this,typeof n=="string"?n:n.call(this,...y));return i&&(A.startSame=i.bind(this)),A.action(0,s.bind(this),y).catch(P_.bind(null,u))})}function xf(n,i){let{merge:s,debounce:u}=i||{};return $r((p,y)=>function(){for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];let V=xm.get(this,typeof n=="string"?n:n.call(this,...A));if(s&&(V.mergeUpdate=s.bind(this)),u&&u.isNeedToDebounce.apply(this,A)){let{delay:K,getKey:z}=u;return new Promise((ue,ve)=>{var Oe,Qe;let gt=(Oe=N_.get(this))==null?void 0:Oe.get(z(...A));if(gt){let{timeoutId:dt,resolve:an}=gt;clearTimeout(dt),an()}let mt=setTimeout(()=>{if(V.state===3||V.state===4)return ue();V.action(2,p.bind(this),A).catch(P_.bind(null,y)).then(ue,ve)},K);N_.has(this)?(Qe=N_.get(this))==null||Qe.set(z(...A),{timeoutId:mt,resolve:ue}):N_.set(this,new Map([[z(...A),{timeoutId:mt,resolve:ue}]]))})}return V.action(2,p.bind(this),A).catch(P_.bind(null,y))})}function xu(n){return $r((i,s)=>function(){for(var u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];return xm.get(this,typeof n=="string"?n:n.call(this,...p)).action(3,i.bind(this),p).catch(P_.bind(null,s))})}var $n={ERROR:"error",AUTOPLAY_FAILED:"autoplay-failed",KICKED_OUT:"kicked-out",REMOTE_USER_ENTER:"remote-user-enter",REMOTE_USER_EXIT:"remote-user-exit",REMOTE_AUDIO_AVAILABLE:"remote-audio-available",REMOTE_AUDIO_UNAVAILABLE:"remote-audio-unavailable",REMOTE_VIDEO_AVAILABLE:"remote-video-available",REMOTE_VIDEO_UNAVAILABLE:"remote-video-unavailable",AUDIO_VOLUME:"audio-volume",NETWORK_QUALITY:"network-quality",CONNECTION_STATE_CHANGED:"connection-state-changed",AUDIO_PLAY_STATE_CHANGED:"audio-play-state-changed",VIDEO_PLAY_STATE_CHANGED:"video-play-state-changed",SCREEN_SHARE_STOPPED:"screen-share-stopped",DEVICE_CHANGED:"device-changed",PUBLISH_STATE_CHANGED:"publish-state-changed",TRACK:"track",STATISTICS:"statistics",SEI_MESSAGE:"sei-message",CUSTOM_MESSAGE:"custom-message"};function D_(n){return n==="sub"?"auxiliary":n==="auxiliary"?"sub":"main"}function Vf(n){return n===Zs.QOS_PREFERENCE_CLEAR?"detail":n===Zs.QOS_PREFERENCE_SMOOTH?"motion":""}var gV=class{constructor(){oe(this,"_log"),this._log=Gt.createLogger({id:"fd"})}download(n,i){return Ke(this,null,function*(){let{type:s="blob"}=i||{};try{let u,p=zn();if(u=wr(fetch)?yield this.downloadWithFetch(n,s):yield this.downloadWithXHR(n,s),!u||!u.data)throw new Error("data is empty");let y=zn()-p;return this._log.info("downloaded: ".concat(n,", return type: ").concat(s,", cost: ").concat(y,"ms")),bn.addSuccessEvent({key:522700,cost:zn()-p}),u.data}catch(u){throw this._log.error("failed to download: ".concat(n,", error: ").concat(u)),bn.addFailedEvent({key:522700,error:u}),u}})}downloadWithFetch(n,i){return Ke(this,null,function*(){this._log.info("download with fetch: ".concat(n,", return type: ").concat(i));try{let s,u=yield fetch(n);if(!u.ok)throw new Error("network response was not ok");return s=i==="arraybuffer"?yield u.arrayBuffer():yield u.blob(),{data:s}}catch(s){throw s}})}downloadWithXHR(n,i){return this._log.info("download with xhr: ".concat(n,", return type: ").concat(i)),new Promise((s,u)=>{let p=new XMLHttpRequest;p.open("GET",n,!0),p.responseType=i,p.onload=()=>{p.status===200||p.status===0&&p.response?s({data:p.response}):u(new Error("XHR failed"))},p.onerror=u,p.send(null)})}loadWasm(n,i){return Ke(this,null,function*(){this._log.info("loadWasm ".concat(n,", importObject: ").concat(JSON.stringify(i)));let s=zn(),u=null,p=null;if(wr(WebAssembly.instantiateStreaming)&&!n.startsWith("data:application/octet-stream;base64,")&&!(y=>y.startsWith("file://"))(n)&&wr(fetch))try{let y=fetch(n);u=(yield WebAssembly.instantiateStreaming(y,i)).instance}catch(y){p=y}if(!u)try{let y=yield this.download(n,{type:"arraybuffer"});u=(yield WebAssembly.instantiate(y,i)).instance}catch(y){p=y}if(u){let y=zn()-s;return this._log.info("loadedWasm ".concat(n,", cost: ").concat(y,"ms")),bn.addSuccessEvent({key:522701,cost:y}),u}throw this._log.error("failed to loadWasm ".concat(n,", error: ").concat(p)),bn.addFailedEvent({key:522701,error:p}),p})}};Yt([Au({settings:{timeout:0,retries:3},onRetrying(n){this._log.warn("download retrying: ".concat(n))}})],gV.prototype,"download",1);var Bne=new gV,L_=new WeakMap;function ei(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return $r((u,p)=>function(){for(var y=arguments.length,E=new Array(y),A=0;A<y;A++)E[A]=arguments[A];try{Rw.call(this,i,E,p,this._name)}catch(w){return Promise.reject(w)}return u.apply(this,E)})}function yV(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return $r((u,p)=>function(){for(var y=arguments.length,E=new Array(y),A=0;A<y;A++)E[A]=arguments[A];try{Rw.call(this,i,E,p,this._name)}catch(w){throw w}return u.apply(this,E)})}function Rw(n,i,s,u){if(Fo(n))for(let p=0;p<n.length;p++)M_.call(this,{rule:n[p],value:i[p],key:n[p].name,fnName:s,className:u});else M_.call(this,{rule:n,value:i[0],key:n.name,fnName:s,className:u})}function M_(n){let{rule:i,value:s,key:u,fnName:p,className:y}=n;function E(V){return{code:Mn.INVALID_PARAMETER,extraCode:V,fnName:p,messageParams:{key:u,rule:i,value:s}}}if(_t(s)){if(i.required)throw new Cn(E(5001));if(_t(i.defaultValue))return void(wr(i.validate)&&i.validate.call(this,s,u,p,y,this));s=i.defaultValue}if(Array.isArray(i.type)){let V=!1;for(let K=0;K<i.type.length;K++)i.type[K]===null&&s===null&&(V=!0),wr(i.type[K])&&s instanceof i.type[K]&&(V=!0),br(i.type[K])&&gi(s)===i.type[K].toLowerCase()&&(V=!0);if(!V)throw new Cn({code:Mn.INVALID_PARAMETER,extraCode:5002,fnName:p,messageParams:{key:u,rule:{type:i.type.map(K=>zC(K)?ix(K):br(K)?K:gi(K))},value:s}})}else if(!_t(i.type)&&gi(s)!==i.type)throw new Cn(E(5002));if(i.allowEmpty===!1){let V=ao(s)&&(s===0||Number.isNaN(s)),K=br(s)&&s.trim()==="";if(V||K)throw new Cn(E(5003))}if(i.notLessThanZero&&ao(s)&&s<0)throw new Cn(E(5006));if(!_t(i.min)&&ao(s)&&s<i.min)throw new Cn(E(5007));if(!_t(i.max)&&ao(s)&&s>i.max)throw new Cn(E(5008));if(br(i.instanceOf)){if(!s||s._name!==i.instanceOf)throw new Cn(E(5004))}else if(wr(i.instanceOf)&&!(s instanceof i.instanceOf))throw new Cn(E(5004));if(Array.isArray(i.values)&&!i.values.includes(s))throw new Cn(E(5005));let{properties:A}=i;Ks(A)&&Gl(s)&&Object.keys(A).forEach(V=>{M_.call(this,{rule:A[V],value:s&&s[V],key:"".concat(V),fnName:p,className:y})});let{arrayItem:w}=i;Ks(w)&&Fo(s)&&s.forEach((V,K)=>{M_.call(this,{rule:w,value:V,key:"".concat(u,"[").concat(K,"]"),fnName:p,className:y})}),wr(i.validate)&&i.validate.call(this,s,u,p,y,this)}function Ur(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{getRemoteId:i=()=>"",replaceArg:s,getKVReportKey:u}=n;return $r((p,y)=>function(){for(var E=arguments.length,A=new Array(E),w=0;w<E;w++)A[w]=arguments[w];function V(ue,ve,Oe){if(Oe&&Oe.includes(ue))return"hided";if(s){let Qe=s(...A);if(A[Qe.argIndex]===ve)return Qe.value}if(ve===A||ue in A)return ve;try{return ve instanceof HTMLElement?"id: ".concat(ve.id," type:").concat(gi(ve)):(JSON.stringify(ve),ve)}catch{return"type:".concat(gi(ve))}}let K=this._log||Gt;A.length>0?K.info("".concat(y,"() ").concat(JSON.stringify(A,(ue,ve)=>V(ue,ve,["userSig","privateMapKey"])))):K.info("".concat(y,"()"));let z=u?u(...A):Ax[y];try{let ue=p.apply(this,A),ve=zn();return WC(ue)?ue.then(Oe=>(K.info("".concat(y,"() success ").concat(i.call(this,...A))),bn.addSuccessEvent({key:z,cost:zn()-ve}),Oe)).catch(Oe=>{throw Oe=Cn.convertFrom.call(this,Oe,y,A.length===1?A[0]:A),K.error("".concat(y,"() failed ").concat(i.call(this,...A)," ").concat(Oe," params: ").concat(JSON.stringify(A,V))),bn.addFailedEvent({key:z,error:Oe}),Oe}):(bn.addSuccessEvent({key:z}),ue)}catch(ue){throw ue=Cn.convertFrom.call(this,ue,y),K.error("".concat(y,"() failed ").concat(ue," params: ").concat(JSON.stringify(A,V))),bn.addFailedEvent({key:z,error:ue}),ue}})}var Aw=n=>$r((i,s)=>function(u,p){return Ke(this,null,function*(){let y=this._plugins.get(u);if(!y)throw this._log.error("plugin ".concat(String(u)," is not found")),new Cn({code:Mn.OPERATION_ABORT,message:"plugin ".concat(String(u)," is not found"),fnName:s});return Rw.call(this,y.getValidateRule(n),[p],s,"TRTC"),i.call(this,y,p)})}),Ow=0,Hne=class{constructor(n,i){oe(this,"player"),oe(this,"publisher"),oe(this,"mixInput"),this.mixInput=new Bx(i),n.url?(this.player=new Audio(n.url),this.player.crossOrigin="anonymous",this.publisher=new Audio(n.url),this.publisher.crossOrigin="anonymous",this.mixInput.replaceSource(this.publisher)):this.mixInput.replaceSource(n.track),this.mixInput.connect()}updateSettings(n){!this.player||(_t(n.volume)||(this.volume=n.volume),_t(n.loop)||(this.loop=n.loop),_t(n.playbackRate)||(this.playbackRate=n.playbackRate))}updateListener(n){if(this.player){if(n.onDurationChange){let{onDurationChange:i}=n;this.player.ondurationchange=s=>{i(s.target.duration)}}if(n.onTimeUpdate){let i=n.onTimeUpdate,{player:s}=this;s.ontimeupdate=()=>{i(s.currentTime,s.duration)}}n.onEnded&&(this.player.onended=n.onEnded)}}reset(){this.seek(0),this.mixInput.connect()}seek(n){!this.player||n<0&&n>this.player.duration||(this.player.currentTime=n,this.publisher.currentTime=n)}play(){var n,i;return(n=this.publisher)==null||n.play(),(i=this.player)==null?void 0:i.play()}pause(){var n,i;(n=this.player)==null||n.pause(),(i=this.publisher)==null||i.pause()}stop(){var n;(n=this.player)==null||n.pause(),this.mixInput.disconnect()}setOperation(n){n==="pause"&&this.pause(),n==="resume"&&(this.pause(),this.play()),n==="stop"&&(this.pause(),this.seek(0))}set volume(n){!this.player||!this.publisher||(this.player.volume=n,this.publisher.volume=n)}set loop(n){!this.player||!this.publisher||(this.player.loop=n,this.publisher.loop=n)}set playbackRate(n){!this.player||!this.publisher||(this.player.playbackRate=n,this.publisher.playbackRate=n)}};function Ff(n,i){if(i&&typeof i!="function")throw new Cn({code:Mn.INVALID_PARAMETER,message:"start audioMixer plugin: param ".concat(n," should be a function.")})}var Vm=class{constructor(n){this.core=n,oe(this,"log"),oe(this,"mixedMusicMap",new Map),oe(this,"cacheMusicMap",new Map),Ow+=1,this.log=n.log.createChild({id:"".concat(this.getAlias()).concat(Ow)}),this.log.info("[audioMixer] created id=".concat(this.getAlias()).concat(Ow)),this.core=n}getName(){return Vm.Name}getAlias(){return"ax"}getGroup(n){return n==null?void 0:n.id}getValidateRule(n){switch(n){case"start":return Vm.startValidateRule;case"update":return Vm.updateValidateRule;case"stop":return Vm.stopValidateRule}}start(n){return Ke(this,null,function*(){let{room:i}=this.core;this.log.info("add music source, id: ".concat(n.id," url: ").concat(n.url,", track: ").concat(n.track));let{id:s,url:u}=n;if(this.mixedMusicMap.has(s))return;let p=this.cacheMusicMap.get(s);p?n.url?p.reset():(p.mixInput.replaceSource(n.track),p.mixInput.connect()):(p=new Hne(n,i.audioManager),this.cacheMusicMap.set(s,p)),p.updateListener(n),p.updateSettings(n),yield p.play(),this.mixedMusicMap.set(s,p),this.log.info("start mix audio track ".concat(s," success.")),bn.addEnum({key:502700,value:3}),this.kvUpload(n)})}update(n){return Ke(this,null,function*(){let{id:i,operation:s,seekFrom:u,playbackRate:p}=n;this.log.info("update music source, ".concat(JSON.stringify(n)));let y=this.mixedMusicMap.get(i);y?(y.updateSettings(n),y.updateListener(n),_t(s)||y.setOperation(s),_t(u)||y.seek(u),this.kvUpload(n)):this.log.warn("update music source failed, music id: ".concat(i," not found."))})}stop(n){return Ke(this,arguments,function(i){var s=this;let{id:u}=i;return function*(){var p;s.mixedMusicMap.has(u)&&(s.log.info("remove music source, music id: ".concat(u)),(p=s.mixedMusicMap.get(u))==null||p.stop(),s.mixedMusicMap.delete(u)),u==="*"&&s.destroyAllMusic()}()})}kvUpload(n){let{track:i,loop:s,volume:u,playbackRate:p,operation:y,seekFrom:E,onTimeUpdate:A,onDurationChange:w,onEnded:V}=n;i&&bn.addCount({key:502711}),s&&bn.addCount({key:502703}),u&&bn.addCount({key:502704}),p&&bn.addCount({key:502705}),y&&bn.addCount({key:502706}),E&&bn.addCount({key:502707}),typeof A!="function"&&bn.addCount({key:502709}),typeof V!="function"&&bn.addCount({key:502710}),typeof w!="function"&&bn.addCount({key:502708})}destroyAllMusic(){this.log.info("destroy all music source."),this.mixedMusicMap.forEach((n,i)=>this.stop({id:i}))}destroyAllCache(){this.log.info("destroy all music cache."),this.cacheMusicMap.clear()}destroy(){this.log.info("destroy audio mixer plugin."),this.destroyAllMusic(),this.destroyAllCache()}},Fm=Vm;oe(Fm,"startValidateRule",{name:"options",required:!0,type:"object",properties:{id:{type:"string",required:!0},url:{type:"string",required:!1},track:{required:!1},loop:{type:"boolean"},volume:{type:"number"}},validate(n,i,s){if(n.url&&n.url!=="*"){let u=n.url.split("?")[0],p=["mp3","ogg","wav","flac"],y=u.split(".").pop(),E=p.indexOf(y)>=0,A=u.startsWith("blob"),w=u.startsWith("data");if(!(E||A||w))throw new Cn({code:Mn.INVALID_PARAMETER,message:"start audioMixer plugin: music url is invalid, please check your file format.",fnName:s})}if(!n.url&&!n.track)throw new Cn({code:Mn.INVALID_PARAMETER,message:"start audioMixer plugin: param url or track is required.",fnName:s});Ff("onTimeUpdate",n.onTimeUpdate),Ff("onEnded",n.onEnded),Ff("onDurationChange",n.onDurationChange)}}),oe(Fm,"updateValidateRule",{name:"options",required:!0,type:"object",properties:{id:{type:"string",required:!0},loop:{type:"boolean"},volume:{type:"number"},seekFrom:{type:"number"},operation:{type:"string",values:["pause","resume","stop"]}},validate(n,i,s){Ff("onTimeUpdate",n.onTimeUpdate),Ff("onEnded",n.onEnded),Ff("onDurationChange",n.onDurationChange)}}),oe(Fm,"stopValidateRule",{name:"options",type:"object",required:!0,properties:{id:{type:"string",required:!0}}}),oe(Fm,"Name","AudioMixer");var jne=n=>(n=Number(n))>0&&n<14e8,Nw=0,$m=class{constructor(n){this.core=n,oe(this,"log"),oe(this,"preloadPromise"),oe(this,"audioContext",Xl()),oe(this,"workletNode"),Nw+=1,this.log=n.log.createChild({id:"".concat(this.getAlias()).concat(Nw)}),this.log.info("[audioDenoiser] created id=".concat(this.getAlias()).concat(Nw)),n.assetsPath&&this.preload("".concat(n.assetsPath,"/denoiser-wasm.js"))}static startValidateRule(n){return{name:"options",required:!0,type:"object",properties:{sdkAppId:{type:"number",required:!0},userId:{type:"string",required:!0},userSig:{type:"string",required:!0}},validate(i,s,u,p){if(!n.room.audioManager.hasAudioTrack)throw new Cn({code:Mn.INVALID_OPERATION,extraCode:5106,fnName:u})}}}preload(n){return this.preloadPromise||(this.preloadPromise=this.doPreload(n)),this.preloadPromise}doPreload(n){return Ke(this,null,function*(){let i=yield this.core.fileDownloader.download(n,{type:"blob"}),s=URL.createObjectURL(i);try{yield gw(this.audioContext,s)}finally{URL.revokeObjectURL(s)}})}getName(){return $m.Name}getAlias(){return"ad"}getGroup(){return"AIDenoiser_".concat(Date.now())}getValidateRule(n){switch(n){case"start":return $m.startValidateRule(this.core);case"update":return $m.updateValidateRule;case"stop":return $m.stopValidateRule}}start(n){return Ke(this,null,function*(){let{room:i}=this.core;if(yield this.preload("".concat(n.assetsPath,"/denoiser-wasm.js")),!this.workletNode){let s=String(Date.now()).slice(0,-3),{auth:u,sign:p,status:y,message:E}=yield function(A){return Ke(this,arguments,function(w){let{sdkAppId:V,userId:K,userSig:z,timestamp:ue}=w;return function*(){let ve="https://".concat(function(nr){let Qn;return Qn=jne(nr)?_V.MAIN_OVERSEA:_V.MAIN,Qn}(V),"/api/v1/audioAiAuth?sdkAppId=").concat(V,"&userId=").concat(K,"&userSig=").concat(z,"&timestamp=").concat(ue),Oe=yield fetch(ve),{data:{errCode:Qe,errMsg:gt,sign:mt,status:dt}}=yield Oe.json();if(dt==="1")return{auth:!0,sign:mt,status:dt,message:gt};let an="Init RTCAIDenoiser failed.",gn="";switch(Qe){case 1:gn="Please check your params.";break;case 2:gn="You need to buy packages. Refer to: https://cloud.tencent.com/document/product/647/44247";break;case 3:gn="Server is invalid. Please contact our engineer. ";break;case 4:gn="Your packages is not active. Refer to: https://cloud.tencent.com/document/product/647/44247";break;case 5:gn="Your packages is expired. Refer to: https://cloud.tencent.com/document/product/647/44247";break;case 6:gn="Your version is not supported."}return{auth:!1,status:dt,message:gt?"".concat(an," Reason: ").concat(gt,". ").concat(gn):"".concat(an,", ").concat(gn)}}()})}(Yn(hn({},n),{timestamp:s}));if(!u)throw this.log.info("RTCAIDenoiser: ".concat(n.userId," auth result: ").concat(u,". Message: ").concat(E)),new Cn({code:Mn.INVALID_PARAMETER,message:E});this.workletNode=new AudioWorkletNode(this.audioContext,"trtc-denoiser-processor",{numberOfInputs:1,numberOfOutputs:1}),this.workletNode.port.postMessage({type:"init",data:{sdkAppId:String(n.sdkAppId),userId:n.userId,timestamp:s,sign:p,status:y}}),this.workletNode.port.onmessage=A=>{let{data:w}=A;w.type==="cost"&&this.log.debug("[RTCAIDenoiser] ".concat(w.value))}}this.workletNode.port.postMessage({type:"enable"}),i.audioManager.addDenoiser(this.workletNode),i.sendAbilityStatus({ai_denoise:1})})}update(){return Ke(this,null,function*(){})}stop(){return Ke(this,null,function*(){if(!this.workletNode)return;let{room:n}=this.core;this.workletNode.port.postMessage({type:"disable"}),yield n.audioManager.removeDenoiser(this.workletNode)})}destroy(){}},x_=$m;oe(x_,"updateValidateRule",{type:"object"}),oe(x_,"stopValidateRule",{type:"object"}),oe(x_,"Name","AIDenoiser");var _V={MAIN:"schedule.cloud-rtc.com",MAIN_OVERSEA:"schedule.rtc.tencentcloud.com"},Wne=Ao(mi(),1),zne=class extends Wne.EventEmitter{constructor(){super(),this.state="nominal",this.onPressureChange=this.onPressureChange.bind(this)}get stateNum(){switch(this.state){case"nominal":return 1;case"fair":return 2;case"serious":return 3;case"critical":return 4}}start(){return Ke(this,null,function*(){if(!this.observer)try{"PressureObserver"in window&&!vi&&(this.observer=new PressureObserver(this.onPressureChange),yield this.observer.observe("cpu",{sampleInterval:2e3}))}catch(n){Wr.uploadEvent({log:"stat-pressure-detector-start-failed",error:n})}})}onPressureChange(n){let i=this.stateNum,s=n[n.length-1];this.state=s.state,(this.stateNum>3||i>3)&&Gt.info("".concat(s.source,": ").concat(s.state)),this.emit("state-changed",{type:s.source,state:this.state})}destroy(){var n;try{(n=this.observer)==null||n.disconnect(),this.observer=null}catch(i){Wr.uploadEvent({log:"stat-pressure-detector-destroy-failed",error:i})}}},bV=new zne,SV=0,V_=new Set,Bo=null;mM("5.7.1");var Kne={RtcError:Cn,ErrorCode:Mn,ErrorCodeDictionary:A_},F_=class extends Fee.EventEmitter{constructor(n,i){super(),oe(this,"_room"),oe(this,"_eventListened",new Set),oe(this,"_localVideoTrack",null),oe(this,"_localAudioTrack",null),oe(this,"_localScreenTrack",null),oe(this,"_localScreenAudioTrack",null),oe(this,"_localVideoConfig",null),oe(this,"_localScreenConfig",null),oe(this,"_localAudioConfig",null),oe(this,"_remoteVideoConfigMap",new Map),oe(this,"_remoteAudioConfigMap",new Map),oe(this,"_remoteAudioMuteMap",new Map),oe(this,"_mediaTrackMap",new WeakMap),oe(this,"_log",Gt.createLogger({id:"t".concat(++SV)})),oe(this,"_plugins",new Map),oe(this,"_networkQuality",null),oe(this,"_speakerId"),this._room=new n(hn({logger:this._log,frameWorkType:F_.frameWorkType},i)),this._log.debug(JSON.stringify(i)),Object.defineProperties(this,{dumpAudio:{enumerable:!1,value(s){return this._room.audioManager.dump(s)}}}),i.plugins&&i.plugins.forEach(s=>{this._use(s,i.assetsPath)}),this._use(Fm,i.assetsPath),this._use(x_,i.assetsPath),this._room.on("audio-volume",s=>{!s.find(u=>u.userId==="")&&this._localAudioTrack&&s.push({userId:"",volume:Math.floor(100*this._localAudioTrack.getAudioLevel())}),this.emit($n.AUDIO_VOLUME,{result:s.sort((u,p)=>p.volume-u.volume)})}),this._room.videoManager.on("error",s=>{let{reason:u,error:p}=s;this._log.error(new Cn({code:Mn.OPERATION_FAILED,extraCode:5504,messageParams:{reason:u,error:p}}))}),this._listenEvents(),this._initActiveSpeaker(),((s,u)=>{let{emit:p}=s;s.emit=function(){for(var y=arguments.length,E=new Array(y),A=0;A<y;A++)E[A]=arguments[A];try{return p.apply(s,E)}catch(w){let V=jn({key:Bn.CATCH_HANDLER_ERROR,data:{name:u,event:E[0]},addDocLink:!1});return Gt.warn("".concat(V,`

`).concat(w.stack)),!1}}})(this,"trtc")}static create(n){}static _create(n,i){var s;uV&&(uV=!1,Gt.getLogLevel()!==5&&(console.info("******************************************************************************"),console.info("*   TRTC Web SDK"),console.info("*   API Document: ".concat(vu,"/en/index.html")),console.info("*   Changelog: ".concat(vu,"/en/tutorial-01-info-changelog.html")),console.info("*   Report issues: https://github.com/LiteAVSDK/TRTC_Web/issues"),console.info("******************************************************************************")),Gt.info("TRTC Web SDK Version:",os),Gt.info("UA:",navigator.userAgent),Gt.info("URL: ".concat(location.href).concat(((s=self.frameElement)==null?void 0:s.tagName)==="IFRAME"?" in iframe":"")),$C().then(p=>{p&&Gt.info(zs)}));let u=new F_(n,i||{});return V_.add(u),u}_listenEvents(){Aa(this,this._room).add("peer-join",n=>{let{userId:i}=n;this.emit($n.REMOTE_USER_ENTER,{userId:i})}).add("peer-leave",n=>{this.emit($n.REMOTE_USER_EXIT,{userId:n})}).add("banned",n=>{this._exitRoom().then(()=>{this.emit($n.KICKED_OUT,{reason:n.reason})})}).add("error",n=>{this._exitRoom().then(()=>{this.emit($n.ERROR,Cn.convertFrom(n))})}).add("signal-connection-state-changed",n=>{this.emit($n.CONNECTION_STATE_CHANGED,n)}).add("network-quality",n=>{this._networkQuality=n,this.emit($n.NETWORK_QUALITY,n)}).add("remote-published",n=>{[n.remoteAudioTrack,n.remoteVideoTrack,n.remoteAuxiliaryTrack].forEach(i=>{Aa(i,i).add("player-state-changed",s=>{let u=Yn(hn({},s),{userId:n.userId});i.kind===Ce.VIDEO&&(u.streamType=D_(i.streamType)),this.emit(i.kind===Ce.AUDIO?$n.AUDIO_PLAY_STATE_CHANGED:$n.VIDEO_PLAY_STATE_CHANGED,u)}).add("error",s=>{s.getCode()===Ht.PLAY_NOT_ALLOWED&&this.emit($n.AUTOPLAY_FAILED,{userId:i.userId})})})}).add("remote-unpublished",n=>{[n.remoteAudioTrack,n.remoteVideoTrack,n.remoteAuxiliaryTrack].forEach(i=>{Zo(i)})}).add("remote-publish-state-changed",n=>{let{prevMuteState:i,muteState:s}=n,{userId:u}=s,p=i.audioAvailable,y=i.videoAvailable,{audioAvailable:E,videoAvailable:A}=s;E||this._remoteAudioConfigMap.delete(u),A||this._remoteVideoConfigMap.delete("".concat(u,"_","main")),s.hasAuxiliary||this._remoteVideoConfigMap.delete("".concat(u,"_","sub")),p!==E&&(this.emit(E?$n.REMOTE_AUDIO_AVAILABLE:$n.REMOTE_AUDIO_UNAVAILABLE,{userId:u}),E?this._onAudioAvailable({userId:u}):this._onAudioUnavailable({userId:u,muteState:s})),y!==A&&(this.emit(A?$n.REMOTE_VIDEO_AVAILABLE:$n.REMOTE_VIDEO_UNAVAILABLE,{userId:u,streamType:"main"}),A?this._onVideoAvailable({userId:u,streamType:"main"}):this._onVideoUnavailable({userId:u,streamType:"main"})),i.hasAuxiliary!==s.hasAuxiliary&&(this.emit(s.hasAuxiliary?$n.REMOTE_VIDEO_AVAILABLE:$n.REMOTE_VIDEO_UNAVAILABLE,{userId:u,streamType:"sub"}),s.hasAuxiliary?this._onVideoAvailable({userId:u,streamType:"sub"}):this._onVideoUnavailable({userId:u,streamType:"sub"}))}).add("firewall-restriction",()=>{this.emit($n.ERROR,new Cn({code:Mn.OPERATION_FAILED,extraCode:5501}))}).add("sei-message",n=>{this.emit($n.SEI_MESSAGE,Yn(hn({},n),{streamType:D_(n.streamType)}))}).add("heartbeat-report",n=>{var i,s,u,p,y,E,A;let w={2:"big",3:"small",7:"sub"},V={rtt:n.msg_up_stream_info.msg_network_status.uint32_rtt||((i=n.msg_down_stream_info[0])==null?void 0:i.msg_network_status.uint32_rtt)||((s=this._networkQuality)==null?void 0:s.uplinkRTT)||((u=this._networkQuality)==null?void 0:u.downlinkRTT)||0,upLoss:((p=this._networkQuality)==null?void 0:p.uplinkLoss)||0,downLoss:((y=this._networkQuality)==null?void 0:y.downlinkLoss)||0,bytesSent:n.bytes_sent||0,bytesReceived:n.bytes_received||0,localStatistics:{audio:{bitrate:(((E=n.msg_up_stream_info.msg_audio_status)==null?void 0:E.uint32_audio_codec_bitrate)||0)/1e3,audioLevel:(((A=n.msg_up_stream_info.msg_audio_status)==null?void 0:A.uint32_audio_level)||0)/jl},video:n.msg_up_stream_info.msg_video_status.filter(K=>w[K.uint32_video_stream_type]).map(K=>({bitrate:(K.uint32_video_codec_bitrate||0)/1e3,width:K.uint32_video_width,height:K.uint32_video_height,frameRate:K.uint32_video_enc_fps,videoType:w[K.uint32_video_stream_type]}))},remoteStatistics:n.msg_down_stream_info.map(K=>({userId:K.msg_user_info.str_identifier,audio:{bitrate:(K.msg_audio_status.uint32_audio_codec_bitrate||0)/1e3,audioLevel:(K.msg_audio_status.uint32_audio_level||0)/jl},video:K.msg_video_status.map(z=>({bitrate:(z.uint32_video_codec_bitrate||0)/1e3,width:z.uint32_video_width,height:z.uint32_video_height,frameRate:z.uint32_video_dec_fps,videoType:w[z.uint32_video_stream_type]}))}))};this.emit($n.STATISTICS,V)}).add("custom-message",n=>{this.emit($n.CUSTOM_MESSAGE,n)}),Aa(this,Uo).add("audioInputAdded",n=>{this.emit($n.DEVICE_CHANGED,{type:"microphone",action:"add",device:n})}).add("audioInputRemoved",n=>{this.emit($n.DEVICE_CHANGED,{type:"microphone",action:"remove",device:n})}).add("videoInputAdded",n=>{this.emit($n.DEVICE_CHANGED,{type:"camera",action:"add",device:n})}).add("videoInputRemoved",n=>{this.emit($n.DEVICE_CHANGED,{type:"camera",action:"remove",device:n})}).add("audioOutputAdded",n=>Ke(this,null,function*(){if(this.emit($n.DEVICE_CHANGED,{type:"speaker",action:"add",device:n}),Bo&&Bo.deviceId===Qy){let i=(yield Nf()).find(s=>s.deviceId===Qy);i&&Bo.groupId!==i.groupId&&(Bo=i,this.emit($n.DEVICE_CHANGED,{type:"speaker",action:"active",device:i}))}})).add("audioOutputRemoved",n=>Ke(this,null,function*(){this.emit($n.DEVICE_CHANGED,{type:"speaker",action:"remove",device:n});let i=(yield Nf())[0];i&&Bo&&(Bo.deviceId===n.deviceId||Bo.deviceId===Qy&&Bo.groupId!==i.groupId)&&(Bo=i,this.emit($n.DEVICE_CHANGED,{type:"speaker",action:"active",device:i}))}))}use(n){let i,s;"plugin"in n?(i=n.plugin,s=n.assetsPath):i=n,this._use(i,s||"https://web.sdk.qcloud.com/trtc/webrtc/v5/assets/")}_use(n,i){if(this._plugins.get(n.Name))return void this._log.warn("duplicate install plugin",n.Name);let s=new n(function(u,p,y){return{room:u,assetsPath:y,fileDownloader:Bne,innerEmitter:Pt,constants:pM,environment:LM,utils:rs,eventLogger:Wr,log:u.getLogger(),errorModule:p,kvStatManager:bn,clearStarted(E,A){let w=E.getAlias(),V=xm.instances.get(u);if(V)if(A){let K=V.get(w+A);if(!K)return;K.started=!1}else V.forEach((K,z)=>{z.startsWith(w)&&(K.started=!1)})}}}(this._room,Kne,i));this._plugins.set(n.Name,s)}enterRoom(n){return Ke(this,null,function*(){var i,s;let{scene:u="rtc",enableAutoPlayDialog:p=!0,autoReceiveAudio:y=!0,autoReceiveVideo:E=!1}=n;n.proxy&&(this._room.setProxyServer(n.proxy),!br(n.proxy)&&n.proxy.turnServer&&((s=(i=this._room).setTurnServer)==null||s.call(i,n.proxy.turnServer,n.proxy.iceTransportPolicy))),this._room.enableAutoPlayDialog=p,this._room.autoReceiveAudio=y,this._room.autoReceiveVideo=E,Li(n.enableHWEncoder)&&(this._room.enableHWEncoder=n.enableHWEncoder);let A={sdkAppId:n.sdkAppId,userId:n.userId,userSig:n.userSig,privateMapKey:n.privateMapKey||null,latencyLevel:n.latencyLevel,role:n.role==="audience"?21:20,roomId:n.roomId||0,strRoomId:n.strRoomId||"",businessInfo:n.businessInfo||null,streamId:null,userDefineRecordId:n.userDefineRecordId||null,frameWorkType:n.frameWorkType,component:n.component,language:n.language};n.strRoomId&&!n.roomId?this._room.useStringRoomId=!0:this._room.useStringRoomId=!1,yield this._room.join(A,u,F_.frameWorkType),this._checkTrackToPublish(),bV.start()})}exitRoom(){return Ke(this,null,function*(){return yield this._exitRoom()})}switchRole(n,i){return Ke(this,null,function*(){i!=null&&i.privateMapKey&&(this._room.privateMapKey=i.privateMapKey),i!=null&&i.latencyLevel&&(this._room.latencyLevel=i.latencyLevel),yield this._room.switchRole(n),n==="anchor"&&this._checkTrackToPublish()})}destroy(){Zo(this),this.removeAllListeners(),this._room.destroy(),V_.delete(this),V_.size===0&&bV.destroy(),this._localAudioTrack&&this.stopLocalAudio(),this._localVideoTrack&&this.stopLocalVideo(),this._localScreenTrack&&this.stopScreenShare(),this._plugins.forEach(n=>{var i;return(i=n.destroy)==null?void 0:i.call(n)})}startLocalAudio(){return Ke(this,arguments,function(){var n=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{publish:!0};return function*(){if(n._localAudioTrack)return void n._log.warn("local audio is already started");let{publish:s=!0,mute:u,option:p}=i,y=new Xs(n._room.audioManager),E={},A={muted:!0};p&&(_t(p.microphoneId)?_t(p.audioTrack)||(E.customSource=p.audioTrack):E.deviceId=p.microphoneId,p&&ao(p.captureVolume)&&y.setCaptureVolume(p.captureVolume),_t(p.profile)||(br(p.profile)?lC[p.profile]&&y.setProfile(lC[p.profile]):y.setProfile(p.profile)),ao(p.earMonitorVolume)&&(A.muted=!(p.earMonitorVolume>0),A.volume=p.earMonitorVolume),_t(p.echoCancellation)||(y.profile.echoCancellation=p.echoCancellation),_t(p.noiseSuppression)||(y.profile.noiseSuppression=p.noiseSuppression),_t(p.autoGainControl)||(y.profile.autoGainControl=p.autoGainControl)),y.on("5",w=>{n.emit($n.ERROR,new Cn({code:Mn.DEVICE_ERROR,extraCode:5309,messageParams:{error:w}}))}),y.on("2",w=>{n.emit($n.DEVICE_CHANGED,{type:"microphone",action:"active",device:w})}),y.on("4",w=>{let V;w.error&&(V=Cn.convertFrom(w.error)),n.emit($n.PUBLISH_STATE_CHANGED,Yn(hn({},w),{error:V}))}),n._listenOutputTrackChanged(y),n._speakerId&&y.setAudioOutput(n._speakerId),yield y.capture(E),_t(u)||y.setMute(u),Aa(y,y).add("player-state-changed",w=>{n.emit($n.AUDIO_PLAY_STATE_CHANGED,Yn(hn({},w),{userId:""}))}),s&&n._room.isJoined&&n._room.publish(y).catch(()=>{}),n._localAudioTrack=y,n._localAudioConfig=Yn(hn({},i),{publish:s}),yield n._updateAudioPlayOption({playOption:A,track:y})}()})}updateLocalAudio(n){return Ke(this,null,function*(){if(!this._localAudioTrack||!this._localAudioConfig)return;let{publish:i,mute:s,option:u}=n,p={};u&&(u.microphoneId?yield this._localAudioTrack.switchDevice(u.microphoneId):_t(u.audioTrack)||(yield this._localAudioTrack.setInputMediaStreamTrack(u.audioTrack)),_t(u.captureVolume)||this._localAudioTrack.setCaptureVolume(u.captureVolume),_t(u.earMonitorVolume)||(p.muted=!(u.earMonitorVolume>0),p.volume=u.earMonitorVolume),yield this._localAudioTrack.update3A(u)),this._room.isJoined&&!_t(i)&&(i&&!this._localAudioConfig.publish&&this._room.publish(this._localAudioTrack).catch(()=>{}),this._localAudioConfig.publish&&!i&&this._room.unpublish(this._localAudioTrack).catch(()=>{})),_t(s)||this._localAudioTrack.setMute(s),yield this._updateAudioPlayOption({playOption:p,track:this._localAudioTrack,prevConfig:this._localAudioConfig}),wu(this._localAudioConfig,n)})}stopLocalAudio(){return Ke(this,null,function*(){!this._localAudioTrack||(this._room.isJoined&&(yield this._room.unpublish(this._localAudioTrack).catch(()=>{})),this._localAudioTrack.stop(),this._localAudioTrack.close(),this._room.audioManager.removeInput(this._localAudioTrack),Zo(this._localAudioTrack),this._localAudioTrack=null,this._localAudioConfig=null)})}startLocalVideo(){return Ke(this,arguments,function(){var n=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{publish:!0,view:null};return function*(){if(n._localVideoTrack)return void n._log.warn("local video is already started");let{view:s,publish:u=!0,mute:p,option:y}=i,E=new Mi(n._room.videoManager),A={},w={};if(y&&(y.cameraId?A.deviceId=y.cameraId:_t(y.useFrontCamera)?_t(y.videoTrack)||(A.customSource=y.videoTrack):A.facingMode=y.useFrontCamera?Ce.FACING_MODE_USER:Ce.FACING_MODE_ENVIRONMENT,_t(y.profile)||(br(y.profile)?is[y.profile]&&E.setProfile(is[y.profile]):E.setProfile(y.profile)),_t(y.fillMode)||(w.objectFit=y.fillMode),_t(y.mirror)||(w.mirror=y.mirror),_t(y.small)||(__()?br(y.small)?E.small=is[y.small]:y.small===!0?E.small=is["120p"]:E.small=y.small:n._log.warn("small stream is not supported"))),E.on("5",V=>{n.emit($n.ERROR,new Cn({code:Mn.DEVICE_ERROR,extraCode:5308,messageParams:{error:V}}))}),E.on("2",V=>{n.emit($n.DEVICE_CHANGED,{type:"camera",action:"active",device:V})}),E.on("4",V=>{let K;V.error&&(K=Cn.convertFrom(V.error)),n.emit($n.PUBLISH_STATE_CHANGED,Yn(hn({},V),{error:K}))}),n._listenOutputTrackChanged(E),yield E.capture(A),_t(p)||(yield E.setMute(p)),E.mediaTrack)if(y!=null&&y.qosPreference){let V=Vf(y.qosPreference);E.mediaTrack.contentHint=V}else y!=null&&y.videoTrack||(E.mediaTrack.contentHint=Vf(Zs.QOS_PREFERENCE_SMOOTH));Aa(E,E).add("player-state-changed",V=>{n.emit($n.VIDEO_PLAY_STATE_CHANGED,Yn(hn({},V),{userId:"",streamType:"main"}))}),u&&n._room.isJoined&&n._room.publish(E).catch(()=>{}),n._localVideoTrack=E,n._localVideoConfig=Yn(hn({},i),{view:s,publish:u}),yield n._updateVideoPlayOption({view:s,playOption:w,track:E})}()})}updateLocalVideo(n){return Ke(this,null,function*(){if(!this._localVideoTrack||!this._localVideoConfig)return;let{view:i,publish:s,mute:u,option:p}=n,y={};if(p){if(_t(p.profile)||(br(p.profile)?is[p.profile]&&this._localVideoTrack.setProfile(is[p.profile]):this._localVideoTrack.setProfile(p.profile),(!p.cameraId||!this._localVideoTrack.isNeedToSwitchDevice(p.cameraId))&&_t(p.useFrontCamera)&&this._localVideoTrack.applyProfile()),p.cameraId?yield this._localVideoTrack.switchDevice(p.cameraId):_t(p.useFrontCamera)?_t(p.videoTrack)||(yield this._localVideoTrack.setInputMediaStreamTrack(p.videoTrack)):yield this._localVideoTrack.switchDevice(p.useFrontCamera?Ce.FACING_MODE_USER:Ce.FACING_MODE_ENVIRONMENT),_t(p.fillMode)||(y.objectFit=p.fillMode),_t(p.mirror)||(y.mirror=p.mirror),p.qosPreference&&this._localVideoTrack.mediaTrack){let E=Vf(p.qosPreference);this._localVideoTrack.mediaTrack.contentHint=E}if(p.small){let E=!this._localVideoTrack.small;__()?(p.small===!0?this._localVideoTrack.small=is["120p"]:br(p.small)?this._localVideoTrack.small=is[p.small]:this._localVideoTrack.small=p.small,this._room.videoManager.update(),E&&this._room.enableSmall(!0)):this._log.warn("small stream is not supported")}else p.small===!1&&this._localVideoTrack.small&&(delete this._localVideoTrack.small,this._room.videoManager.update(),this._room.enableSmall(!1))}this._room.isJoined&&!_t(s)&&(s&&!this._localVideoConfig.publish&&this._room.publish(this._localVideoTrack).catch(()=>{}),this._localVideoConfig.publish&&!s&&this._room.unpublish(this._localVideoTrack).catch(()=>{})),_t(u)||(yield this._localVideoTrack.setMute(u)),yield this._updateVideoPlayOption({view:i,playOption:y,track:this._localVideoTrack,prevConfig:this._localVideoConfig}),wu(this._localVideoConfig,n)})}stopLocalVideo(){return Ke(this,null,function*(){!this._localVideoTrack||(this._room.isJoined&&(yield this._room.unpublish(this._localVideoTrack).catch(()=>{})),this._localVideoTrack.stop(),this._localVideoTrack.close(),Zo(this._localVideoTrack),this._localVideoTrack=null,this._localVideoConfig=null)})}startScreenShare(){return Ke(this,arguments,function(){var n=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{publish:!0,view:null};return function*(){if(n._localScreenTrack)return void n._log.warn("screen share is already started");let{view:s=null,publish:u=!0,option:p}=i,y=new Pu(n._room.videoManager);y.on("4",K=>{let z;K.error&&(z=Cn.convertFrom(K.error)),n.emit($n.PUBLISH_STATE_CHANGED,Yn(hn({},K),{error:z}))}),n._listenOutputTrackChanged(y);let E=null,A={},w={};p&&(_t(p.profile)||(br(p.profile)?cC[p.profile]&&y.setProfile(cC[p.profile]):y.setProfile(p.profile)),p.systemAudio&&(A.systemAudio=!0,A.echoCancellation=p.echoCancellation,A.noiseSuppression=p.noiseSuppression,A.autoGainControl=p.autoGainControl),_t(p.fillMode)||(w.objectFit=p.fillMode),p.videoTrack&&(A.videoTrack=p.videoTrack),p.audioTrack&&(A.audioTrack=p.audioTrack),p.captureElement&&(A.captureElement=p.captureElement),p.preferDisplaySurface&&(A.preferDisplaySurface=p.preferDisplaySurface));let V=yield y.capture(A);if(p!=null&&p.qosPreference){let K=Vf(p.qosPreference);y.mediaTrack.contentHint=K}else p!=null&&p.videoTrack||(y.mediaTrack.contentHint=Vf(Zs.QOS_PREFERENCE_CLEAR));if(y.mediaTrack.addEventListener(Ce.ENDED,()=>{n._stopScreenShare(),n.emit($n.SCREEN_SHARE_STOPPED)}),V.getAudioTracks()[0]&&(E=new Om(n._room.audioManager),E.setInputMediaStreamTrack(V.getAudioTracks()[0]),n._speakerId&&E.setAudioOutput(n._speakerId)),Aa(y,y).add("player-state-changed",K=>{n.emit($n.VIDEO_PLAY_STATE_CHANGED,Yn(hn({},K),{userId:"",streamType:"sub"}))}),u&&n._room.isJoined){let K=[y];E&&K.push(E),n._room.publish(...K).catch(()=>{})}n._localScreenTrack=y,n._localScreenAudioTrack=E,n._localScreenConfig=Yn(hn({},i),{view:s,publish:u}),yield n._updateVideoPlayOption({view:s,playOption:w,track:y})}()})}updateScreenShare(n){return Ke(this,null,function*(){if(!this._localScreenTrack||!this._localScreenConfig)return;let{view:i,publish:s,option:u}=n,p={};if(u&&(_t(u.fillMode)||(p.objectFit=u.fillMode),u.qosPreference)){let y=Vf(u.qosPreference);this._localScreenTrack.mediaTrack.contentHint=y}this._room.isJoined&&!_t(s)&&(s&&!this._localScreenConfig.publish&&(this._room.publish(this._localScreenTrack).catch(()=>{}),this._localScreenAudioTrack&&this._room.publish(this._localScreenAudioTrack).catch(()=>{})),this._localScreenConfig.publish&&!s&&(this._room.unpublish(this._localScreenTrack).catch(()=>{}),this._localScreenAudioTrack&&this._room.unpublish(this._localScreenAudioTrack).catch(()=>{}))),yield this._updateVideoPlayOption({view:i,playOption:p,track:this._localScreenTrack,prevConfig:this._localScreenConfig}),wu(this._localScreenConfig,n)})}stopScreenShare(){return Ke(this,null,function*(){return yield this._stopScreenShare()})}startRemoteVideo(n){return Ke(this,null,function*(){let{view:i,userId:s,streamType:u,option:p}=n,y="".concat(s,"_").concat(u);if(this._remoteVideoConfigMap.has(y))return void this._log.warn("remote video has already started. userId:".concat(s,", streamType:").concat(u));let E=this._room.remotePublishedUserMap.get(s);if(!E)return;let A={},w=u==="main"?E.remoteVideoTrack:E.remoteAuxiliaryTrack;this._listenOutputTrackChanged(w),p&&(_t(p.fillMode)||(A.objectFit=p.fillMode),_t(p.mirror)||(A.mirror=p.mirror),A.canvasRender=p.canvasRender,u==="main"&&!_t(p.small)&&(E.remoteVideoTrack.setMediaType(p.small?8:4),this._room.changeType(p.small,w.user))),yield this._room.subscribe(w),yield this._updateVideoPlayOption({view:i,playOption:A,track:w}),this._emitTrackEvent(w),this._remoteVideoConfigMap.set(y,{config:n}),p&&!_t(p.receiveWhenViewVisible)&&this._observeView({remoteTrack:w,view:i,receiveWhenViewVisible:p.receiveWhenViewVisible,viewRoot:p==null?void 0:p.viewRoot})})}updateRemoteVideo(n){return Ke(this,null,function*(){var i,s;let{view:u,userId:p,streamType:y,option:E}=n,A="".concat(p,"_").concat(y),w=this._remoteVideoConfigMap.get(A);if(!w||!this._room.remotePublishedUserMap.has(p))return;let V={};E&&(_t(E.fillMode)||(V.objectFit=E.fillMode),_t(E.mirror)||(V.mirror=E.mirror));let K=null,z=this._room.remotePublishedUserMap.get(p);if(y==="main"&&(z==null?void 0:z.muteState.hasVideo)&&(K=z.remoteVideoTrack),y==="sub"&&(z==null?void 0:z.muteState.hasAuxiliary)&&(K=z.remoteAuxiliaryTrack),!K)return;let{config:ue}=w;y==="main"&&E&&!_t(E.small)&&this._room.changeType(E.small,K.user),yield this._updateVideoPlayOption({view:u,playOption:V,track:K,prevConfig:ue}),wu(ue,n);let ve=_t(E==null?void 0:E.receiveWhenViewVisible)?(i=ue.option)==null?void 0:i.receiveWhenViewVisible:E.receiveWhenViewVisible,Oe=_t(u)?ue.view:u,Qe=_t(E==null?void 0:E.viewRoot)?(s=ue.option)==null?void 0:s.viewRoot:E.viewRoot;this._observeView({remoteTrack:K,view:Oe,receiveWhenViewVisible:ve,viewRoot:Qe})})}stopRemoteVideo(n){return Ke(this,null,function*(){return this._stopRemoteVideo(n)})}_stopRemoteVideo(n){let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Ke(this,null,function*(){let s=[],u=this._room.remotePublishedUserMap.get(n.userId);if(u){let{muteState:y,remoteVideoTrack:E,remoteAuxiliaryTrack:A}=u;n.streamType==="main"&&(E.stop(),y.hasVideo&&s.push(E)),n.streamType==="sub"&&(A.stop(),y.hasAuxiliary&&s.push(A))}for(let y of s)i&&(yield this._room.unsubscribe(y),this._mediaTrackMap.get(y.outMediaTrack)===y.userId&&this._mediaTrackMap.delete(y.outMediaTrack));let p=this._remoteVideoConfigMap.get("".concat(n.userId,"_").concat(n.streamType));p&&p.observer&&p.observer.disconnect(),this._remoteVideoConfigMap.delete("".concat(n.userId,"_").concat(n.streamType))})}muteRemoteAudio(n,i){return Ke(this,null,function*(){if(n==="*")if(i)yield this._stopRemoteAudio({userId:n});else{let s=[...this._room.remotePublishedUserMap.values()];for(let u of s)u.muteState.hasAudio&&!this._remoteAudioConfigMap.has(u.userId)&&(yield this._startRemoteAudio({userId:u.userId}))}else i?yield this._stopRemoteAudio({userId:n}):this._remoteAudioConfigMap.has(n)||(yield this._startRemoteAudio({userId:n}));this._remoteAudioMuteMap.set(n,i)})}setRemoteAudioVolume(n,i){if(n==="*"){let s=[...this._room.remotePublishedUserMap.values()];for(let u of s)this._updateAudioPlayOption({playOption:{volume:i},track:u.remoteAudioTrack})}else if(n){let s=this._room.remotePublishedUserMap.get(n);s&&this._updateAudioPlayOption({playOption:{volume:i},track:s.remoteAudioTrack})}}startPlugin(n,i){return Ke(this,null,function*(){return n.start(i)})}updatePlugin(n,i){return Ke(this,null,function*(){return n.update(i)})}stopPlugin(n,i){return Ke(this,null,function*(){return n.stop(i)})}enableAudioVolumeEvaluation(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2e3,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._room.enableAudioVolumeEvaluation(n,i)}on(n,i,s){return this.listeners(n).includes(i)||(this._log.debug("on",n),super.on(n,i,s),this._eventListened.add(n)),this}off(n,i,s){return this._log.debug("off",n),n==="*"?(this._eventListened.clear(),this.removeAllListeners()):super.off(n,i,s),this}getAudioTrack(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{userId:"",streamType:"main"};var i,s;let u,p="main";if(br(n)?u=n:(u=n.userId,n.streamType&&(p=n.streamType)),!u)return p==="sub"?((i=this._localScreenAudioTrack)==null?void 0:i.mediaTrack)||null:((s=this._localAudioTrack)==null?void 0:s.mediaTrack)||null;{let y=this._room.remotePublishedUserMap.get(u);if(y)return y.remoteAudioTrack.mediaTrack}return null}getVideoTrack(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{userId:"",streamType:"main"},{userId:i="",streamType:s="main"}=n;if(i===""){if(s==="main"&&this._localVideoTrack)return this._localVideoTrack.mediaTrack;if(s==="sub"&&this._localScreenTrack)return this._localScreenTrack.mediaTrack}else{let u=this._room.remotePublishedUserMap.get(i);if(u)return s==="main"?u.remoteVideoTrack.mediaTrack:u.remoteAuxiliaryTrack.mediaTrack}return null}getVideoSnapshot(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{userId:i,streamType:s="main"}=n;if(i){let u=this._room.remotePublishedUserMap.get(i);if(s==="main"&&(u==null?void 0:u.muteState.hasVideo))return u.remoteVideoTrack.getVideoFrame();if(s==="sub"&&(u==null?void 0:u.muteState.hasAuxiliary))return u.remoteAuxiliaryTrack.getVideoFrame()}else{if(s==="main"&&this._localVideoTrack)return this._localVideoTrack.getVideoFrame();if(s==="sub"&&this._localScreenTrack)return this._localScreenTrack.getVideoFrame()}return""}setCurrentSpeaker(n){var i,s;this._speakerId=n,(i=this._localAudioTrack)==null||i.setAudioOutput(n),(s=this._localScreenAudioTrack)==null||s.setAudioOutput(n),this._room.remotePublishedUserMap.forEach(u=>u.remoteAudioTrack.setAudioOutput(n))}_startRemoteAudio(n){return this._doStartRemoteAudio(n)}_doStartRemoteAudio(n){return Ke(this,null,function*(){let{userId:i,option:s}=n;if(this._remoteAudioConfigMap.has(i))return void this._log.warn("remote audio has already started. userId:".concat(i));let u=this._room.remotePublishedUserMap.get(i);if(!u)return;let p={};s&&(_t(s.volume)||(p.volume=s.volume));let y=u.remoteAudioTrack;this._listenOutputTrackChanged(y),this._speakerId&&y.setAudioOutput(this._speakerId);try{this._remoteAudioConfigMap.set(i,n),yield this._room.subscribe(y),yield this._updateAudioPlayOption({playOption:p,track:y})}catch(E){throw this._remoteAudioConfigMap.delete(i),E}this._emitTrackEvent(y)})}_stopRemoteAudio(n){let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Ke(this,null,function*(){let s=this._room.remotePublishedUserMap.get(n.userId);s&&(s.remoteAudioTrack.stop(),s.muteState.hasAudio&&i&&(yield this._room.unsubscribe(s.remoteAudioTrack)),this._mediaTrackMap.get(s.remoteAudioTrack.outMediaTrack)===n.userId&&this._mediaTrackMap.delete(s.remoteAudioTrack.outMediaTrack)),this._remoteAudioConfigMap.delete("".concat(n.userId))})}_updateVideoPlayOption(n){return Ke(this,arguments,function(i){let{view:s,playOption:u,track:p,prevConfig:y}=i;return function*(){if(p.setMirror(u.mirror),_t(s)&&y&&y.view&&!sx(u)){let E=v_(y.view);E.length>0&&(yield p.play(E,u))}if(!_t(s)){let E=v_(s);E.length>0?yield p.play(E,u):p.stop()}}()})}_updateAudioPlayOption(n){return Ke(this,arguments,function(i){let{playOption:s={},track:u,prevConfig:p}=i;return function*(){if(!u.isPlayCalled)try{yield u.play(null,s)}catch{}_t(s.muted)||u.setPlayerMute(s.muted),_t(s.volume)||u.setAudioVolume(s.volume/100)}()})}_listenOutputTrackChanged(n){n.listeners("output-media-track-changed").length===0&&n.on("output-media-track-changed",()=>this._emitTrackEvent(n,!1))}_emitTrackEvent(n){let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=n.isRemote?n.userId:"";!n.outMediaTrack||i&&this._mediaTrackMap.get(n.outMediaTrack)===s||(this._mediaTrackMap.set(n.outMediaTrack,s),this.emit($n.TRACK,{userId:s,streamType:D_(n.streamType),track:n.outMediaTrack}))}_checkTrackToPublish(){var n,i,s;let u=[];if(((n=this._localAudioConfig)==null?void 0:n.publish)&&this._localAudioTrack&&u.push(this._localAudioTrack),((i=this._localVideoConfig)==null?void 0:i.publish)&&this._localVideoTrack&&u.push(this._localVideoTrack),(s=this._localScreenConfig)!=null&&s.publish&&(this._localScreenTrack&&u.push(this._localScreenTrack),this._localScreenAudioTrack&&u.push(this._localScreenAudioTrack)),u.length!==0)return this._room.publish(...u).catch(()=>{})}_observeView(n){let{remoteTrack:i,view:s,receiveWhenViewVisible:u=!1,viewRoot:p}=n;if(_t(s))return;let y=this._remoteVideoConfigMap.get("".concat(i.userId,"_").concat(D_(i.streamType)));if(!y)return;let E=y.observer||void 0;if(s===null||Fo(s)&&s.length===0||!u)return E==null||E.disconnect(),void(i.isSubscribed||this._room.subscribe(i).catch(()=>{}));let A=y.visibleViewMap||new Map,w=-1;(!E||E.root!==p)&&(E==null||E.disconnect(),A.clear(),E=new IntersectionObserver(K=>{K.forEach(z=>{A.set(z.target,z.isIntersecting)}),clearTimeout(w),w=window.setTimeout(()=>{[...A.values()].find(z=>z)?i.isSubscribed||this._room.subscribe(i).catch(()=>{}):i.isSubscribed&&this._room.unsubscribe(i).catch(()=>{})},200)},{root:p}));let V=new Set(v_(s));A.forEach((K,z)=>{V.has(z)||(E.unobserve(z),A.delete(z))}),V.forEach(K=>{A.set(K,!0),E.observe(K)}),E.takeRecords().forEach(K=>{A.set(K.target,K.isIntersecting)}),y.visibleViewMap=A,y.observer=E}_exitRoom(){return Ke(this,null,function*(){this._room.isJoined&&(yield this._room.leave()),new Set([...this._remoteAudioConfigMap.keys(),...this._remoteAudioMuteMap.keys()]).forEach(n=>{this._stopRemoteAudio({userId:n}).catch()}),[...this._remoteVideoConfigMap.keys()].forEach(n=>{let i=n.includes("main")?"main":"sub",s=n.split("_".concat(i))[0];s&&this._stopRemoteVideo({userId:s,streamType:i}).catch()}),this._remoteVideoConfigMap.clear(),this._remoteAudioConfigMap.clear(),this._remoteAudioMuteMap.clear(),this._room.remotePublishedUserMap.forEach(n=>{Zo(n.remoteAudioTrack),Zo(n.remoteVideoTrack),Zo(n.remoteAuxiliaryTrack)})})}_stopScreenShare(){return Ke(this,null,function*(){var n;if(this._localScreenTrack){if(this._room.isJoined){let i=[this._localScreenTrack];this._localScreenAudioTrack&&i.push(this._localScreenAudioTrack),yield(n=this._room)==null?void 0:n.unpublish(...i).catch(()=>{})}this._localScreenTrack.stop(),this._localScreenTrack.close(),this._localScreenAudioTrack&&(this._localScreenAudioTrack.stop(),this._localScreenAudioTrack.close(),this._room.audioManager.removeInput(this._localScreenAudioTrack),this._localScreenAudioTrack=null),Zo(this._localScreenTrack),this._localScreenTrack=null,this._localScreenConfig=null}})}_initActiveSpeaker(){return Ke(this,null,function*(){if(Bo&&!km(Bo))this.emit($n.DEVICE_CHANGED,{type:"speaker",action:"active",device:Bo});else{let n=yield Nf();if(n[0]&&!km(n[0]))Bo=n[0],this.emit($n.DEVICE_CHANGED,{type:"speaker",action:"active",device:n[0]});else{let i=s=>{let{track:u}=s;u.kind==="audio"&&(!Bo||km(Bo))&&(this._initActiveSpeaker(),Pt.off("102",this._initActiveSpeaker))};Pt.on("102",i)}}})}_onAudioAvailable(n){let{userId:i}=n,s=this._remoteAudioMuteMap.has(i)?this._remoteAudioMuteMap.get(i):this._remoteAudioMuteMap.get("*");(s===!1||this._room.autoReceiveAudio&&!s)&&this._doStartRemoteAudio({userId:i}).catch(()=>{})}_onVideoAvailable(n){let{userId:i,streamType:s}=n;if(!this._room.autoReceiveVideo)return;let u=this._room.remotePublishedUserMap.get(i);if(u){let p=s==="main"?u.remoteVideoTrack:u.remoteAuxiliaryTrack;this._room.subscribe(p).then(()=>{this._emitTrackEvent(p)}).catch(()=>{})}}_onAudioUnavailable(n){let{userId:i,muteState:s}=n;s.hasAudio&&s.audioMuted||this._stopRemoteAudio({userId:i},!1).catch(()=>{})}_onVideoUnavailable(n){let{userId:i,streamType:s}=n;this._stopRemoteVideo({userId:i,streamType:s},!1).catch(()=>{})}sendSEIMessage(n,i){this._room.sendSEI(n,i||{seiPayloadType:243}),bn.addCount({key:5e5,useUV:!0})}sendCustomMessage(n){var i,s;(s=(i=this._room).sendCustomMessage)==null||s.call(i,n),bn.addCount({key:500001,useUV:!0})}static setLogLevel(n,i){Gt.setLogLevel(n),_t(i)||(i?Gt.enableUploadLog():Gt.disableUploadLog())}static isSupported(){return ew()}static getCameraList(){return Ql(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])}static getMicrophoneList(){return Js(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])}static getSpeakerList(){return Nf(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])}static setCurrentSpeaker(n){return Ke(this,null,function*(){(yield Nf()).forEach(i=>{i.deviceId===n&&(V_.forEach(s=>{s.setCurrentSpeaker(n),s.emit($n.DEVICE_CHANGED,{type:"speaker",action:"active",device:i})}),Bo=i)})})}static _addKVStat(n){let{type:i,key:s,value:u,base:p,useUV:y,version:E}=n;switch(E&&(Im.version=E),i){case"count":Im.addCount({key:s,useUV:y});break;case"enum":Im.addEnum({key:s,value:u,useUV:y});break;case"number":Im.addNumber({key:s,value:u,split:p})}}},Jn=F_;oe(Jn,"_loggerManager",Gt),oe(Jn,"EVENT",$n),oe(Jn,"ERROR_CODE",Mn),oe(Jn,"TYPE",Zs),oe(Jn,"frameWorkType",30),Yt([Ur({replaceArg:n=>({argIndex:0,value:{name:"plugin"in n?n.plugin.Name:n.Name,assetsPath:"assetsPath"in n?n==null?void 0:n.assetsPath:"default"}})})],Jn.prototype,"use",1),Yt([ei(Oo.TRTC.enterRoom),Mu("room",(n,i)=>{let[s]=n,[u]=i;return(s.roomId||s.strRoomId)===(u.roomId||u.strRoomId)&&s.userId===u.userId&&s.sdkAppId===u.sdkAppId}),$r(n=>function(i){return this._log.setUserId(i.userId),this._log.setSdkAppId(i.sdkAppId),n.call(this,i)}),Ur()],Jn.prototype,"enterRoom",1),Yt([Ur()],Jn.prototype,"exitRoom",1),Yt([ei(Oo.TRTC.switchRole),xf("room",{merge:(n,i)=>i}),Ur()],Jn.prototype,"switchRole",1),Yt([Ur()],Jn.prototype,"destroy",1),Yt([ei(Oo.TRTC.startLocalAudio),Mu("audio",(n,i)=>{let[s]=n,[u]=i;var p,y;return((p=s==null?void 0:s.option)==null?void 0:p.microphoneId)===((y=u==null?void 0:u.option)==null?void 0:y.microphoneId)}),Ur()],Jn.prototype,"startLocalAudio",1),Yt([ei(Oo.TRTC.updateLocalAudio),xf("audio",{debounce:{delay:200,getKey:()=>"".concat(SV,"-localAudio"),isNeedToDebounce:n=>{var i;return!_t((i=n.option)==null?void 0:i.captureVolume)}}}),Ur()],Jn.prototype,"updateLocalAudio",1),Yt([xu("audio"),Ur()],Jn.prototype,"stopLocalAudio",1),Yt([ei(Oo.TRTC.startLocalVideo),Mu("video",(n,i)=>{let[s]=n,[u]=i;var p,y;return((p=s==null?void 0:s.option)==null?void 0:p.cameraId)===((y=u==null?void 0:u.option)==null?void 0:y.cameraId)}),Ur()],Jn.prototype,"startLocalVideo",1),Yt([ei(Oo.TRTC.updateLocalVideo),xf("video"),Ur()],Jn.prototype,"updateLocalVideo",1),Yt([xu("video"),Ur()],Jn.prototype,"stopLocalVideo",1),Yt([ei(Oo.TRTC.startScreenShare),Mu("screen",()=>!0),Ur()],Jn.prototype,"startScreenShare",1),Yt([ei(Oo.TRTC.updateScreenShare),xf("screen"),Ur()],Jn.prototype,"updateScreenShare",1),Yt([Ur()],Jn.prototype,"stopScreenShare",1),Yt([ei(Oo.TRTC.startRemoteVideo),Mu(n=>"v".concat(n.userId).concat(n.streamType),()=>!0),Ur({getRemoteId:n=>"".concat(n.userId,"_").concat(n.streamType)})],Jn.prototype,"startRemoteVideo",1),Yt([ei(Oo.TRTC.updateRemoteVideo),xf(n=>"v".concat(n.userId).concat(n.streamType)),Ur({getRemoteId:n=>"".concat(n.userId,"_").concat(n.streamType)})],Jn.prototype,"updateRemoteVideo",1),Yt([ei(Oo.TRTC.stopRemoteVideo),$r(n=>function(i){return Ke(this,null,function*(){if(i.userId==="*"){let s=[];return this._room.remotePublishedUserMap.forEach(u=>{this._remoteVideoConfigMap.has("".concat(u.userId,"_","main"))&&s.push(this.stopRemoteVideo({streamType:"main",userId:u.userId}).catch(()=>{})),this._remoteVideoConfigMap.has("".concat(u.userId,"_","sub"))&&s.push(this.stopRemoteVideo({streamType:"sub",userId:u.userId}).catch(()=>{}))}),Promise.all(s)}return n.call(this,i)})}),Ur({getRemoteId:n=>"".concat(n.userId,"_").concat(n.streamType)})],Jn.prototype,"stopRemoteVideo",1),Yt([xu(n=>"v".concat(n.userId).concat(n.streamType))],Jn.prototype,"_stopRemoteVideo",1),Yt([ei(...Oo.TRTC.muteRemoteAudio),Ur({getRemoteId:n=>n})],Jn.prototype,"muteRemoteAudio",1),Yt([yV(...Oo.TRTC.setRemoteAudioVolume),function(n,i){return $r((s,u)=>function(){for(var p=arguments.length,y=new Array(p),E=0;E<p;E++)y[E]=arguments[E];var A,w;let V=(A=L_.get(this))==null?void 0:A.get(i(...y));V&&V>0&&clearTimeout(V);let K=window.setTimeout(()=>{s.apply(this,y)},n);L_.has(this)?(w=L_.get(this))==null||w.set(i(...y),K):L_.set(this,new Map([[i(...y),K]]))})}(200,n=>n),Ur({getRemoteId:n=>n})],Jn.prototype,"setRemoteAudioVolume",1),Yt([Aw("start"),Mu((n,i)=>n.getAlias()+n.getGroup(i)),Ur({replaceArg:n=>({argIndex:0,value:n.getName()}),getKVReportKey:n=>Ox[n.getName()]})],Jn.prototype,"startPlugin",1),Yt([Aw("update"),xf((n,i)=>n.getAlias()+n.getGroup(i)),Ur({replaceArg:n=>({argIndex:0,value:n.getName()}),getKVReportKey:n=>Nx[n.getName()]})],Jn.prototype,"updatePlugin",1),Yt([Aw("stop"),xu((n,i)=>n.getAlias()+n.getGroup(i)),Ur({replaceArg:n=>({argIndex:0,value:n.getName()}),getKVReportKey:n=>Px[n.getName()]})],Jn.prototype,"stopPlugin",1),Yt([yV(...Oo.TRTC.enableAudioVolumeEvaluation)],Jn.prototype,"enableAudioVolumeEvaluation",1),Yt([Ur()],Jn.prototype,"getVideoSnapshot",1),Yt([Ur()],Jn.prototype,"setCurrentSpeaker",1),Yt([Mu(n=>"a".concat(n.userId),()=>!0)],Jn.prototype,"_startRemoteAudio",1),Yt([$r(n=>function(i){return Ke(this,null,function*(){return i.userId==="*"?Promise.all([...this._room.remotePublishedUserMap.values()].map(s=>this._stopRemoteAudio(Yn(hn({},i),{userId:s.userId})).catch(()=>{}))):n.call(this,i)})}),xu(n=>"a".concat(n.userId))],Jn.prototype,"_stopRemoteAudio",1),Yt([xu("room")],Jn.prototype,"_exitRoom",1),Yt([xu("screen")],Jn.prototype,"_stopScreenShare",1),Yt([ei(...Oo.TRTC.sendSEIMessage),cV({timesInSecond:30,maxSizeInSecond:8e3,getSize:function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i[0].byteLength}})],Jn.prototype,"sendSEIMessage",1),Yt([ei(Oo.TRTC.sendCustomMessage),cV({timesInSecond:30,maxSizeInSecond:8e3,getSize:n=>n.data.byteLength})],Jn.prototype,"sendCustomMessage",1),Yt([ei(Oo.TRTC.create)],Jn,"_create",1);var $_=Jn,Gne=class{constructor(){this._set=new Set,Pt.on(bt.LEAVE_SUCCESS,this.delete,this)}add(n){let{room:i,roomId:s}=n;if(i.scene==="rtc")return;let u=this.getKey(i.userId,s||i.roomId,i.sdkAppId,i.useStringRoomId);this._set.add(u)}delete(n){let{room:i,roomId:s}=n;if(i.scene==="rtc")return;let u=this.getKey(i.userId,i.roomId||s,i.sdkAppId,i.useStringRoomId);this._set.delete(u)}getKey(n,i,s,u){return"".concat(s,"_").concat(i,"_").concat(n,"_").concat(u)}isJoined(n){let{userId:i,roomId:s,sdkAppId:u,room:p}=n;return p.scene!=="rtc"&&this._set.has(this.getKey(i,s,u,p.useStringRoomId))}};function qne(){return Ke(this,null,function*(){let n,i;try{let z=yield Js();n=z&&z.length}catch{}try{let z=yield Ql();i=z&&z.length}catch{}let s={microphone:n,camera:i},{isH264EncodeSupported:u,isVp8EncodeSupported:p,isH264DecodeSupported:y,isVp8DecodeSupported:E}=this.checkSystemResult.detail,A=_m.basis(),w={webRTC:A.isWebRTCSupported,getUserMedia:A.isGetUserMediaSupported,webSocket:A.isWebSocketsSupported,screenShare:A.isScreenShareSupported,webAudio:A.isWebAudioSupported,h264Encode:u,h264Decode:y,vp8Encode:p,vp8Decode:E},V={browser:A.browser,os:A.os,trtc:w,devices:s},K={isWebCodecSupported:A.isWebCodecSupported,isMediaSessionSupported:A.isMediaSessionSupported,isWebTransportSupported:A.isWebTransportSupported};Wr.uploadEvent({log:"trtcstats-".concat(JSON.stringify(V)),userId:this.userId}),this._log.info("TrtcStats-".concat(JSON.stringify(V))),Wr.uploadEvent({log:"trtcadvancedstats-".concat(JSON.stringify(K)),userId:this.userId})})}var Yne=Ao(mi(),1),EV=Symbol("instance"),Pw=Symbol("cacheResult"),U_=class{constructor(n,i,s){this.oldState=n,this.newState=i,this.action=s,this.aborted=!1}abort(n){this.aborted=!0,Bm.call(n,this.oldState,new Error("action '".concat(this.action,"' aborted")))}toString(){return"".concat(this.action,"ing")}},Dw=class extends Error{constructor(n,i,s){super(i),this.state=n,this.message=i,this.cause=s}},Um=new Map;function TV(n,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(u,p,y)=>{let E=s.action||p;if(!s.context){let w=Um.get(u)||[];Um.has(u)||Um.set(u,w),w.push({from:n,to:i,action:E})}let A=y.value;y.value=function(){let w=this;for(var V=arguments.length,K=new Array(V),z=0;z<V;z++)K[z]=arguments[z];if(s.context&&(w=zr.get(typeof s.context=="function"?s.context.call(this,...K):s.context)),w.state===i)return w[Pw];w.state instanceof U_&&w.state.action==s.abortAction&&w.state.abort(w);let ue=null;if(Array.isArray(n)?n.length==0?w.state instanceof U_&&w.state.abort(w):(typeof w.state!="string"||!n.includes(w.state))&&(ue=new Dw(w._state,"".concat(w.name," ").concat(E," to ").concat(i," failed: current state ").concat(w._state," not in from config"))):n!==w.state&&(ue=new Dw(w._state,"".concat(w.name," ").concat(E," to ").concat(i," failed: current state ").concat(w._state," not from ").concat(n))),ue){if(!s.fail){if(s.ignoreError)return ue;throw ue}s.fail.call(this,ue)}let ve=w.state,Oe=new U_(ve,i,E);Bm.call(w,Oe);let Qe=mt=>{var dt;return w[Pw]=mt,Oe.aborted||(Bm.call(w,i),(dt=s.success)===null||dt===void 0||dt.call(this,w[Pw])),mt},gt=mt=>{let dt=mt instanceof Error?mt.message:String(mt);if(Bm.call(w,ve,mt),!s.fail){if(s.ignoreError)return mt;throw mt}s.fail.call(this,new Dw(w._state,"action '".concat(E,"' failed :").concat(dt),mt instanceof Error?mt:new Error(dt)))};try{let mt=A.apply(this,K);return function(dt){return typeof dt=="object"&&dt&&"then"in dt}(mt)?mt.then(Qe).catch(gt):Qe(mt)}catch(mt){gt(mt)}}}}var Jne=typeof window!="undefined"&&window.__AFSM__?(n,i)=>{window.dispatchEvent(new CustomEvent(n,{detail:i}))}:typeof importScripts!="undefined"?(n,i)=>{postMessage({type:n,payload:i})}:()=>{};function Bm(n,i){let s=this._state;this._state=n;let u=n.toString();n&&this.emit(u,s),this.emit(zr.STATECHANGED,n,s,i),this.updateDevTools({value:n,old:s,err:i instanceof Error?i.message:String(i)})}var zr=class extends Yne.default{constructor(n,i,s){super(),this.name=n,this.groupName=i,this._state=zr.INIT,n||(n=Date.now().toString(36)),s?Object.setPrototypeOf(this,s):s=Object.getPrototypeOf(this),i||(this.groupName=this.constructor.name);let u=s[EV];u?this.name=u.name+"-"+u.count++:s[EV]={name:this.name,count:0},this.updateDevTools({diagram:this.stateDiagram})}get stateDiagram(){let n=Object.getPrototypeOf(this),i=Um.get(n)||[],s=new Set,u=[],p=[],y=new Set,E=Object.getPrototypeOf(n);Um.has(E)&&(E.stateDiagram.forEach(w=>s.add(w)),E.allStates.forEach(w=>y.add(w))),i.forEach(w=>{let{from:V,to:K,action:z}=w;typeof V=="string"?u.push({from:V,to:K,action:z}):V.length?V.forEach(ue=>{u.push({from:ue,to:K,action:z})}):p.push({to:K,action:z})}),u.forEach(w=>{let{from:V,to:K,action:z}=w;y.add(V),y.add(K),y.add(z+"ing"),s.add("".concat(V," --> ").concat(z,"ing : ").concat(z)),s.add("".concat(z,"ing --> ").concat(K," : ").concat(z," \u{1F7E2}")),s.add("".concat(z,"ing --> ").concat(V," : ").concat(z," \u{1F534}"))}),p.forEach(w=>{let{to:V,action:K}=w;s.add("".concat(K,"ing --> ").concat(V," : ").concat(K," \u{1F7E2}")),y.forEach(z=>{z!==V&&s.add("".concat(z," --> ").concat(K,"ing : ").concat(K))})});let A=[...s];return Object.defineProperties(n,{stateDiagram:{value:A},allStates:{value:y}}),A}static get(n){let i;return typeof n=="string"?(i=zr.instances.get(n),i||zr.instances.set(n,i=new zr(n,void 0,Object.create(zr.prototype)))):(i=zr.instances2.get(n),i||zr.instances2.set(n,i=new zr(n.constructor.name,void 0,Object.create(zr.prototype)))),i}static getState(n){var i;return(i=zr.get(n))===null||i===void 0?void 0:i.state}updateDevTools(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Jne(zr.UPDATEAFSM,Object.assign({name:this.name,group:this.groupName},n))}get state(){return this._state}set state(n){Bm.call(this,n)}};zr.STATECHANGED="stateChanged",zr.UPDATEAFSM="updateAFSM",zr.INIT="[*]",zr.ON="on",zr.OFF="off",zr.instances=new Map,zr.instances2=new WeakMap;var Xne=Ao(mi()),CV="1",wV="5",Lw="2",$f="3",Qne="5",Zne="4",ds={CLIENT_BANNED:9,CHANNEL_SETUP_RESULT:19,CHANNEL_RECONNECT_RESULT:514,JOIN_ROOM_RESULT:20,PEER_JOIN:4134,PEER_LEAVE:4135,STREAM_ADDED:16,STREAM_REMOVED:18,UPLINK_NETWORK_STATS:22,UPDATE_REMOTE_MUTE_STAT:23,PUBLISH_RESULT:4098,PUBLISH_STATE_CHANGE_RESULT:4112,UNPUBLISH_RESULT:4100,SUBSCRIBE_RESULT:4102,UNSUBSCRIBE_RESULT:4104,SUBSCRIBE_CHANGE_RESULT:4106,MUTE_RESULT:4108,UPDATE_OFFER_RESULT:4128,START_PUBLISH_TENCENT_CDN_RES:1286,STOP_PUBLISH_TENCENT_CDN_RES:1288,START_PUBLISH_GIVEN_CDN_RES:777,STOP_PUBLISH_GIVEN_CDN_RES:779,START_MIX_TRANSCODE_RES:781,STOP_MIX_TRANSCODE_RES:783,USER_LIST_RES:4137,SWITCH_ROLE_RES:4110,UPDATE_CONSTRAINT_CONFIG_RES:772,REBUILD_PEER_CONNECTION_RES:4150,SPC_PUBLISH_RESULT:4146,SPC_SUBSCRIBE_RESULT:4156,ABILITY_STATUS_REPORT_RESULT:4158,SERVER_FIRST_PACKAGE_RECEIVED:5e3,RECEIVE_CUSTOM_MSG:4140},ere=[ds.UPDATE_REMOTE_MUTE_STAT,ds.UPLINK_NETWORK_STATS,ds.USER_LIST_RES,ds.MUTE_RESULT,ds.SERVER_FIRST_PACKAGE_RECEIVED,ds.RECEIVE_CUSTOM_MSG],Xn={CLIENT_BANNED:"client-banned",CHANNEL_SETUP_RESULT:"channel-setup-result",CHANNEL_RECONNECT_RESULT:"channel-reconnect-result",JOIN_ROOM_RESULT:"join-room-result",PEER_JOIN:"peer-join",PEER_LEAVE:"peer-leave",STREAM_ADDED:"stream-added",STREAM_REMOVED:"stream-removed",UPLINK_NETWORK_STATS:"uplink-network-stats",UPDATE_REMOTE_MUTE_STAT:"update-remote-mute-stat",PUBLISH_RESULT:"publish-result",PUBLISH_STATE_CHANGE_RESULT:"publish-state-change-result",UNPUBLISH_RESULT:"unpublish-result",SUBSCRIBE_RESULT:"subscribe-result",SUBSCRIBE_CHANGE_RESULT:"subscribe-change-result",UNSUBSCRIBE_RESULT:"unsubscribe-result",UPDATE_OFFER_RESULT:"update-offer-result",START_PUBLISH_TENCENT_CDN_RES:"start-publish-tencent-cdn-res",STOP_PUBLISH_TENCENT_CDN_RES:"stop-publish-tencent-cdn-res",START_PUBLISH_GIVEN_CDN_RES:"start-publish-given-cdn-res",STOP_PUBLISH_GIVEN_CDN_RES:"stop-publish-given-cdn-res",START_MIX_TRANSCODE_RES:"start-mix-transcode-res",STOP_MIX_TRANSCODE_RES:"stop-mix-transcode-res",USER_LIST_RES:"user-list-res",SWITCH_ROLE_RES:"switch_role_res",MUTE_RESULT:"mute-result",UPDATE_CONSTRAINT_CONFIG_RES:"update-contraint-config-res",REBUILD_PEER_CONNECTION_RES:"rebuild-pc-res",SPC_PUBLISH_RESULT:"spc-publish-result",SPC_SUBSCRIBE_RESULT:"spc-subscribe-result",ABILITY_STATUS_REPORT_RESULT:"ability-status-report",SERVER_FIRST_PACKAGE_RECEIVED:"first-pkg-received",RECEIVE_CUSTOM_MSG:"receive-custom-msg"},tre="publish_change",nre="join",rre="leave",ore="quality_report",IV="mute_uplink",ire="publish",kV="publish_state_change",Mw="unpublish",are="subscribe",RV="unsubscribe",AV="subscribe_change",sre="start_publishing",lre="stop_publishing",cre="start_push_user_cdn",ure="stop_push_user_cdn",dre="start_mcu_mix",fre="stop_mcu_mix",hre="get_user_list",pre="change_role",OV="update_constraint_config",mre="rebuild_pc",vre="join/v2",gre="publish/v2",yre="subscribe/v3",_re="ability_status_report",bre="reconnect",Sre="channel_msg",B_=new Set,NV=class extends Xne.default{constructor(n){var i,s;super(),oe(this,"room"),oe(this,"url"),oe(this,"backupUrl"),oe(this,"race"),oe(this,"destroyed",!1),oe(this,"_socketInUse"),oe(this,"_socket"),oe(this,"_backupSocket"),oe(this,"_signalInfo",{tinyId:void 0,clientIp:"",signalIp:"",relayIp:"",relayInnerIp:"",relayPort:0}),oe(this,"_currentState","DISCONNECTED"),oe(this,"_isReconnecting",!1),oe(this,"_seq",0),oe(this,"_log"),oe(this,"_lastMessageTime",-1),oe(this,"_connnectStartTime",-1),oe(this,"_stopConnectRetry"),oe(this,"bytesSent",0),oe(this,"bytesReceived",0),oe(this,"keepAlive",!1),oe(this,"signalDomainWhenUnifiedProxy"),this.room=n.room,this.race=!!_t(n.race)||n.race,this.signalDomainWhenUnifiedProxy=n.signalDomainWhenUnifiedProxy,(((s=(i=this.room.scheduleResult)==null?void 0:i.config)==null?void 0:s.keepAliveClient)||0)-B_.size>0&&this.room.enableSPC&&(this.keepAlive=!0,B_.add(this)),this.url=n.url,this.backupUrl=n.backupUrl,this._seq=0,this._log=Gt.createLogger({id:"ws",userId:this.userId,sdkAppId:this.sdkAppId}),this.onmessage=this.onmessage.bind(this),this.onerror=this.onerror.bind(this),this.onclose=this.onclose.bind(this)}get urlParam(){let n="?sdkAppId=".concat(encodeURIComponent(this.sdkAppId),"&userId=").concat(encodeURIComponent(this.userId),"&userSig=").concat(encodeURIComponent(this.userSig),"&keepAlive=").concat(encodeURIComponent(Number(this.keepAlive)));return this.signalDomainWhenUnifiedProxy&&(n+="&signalDomain=".concat(encodeURIComponent(this.signalDomainWhenUnifiedProxy))),this.race?"".concat(n,"&race=1"):n}get _urlWithParam(){return"".concat(this.url).concat(this.race?"/v2/ws":"").concat(this.urlParam)}get _backupUrlWithParam(){return"".concat(this.backupUrl).concat(this.race?"/v2/ws":"").concat(this.urlParam)}get isConnected(){return this._currentState==="CONNECTED"}get isConnecting(){return this._currentState==="CONNECTING"}get sdkAppId(){return this.room.sdkAppId}get userId(){return this.room.userId}get userSig(){return this.room.userSig}get isOnline(){return this._currentState==="CONNECTED"&&Date.now()-this._lastMessageTime<12e3}connect(){return Ke(this,arguments,function(){var n=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e4;return function*(){if(n.isConnected)return Promise.resolve();n._log.info("connect to [".concat(n.url,", ").concat(n.backupUrl,"]").concat(i?" timeout: ".concat(i):""," keepAlive: ").concat(Number(n.keepAlive))),n.emitConnectionStateChanged("CONNECTING"),n._connnectStartTime=zn();let s=[n.connectWS({url:n._urlWithParam,isMain:!0,timeout:i})];n.race&&n._backupUrlWithParam!==n._urlWithParam&&s.push(n.connectWS({url:n._backupUrlWithParam,isMain:!1,timeout:i})),n._socketInUse=yield KC(s),n.unbindAndCloseSocket(n._socketInUse===n._socket?Ce.BACKUP:Ce.MAIN),n.emitConnectionStateChanged("CONNECTED")}()})}connectWS(n){let{url:i,timeout:s,isMain:u}=n,p=new WebSocket(i);this.bindSocket(p),u?this._socket=p:this._backupSocket=p;let y=-1;return new Promise((E,A)=>{p.onclose=A,p.onerror=A,p.onopen=()=>E(p),s&&(y=setTimeout(()=>{this.unbindAndCloseSocket(u?Ce.MAIN:Ce.BACKUP),A(new on({code:Ht.SIGNAL_CHANNEL_SETUP_FAILED,message:"ws connect timeout"}))},s))}).finally(()=>{p.onclose=null,p.onerror=null,p.onopen=null,clearTimeout(y)})}bindSocket(n){n.addEventListener("close",this.onclose),n.addEventListener("error",this.onerror),n.addEventListener("message",this.onmessage)}unbindSocket(n){n.removeEventListener("close",this.onclose),n.removeEventListener("error",this.onerror),n.removeEventListener("message",this.onmessage)}unbindAndCloseSocket(n){if(n===Ce.MAIN){if(this._socket){this.unbindSocket(this._socket);try{this._socket.close(1e3)}catch{}this._socket=null}}else if(this._backupSocket){this.unbindSocket(this._backupSocket);try{this._backupSocket.close(1e3)}catch{}this._backupSocket=null}}onclose(n){if(n.target===this._socketInUse&&(this._log.warn("".concat(n.target===this._socket?"main":"backup"," is closed code:").concat(n.code," ").concat(n.reason)),this.emitConnectionStateChanged("DISCONNECTED"),!n.wasClean||n.code!==1e3)){this._socketInUse.onclose=null,this._socketInUse.close(4011);let i=this._socketInUse===this._socket;this.unbindAndCloseSocket(i?Ce.MAIN:Ce.BACKUP),this._socketInUse=null,this.reconnect()}}onerror(n){this._log.error("".concat(n.target===this._socket?"main":"backup"," error observed")),this.emitConnectionStateChanged("DISCONNECTED"),n.target===this._socketInUse&&(this.unbindAndCloseSocket(Ce.MAIN),this.unbindAndCloseSocket(Ce.BACKUP),this._socketInUse=null,this.reconnect())}onmessage(n){if(!this.isConnected)return;this._lastMessageTime=Date.now(),this.bytesReceived+=GC(n.data);let i=JSON.parse(n.data),{cmd:s,data:u}=i,p=Object.values(ds),y=Object.keys(ds)[p.indexOf(s)],E=Xn[y];switch(ere.includes(s)||(this._log.debug("received ".concat(s," msg: ").concat(n.data)),E&&this._log.info("Received event: [ ".concat(E," ]"))),s){case ds.CHANNEL_SETUP_RESULT:if(i.code===0)this._signalInfo.clientIp=u.clientIp,this._signalInfo.signalIp=u.signalInnerIp,u.svrTime&&function(A){tC=A-new Date().getTime();let w=new Date;w.setTime(A),Gt.info("baseTime from server: ".concat(w," offset: ").concat(tC))}(u.svrTime),this._log.info("ChannelSetup Success"),bn.addSuccessEvent({key:521701,cost:zn()-this._connnectStartTime}),this._connnectStartTime=-1,this.emit(CV,{signalInfo:this._signalInfo});else{let A=new on({code:Ht.SIGNAL_CHANNEL_SETUP_FAILED,extraCode:i.code,message:jn({key:Bn.SIGNAL_CHANNEL_SETUP_FAILED,data:{errorCode:i.code,errorMsg:i.message}})});this._log.error("".concat(i.code,", ").concat(i.message)),this.close(),bn.addFailedEvent({key:521701,error:A}),this.emit(wV,A)}break;case ds.JOIN_ROOM_RESULT:i.code===0&&(this._signalInfo.relayIp=u.relayOuterIp,this._signalInfo.relayInnerIp=u.relayInnerIp,this._signalInfo.relayPort=u.relayPort,this._signalInfo.tinyId=i.tinyId,this._log.info("signalIp:".concat(this._signalInfo.signalIp," clientIp:").concat(this._signalInfo.clientIp," relayIp: ").concat(this._signalInfo.relayIp))),this.emit(E,{data:i});break;default:this.emit(E,{data:i})}}reGetSignalChannelUrl(){return Ke(this,null,function*(){try{if(!this.room.joinParams)return;zl(!0),yield this.room.schedule(this.room.joinParams);let{mainUrl:n,backupUrl:i}=this.room.getSignalChannelUrl();this.url=n,this.backupUrl=i}catch{}})}reconnect(){return Ke(this,null,function*(){if(!this._isReconnecting){if(!this.room.isJoined&&this.keepAlive)return void this.close();this._isReconnecting=!0;try{this._log.warn("reconnect"),yield this.connect();let{roomId:n,useStringRoomId:i}=this.room,{relayIp:s,relayInnerIp:u,relayPort:p}=this._signalInfo,{data:y}=yield this.sendWaitForResponse({command:bre,data:{roomId:n,useStringRoomId:i,relayInnerIp:u,relayOuterIp:s,relayPort:p},responseCommand:Xn.CHANNEL_RECONNECT_RESULT});y.code===0?(this._log.warn("reconnect success"),this.stopReconnection(),bn.addSuccessEvent({key:521702,cost:zn()-this._connnectStartTime}),this._connnectStartTime=-1,this.room.syncUserList(),this.room.checkConnectionsToReconnect()):(bn.addFailedEvent({key:521702,error:y.code}),this._log.warn("reconnect failed, ".concat(y.code," ").concat(y.message)),this.room.reJoin())}catch(n){this._log.error(n),this.room.reJoin()}}})}send(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isConnected&&!this.room.isLeft){let s={cmd:n,data:i,userId:this.userId,tinyId:this._signalInfo.tinyId,seq:++this._seq},u=JSON.stringify(s);return this._socketInUse.send(u),this.bytesSent+=GC(u),s.seq}}sendWaitForResponse(n){let{command:i,data:s,timeout:u=5e3,responseCommand:p,commandDesc:y,enableLog:E=!0}=n;return new Promise((A,w)=>{let V=setTimeout(()=>{this.off(p,K);let ue=new on({code:Ht.API_CALL_TIMEOUT,message:jn({key:Bn.API_CALL_TIMEOUT,data:{commandDesc:y,command:i}})});E&&this._log.warn(ue),w(ue)},u),K=ue=>{ue.data.seq===z&&(clearTimeout(V),this.off(p,K),A(ue))};this.on(p,K);let z=this.send(i,s)})}sendWaitForResponseWithRetry(n){let{commandDesc:i,command:s,retries:u=0,retryTimeout:p=0}=n;return hm({retryFunction:this.sendWaitForResponse,onError:y=>{let{retry:E}=y;this.isOnline?E():(this._log.warn("retry ".concat(s," when connected")),this.once($f,E))},onRetrying:y=>{this._log.warn("".concat(i||s," timeout observed, retrying [").concat(y,"/").concat(u,"]"))},settings:{retries:u,timeout:p},context:this})(n)}getCurrentState(){return this._currentState}getSignalInfo(){return this._signalInfo}stopReconnection(){this._isReconnecting=!1,this._stopConnectRetry&&this._stopConnectRetry()}close(){this._log.info("closed"),B_.delete(this),this.stopReconnection(),this._signalInfo={tinyId:void 0,clientIp:"",signalIp:"",relayIp:"",relayInnerIp:"",relayPort:0},this._socketInUse=null,this.bytesSent=0,this.bytesReceived=0,this._stopConnectRetry&&this._stopConnectRetry(),this.unbindAndCloseSocket(Ce.MAIN),this.unbindAndCloseSocket(Ce.BACKUP),this.emitConnectionStateChanged("DISCONNECTED")}destroy(){this.close(),this.destroyed=!0}stopKeepAliveIn(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3600;if(this.keepAlive){this._log.info("stopKeepAlive in ".concat(n,"s"));let i=setTimeout(()=>{this.keepAlive=!1,this._log.info("close due to not used ".concat(n,"s")),this.close()},1e3*n),s=u=>{u instanceof U_&&u.action==="join"&&(this._log.info("stopKeepAlive clear timeout"),clearTimeout(i),this.room.off(zr.STATECHANGED,s))};this.room.on(zr.STATECHANGED,s)}}emitConnectionStateChanged(n){n!==this._currentState&&(this._log.info("".concat(this._currentState," -> ").concat(n)),this.emit(Lw,{prevState:this._currentState,state:n}),this._currentState=n,n==="CONNECTED"?this.emit($f):n==="DISCONNECTED"&&this.emit(Qne))}};Yt([Au({settings:{retries:1/0,timeout:2e3},onError(n,i){!this.room.isDestroyed&&!this.destroyed&&i()},onRetrying(n,i){this._log.warn("retrying to connect ".concat(n)),n>=3&&n%3==0&&this.reGetSignalChannelUrl(),i&&(this._stopConnectRetry=i,(this.room.isDestroyed||this.destroyed)&&i())}})],NV.prototype,"connect",1);var Ere=Ao(mi()),xw=0,Vw=!1,H_=new Set,PV=!1,Vu=class{constructor(n){oe(this,"userId"),oe(this,"tinyId"),oe(this,"_sdpSemantics"),oe(this,"_isUplink"),oe(this,"_room"),oe(this,"_log"),oe(this,"_signalChannel"),oe(this,"_isErrorObserved",!1),oe(this,"_waitForPeerConnectionConnectedPromise"),oe(this,"_waitForPeerConnectionConnectedPromiseReject",null),oe(this,"_peerConnection",null),oe(this,"_emitter",new Ere.default),oe(this,"_currentState","DISCONNECTED"),oe(this,"_isReconnecting",!1),oe(this,"_reconnectionCount",0),oe(this,"_reconnectionTimer",-1),oe(this,"_isFirstConnection",!0),oe(this,"_prevTime",-1),oe(this,"_enableSEI"),oe(this,"_sei"),oe(this,"_localAddress"),oe(this,"_remoteAddress"),this.userId=n.userId,this.tinyId=n.tinyId,this._room=n.room,this._sdpSemantics=n.room.sdpSemantics,this._isUplink=n.isUplink,this._log=Gt.createLogger({id:"n-mpc",userId:this._room.userId,remoteUserId:this.userId,sdkAppId:this._room.sdkAppId,isLocal:this._isUplink}),this._signalChannel=n.signalChannel,this._enableSEI=n.enableSEI}beforeConnect(){this._prevTime<0&&(this._prevTime=zn())}afterConnect(){try{this._isFirstConnection?(this._isFirstConnection=!1,bn.addSuccessEvent({key:521705,cost:Math.min(zn()-this._prevTime,3e4)})):this._isReconnecting&&bn.addSuccessEvent({key:521706,cost:zn()-this._prevTime}),this._prevTime=-1}catch(n){throw this._isFirstConnection?(this._isFirstConnection=!1,bn.addFailedEvent({key:521705,error:n})):this._isReconnecting&&this._reconnectionCount>=3&&bn.addFailedEvent({key:521706,error:n}),n}}initialize(){let n={encodedInsertableStreams:this._enableSEI&&Ru,iceServers:this._room.getIceServers(),iceTransportPolicy:this._room.getIceTransportPolicy(),sdpSemantics:this._sdpSemantics,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",tcpCandidatePolicy:"disable",IceTransportsType:"nohost"};this._peerConnection=new RTCPeerConnection(n),this._peerConnection.onconnectionstatechange=this.onConnectionStateChange.bind(this)}close(n){this._log.info("close connection"),this._emitter.emit("closed",n),this._isReconnecting&&this.stopReconnection(),this.closePeerConnection(),this._sei&&(this._sei.destroy(),this._sei=null),H_.delete(this)}closePeerConnection(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._peerConnection&&(this._log.info("close pc"),this._peerConnection.onconnectionstatechange=null,this._peerConnection.close(),this._peerConnection=null,n&&this.emitConnectionStateChangedEvent("DISCONNECTED")),this._waitForPeerConnectionConnectedPromiseReject&&this._waitForPeerConnectionConnectedPromiseReject(new on({code:Ht.API_CALL_ABORTED,message:"connection closed"}))}getDTLSTransportState(){if(!this._peerConnection)return Hl;let n=null;if(this._isUplink){if(!Sm()||this._peerConnection.getSenders().length===0)return Hl;n=this._peerConnection.getSenders()[0].transport}else{if(!b_()||this._peerConnection.getReceivers().length===0)return Hl;n=this._peerConnection.getReceivers()[0].transport}return n?n.state:Hl}onConnectionStateChange(n){let i=this._peerConnection.iceConnectionState,s=this.getDTLSTransportState();if(this._log.info("connectionState: ".concat(n.target.connectionState,", ICE: ").concat(i,", DTLS: ").concat(s)),n.target.connectionState===io.CONNECTING&&this.emitConnectionStateChangedEvent("CONNECTING"),n.target.connectionState===io.FAILED||n.target.connectionState===io.CLOSED){let u="connection ".concat(n.target.connectionState,". ICE Transport state: ").concat(i,", DTLS Transport state: ").concat(s),p=new on({message:u,code:Ht.ICE_TRANSPORT_ERROR});this.emitConnectionStateChangedEvent("DISCONNECTED"),this.startReconnection(),this._isErrorObserved||this._emitter.emit("error",p)}(n.target.connectionState===io.CONNECTED||n.target.connectionState===io.COMPLETED)&&(this.logSelectedCandidate(),Wr.logSuccessEvent({userId:this._room.userId,eventType:js.ICE_CONNECTION_STATE}),this.emitConnectionStateChangedEvent("CONNECTED"))}emitConnectionStateChangedEvent(n){return n!==this._currentState&&(n==="CONNECTED"?(xw=0,Vw=!1,PV=!0,H_.add(this)):H_.delete(this),Pt.emit(bt.PEER_CONNECTION_STATE_CHANGED,{room:this._room,prevState:this._currentState,state:n,remoteUserId:this._isUplink?void 0:this.userId}),this._emitter.emit("connection-state-changed",{prevState:this._currentState,state:n}),this._currentState=n,!0)}getPeerConnection(){return this._peerConnection}getRoom(){return this._room}getUserId(){return this.userId}getTinyId(){return this.tinyId}logSelectedCandidate(){return Ke(this,null,function*(){if(!this._peerConnection)return;let n=yield this._peerConnection.getStats();for(let[,i]of n)if(bm(i)){let s=n.get(i.localCandidateId),u=n.get(i.remoteCandidateId);s&&(this._log.info("local candidate: ".concat(s.candidateType," ").concat(s.protocol,":").concat(s.ip||s.address,":").concat(s.port," ").concat(s.networkType||""," ").concat(s.candidateType==="relay"?"relayProtocol:".concat(s.relayProtocol):"")),this._localAddress="".concat(s.ip||s.address,":").concat(s.port)),u&&(this._log.info("remote candidate: ".concat(u.candidateType," ").concat(u.protocol,":").concat(u.ip||u.address,":").concat(u.port)),this._remoteAddress="".concat(u.protocol,":").concat(u.ip||u.address));break}})}getCurrentState(){return this._currentState}waitForPeerConnectionConnected(){return this._waitForPeerConnectionConnectedPromise||(this._waitForPeerConnectionConnectedPromise=new Promise((n,i)=>{if(this._currentState==="CONNECTED")return n();this._waitForPeerConnectionConnectedPromiseReject=i;let s=E=>{E.state==="CONNECTED"&&(clearTimeout(y),p(),n())},u=E=>{let{room:A}=E;A===this._room&&(clearTimeout(y),p(),i(new on({code:Ht.API_CALL_ABORTED,message:jn({key:Bn.CONNECTION_ABORTED,data:"leave room"})})))},p=()=>{Pt.off(bt.LEAVE_SUCCESS,u,this),this._emitter.off("connection-state-changed",s,this)},y=setTimeout(()=>{p();let E=new on({code:Ht.API_CALL_TIMEOUT,message:"connection timeout"});var A;xw+=1,A=this._signalChannel.isConnected,xw>2&&!Vw&&H_.size===0&&A&&(this._log.warn("firewall restriction"),Vw=!0,this._emitter.emit("firewall-restriction")),i(E)},mC);Pt.on(bt.LEAVE_SUCCESS,u,this),this._emitter.on("connection-state-changed",s,this)}),this._waitForPeerConnectionConnectedPromise=this._waitForPeerConnectionConnectedPromise.finally(()=>{this._waitForPeerConnectionConnectedPromise=null,this._waitForPeerConnectionConnectedPromiseReject=null})),this._waitForPeerConnectionConnectedPromise}getReconnectionCount(){return this._reconnectionCount}startReconnection(){this._isReconnecting=!0,this.reconnect()}clearReconnectionTimer(){this._reconnectionTimer!==-1&&(clearTimeout(this._reconnectionTimer),this._reconnectionTimer=-1)}stopReconnection(){this._log.info("stop reconnection"),this._isReconnecting=!1,this._reconnectionCount=0,this.clearReconnectionTimer(),this._signalChannel.off($f,this.reconnect,this)}beforeReconnect(){if(this._reconnectionTimer!==-1)return this._log.warn("reconnect() is reconnecting, ignore"),-1;if(this._reconnectionCount>=bf()){this._log.warn("SDK has tried reconnect for ".concat(this._reconnectionCount," times, but all failed, please check your network")),this.stopReconnection();let n=new on({code:this._isUplink?Ht.UPLINK_RECONNECTION_FAILED:Ht.DOWNLINK_RECONNECTION_FAILED,message:jn({key:this._isUplink?Bn.UPLINK_RECONNECTION_FAILED:Bn.DOWNLINK_RECONNECTION_FAILED})});return this.emitConnectionStateChangedEvent("DISCONNECTED"),this._emitter.emit("error",n),-1}return this._signalChannel.isConnected?(this._reconnectionCount+=1,this._log.warn("reconnect() trying [".concat(this._reconnectionCount,"]")),1):(this._log.warn("reconnect() signal channel is not connected, suspend reconnection until signal is connected"),this._signalChannel.once($f,this.reconnect,this),-1)}on(n,i,s){this._emitter.on(n,i,s)}off(n,i,s){this._emitter.off(n,i,s)}getIsReconnecting(){return this._isReconnecting}get isH264(){var n,i;return!((i=(n=this._peerConnection)==null?void 0:n.remoteDescription)==null||!i.sdp.includes("H264"))}},DV=Ao(dM()),po=function(n){return DV.default.parse(n)},oc=function(n){return DV.default.write(n)};function Fw(n){return Object.keys(n).filter(i=>n[i])}var LV=class extends Vu{constructor(n){super(Yn(hn({},n),{isUplink:!1})),oe(this,"_flag",0),oe(this,"role","anchor"),oe(this,"remoteAudioTrack"),oe(this,"remoteVideoTrack"),oe(this,"remoteAuxiliaryTrack"),oe(this,"ssrc",{audio:0,video:0,auxiliary:0}),oe(this,"_isSDPExchanging",!1),this.flag=n.flag,this.remoteAudioTrack=n.remoteAudioTrack||new Iw(this._room,this),this.remoteVideoTrack=n.remoteVideoTrack||new Nm(this._room,this),this.remoteAuxiliaryTrack=n.remoteAuxiliaryTrack||new aV(this._room,this)}get videoCodec(){var n,i;let s=(i=(n=this._peerConnection)==null?void 0:n.remoteDescription)==null?void 0:i.sdp;return s?s.includes("H264")?"h264":"vp8":"h264"}get subscribeState(){let n={audio:!1,video:!1,auxiliary:!1,smallVideo:!1};return this.remoteVideoTrack.isSubscribed&&(8&this.remoteVideoTrack.mediaType?n.smallVideo=!0:n.video=!0),this.remoteAudioTrack.isSubscribed&&(n.audio=!0),this.remoteAuxiliaryTrack.isSubscribed&&(n.auxiliary=!0),n}get muteState(){return gm(this.flag,this.userId)}get flag(){return this._flag}set flag(n){var i,s,u;n!==this._flag&&(this._flag=n,(i=this.remoteAudioTrack)==null||i.onFlagChanged(),(s=this.remoteVideoTrack)==null||s.onFlagChanged(),(u=this.remoteAuxiliaryTrack)==null||u.onFlagChanged())}get hasMainStream(){return this.muteState.hasAudio||this.muteState.hasVideo||this.muteState.hasSmall}get hasAuxStream(){return this.muteState.hasAuxiliary}get isMainStreamSubscribed(){return(this.subscribeState.audio||this.subscribeState.video||this.subscribeState.smallVideo)&&(this.muteState.hasAudio||this.muteState.hasVideo||this.muteState.hasSmall)}get isAuxStreamSubscribed(){return this.subscribeState.auxiliary&&this.muteState.hasAuxiliary}get isSmallStreamSubscribed(){return this.subscribeState.smallVideo&&this.muteState.hasSmall}get isBigStreamSubscribed(){return this.subscribeState.video&&this.muteState.hasVideo}isStreamUnpublished(n){return n===Ce.MAIN?!this.muteState.hasAudio&&!this.muteState.hasVideo:!this.muteState.hasAuxiliary}initialize(){super.initialize(),this.installEvents(),this._peerConnection.ontrack=this.onTrack.bind(this)}close(n){super.close(n),this.emitConnectionStateChangedEvent("DISCONNECTED"),this.remoteAudioTrack.close(),this.remoteVideoTrack.close(),this.remoteAuxiliaryTrack.close(),this.uninstallEvents()}installEvents(){}uninstallEvents(){this._emitter.removeAllListeners()}emitConnectionStateChangedEvent(n){var i,s;let u=this._currentState,p=super.emitConnectionStateChangedEvent(n);return p&&u!==n&&((i=this.remoteVideoTrack)==null||i.emit("connection-state-changed",{prevState:u,state:n}),(s=this.remoteAuxiliaryTrack)==null||s.emit("connection-state-changed",{prevState:u,state:n})),p}onTrack(n){let i=n.streams[0],{track:s}=n,u=i.id===Yy?Ce.MAIN:Ce.AUXILIARY;this._log.debug("ontrack ".concat(u," ").concat(s.kind));let p=Ce.AUDIO;s.kind===Ce.VIDEO&&(p=u===Ce.MAIN?Ce.VIDEO:Ce.AUXILIARY);let y=this.remoteAudioTrack;p===Ce.VIDEO?y=this.remoteVideoTrack:p===Ce.AUXILIARY&&(y=this.remoteAuxiliaryTrack),y.setInputMediaStreamTrack(s)}addRRTRLine(n){let i=n.split(`\r
`),s=new Map;i.forEach((p,y)=>{/^a=rtcp-fb:/.test(p)&&i[y+1]&&!/^a=rtcp-fb:/.test(i[y+1])&&s.set(y+1,"".concat(p.match(/^a=rtcp-fb:\d+/)[0]," rrtr"))});let u=[...s];for(let p=0;p<u.length;p++){let[y,E]=u[p];i.splice(y+p,0,E)}return i.join(`\r
`)}addSPSDescription(n){let i=po(n);return i.media.forEach(s=>{s.type===Ce.VIDEO&&s.fmtp.forEach(u=>{u.config+=";sps-pps-idr-in-keyframe=1"})}),oc(i)}removeSDESDescription(n){let i=["urn:ietf:params:rtp-hdrext:sdes:mid","urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id"],s=po(n);return s.media.forEach(u=>{!u.ext||(u.ext=u.ext.filter(p=>!i.includes(p.uri)))}),oc(s)}isSubscriptionStateNotChanged(n){return JSON.stringify(n)===JSON.stringify(this.subscribeState)}subscribe(n,i){return Ke(this,null,function*(){var s,u;try{if((((s=this._peerConnection)==null?void 0:s.connectionState)===io.NEW||((u=this._peerConnection)==null?void 0:u.connectionState)===io.CONNECTING)&&(yield this.waitForPeerConnectionConnected()),this.isSubscriptionStateNotChanged(n))return void(this._peerConnection||(this.initialize(),yield this.connect(n)));if(this._log.info("subscribe ".concat(i," ").concat(JSON.stringify(n))),this._peerConnection||this._isSDPExchanging){let p="subscribe_change";Object.values(n).find(y=>y===!0)||(p="unsubscribe"),yield this.sendSubscription(p,n)}else this.initialize(),yield this.connect(n)}catch(p){throw this._room.isJoined&&this.isStreamUnpublished(i)?(this._log.warn("".concat(p.message," ").concat(JSON.stringify(this.muteState))),new on({code:Ht.REMOTE_STREAM_NOT_EXIST,message:"remote user ".concat(this.userId," unpublished stream")})):p}})}unsubscribe(n){return Ke(this,arguments,function(i){var s=this;let{remoteTracks:u,streamType:p}=i;return function*(){if(s._currentState==="CONNECTED"&&(p==="main"&&!s.isMainStreamSubscribed||p==="auxiliary"&&!s.isAuxStreamSubscribed))return void s._log.info("".concat(p," stream already unsubscribed"));let y=hn({},s.subscribeState);u.forEach(A=>{switch(A.mediaType){case 1:y.audio=!1;break;case 4:y.video=!1;break;case 8:y.smallVideo=!1;break;case 2:y.auxiliary=!1}});let E="subscribe_change";Object.values(y).find(A=>A===!0)||(E="unsubscribe"),s._log.info("".concat(E==="unsubscribe"?E:"subscribe"," ").concat(p," [").concat(Fw(y),"]")),yield s.sendSubscription(E,y),E==="unsubscribe"&&(s.closePeerConnection(),s.emitConnectionStateChangedEvent("DISCONNECTED"))}()})}sendSubscription(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscribeState,s={srcTinyId:this.tinyId,srcUserId:this.userId},u=RV,p=Xn.UNSUBSCRIBE_RESULT;return n==="subscribe_change"&&(s={audio:i.audio,bigVideo:i.video,auxVideo:i.auxiliary,smallVideo:i.smallVideo,srcTinyId:this.tinyId},u=AV,p=Xn.SUBSCRIBE_CHANGE_RESULT),this._signalChannel.sendWaitForResponse({command:u,data:s,responseCommand:p,timeout:1e4}).then(y=>{let{data:E}=y;if(E.code!==0){let A=new on({code:E.code,message:jn({key:Bn.ERROR_MESSAGE,data:{type:n,message:E.message}})});throw this._log.error(A),A}})}connect(){return Ke(this,arguments,function(){var n=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.subscribeState;return function*(){try{yield n.exchangeSDP(i),yield n.waitForPeerConnectionConnected()}catch(s){throw n.closePeerConnection(!0),s}}()})}exchangeSDP(n){return Ke(this,null,function*(){try{this._isSDPExchanging=!0,yield this.createOffer(),this._log.info("createOffer success, sending offer");let{type:i,sdp:s}=this._peerConnection.localDescription,u={type:i,sdp:s,srcUserId:this.userId,srcTinyId:this.tinyId,audio:n.audio,bigVideo:n.video,auxVideo:n.auxiliary,smallVideo:n.smallVideo},p=yield this._signalChannel.sendWaitForResponse({command:are,commandDesc:"exchange sdp",data:u,responseCommand:Xn.SUBSCRIBE_RESULT,timeout:AM});if(!this._peerConnection){let y=new on({code:Ht.INVALID_OPERATION,message:jn({key:Bn.CONNECTION_CLOSED})});throw this._log.warn(y),y}yield this.onSubscribeResult(p),this._isSDPExchanging=!1}catch(i){throw this._isSDPExchanging=!1,i}})}createOffer(){return Ke(this,null,function*(){let n={voiceActivityDetection:!1};qs()&&this._sdpSemantics===Xp?(this._peerConnection.addTransceiver(Ce.AUDIO,{direction:tr.RECVONLY}),this._peerConnection.addTransceiver(Ce.VIDEO,{direction:tr.RECVONLY}),this._peerConnection.addTransceiver(Ce.VIDEO,{direction:tr.RECVONLY})):(n.offerToReceiveAudio=!0,n.offerToReceiveVideo=!0);let i=yield this._peerConnection.createOffer(n);if(i.sdp){let{isH264DecodeSupported:s}=yield ZC();s||(this._log.warn("remove h264 desc from sdp"),i.sdp=function(u){let p=po(u);return p.media.forEach(y=>{var E,A;if(y.type===Ce.VIDEO){let w=new Set;y.rtp.forEach(K=>{let{payload:z,codec:ue}=K;return ue==="H264"&&w.add(z)}),y.fmtp.forEach(K=>{let{payload:z,config:ue}=K,ve=ue.match(/apt=(\d+)/);ve&&ve[1]&&w.has(Number(ve[1]))&&w.add(z)});let V=K=>{let{payload:z}=K;return!w.has(z)};y.rtp=y.rtp.filter(V),y.rtcpFb=(E=y.rtcpFb)==null?void 0:E.filter(V),y.fmtp=y.fmtp.filter(V),y.payloads=(A=y.payloads)==null?void 0:A.split(" ").filter(K=>!w.has(Number(K))).join(" ")}}),oc(p)}(i.sdp)),i.sdp=this.addRRTRLine(i.sdp),i.sdp=this.addSPSDescription(i.sdp),i.sdp=function(u){let p=po(u);return p.media.forEach(y=>{y.type===Ce.AUDIO&&y.fmtp.forEach(E=>{E.config+=";sprop-stereo=1;stereo=1"})}),oc(p)}(i.sdp),this._sdpSemantics===Xp&&(i.sdp=this.removeSDESDescription(i.sdp))}yield this._peerConnection.setLocalDescription(i)})}onSubscribeResult(n){return Ke(this,null,function*(){let{code:i,message:s=""}=n&&n.data||{},{type:u,sdp:p}=n&&n.data&&n.data.data||{};if(i===Xy)throw new on({code:Ht.NOT_SUPPORTED_H264,message:jn({key:Bn.NOT_SUPPORTED_H264DECODE})});try{if(i!==0)throw new on({code:i,message:jn({key:Bn.EXCHANGE_SDP_FAILED,data:{errMsg:s}})});this._log.debug("accept remote answer: ".concat(p)),yield this._peerConnection.setRemoteDescription({type:u,sdp:p}),this._sei&&(this._sei.handleEncodedStreams(),this._sei.onSEIMessage=y=>{this._emitter.emit("sei-message",Yn(hn({},y),{userId:this.userId}))}),this.updateSSRC(p)}catch(y){throw this._log.error(y),y}})}updateSSRC(n){try{po(n).media.forEach(i=>{if(i.ssrcs)if(i.type===Ce.AUDIO){let s=i.ssrcs.find(u=>{var p;return(p=u.value)==null?void 0:p.includes(Yy)});s&&(this.ssrc.audio=Number(s.id))}else{let s=i.ssrcs.find(p=>{var y;return(y=p.value)==null?void 0:y.includes(Yy)}),u=i.ssrcs.find(p=>{var y;return(y=p.value)==null?void 0:y.includes(TM)});s&&(this.ssrc.video=Number(s.id)),u&&(this.ssrc.auxiliary=Number(u.id))}})}catch{}}getMainStreamVideoTrackId(){return this.remoteVideoTrack&&this.remoteVideoTrack.mediaTrack?this.remoteVideoTrack.mediaTrack.id:""}getAuxStreamVideoTrackId(){return this.remoteAuxiliaryTrack&&this.remoteAuxiliaryTrack.mediaTrack?this.remoteAuxiliaryTrack.mediaTrack.id:""}reconnect(){return Ke(this,null,function*(){if(!(oa(LV.prototype,this,"beforeReconnect").call(this)<0))try{this.closePeerConnection(),this.initialize(),yield this.connect(),this.stopReconnection(),this._log.warn("reconnect() success")}catch{let i=If(this._reconnectionCount);this._log.warn("reconnect() timeout, try again after ".concat(i/1e3,"s")),this._reconnectionTimer=setTimeout(()=>{this.clearReconnectionTimer(),this.reconnect()},i)}})}getIsReconnecting(){return this._isReconnecting}clearReconnectionTimer(){this._reconnectionTimer!==-1&&(clearTimeout(this._reconnectionTimer),this._reconnectionTimer=-1)}getCurrentState(){return this._currentState}setDelay(n){let{audioDelay:i,videoDelay:s}=n;this.remoteAudioTrack.stat.end2EndDelay=i,this.remoteVideoTrack.stat.end2EndDelay=s}},$w=LV;Yt([$r(n=>function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return new Promise((p,y)=>{let E=A=>{this._emitter.off("closed",E),y(new on({code:Ht.API_CALL_ABORTED,message:jn({key:Bn.CONNECTION_ABORTED,data:A})}))};this._emitter.on("closed",E),n.apply(this,s).then(p,y).finally(()=>{this._emitter.off("closed",E)})})})],$w.prototype,"subscribe",1),Yt([Cw(Vu.prototype.afterConnect),Gx(Vu.prototype.beforeConnect)],$w.prototype,"connect",1);var MV=$w,xV={voiceActivityDetection:!1},VV=class extends Vu{constructor(n){super(Yn(hn({},n),{isUplink:!0})),oe(this,"localMainAudioTrack",null),oe(this,"localMainVideoTrack",null),oe(this,"localAuxAudioTrack",null),oe(this,"localAuxVideoTrack",null),oe(this,"ssrc",{audio:0,video:0,small:0,auxiliary:0}),oe(this,"_isPublishingAux",!1),oe(this,"_publishingLocalAudioTrack"),oe(this,"_publishingLocalVideoTrack"),oe(this,"_mediaSettings",{videoCodec:"",videoWidth:0,videoHeight:0,videoBps:0,videoFps:0,audioCodec:"opus",audioFs:0,audioChannel:0,audioBps:0,smallVideoWidth:0,smallVideoHeight:0,smallVideoFps:0,smallVideoBps:0,auxVideoWidth:0,auxVideoHeight:0,auxVideoFps:0,auxVideoBps:0}),oe(this,"flag",0)}get videoCodec(){return this._mediaSettings.videoCodec.toLowerCase()||"h264"}get isMainStreamPublished(){return!(!this.localMainAudioTrack&&!this.localMainVideoTrack)}get isAuxStreamPublished(){return!(!this.localAuxVideoTrack&&!this.localAuxAudioTrack)}get publishState(){var n,i,s,u;let p={audio:!1,bigVideo:!1,smallVideo:!1,auxVideo:!1};if(this._peerConnection){let y=this._peerConnection.getSenders();y&&(Yl()?(p.audio=!((n=y[0])==null||!n.track),p.bigVideo=!((i=y[1])==null||!i.track),p.smallVideo=!((s=y[2])==null||!s.track),p.auxVideo=!((u=y[3])==null||!u.track)):y.forEach(E=>{E.track&&(E.track.kind===Ce.AUDIO?p.audio=!0:(p.bigVideo=!0,this._room.videoManager.hasSmall&&(p.smallVideo=!0)))}))}return p}initialize(){super.initialize(),this.installEvents()}reset(){this._isReconnecting&&this.stopReconnection(),this.closePeerConnection(),this.uninstallEvents()}close(n){super.close(n),this.reset(),this.emitConnectionStateChangedEvent("DISCONNECTED")}installEvents(){this._emitter.listeners("connection-state-changed").includes(this.handleConnectionStateChange)||this._emitter.on("connection-state-changed",this.handleConnectionStateChange,this)}uninstallEvents(){this._emitter.off("connection-state-changed",this.handleConnectionStateChange,this)}emitConnectionStateChangedEvent(n,i){var s,u,p;let y=this._currentState,E=super.emitConnectionStateChangedEvent(n);return E&&y!==n&&(i?i.emit("connection-state-changed",{prevState:y,state:n}):((s=this.localMainVideoTrack)==null||s.emit("connection-state-changed",{prevState:y,state:n}),(u=this.localAuxVideoTrack)==null||u.emit("connection-state-changed",{prevState:y,state:n}),(p=this._publishingLocalVideoTrack)==null||p.emit("connection-state-changed",{prevState:y,state:n}))),E}publish(n){return Ke(this,arguments,function(i){var s=this;let{localAudioTrack:u,localVideoTrack:p,isAuxiliary:y}=i;return function*(){var E;let A;s._peerConnection||s.initialize(),u&&(s._publishingLocalAudioTrack=u),p&&(s._publishingLocalVideoTrack=p),s._isPublishingAux=y,p&&!y&&p.small&&(A=s._room.videoManager.smallTrack),s.sendMediaSettings(),qs()?yield s.publishByTransceiver({localAudioTrack:u,localVideoTrack:p,smallTrack:A,isAuxiliary:y}):yield s.publishByAddTrack({localAudioTrack:u,localVideoTrack:p,smallTrack:A}),s._publishingLocalAudioTrack=null,s._publishingLocalVideoTrack=null,s._isPublishingAux=!1,y?(p&&(s.localAuxVideoTrack=p),u&&(s.localAuxAudioTrack=u)):(p&&(s.localMainVideoTrack=p),u&&(s.localMainAudioTrack=u)),(E=s._sei)==null||E.handleEncodedStreams(),s.installTrackMuteEvents(u,p),s.sendMutedFlag()}()})}publishByTransceiver(n){return Ke(this,arguments,function(i){var s=this;let{localAudioTrack:u,localVideoTrack:p,smallTrack:y,isAuxiliary:E}=i;return function*(){s._log.info("publish by transceiver");let A=new MediaStream,w=p==null?void 0:p.outMediaTrack,V=u==null?void 0:u.outMediaTrack;V&&A.addTrack(V),w&&A.addTrack(w);let K=s._peerConnection.getTransceivers();if(K.length===0)s._peerConnection.addTransceiver(V||Ce.AUDIO,{direction:tr.SENDONLY,streams:[A]}),s._peerConnection.addTransceiver(E?Ce.VIDEO:w||Ce.VIDEO,{direction:tr.SENDONLY,streams:[A]}),s._peerConnection.addTransceiver(y||Ce.VIDEO,{direction:tr.SENDONLY,streams:[A]}),s._peerConnection.addTransceiver(E&&w||Ce.VIDEO,{direction:tr.SENDONLY,streams:[A]}),yield s.connect();else{let z=[];if(V&&(K[0].sender.track||z.push(0),yield K[0].sender.replaceTrack(V),yield s.setBandwidth({bandwidth:(u==null?void 0:u.profile.bitrate)||40,type:Ce.AUDIO})),w){let ue=E?3:1;yield K[ue].sender.replaceTrack(w),yield s.setBandwidth({bandwidth:p.profile.bitrate,type:Ce.VIDEO,videoType:E?Ce.AUXILIARY:Ce.BIG}),z.push(ue),y&&(yield K[2].sender.replaceTrack(y),yield s.setBandwidth({bandwidth:p.small.bitrate,type:Ce.VIDEO,videoType:Ce.SMALL}),z.push(2))}yield s.setTransceiverDirection(tr.SENDONLY,z),yield s.doPublishChange(),p==null||p.emit("connection-state-changed",{prevState:"DISCONNECTED",state:"CONNECTING"}),p==null||p.emit("connection-state-changed",{prevState:"CONNECTING",state:"CONNECTED"})}}()})}publishByAddTrack(n){return Ke(this,arguments,function(i){var s=this;let{localAudioTrack:u,localVideoTrack:p,smallTrack:y}=i;return function*(){s._log.info("publish by addtrack");let E=p==null?void 0:p.outMediaTrack,A=u==null?void 0:u.outMediaTrack;if(s._peerConnection&&s._peerConnection.connectionState!=="new")return u&&A&&(yield s.addTrack(u)),void(E&&(yield s.addTrack(p)));let w=new MediaStream;if(A&&w.addTrack(A),E&&w.addTrack(E),A&&s._peerConnection.addTrack(A,w),E&&(s._peerConnection.addTrack(E,w),y)){let V=new MediaStream;V.addTrack(y),s._peerConnection.addTrack(y,V)}yield s.connect()}()})}enableSmall(n){return Ke(this,null,function*(){let i=this._peerConnection.getTransceivers();n?this._room.videoManager.smallTrack&&(yield i[2].sender.replaceTrack(this._room.videoManager.smallTrack),yield this.setTransceiverDirection(tr.SENDONLY,[2])):(yield i[2].sender.replaceTrack(null),yield this.setTransceiverDirection(tr.INACTIVE,[2])),this.updateMediaSettings(),yield this.doPublishChange()})}installTrackMuteEvents(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i.forEach(u=>{u&&(u==null||u.on("mute",this.sendMutedFlag,this),u==null||u.on("unmute",this.sendMutedFlag,this))})}uninstallTrackMuteEvents(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i.forEach(u=>{u&&(u==null||u.off("mute",this.sendMutedFlag,this),u==null||u.off("unmute",this.sendMutedFlag,this))})}unpublish(n){return Ke(this,arguments,function(i){var s=this;let{localAudioTrack:u,localVideoTrack:p}=i;return function*(){if(!Yl())return u&&u.outMediaTrack&&!p&&s.localMainVideoTrack?(yield s.removeTrack(u),void(s.localMainAudioTrack=null)):p&&p.outMediaTrack&&!u&&s.localMainAudioTrack?(yield s.removeTrack(p),void(s.localMainVideoTrack=null)):(yield s.doUnpublish(),s.uninstallTrackMuteEvents(u,p),void s.emitConnectionStateChangedEvent("DISCONNECTED",p));let y=p&&p===s.localAuxVideoTrack,E=p==null?void 0:p.outMediaTrack,A=s._peerConnection.getSenders(),w=[];u&&(yield A[0].replaceTrack(null),w.push(0),y?s.localAuxAudioTrack=null:s.localMainAudioTrack=null),E&&(y?(yield A[3].replaceTrack(null),s.localAuxVideoTrack=null,s._mediaSettings=Yn(hn({},s._mediaSettings),{auxVideoBps:0,auxVideoFps:0,auxVideoWidth:0,auxVideoHeight:0}),w.push(3)):(yield A[1].replaceTrack(null),yield A[2].replaceTrack(null),s.localMainVideoTrack=null,s._mediaSettings=Yn(hn({},s._mediaSettings),{videoWidth:0,videoHeight:0,videoBps:0,videoFps:0,audioFs:0,audioChannel:0,audioBps:0,smallVideoWidth:0,smallVideoHeight:0,smallVideoFps:0,smallVideoBps:0}),w.push(1,2))),s.isMainStreamPublished||s.isAuxStreamPublished?(yield s.setTransceiverDirection(tr.INACTIVE,w),yield s.doPublishChange(!1)):yield s.doUnpublish(),s.uninstallTrackMuteEvents(u,p),p==null||p.emit("connection-state-changed",{prevState:s._currentState,state:"DISCONNECTED"})}()})}doPublishChange(){let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ke(this,null,function*(){let i={state:this.publishState,constraintConfig:this._mediaSettings},s=yield this._signalChannel.sendWaitForResponse({command:kV,data:i,responseCommand:Xn.PUBLISH_STATE_CHANGE_RESULT,enableLog:n});this.checkPublishResultCode(s.data.code,s.data.message)})}doUnpublish(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this._signalChannel.sendWaitForResponse({command:Mw,commandDesc:"unpublish",responseCommand:Xn.UNPUBLISH_RESULT,enableLog:n}).catch(i=>{if(i.getCode()===Ht.API_CALL_TIMEOUT)return Promise.resolve();throw i})}updateMediaSettings(){let{detail:{isH264EncodeSupported:n,isVp8EncodeSupported:i}}=this._room.checkSystemResult;n?this._mediaSettings.videoCodec="H264":i&&(this._mediaSettings.videoCodec="VP8");let s=this._publishingLocalAudioTrack||this.localMainAudioTrack||this.localAuxAudioTrack,{localMainVideoTrack:u,localAuxVideoTrack:p}=this;if(this._publishingLocalVideoTrack&&(this._isPublishingAux?p=this._publishingLocalVideoTrack:u=this._publishingLocalVideoTrack),kf){if(s&&s.outMediaTrack){let y=s.outMediaTrack.getSettings();this._mediaSettings.audioChannel=y.channelCount||1,this._mediaSettings.audioBps=1e3*s.profile.bitrate,this._mediaSettings.audioFs=y.sampleRate||0}if(u&&u.outMediaTrack){let y=u.outMediaTrack.getSettings();this._mediaSettings.videoWidth=y.width||0,this._mediaSettings.videoHeight=y.height||0,this._mediaSettings.videoFps=y.frameRate||0,this._mediaSettings.videoBps=1e3*u.profile.bitrate,u.small&&(this._mediaSettings.smallVideoWidth=u.small.width,this._mediaSettings.smallVideoHeight=u.small.height,this._mediaSettings.smallVideoFps=u.small.frameRate,this._mediaSettings.smallVideoBps=1e3*u.small.bitrate)}if(p&&p.outMediaTrack){let y=p.outMediaTrack.getSettings();this._mediaSettings.auxVideoWidth=y.width||0,this._mediaSettings.auxVideoHeight=y.height||0,this._mediaSettings.auxVideoFps=y.frameRate||0,this._mediaSettings.auxVideoBps=1e3*p.profile.bitrate}}else s&&s.outMediaTrack&&(this._mediaSettings.audioChannel=s.profile.channelCount,this._mediaSettings.audioBps=1e3*s.profile.bitrate,this._mediaSettings.audioFs=s.profile.sampleRate),u&&u.outMediaTrack&&(this._mediaSettings.videoWidth=u.profile.width,this._mediaSettings.videoHeight=u.profile.height,this._mediaSettings.videoFps=u.profile.frameRate,this._mediaSettings.videoBps=1e3*u.profile.bitrate);this._log.info("updateMediaSettings: ".concat(JSON.stringify(this._mediaSettings)))}sendMediaSettings(){this.updateMediaSettings(),this._signalChannel.sendWaitForResponse({command:OV,data:this._mediaSettings,responseCommand:Xn.UPDATE_CONSTRAINT_CONFIG_RES}).then(n=>{n.data.code!==0&&this._log.warn(n.data.message)}).catch(()=>{})}addTrack(n){return Ke(this,null,function*(){var i;if(!this._peerConnection)return;let s=n===this.localAuxAudioTrack||n===this.localAuxVideoTrack;this._log.info("is adding ".concat(n.kind," track to current published local ").concat(s?Ce.AUXILIARY:Ce.MAIN," stream")),(i=this._sei)==null||i.handleEncodedStreams(),qs()?yield this.addTrackByTransceiver(n,s):yield this.addTrackBySender(n)})}addTrackByTransceiver(n,i){return Ke(this,null,function*(){var s;if(!n.mediaTrack)return;let u=this._peerConnection.getTransceivers();if(n.kind===Ce.AUDIO)yield u[0].sender.replaceTrack(n.outMediaTrack);else{let p=i?3:1;yield u[p].sender.replaceTrack(n.outMediaTrack),p===1&&((s=this.localMainVideoTrack)==null?void 0:s.small)&&(yield u[2].sender.replaceTrack(this._room.videoManager.smallTrack)),u[p].direction===tr.INACTIVE&&(yield this.setTransceiverDirection(tr.SENDONLY,[p]))}this.updateMediaSettings(),yield this.doPublishChange()})}addTrackBySender(n){return Ke(this,null,function*(){if(!n.outMediaTrack)return;let i=n.outMediaTrack;Yl()&&this._peerConnection.getTransceivers().findIndex(u=>u.direction==="stopped")>=0&&(this._log.warn("transceiver is stopping, negotiate sdp first"),yield this.updateOffer("remove",i));let s=this._peerConnection.getSenders().find(u=>u.track&&u.track.kind===i.kind);if(s&&s.track){this._log.warn("sender already exists, remove sender first");let u=s.track;this.removeSender(s),yield this.updateOffer("remove",u)}if(i&&this._peerConnection.addTrack(i,new MediaStream([i])),i.kind===Ce.VIDEO&&n instanceof Mi&&n.small){let u=new MediaStream,{smallTrack:p}=this._room.videoManager;u.addTrack(p),this._peerConnection.addTrack(p,u)}yield this.updateOffer("add",i)})}isNeedToResetOfferOrder(){if(this._sdpSemantics===Jy||!this._peerConnection||!this._peerConnection.localDescription)return!1;let{sdp:n}=this._peerConnection.localDescription,i=po(n);for(let s=0;s<i.media.length;s++)if(Number(i.media[s].mid)===0&&i.media[s].type===Ce.VIDEO)return!0;return!1}removeSender(n){let i=null;Yl()&&(i=this._peerConnection.getTransceivers().find(s=>s.sender&&s.sender.track===n.track)),this._peerConnection.removeTrack(n),i&&wr(i.stop)&&(this._log.info("stop transceiver"),i.stop())}removeTrack(n){return Ke(this,null,function*(){if(!this._peerConnection)return;let i=n===this.localAuxAudioTrack||n===this.localAuxVideoTrack;this._log.info("is removing ".concat(n.kind," track from current published local ").concat(i?Ce.AUXILIARY:Ce.MAIN," stream")),qs()?yield this.removeTrackByTransceiver(n,i):yield this.removeTrackBySender(n)})}removeTrackByTransceiver(n,i){return Ke(this,null,function*(){if(!n.outMediaTrack)return;let s=this._peerConnection.getTransceivers();if(n.kind===Ce.AUDIO)yield s[0].sender.replaceTrack(null);else{let u=i?3:1;yield s[u].sender.replaceTrack(null),u===1&&n.small&&(yield s[2].sender.replaceTrack(null)),yield this.setTransceiverDirection(tr.INACTIVE,[u])}this.updateMediaSettings(),yield this.doPublishChange()})}setTransceiverDirection(n,i){return Ke(this,null,function*(){if(!jr)return;let s=!1,u=!1;this._log.info("setting transceiver ".concat(i.join(",")," direction to ").concat(n));let p=this._peerConnection.getTransceivers();if(i.forEach(A=>{p[A].direction!==n&&(p[A].direction=n,s=!0)}),s){this._log.info("updating offer");let A=yield this._peerConnection.createOffer();yield this._peerConnection.setLocalDescription(A)}let y=-1,E=this._peerConnection.remoteDescription.sdp.split(`\r
`).map(A=>{if(A.match(new RegExp("a=(".concat(tr.INACTIVE,"|").concat(tr.RECVONLY,"|").concat(tr.SENDONLY,")")))&&y++,i.includes(y)){if(n===tr.INACTIVE&&A.includes("a=".concat(tr.RECVONLY)))return u=!0,"a=".concat(n);if(n===tr.SENDONLY&&A.includes("a=".concat(tr.INACTIVE)))return u=!0,"a=".concat(tr.RECVONLY)}return A}).join(`\r
`);u&&(this._log.info("updating answer"),yield this._peerConnection.setRemoteDescription({type:"answer",sdp:E}))})}removeTrackBySender(n){return Ke(this,null,function*(){if(!n.outMediaTrack)return;if(n.kind===Ce.VIDEO&&this.isNeedToResetOfferOrder()&&this.localMainAudioTrack)return this.reset(),this.initialize(),void(yield this.publish({localAudioTrack:this.localMainAudioTrack,isAuxiliary:!1}));let i=this._peerConnection.getSenders().find(s=>s.track===n.outMediaTrack);i&&(this.removeSender(i),n.kind===Ce.VIDEO&&n.small&&this._peerConnection.getSenders().forEach(s=>{s.track&&s.track.kind===Ce.VIDEO&&this.removeSender(s)})),yield this.updateOffer("remove",n.outMediaTrack)})}replaceTrack(n){return Ke(this,null,function*(){var i;let s,u=(i=this._peerConnection)==null?void 0:i.getSenders();if(!u||u.length===0||!n.mediaTrack||(s=qs()?n.kind===Ce.AUDIO?u[0]:u[1]:u.find(y=>y.track&&y.track.kind===n.kind),!s))return!1;let p=n===this.localAuxAudioTrack||n===this.localAuxVideoTrack;return this._log.info("is replacing ".concat(n.kind," track on ").concat(p?Ce.AUXILIARY:Ce.MAIN," stream")),n.kind===Ce.AUDIO?yield s.replaceTrack(n.outMediaTrack):n.kind===Ce.VIDEO&&(p?u[3]&&(yield u[3].replaceTrack(n.outMediaTrack)):yield s.replaceTrack(n.outMediaTrack)),!0})}updateOffer(n,i){return Ke(this,null,function*(){try{let s=yield this._peerConnection.createOffer(xV);jr&&s.sdp&&(s.sdp=this.setSDPDirection(s.sdp,"sendrecv")),yield this._peerConnection.setLocalDescription(s);let u=this.updateMediaSettings(),p={action:n,trackId:i.id,kind:i.kind===Ce.VIDEO?"bigVideo":i.kind,type:"offer",sdp:this._peerConnection.localDescription.sdp,constraintConfig:u,state:this.publishState};this._log.info("createOffer success, sending updated offer to remote server"),this._log.debug("updatedOffer: ".concat(p.sdp));let y=yield this._signalChannel.sendWaitForResponse({command:tre,data:p,responseCommand:Xn.UPDATE_OFFER_RESULT,timeout:RM,commandDesc:"update offer"}),{code:E,message:A}=y.data;E!==0&&this.checkPublishResultCode(E,A),yield this.acceptAnswer(y.data.data),s.sdp&&this.updateSSRC(s.sdp)}catch(s){throw this._log.error(s),s}})}setBandwidth(n){return Ke(this,arguments,function(i){var s=this;let{bandwidth:u,type:p,videoType:y,sdp:E}=i;return function*(){if(!nw())return E?p===Ce.VIDEO?s.updateVideoBandwidthRestriction(E,u,y):s.updateAudioBandwidthRestriction(E,u):void 0;let A,w=s._peerConnection.getSenders();if(qs()){let V=0;p===Ce.VIDEO&&(V=y===Ce.SMALL?2:y===Ce.AUXILIARY?3:1),A=w[V]}else A=w.find(V=>V.track&&V.track.kind===p);if(A){let V=A.getParameters();(!V.encodings||V.encodings.length===0)&&(V.encodings=[{}]),V.encodings[0].maxBitrate=1e3*u;try{return yield A.setParameters(V),s._log.info("".concat(y||"").concat(p," bandwidth ").concat(u," kbps")),E}catch(K){if(s._log.info("failed to set bandwidth by setting maxBitrate: ".concat(K)),E)return p===Ce.VIDEO?s.updateVideoBandwidthRestriction(E,u,y):s.updateAudioBandwidthRestriction(E,u)}}return E}()})}updateVideoBandwidthRestriction(n,i,s){let u="AS";jr&&(u="TIAS",i*=1e3);let p=0,y=-1;return s===Ce.SMALL?p=1:s===Ce.AUXILIARY&&(p=2),n=n.replace(/m=video (.*)\r\nc=IN (.*)\r\n/g,E=>(y+=1,y===p?"".concat(E,"b=").concat(u,":").concat(i,`\r
`):E))}updateAudioBandwidthRestriction(n,i){let s="AS";return jr&&(s="TIAS",i*=1e3),n=n.replace(/m=audio (.*)\r\nc=IN (.*)\r\n/,`m=audio $1\r
c=IN $2\r
b=`.concat(s,":").concat(i,`\r
`))}removeBandwidthRestriction(n){return n.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"")}removeVideoOrientation(n){return n.replace(/urn:3gpp:video-orientation/,"")}connect(){return Ke(this,null,function*(){try{yield this.exchangeSDP(),yield this.waitForPeerConnectionConnected()}catch(n){throw this.closePeerConnection(!0),this.uninstallEvents(),n}})}exchangeSDP(){return Ke(this,null,function*(){try{yield this.createOffer(),this._log.info("createOffer success, sending offer to remote server"),yield this.doExchangeSDP()}catch(n){throw n}})}createOffer(){return Ke(this,null,function*(){try{let n=yield this._peerConnection.createOffer(xV);yield this._peerConnection.setLocalDescription(n),n.sdp&&this.updateSSRC(n.sdp)}catch(n){throw n}})}doExchangeSDP(){let n={command:ire,responseCommand:Xn.PUBLISH_RESULT,data:{type:this._peerConnection.localDescription.type,sdp:this.removeVideoOrientation(this._peerConnection.localDescription.sdp),screen:this.localMainVideoTrack instanceof Pu||this.localAuxVideoTrack instanceof Pu,state:this.publishState,constraintConfig:this._mediaSettings},enableLog:!1};return this._log.debug("sending sdp offer: ".concat(n.data.sdp)),this._signalChannel.sendWaitForResponse(n).then(i=>{let{code:s,message:u,data:p}=i.data;return s===0?this.acceptAnswer(p):this.checkPublishResultCode(s,u)})}setSDPDirection(n,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"all",u=po(n);return u.media.forEach(p=>{(s==="all"||p.type===s)&&(p.direction=i)}),oc(u)}acceptAnswer(n){return Ke(this,null,function*(){var i,s,u,p,y;try{let E;if(this._publishingLocalAudioTrack||this._publishingLocalVideoTrack||this.isMainStreamPublished){let w=((i=this._publishingLocalVideoTrack)==null?void 0:i.profile.bitrate)||((s=this.localMainVideoTrack)==null?void 0:s.profile.bitrate),V=((u=this._publishingLocalAudioTrack)==null?void 0:u.profile.bitrate)||((p=this.localMainAudioTrack)==null?void 0:p.profile.bitrate);if(w){let K=this._isPublishingAux?Ce.AUXILIARY:Ce.BIG;E=yield this.setBandwidth({bandwidth:w,type:Ce.VIDEO,sdp:E,videoType:K})}V&&(E=yield this.setBandwidth({bandwidth:V,type:Ce.AUDIO,sdp:E}))}if(E=this.removeVideoOrientation(n.sdp),(y=this._publishingLocalVideoTrack)!=null&&y.small){let{smallStreamConfig:w}=this._room;E=yield this.setBandwidth({bandwidth:this._publishingLocalVideoTrack.small.bitrate||w.bitrate,type:Ce.VIDEO,videoType:Ce.SMALL,sdp:E})}let A={type:n.type,sdp:E};yield this._peerConnection.setRemoteDescription(A),this._log.debug("accepted answer: ".concat(E))}catch(E){throw this._log.error("failed to accept remote answer ".concat(E)),E}})}sendMutedFlag(n){var i,s,u;if(n===this.localAuxAudioTrack||n===this.localAuxVideoTrack)return;let p={audio:!((i=this.localMainAudioTrack)==null||!i.muted),bigVideo:!((s=this.localMainVideoTrack)==null||!s.muted),auxVideo:!((u=this.localAuxVideoTrack)==null||!u.muted)};this._log.info("send muted state: ".concat(JSON.stringify(p))),this._signalChannel.send(IV,p)}getIsReconnecting(){return this._isReconnecting}reconnect(){return Ke(this,null,function*(){if(!(oa(VV.prototype,this,"beforeReconnect").call(this)<0))try{yield this._signalChannel.sendWaitForResponse({command:Mw,responseCommand:Xn.UNPUBLISH_RESULT,enableLog:!1}),this.closePeerConnection(),this.initialize(),this.isMainStreamPublished&&(yield this.publish({localAudioTrack:this.localMainAudioTrack,localVideoTrack:this.localMainVideoTrack,isAuxiliary:!1})),this.isAuxStreamPublished&&(yield this.publish({localAudioTrack:this.localAuxAudioTrack,localVideoTrack:this.localAuxVideoTrack,isAuxiliary:!0})),this._log.warn("reconnect() uplink reconnect successfully"),this.stopReconnection()}catch{let i=If(this._reconnectionCount);this._log.warn("reconnect() timeout, try again after ".concat(i/1e3,"s")),this._reconnectionTimer=setTimeout(()=>{this.clearReconnectionTimer(),this.reconnect()},i)}})}handleConnectionStateChange(n){n.state==="CONNECTED"&&(this.localMainVideoTrack||this._publishingLocalVideoTrack&&!this._isPublishingAux)&&Pt.emit(bt.SEND_FIRST_VIDEO_FRAME,{room:this._room})}updateSSRC(n){try{po(n).media.forEach((i,s)=>{if(i.type===Ce.AUDIO){let u=i.ssrcs&&i.ssrcs[0];u&&(this.ssrc.audio=Number(u.id))}else{if(this._sdpSemantics===Jy&&i.ssrcGroups)return void i.ssrcGroups.forEach((p,y)=>{let E=Number(p.ssrcs.split(" ")[0]);y===0?this.ssrc.video=E:y===1&&(this.ssrc.small=E)});let u=i.ssrcs&&i.ssrcs[0];if(!u)return;switch(s){case 1:this.ssrc.video=Number(u.id);break;case 2:this.ssrc.small=Number(u.id);break;case 3:this.ssrc.auxiliary=Number(u.id)}}})}catch{}}getVideoTrackId(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ce.VIDEO;if(this._peerConnection){let i=this._peerConnection.getSenders();if(n===Ce.AUXILIARY&&i[3]&&i[3].track)return i[3].track.id;if(n===Ce.VIDEO&&i[1]&&i[1].track)return i[1].track.id}if(this.localMainVideoTrack&&n===Ce.VIDEO){let i=this.localMainVideoTrack.mediaTrack;if(i)return i.id}if(this.localAuxVideoTrack&&n===Ce.AUXILIARY){let i=this.localAuxVideoTrack.mediaTrack;if(i)return i.id}return""}getSSRC(){return this.ssrc}checkPublishResultCode(n,i){if(n!==0)throw n===Xy?(this._log.error(ka.NOT_SUPPORTED_H264ENCODE),new on({code:Ht.NOT_SUPPORTED_H264,message:jn({key:Bn.NOT_SUPPORTED_H264ENCODE})})):new on({code:Ht.UNKNOWN,message:jn({key:Bn.SIGNAL_RESPONSE_FAILED,data:{signalResponse:Xn.PUBLISH_RESULT,code:n,message:i}})})}sendSEI(n,i){var s;(s=this._sei)==null||s.push(n,i)}},Uw=VV;Yt([$r(n=>function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return new Promise((p,y)=>{let E=A=>{this._emitter.off("closed",E),y(new on({code:Ht.API_CALL_ABORTED,message:jn({key:Bn.CONNECTION_ABORTED,data:A})}))};this._emitter.on("closed",E),n.apply(this,s).then(p,y).finally(()=>{this._emitter.off("closed",E)})})})],Uw.prototype,"publish",1),Yt([Cw(Vu.prototype.afterConnect),Gx(Vu.prototype.beforeConnect)],Uw.prototype,"connect",1);var Bw=Uw,Tre=class{constructor(n,i){this.room=n,oe(this,"_log"),oe(this,"_prevReportTime",0),oe(this,"_prevReport",{}),oe(this,"_prevStats",null),oe(this,"_prevEncoderImplementation",""),oe(this,"_prevQualityLimitationReason",""),oe(this,"_prevAuxQualityLimitationReason",""),oe(this,"_prevDecoderImplementationMap",new Map),oe(this,"totalBytesSent",0),oe(this,"totalBytesReceived",0),oe(this,"_spcStats",null),this._log=i}get statInterval(){return this._prevReportTime===0?2:(Date.now()-this._prevReportTime)/1e3}getSenderStats(n){return Ke(this,null,function*(){let i={audio:{bytesSent:0,packetsSent:0,audioLevel:0,totalAudioEnergy:0},video:{bytesSent:0,packetsSent:0,framesEncoded:0,frameWidth:0,frameHeight:0,framesSent:0,fpsCapture:0},small:{bytesSent:0,packetsSent:0,framesEncoded:0,frameWidth:0,frameHeight:0,framesSent:0,fpsCapture:0},auxiliary:{bytesSent:0,packetsSent:0,framesEncoded:0,frameWidth:0,frameHeight:0,framesSent:0,fpsCapture:0},rtt:0},s=n.getPeerConnection(),u=n.getSSRC();if(s)try{if((this._spcStats||(yield s.getStats())).forEach(p=>{var y,E,A;if(p.type==="outbound-rtp")if((p.mediaType||p.kind)===Ce.VIDEO){let w,V;if(p.ssrc===u.video?(w=Ce.VIDEO,V=n.localMainVideoTrack):p.ssrc===u.small?w=Ce.SMALL:p.ssrc===u.auxiliary&&(V=n.localAuxVideoTrack,w=Ce.AUXILIARY),!w)return;if(i[w].bytesSent=p.bytesSent,i[w].packetsSent=p.packetsSent,i[w].framesEncoded=p.framesEncoded,_t(p.keyFramesEncoded)||(i[w].keyFramesEncoded=p.keyFramesEncoded),_t(p.nackCount)||(i[w].nackCount=p.nackCount),_t(p.pliCount)||(i[w].pliCount=p.pliCount),_t(p.retransmittedPacketsSent)||(i[w].retransmittedPacketsSent=p.retransmittedPacketsSent),_t(p.totalEncodeTime)||(i[w].totalEncodeTime=p.totalEncodeTime),_t(p.totalPacketSendDelay)||(i[w].totalPacketSendDelay=p.totalPacketSendDelay),p.ssrc===u.video){if(!_t(p.encoderImplementation)&&this._prevEncoderImplementation!==p.encoderImplementation){Pt.emit("262",{userId:n.userId,prevImplementation:this._prevEncoderImplementation,implementation:p.encoderImplementation,codec:n.videoCodec,isHWCodec:p.powerEfficientEncoder}),this._prevEncoderImplementation=p.encoderImplementation;let K="".concat(p.encoderImplementation,"(").concat(n.videoCodec,")");this._log.info("encoderImplementation change to ".concat(K," HWEncoder: ").concat(p.powerEfficientEncoder))}!_t(p.qualityLimitationReason)&&p.bytesSent!==0&&this._prevQualityLimitationReason!==p.qualityLimitationReason&&(this._log.info("qualityLimitationReason change to ".concat(p.qualityLimitationReason)),Pt.emit("263",{userId:n.userId,reason:p.qualityLimitationReason,prevReason:this._prevQualityLimitationReason,streamType:2,isQosClearFirst:(y=n.localMainVideoTrack)==null?void 0:y.isQosClearFirst}),this._prevQualityLimitationReason=p.qualityLimitationReason)}else p.ssrc===u.auxiliary&&!_t(p.qualityLimitationReason)&&p.bytesSent!==0&&this._prevAuxQualityLimitationReason!==p.qualityLimitationReason&&(this._log.info("aux qualityLimitationReason change to ".concat(p.qualityLimitationReason)),Pt.emit("263",{userId:n.userId,reason:p.qualityLimitationReason,prevReason:this._prevAuxQualityLimitationReason,streamType:7,isQosClearFirst:(E=n.localAuxVideoTrack)==null?void 0:E.isQosClearFirst}),this._prevAuxQualityLimitationReason=p.qualityLimitationReason)}else i.audio.bytesSent=p.bytesSent,i.audio.packetsSent=p.packetsSent;else p.type==="candidate-pair"?bm(p)&&ao(p.currentRoundTripTime)&&(i.rtt=Math.floor(1e3*p.currentRoundTripTime),this.totalBytesSent=p.bytesSent):p.type==="media-source"&&(p.kind===Ce.AUDIO?(i.audio.audioLevel=p.audioLevel||0,i.audio.totalAudioEnergy=p.totalAudioEnergy||0,p.echoReturnLoss,p.totalSamplesDuration&&(i.audio.totalSamplesDuration=p.totalSamplesDuration)):p.kind===Ce.VIDEO&&(p.trackIdentifier===n.getVideoTrackId(Ce.VIDEO)?i.video.fpsCapture=p.framesPerSecond:p.trackIdentifier===n.getVideoTrackId(Ce.AUXILIARY)?i.auxiliary.fpsCapture=p.framesPerSecond:i.small.fpsCapture=p.framesPerSecond));if(!_t(p.audioLevel)&&((A=n.localMainAudioTrack)==null?void 0:A.mediaTrack)&&p.trackIdentifier===n.localMainAudioTrack.mediaTrack.id&&(i.audio.audioLevel=p.audioLevel||0),!_t(p.frameWidth)){let w=Ce.SMALL;p.trackIdentifier===n.getVideoTrackId(Ce.VIDEO)||p.ssrc===u.video?w=Ce.VIDEO:(p.trackIdentifier===n.getVideoTrackId(Ce.AUXILIARY)||p.ssrc===u.auxiliary)&&(w=Ce.AUXILIARY),i[w].frameWidth=p.frameWidth,i[w].frameHeight=p.frameHeight,i[w].framesSent=p.framesSent}}),n.localMainAudioTrack){let p=n.localMainAudioTrack.getInternalAudioLevel();i.audio.micAudioLevel=p,i.audio.audioLevel===0&&(i.audio.audioLevel=p)}this.totalBytesSent||(this.totalBytesSent+=i.audio.bytesSent+i.video.bytesSent+i.auxiliary.bytesSent)}catch(p){this._log.warn("failed to getStats on sender connection ".concat(p))}return i})}getReceiverStats(n){return Ke(this,null,function*(){let i={tinyId:n.tinyId,userId:n.userId,rtt:0,hasAudio:!1,hasVideo:!1,hasAuxiliary:!1,isSmallSubscribed:!1,audio:{bytesReceived:0,packetsReceived:0,packetsLost:0,p2pDelay:0,totalJitter:0,totalJitterCount:0,audioLevel:0,totalAudioEnergy:0,insertedSamplesForDeceleration:0,removedSamplesForAcceleration:0},video:{bytesReceived:0,packetsReceived:0,packetsLost:0,framesReceived:0,framesDecoded:0,frameWidth:0,frameHeight:0,fpsDecoded:0,freezeCount:0,totalFreezesDuration:0,totalJitter:0,totalJitterCount:0},auxiliary:{bytesReceived:0,packetsReceived:0,packetsLost:0,framesReceived:0,framesDecoded:0,frameWidth:0,frameHeight:0,fpsDecoded:0,totalJitter:0,totalJitterCount:0}},s=n.getPeerConnection();if(s)try{let{ssrc:u}=n,{muteState:p,subscribeState:y}=n;(this._spcStats||(yield s.getStats())).forEach(E=>{if(E.type==="inbound-rtp"){let A=(E.mediaType||E.kind)===Ce.AUDIO;if(A){if(E.ssrc!==u.audio||!p.hasAudio)return;i.audio.packetsReceived=E.packetsReceived,i.audio.bytesReceived=E.bytesReceived,i.audio.packetsLost=E.packetsLost,E.insertedSamplesForDeceleration&&(i.audio.insertedSamplesForDeceleration=E.insertedSamplesForDeceleration),E.removedSamplesForAcceleration&&(i.audio.removedSamplesForAcceleration=E.removedSamplesForAcceleration),E.totalSamplesDuration&&(i.audio.totalSamplesDuration=E.totalSamplesDuration),E.totalSamplesReceived&&(i.audio.totalSamplesReceived=E.totalSamplesReceived),E.concealedSamples&&(i.audio.concealedSamples=E.concealedSamples);let{remoteAudioTrack:w}=n;w.stat.packetsReceived=E.packetsReceived,w.stat.bytesReceived=E.bytesReceived,w.stat.packetsLost=E.packetsLost,i.audio.p2pDelay=w.stat.end2EndDelay,i.hasAudio=!0}else{if(jr&&E.bytesReceived===0)return;let w;E.ssrc===u.video&&p.hasVideo&&(i.video.packetsReceived=E.packetsReceived,i.video.bytesReceived=E.bytesReceived,i.video.packetsLost=E.packetsLost,i.video.framesReceived=E.framesReceived,i.video.framesDecoded=E.framesDecoded,i.video.fpsDecoded=E.framesPerSecond,i.hasVideo=!0,w=n.remoteVideoTrack,p.hasSmall&&y.smallVideo&&(i.isSmallSubscribed=!0),E.decoderImplementation&&(!this._prevDecoderImplementationMap.has(i.userId)||this._prevDecoderImplementationMap.get(i.userId)!==E.decoderImplementation)&&(this._log.info("".concat(i.userId," decoderImplementation change to ").concat(E.decoderImplementation," HWDecoder: ").concat(E.powerEfficientDecoder)),Pt.emit("262",{userId:this.room.userId,remoteUserId:i.userId,prevImplementation:this._prevDecoderImplementationMap.get(i.userId),implementation:E.decoderImplementation,codec:n.videoCodec,isHWCodec:E.powerEfficientDecoder}),this._prevDecoderImplementationMap.set(i.userId,E.decoderImplementation))),E.ssrc===u.auxiliary&&p.hasAuxiliary&&(i.auxiliary.packetsReceived=E.packetsReceived,i.auxiliary.bytesReceived=E.bytesReceived,i.auxiliary.packetsLost=E.packetsLost,i.auxiliary.framesReceived=E.framesReceived,i.auxiliary.framesDecoded=E.framesDecoded,i.auxiliary.fpsDecoded=E.framesPerSecond,w=n.remoteAuxiliaryTrack,i.hasAuxiliary=!0),w&&(w.stat.packetsReceived=E.packetsReceived,w.stat.bytesReceived=E.bytesReceived,w.stat.packetsLost=E.packetsLost,w.stat.framesReceived=E.framesReceived,w.stat.framesDecoded=E.framesDecoded,E.jitterBufferDelay&&(w.stat.jitterBufferDelay=Math.floor(E.jitterBufferDelay/E.jitterBufferEmittedCount*1e3)))}E.jitterBufferDelay&&(A?(i.audio.totalJitter=E.jitterBufferDelay,i.audio.totalJitterCount=E.jitterBufferEmittedCount):E.ssrc===u.video&&p.hasVideo?(i.video.totalJitter=E.jitterBufferDelay,i.video.totalJitterCount=E.jitterBufferEmittedCount):E.ssrc===u.auxiliary&&p.hasAuxiliary&&(i.auxiliary.totalJitter=E.jitterBufferDelay,i.auxiliary.totalJitterCount=E.jitterBufferEmittedCount))}else E.type==="candidate-pair"&&bm(E)&&ao(E.currentRoundTripTime)&&(i.rtt=Math.floor(1e3*E.currentRoundTripTime),this.totalBytesReceived=E.bytesReceived);_t(E.frameWidth)||((E.trackIdentifier===n.getMainStreamVideoTrackId()||E.ssrc===u.video)&&(i.video.frameWidth=E.frameWidth,i.video.frameHeight=E.frameHeight,n.remoteVideoTrack.stat.frameWidth=E.frameWidth,n.remoteVideoTrack.stat.frameHeight=E.frameHeight),(E.trackIdentifier===n.getAuxStreamVideoTrackId()||E.ssrc===u.auxiliary)&&(i.auxiliary.frameWidth=E.frameWidth,i.auxiliary.frameHeight=E.frameHeight,n.remoteAuxiliaryTrack.stat.frameWidth=E.frameWidth,n.remoteAuxiliaryTrack.stat.frameHeight=E.frameHeight)),!_t(E.audioLevel)&&n.muteState.audioAvailable&&n.remoteAudioTrack.mediaTrack&&E.trackIdentifier===n.remoteAudioTrack.mediaTrack.id&&(i.audio.audioLevel=E.audioLevel||0,i.audio.totalAudioEnergy=E.totalAudioEnergy||0)}),i.audio.audioLevel===0&&n.muteState.audioAvailable&&(i.audio.audioLevel=n.remoteAudioTrack.getInternalAudioLevel()||0),this.totalBytesReceived||(this.totalBytesReceived+=i.audio.bytesReceived+i.video.bytesReceived+i.auxiliary.bytesReceived)}catch(u){this._log.warn("failed to getStats on receiver connection ".concat(u))}return i})}getStats(n,i){return Ke(this,null,function*(){let s={},u=[];if(this.room.singlePC){let p=this.room.singlePC.getPeerConnection();if(!p)return{senderStats:s,receiverStats:u};let y=zn(),E=yield p.getStats(),A=zn();A-y>2e3&&this._log.warn("getStats cost ".concat(A-y,"ms"));let w=[],V=new Set(["inbound-rtp","outbound-rtp","track","candidate-pair","media-source"]);E.forEach(K=>V.has(K.type)&&w.push(K)),this._spcStats=w}n&&(s=yield this.getSenderStats(n));for(let[p,y]of i){let E=yield this.getReceiverStats(y);u.push(E)}return{senderStats:s,receiverStats:u}})}getDifferenceValue(n,i){if(Zl(n))return i;let s=i-n;return s<0?0:s}prepareReport(n){let{stats:i,report:s,freezeMap:u}=n;var p;if(!Zl(i.senderStats)){let z={uint32_audio_level:i.senderStats.audio.audioLevel*jl,uint32_audio_energy:1e6*i.senderStats.audio.totalAudioEnergy,uint32_audio_codec_bitrate:i.senderStats.audio.bytesSent};i.senderStats.audio.micAudioLevel&&(z.uint32_mic_audio_level=i.senderStats.audio.micAudioLevel*jl),i.senderStats.audio.totalSamplesDuration&&(s.msg_device_info.uint32_audio_capture_cost=i.senderStats.audio.totalSamplesDuration);let ue=[];if(i.senderStats.video.bytesSent){let Oe={uint32_video_stream_type:2,uint32_video_codec_fps:i.senderStats.video.framesSent,uint32_video_capture_fps:i.senderStats.video.fpsCapture,uint32_video_width:i.senderStats.video.frameWidth,uint32_video_height:i.senderStats.video.frameHeight,uint32_video_codec_bitrate:i.senderStats.video.bytesSent,uint32_video_enc_fps:i.senderStats.video.framesEncoded,uint32_key_frame_count:i.senderStats.video.keyFramesEncoded,uint32_nack_count:i.senderStats.video.nackCount,uint32_pli_count:i.senderStats.video.pliCount,uint32_encode_cost:1e3*(i.senderStats.video.totalEncodeTime||0),uint32_send_packet_cost:1e3*(i.senderStats.video.totalPacketSendDelay||0),uint32_video_arq_packets:i.senderStats.video.retransmittedPacketsSent};ue.push(Oe)}if(i.senderStats.small.bytesSent){let Oe={uint32_video_stream_type:3,uint32_video_codec_fps:i.senderStats.small.framesSent||0,uint32_video_capture_fps:i.senderStats.small.fpsCapture||0,uint32_video_width:i.senderStats.small.frameWidth||0,uint32_video_height:i.senderStats.small.frameHeight||0,uint32_video_codec_bitrate:i.senderStats.small.bytesSent,uint32_video_enc_fps:i.senderStats.small.framesEncoded||0,uint32_key_frame_count:i.senderStats.small.keyFramesEncoded,uint32_nack_count:i.senderStats.small.nackCount,uint32_pli_count:i.senderStats.small.pliCount,uint32_encode_cost:1e3*(i.senderStats.small.totalEncodeTime||0),uint32_send_packet_cost:1e3*(i.senderStats.small.totalPacketSendDelay||0),uint32_video_arq_packets:i.senderStats.small.retransmittedPacketsSent};ue.push(Oe)}if(i.senderStats.auxiliary.bytesSent){let Oe={uint32_video_stream_type:7,uint32_video_codec_fps:i.senderStats.auxiliary.framesSent||0,uint32_video_capture_fps:i.senderStats.auxiliary.fpsCapture||0,uint32_video_width:i.senderStats.auxiliary.frameWidth||0,uint32_video_height:i.senderStats.auxiliary.frameHeight||0,uint32_video_codec_bitrate:i.senderStats.auxiliary.bytesSent,uint32_video_enc_fps:i.senderStats.auxiliary.framesEncoded||0,uint32_key_frame_count:i.senderStats.auxiliary.keyFramesEncoded,uint32_nack_count:i.senderStats.auxiliary.nackCount,uint32_pli_count:i.senderStats.auxiliary.pliCount,uint32_encode_cost:1e3*(i.senderStats.auxiliary.totalEncodeTime||0),uint32_send_packet_cost:1e3*(i.senderStats.auxiliary.totalPacketSendDelay||0),uint32_video_arq_packets:i.senderStats.auxiliary.retransmittedPacketsSent};ue.push(Oe)}let ve={uint32_bitrate:0,uint32_lost:0,uint32_rtt:i.senderStats.rtt};s.msg_up_stream_info={msg_audio_status:z,msg_video_status:ue,msg_network_status:ve}}let{statInterval:y}=this;s.msg_down_stream_info=[],i.receiverStats.forEach(z=>{let ue={msg_user_info:{str_identifier:z.userId,uint64_tinyid:z.tinyId},msg_network_status:{uint32_rtt:z.rtt,uint32_bitrate:0,uint32_lost:0},msg_audio_status:{},msg_video_status:[]};if(z.hasAudio){let ve={uint32_audio_p2p_delay:z.audio.p2pDelay,uint32_audio_cache_ms:z.audio.totalJitter,uint32_audio_cache_ms_count:z.audio.totalJitterCount,uint32_audio_codec_bitrate:z.audio.bytesReceived,uint32_audio_total_bitrate:z.audio.bytesReceived,uint32_audio_level:1e8*z.audio.audioLevel,uint32_audio_energy:1e6*z.audio.totalAudioEnergy,uint32_audio_receive:z.audio.packetsReceived,uint32_audio_origin_lost:z.audio.packetsLost};ue.msg_audio_status=ve}if(z.hasVideo){let ve=u.get("".concat(z.userId,"_").concat(CM)),Oe=ve?ve.duration:0,Qe={uint32_video_stream_type:z.isSmallSubscribed?3:2,uint32_video_receive_fps:z.video.framesReceived,uint32_video_width:z.video.frameWidth,uint32_video_height:z.video.frameHeight,uint32_video_codec_bitrate:z.video.bytesReceived,uint32_video_receive:z.video.packetsReceived,uint32_video_origin_lost:z.video.packetsLost,uint32_video_block_time:Oe,uint32_video_dec_fps:z.video.framesDecoded,uint32_video_cache_ms:z.video.totalJitter,uint32_video_cache_ms_count:z.video.totalJitterCount};ue.msg_video_status.push(Qe)}if(z.hasAuxiliary){let ve=u.get("".concat(z.userId,"_").concat(wM)),Oe=ve?ve.duration:0,Qe={uint32_video_stream_type:7,uint32_video_receive_fps:z.auxiliary.framesReceived,uint32_video_width:z.auxiliary.frameWidth,uint32_video_height:z.auxiliary.frameHeight,uint32_video_codec_bitrate:z.auxiliary.bytesReceived,uint32_video_receive:z.auxiliary.packetsReceived+z.auxiliary.packetsLost,uint32_video_origin_lost:z.auxiliary.packetsLost,uint32_video_block_time:Oe,uint32_video_dec_fps:z.auxiliary.framesDecoded,uint32_video_cache_ms:z.auxiliary.totalJitter,uint32_video_cache_ms_count:z.auxiliary.totalJitterCount};ue.msg_video_status.push(Qe)}s.msg_down_stream_info.push(ue)});let E=this._prevReport,A=this._prevStats;if(this._prevReport=JSON.parse(JSON.stringify(s)),this._prevStats=JSON.parse(JSON.stringify(i)),s.msg_up_stream_info.msg_audio_status&&E.msg_up_stream_info.msg_audio_status){let z=E.msg_up_stream_info.msg_audio_status,ue=s.msg_up_stream_info.msg_audio_status;if(z.uint32_audio_codec_bitrate===0)ue.uint32_audio_codec_bitrate=0;else{let ve=this.getDifferenceValue(z.uint32_audio_codec_bitrate,ue.uint32_audio_codec_bitrate);ue.uint32_audio_codec_bitrate=Math.round(8*ve/y),s.msg_up_stream_info.msg_network_status.uint32_bitrate+=ue.uint32_audio_codec_bitrate}(p=E.msg_device_info)!=null&&p.uint32_audio_capture_cost?s.msg_device_info.uint32_audio_capture_cost=2*Math.floor(1e3*this.getDifferenceValue(E.msg_device_info.uint32_audio_capture_cost,s.msg_device_info.uint32_audio_capture_cost)/y):delete s.msg_device_info.uint32_audio_capture_cost}let w=E.msg_up_stream_info.msg_video_status;s.msg_up_stream_info.msg_video_status.forEach(z=>{let ue=w.find(mt=>mt.uint32_video_stream_type===z.uint32_video_stream_type);if(!ue||ue.uint32_video_codec_bitrate===0)return z.uint32_video_codec_bitrate=0,z.uint32_video_enc_fps=0,void(z.uint32_video_codec_fps=0);let ve=0,Oe=0,Qe=0;ue&&z.uint32_video_codec_bitrate>=ue.uint32_video_codec_bitrate&&(ve=ue.uint32_video_codec_bitrate,Oe=ue.uint32_video_enc_fps,Qe=ue.uint32_video_codec_fps);let gt=this.getDifferenceValue(ve,z.uint32_video_codec_bitrate);z.uint32_video_codec_bitrate=Math.round(8*gt/y),s.msg_up_stream_info.msg_network_status.uint32_bitrate+=z.uint32_video_codec_bitrate,z.uint32_video_enc_fps=Math.round(this.getDifferenceValue(Oe,z.uint32_video_enc_fps)/y),z.uint32_video_codec_fps=Math.round(this.getDifferenceValue(Qe,z.uint32_video_codec_fps)/y),Ef&&dm()===115&&ue.uint32_video_width===0&&ue.uint32_video_height===0&&ue.uint32_video_codec_fps===0&&(z.uint32_video_codec_fps=z.uint32_video_enc_fps),_t(ue.uint32_key_frame_count)||(z.uint32_key_frame_count=Math.round(this.getDifferenceValue(ue.uint32_key_frame_count,z.uint32_key_frame_count))),_t(ue.uint32_nack_count)||(z.uint32_nack_count=Math.round(this.getDifferenceValue(ue.uint32_nack_count,z.uint32_nack_count))),_t(ue.uint32_pli_count)||(z.uint32_pli_count=Math.round(this.getDifferenceValue(ue.uint32_pli_count,z.uint32_pli_count))),_t(ue.uint32_video_arq_packets)||(z.uint32_video_arq_packets=Math.round(this.getDifferenceValue(ue.uint32_video_arq_packets,z.uint32_video_arq_packets))),_t(ue.uint32_encode_cost)||(z.uint32_encode_cost=Math.round(this.getDifferenceValue(ue.uint32_encode_cost,z.uint32_encode_cost)/y)),_t(ue.uint32_send_packet_cost)||(z.uint32_send_packet_cost=Math.round(this.getDifferenceValue(ue.uint32_send_packet_cost,z.uint32_send_packet_cost)/y))});let V=E.msg_down_stream_info;s.msg_down_stream_info=s.msg_down_stream_info.filter(z=>V.find(ue=>ue.msg_user_info.uint64_tinyid===z.msg_user_info.uint64_tinyid));let K=s.msg_down_stream_info;return K.forEach(z=>{let ue=V.find(ve=>ve.msg_user_info.uint64_tinyid===z.msg_user_info.uint64_tinyid);if(Zl(z.msg_audio_status)||Zl(ue.msg_audio_status))z.msg_audio_status={};else{let ve=z.msg_audio_status,Oe=ue.msg_audio_status,Qe=this.getDifferenceValue(Oe.uint32_audio_cache_ms_count,ve.uint32_audio_cache_ms_count);delete ve.uint32_audio_cache_ms_count,ve.uint32_audio_cache_ms=Math.floor(1e3*this.getDifferenceValue(Oe.uint32_audio_cache_ms,ve.uint32_audio_cache_ms)/Qe)||0;let gt=this.room.remotePublishedUserMap.get(z.msg_user_info.str_identifier);gt&&(gt.remoteAudioTrack.stat.jitterBufferDelay=ve.uint32_audio_cache_ms),ve.uint32_audio_origin_lost=this.getDifferenceValue(Oe.uint32_audio_origin_lost,ve.uint32_audio_origin_lost),ve.uint32_audio_receive=this.getDifferenceValue(Oe.uint32_audio_receive,ve.uint32_audio_receive),ve.uint32_audio_receive+=ve.uint32_audio_origin_lost;let mt=this.getDifferenceValue(Oe.uint32_audio_codec_bitrate,ve.uint32_audio_codec_bitrate);ve.uint32_audio_codec_bitrate=Math.round(8*mt/y),ve.uint32_audio_total_bitrate=Math.round(8*mt/y)}if(z.msg_video_status&&ue.msg_video_status){let ve=ue.msg_video_status;z.msg_video_status=z.msg_video_status.filter(Oe=>ve.find(Qe=>Qe.uint32_video_stream_type===Oe.uint32_video_stream_type)),z.msg_video_status.forEach(Oe=>{let Qe=ve.find(el=>el.uint32_video_stream_type===Oe.uint32_video_stream_type),gt=Qe.uint32_video_receive,mt=Qe.uint32_video_origin_lost,dt=Qe.uint32_video_codec_bitrate,an=Qe.uint32_video_receive_fps,gn=Qe.uint32_video_dec_fps;Oe.uint32_video_origin_lost=this.getDifferenceValue(mt,Oe.uint32_video_origin_lost),Oe.uint32_video_receive=this.getDifferenceValue(gt,Oe.uint32_video_receive)+Oe.uint32_video_origin_lost;let nr=this.getDifferenceValue(dt,Oe.uint32_video_codec_bitrate);Oe.uint32_video_codec_bitrate=Math.round(8*nr/y);let Qn=this.getDifferenceValue(an,Oe.uint32_video_receive_fps);Oe.uint32_video_receive_fps=Math.round(Qn/y),Oe.uint32_video_dec_fps=Math.round(this.getDifferenceValue(gn,Oe.uint32_video_dec_fps)/y);let xn=this.getDifferenceValue(Qe.uint32_video_cache_ms_count,Oe.uint32_video_cache_ms_count);delete Oe.uint32_video_cache_ms_count,Oe.uint32_video_cache_ms=Math.floor(1e3*this.getDifferenceValue(Qe.uint32_video_cache_ms,Oe.uint32_video_cache_ms)/xn)||0})}}),A&&i.receiverStats.forEach(z=>{if(z.audio.concealedSamples&&z.audio.totalSamplesReceived){let ue=A.receiverStats.find(ve=>ve.userId===z.userId);if(ue&&ue.audio.concealedSamples&&ue.audio.totalSamplesReceived){let ve=z.audio.concealedSamples-ue.audio.concealedSamples,Oe=z.audio.totalSamplesReceived-ue.audio.totalSamplesReceived,Qe=Math.floor(ve/Oe*1e3*y);if(Qe>y/5){let gt=K.find(mt=>mt.msg_user_info.str_identifier===z.userId);gt&&(gt.msg_audio_status.uint32_audio_block_time=Qe)}}}}),s}getStatsReport(n){return Ke(this,arguments,function(i){var s=this;let{uplinkConnection:u,downlinkConnections:p,freezeMap:y}=i;return function*(){let E={msg_device_info:{},msg_up_stream_info:{msg_audio_status:{uint32_audio_format:11,uint32_audio_sample_rate:0,uint32_audio_codec_bitrate:0,uint32_audio_receive:0,uint32_audio_origin_lost:0,uint32_audio_level:0,uint32_audio_energy:0},msg_video_status:[],msg_network_status:{uint32_bitrate:0,uint32_rtt:0,uint32_lost:0}},msg_down_stream_info:[{msg_user_info:{str_identifier:"",uint64_tinyid:0},msg_audio_status:{uint32_audio_cache_ms:0,uint32_audio_format:11,uint32_audio_sample_rate:0,uint32_audio_codec_bitrate:0,uint32_audio_total_bitrate:0,uint32_audio_level:0,uint32_audio_energy:0,uint32_audio_receive:0,uint32_audio_origin_lost:0,uint32_audio_final_lost:0},msg_video_status:[{uint32_video_cache_ms:0,uint32_video_stream_type:0,uint32_video_receive_fps:0,uint32_video_width:0,uint32_video_height:0,uint32_video_codec_bitrate:0,uint32_video_receive:0,uint32_video_origin_lost:0,uint32_video_block_time:0,uint32_video_dec_fps:0}],msg_network_status:{uint32_bitrate:0,uint32_rtt:0,uint32_lost:0}}]},A=yield s.getStats(u,p);return JSON.stringify(s._prevReport)==="{}"&&(s._prevReport=JSON.parse(JSON.stringify(E))),s.prepareReport({stats:A,report:E,freezeMap:y}),s._prevReportTime=Date.now(),E}()})}reset(){this._prevReportTime=0,this._prevReport={},this._prevEncoderImplementation="",this._prevQualityLimitationReason="",this._prevDecoderImplementationMap=new Map}},Cre=Ao(mi()),FV=class extends Cre.default{constructor(n){let{signalChannel:i,room:s}=n;super(),oe(this,"_room"),oe(this,"_signalChannel"),oe(this,"_log"),oe(this,"_uplinkRTT",0),oe(this,"_uplinkLoss",0),oe(this,"_downlinkRTT",0),oe(this,"_downlinkLoss",0),oe(this,"_downlinkPrevStatMap",new Map),oe(this,"_downlinkLossAndRTTMap",new Map),oe(this,"_interval",-1),oe(this,"_uplinkNetworkQuality",0),oe(this,"_downlinkNetworkQuality",0),this._room=s,this._signalChannel=i,this._log=Gt.createLogger({id:"q",userId:this._room.userId,sdkAppId:this._room.sdkAppId}),this.initialize()}get uplinkNetworkQuality(){return this._uplinkNetworkQuality}set uplinkNetworkQuality(n){n!==this._uplinkNetworkQuality&&this._log.info("uplink ".concat(this.uplinkNetworkQuality," -> ").concat(n,", rtt: ").concat(this._uplinkRTT,", loss: ").concat(this._uplinkLoss)),this._uplinkNetworkQuality=n}get downlinkNetworkQuality(){return this._downlinkNetworkQuality}set downlinkNetworkQuality(n){if(n!==this._downlinkNetworkQuality){let{rtt:i,loss:s}=this.getAverageLossAndRTT([...this._downlinkLossAndRTTMap.values()]);this._log.info("downlink ".concat(this.downlinkNetworkQuality," -> ").concat(n,", rtt: ").concat(i,", loss: ").concat(s))}this._downlinkNetworkQuality=n}initialize(){this._signalChannel.on(Xn.UPLINK_NETWORK_STATS,n=>{this.handleUplinkNetworkQuality(n)}),this._signalChannel.on(Lw,this.handleSignalConnectionStateChange.bind(this)),this.start()}handleUplinkNetworkQuality(n){var i,s;if(n.data.code!==0)return;let u=n.data.data;if(u.delay&&this.updateDelay(u.delay),!this._room.uplinkConnection)return this.uplinkNetworkQuality=0,this._uplinkLoss=0,void(this._uplinkRTT=0);let p=(s=(i=this._room)==null?void 0:i.uplinkConnection)==null?void 0:s.getPeerConnection();if(p&&this.isPeerConnectionDisconnected(p))return this.uplinkNetworkQuality=6,this._uplinkLoss=0,void(this._uplinkRTT=0);let y=u.expectAudPkg+u.expectVidPkg,E=u.recvAudPkg+u.recvVidPkg,A=y-E;y===0&&E===0||(this._uplinkLoss=A<=0?0:Math.round(A/y*100),this._uplinkRTT=u.rtt,this.uplinkNetworkQuality=this.getNetworkQuality(this._uplinkLoss,this._uplinkRTT))}handleDownlinkNetworkQuality(){return Ke(this,null,function*(){if(this._room.remotePublishedUserMap.size===0)return void(this.downlinkNetworkQuality=0);let n=[...this._room.remotePublishedUserMap.values()],i=n.filter(p=>{var y;return((y=p.getPeerConnection())==null?void 0:y.connectionState)===io.CONNECTED});if(n.filter(p=>this.isPeerConnectionDisconnected(p.getPeerConnection())).length===n.length)return void(this.downlinkNetworkQuality=6);for(let p=0;p<i.length;p++){let y=i[p].getPeerConnection();if(!y)return;let{rtt:E,totalPacketsLost:A,totalPacketsReceived:w}=yield this.getStat(y);if(!this._downlinkPrevStatMap.has(y)){this._downlinkPrevStatMap.set(y,{totalPacketsLost:A,totalPacketsReceived:w});continue}let V=0,K=this._downlinkPrevStatMap.get(y),z=A-K.totalPacketsLost,ue=w-K.totalPacketsReceived;V=z<=0||ue<0?0:Math.round(z/(z+ue)*100),this._downlinkPrevStatMap.set(y,{totalPacketsLost:A,totalPacketsReceived:w}),this._downlinkLossAndRTTMap.set(y,{rtt:E,loss:V,userId:i[p].getUserId(),audioDelay:i[p].remoteAudioTrack.stat.end2EndDelay,videoDelay:i[p].remoteVideoTrack.stat.end2EndDelay})}if([...this._downlinkPrevStatMap.keys()].forEach(p=>{this.isPeerConnectionDisconnected(p)&&(this._downlinkPrevStatMap.delete(p),this._downlinkLossAndRTTMap.delete(p))}),this._downlinkLossAndRTTMap.size===0)return;let{rtt:s,loss:u}=this.getAverageLossAndRTT([...this._downlinkLossAndRTTMap.values()]);this._downlinkRTT=s,this._downlinkLoss=u,this.downlinkNetworkQuality=this.getNetworkQuality(u,s)})}getStat(n){return Ke(this,null,function*(){let i={rtt:0,totalPacketsLost:0,totalPacketsReceived:0};if(!n||!b_())return i;let s=n.getReceivers();try{for(let u=0;u<s.length;u++)(yield s[u].getStats()).forEach(p=>{p.type==="candidate-pair"&&ao(p.currentRoundTripTime)&&(i.rtt=Math.round(1e3*p.currentRoundTripTime)),p.type==="inbound-rtp"&&(p.mediaType===Ce.AUDIO||p.mediaType===Ce.VIDEO)&&(i.totalPacketsLost+=p.packetsLost,i.totalPacketsReceived+=p.packetsReceived)});return i}catch{return i}})}getAverageLossAndRTT(n){let i={rtt:0,loss:0};return Array.isArray(n)&&n.length>0&&(n.forEach(s=>{i.rtt+=s.rtt,i.loss+=s.loss}),Object.keys(i).forEach(s=>{i[s]=Math.round(i[s]/n.length)})),i}getNetworkQuality(n,i){return n>50||i>500?5:n>30||i>350?4:n>20||i>200?3:n>10||i>100?2:n>=0||i>=0?1:0}handleSignalConnectionStateChange(n){n.state==="DISCONNECTED"?(this._uplinkRTT=0,this._uplinkLoss=0,this.uplinkNetworkQuality=6):n.state==="CONNECTED"&&this.uplinkNetworkQuality===6&&(this.uplinkNetworkQuality=5)}handleUplinkConnectionStateChange(n){let{state:i}=n;i==="DISCONNECTED"?(this._uplinkLoss=0,this._uplinkRTT=0,this.uplinkNetworkQuality=6):i==="CONNECTED"&&this.uplinkNetworkQuality===6&&(this.uplinkNetworkQuality=5)}isPeerConnectionDisconnected(n){return!(!n||n.connectionState!==io.DISCONNECTED&&n.connectionState!==io.FAILED&&n.connectionState!==io.CLOSED)}setUplinkConnection(n){this._room.uplinkConnection=n,this._room.uplinkConnection?this._room.uplinkConnection.on("connection-state-changed",this.handleUplinkConnectionStateChange.bind(this)):(this.uplinkNetworkQuality=0,this._uplinkRTT=0,this._uplinkLoss=0)}start(){this._interval===-1?(this._log.debug("start network quality calculating"),this._interval=Zr.run(tm,()=>{this.handleDownlinkNetworkQuality();let n=[...this._downlinkLossAndRTTMap.values()];Pt.emit(bt.NETWORK_QUALITY,{room:this._room,uplink:{rtt:this._uplinkRTT,loss:this._uplinkLoss},downlinks:n}),this.emit(FV.EVENT_NETWORK_QUALITY,{uplinkNetworkQuality:this.uplinkNetworkQuality,downlinkNetworkQuality:this.downlinkNetworkQuality,uplinkRTT:this._uplinkRTT,uplinkLoss:this._uplinkLoss,downlinkRTT:this._downlinkRTT,downlinkLoss:this._downlinkLoss,downlinkInfo:n})},{delay:2e3})):this._log.info("network quality calculating is already started")}stop(){this._log.debug("stopped"),this._interval!==-1&&(Zr.clearTask(this._interval),this._interval=-1),this._downlinkLossAndRTTMap.clear(),this._downlinkPrevStatMap.clear()}updateDelay(n){let{tinyIdToUserIdMap:i}=this._room;n.forEach(s=>{let{srcTinyId:u,videoDelay:p,audioDelay:y}=s,E=i.get(u);if(E){let A=this._room.remotePublishedUserMap.get(E);A==null||A.setDelay({videoDelay:p,audioDelay:y})}})}},Hw=FV;oe(Hw,"EVENT_NETWORK_QUALITY","0");var $V=class{constructor(n){this._signalInfo={tinyId:void 0,clientIp:"",signalIp:"",relayIp:"",relayInnerIp:"",relayPort:0},this._eventMap=new Map,this._captureCostSum=0,this._captureCostCount=0,this._frameWorkType=n.frameWorkType||30,this._component=n.component||0,this.connectionType=n.connectionType||1,this._language=n.language||0,this._room=n.room,this._keyPrefix="key_point",this._log=Gt.createLogger({id:"kpm",userId:this._room.userId,sdkAppId:this._room.sdkAppId}),Object.getOwnPropertyNames(this.__proto__).forEach(i=>{i.startsWith("handle")&&wr(this[i])&&(this[i]=function(s){let{fn:u,context:p}=s;return function(){try{for(var y=arguments.length,E=new Array(y),A=0;A<y;A++)E[A]=arguments[A];let w=u.apply(p,E);return WC(w)?w.catch(V=>Gt.error("".concat(u.name,"() error observed ").concat(V))):w}catch(w){Gt.error("".concat(u.name,"() error observed ").concat(w))}}}({fn:this[i],context:this}))}),this.initData(),this.installEvents()}initData(){this._firstPublishedUserList=[],this._networkQuality={totalUplinkRTT:0,totalUplinkLoss:0,count:0,totalDownlinkRTTAndLossMap:new Map},this._basicInfo={string_sdk_version:os,uint32_os_type:15,string_device_name:"",string_http_user_agent:navigator.userAgent,string_os_version:"",uint32_avg_rtt:0,uint32_avg_up_loss:0,uint32_scene:this._room.scene==="live"?1:0,uint32_joining_duration:0,uint32_networkType:0,uint32_framework:this._frameWorkType,uint32_component:this._component,uint32_connection_type:this.connectionType,uint32_caller_coding_language:this._language,string_domain:location.hostname},this._pathJoinRoom={uint64_start_time:0,uint64_send_request_acc_ip_cmd_start_time:0,uint64_send_request_acc_ip_cmd_end_time:0,uint64_send_request_enter_room_cmd_start_time:0,uint64_send_request_enter_room_cmd_end_time:0,uint64_send_first_video_frame_time:0,uint64_recv_userlist_time:0,uint64_end_time:0,int32_send_request_acc_ip_cmd_ret:0,int32_send_request_enter_room_cmd_ret:0,int32_end_ret:0},this._pathLeaveRoom={uint64_start_time:0,uint64_send_request_exit_room_cmd_start_time:0,uint64_send_request_exit_room_cmd_end_time:0,uint64_end_time:0,int32_send_request_exit_room_cmd_ret:0,int32_end_ret:0},this._localStreamStat={totalVideoBitrate:0,totalVideoFPS:0,totalVideoHeight:0,totalVideoWidth:0,totalAudioLevel:0,videoCount:0,audioLevelCount:0,publishStartTime:0,statsToReport:{uint32_audio_capture_db:0,uint32_video_big_capture_fps:0,uint32_video_big_bitrate:0,uint32_video_big_resolution:0}},this._pathMainVideoMap=new Map,this._pathMainAudioMap=new Map,this._pathAuxiliaryMap=new Map,this._remoteStreamStatMap=new Map,$C().then(n=>{this._basicInfo.string_os_version=BC(),this._basicInfo.string_device_name=n&&n.mobile?n.model:this._basicInfo.string_os_version})}addEvent(n,i){return this._eventMap.set(n,i),Pt.on(n,i),this}installEvents(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("pagehide",this.handleUnload),this._room.once("banned",()=>this.handleLeaveSuccess({room:this._room,roomId:this._room.roomId})),this.addEvent(bt.JOIN_START,this.handleJoinStart).addEvent(bt.JOIN_SCHEDULE_SUCCESS,this.handleJoinScheduleSuccess).addEvent(bt.JOIN_SIGNAL_CONNECTION_START,this.handleSignalConnectionStart).addEvent(bt.JOIN_SIGNAL_CONNECTION_END,this.handleSignalConnectionEnd).addEvent(bt.JOIN_SEND_CMD,this.handleJoinSendCMD).addEvent(bt.JOIN_RECEIVED_CMD_RES,this.handleJoinReceivedCMDResponce).addEvent(bt.JOIN_SUCCESS,this.handleJoinSuccess).addEvent(bt.JOIN_FAILED,this.handleJoinFailed).addEvent(bt.LEAVE_START,this.handleLeaveStart).addEvent(bt.LEAVE_SUCCESS,this.handleLeaveSuccess).addEvent(bt.LEAVE_SEND_CMD,this.handleLeaveSendCMD).addEvent(bt.LOCAL_TRACK_CAPTURE_START,this.handleTrackCaptureStart).addEvent(bt.LOCAL_TRACK_CAPTURE_SUCCESS,this.handleTrackCaptureSuccess).addEvent(bt.LOCAL_TRACK_CAPTURE_FAILED,this.handleTrackCaptureFailed).addEvent(bt.PUBLISH_START,this.handlePublishStart).addEvent(bt.SEND_FIRST_VIDEO_FRAME,this.handleSendFirstVideoFrame).addEvent(bt.SUBSCRIBE_START,this.handleSubscribeStart).addEvent(bt.SUBSCRIBE_SUCCESS,this.handleSubscribed).addEvent(bt.PLAY_TRACK_START,this.handlePlayStart).addEvent(bt.VIDEO_LOADED_DATA,this.handleVideoLoadedData).addEvent(bt.PLAYER_STATE_CHANGED,n=>{let{track:i,state:s,type:u}=n;!ql(i)||!this.hitTest(i.room)||s==="PLAYING"&&(u===Ce.AUDIO?this.handleAudioPlaying(i):this.handleVideoPlaying(i))}).addEvent(bt.NETWORK_QUALITY,this.handleNetworkQuality).addEvent(bt.HEARTBEAT_REPORT,this.handleHeartbeatStats).addEvent(bt.RECEIVED_PUBLISHED_USER_LIST,this.handleReceivedPublishUserList).addEvent(bt.REMOTE_PUBLISH_STATE_CHANGED,n=>{let{room:i,prevMuteState:s,muteState:u}=n;if(!this.hitTest(i))return;let p=s.hasAudio||s.hasVideo||s.hasSmall,y=s.hasAuxiliary,E=u.hasAudio||u.hasVideo||u.hasSmall,A=u.hasAuxiliary;!p&&E&&this.handleRemoteStreamAdded(u.userId,"main"),!y&&A&&this.handleRemoteStreamAdded(u.userId,"auxiliary")}).addEvent(bt.SINGLE_CONNECTION_STAT,n=>{let{room:i,stat:s}=n;this.hitTest(i)&&(this._pathJoinRoom.int32_ice_cost=s.ice,this._pathJoinRoom.int32_dtls_cost=s.dtls,this._pathJoinRoom.int32_peer_connection_cost=s.peerConnection)})}uninstallEvents(){window.removeEventListener("unload",this.handleUnload),this._eventMap.forEach((n,i)=>Pt.off(i,n)),this._eventMap.clear()}destroy(){this.uninstallEvents(),Zr.clearTask(this._intervalId)}handleUnload(){this._room.isJoined&&this.handleLeaveSuccess({room:this._room,roomId:this._room.roomId})}handleJoinStart(n){this.hitTest(n.room)&&(this._pathJoinRoom.uint64_start_time===0&&(this._pathJoinRoom.uint64_start_time=Date.now()),n.params&&(_t(n.params.frameWorkType)||(this._frameWorkType=n.params.frameWorkType,this._basicInfo.uint32_framework=this._frameWorkType),_t(n.params.component)||(this._component=n.params.component,this._basicInfo.uint32_component=this._component),_t(n.params.language)||(this._language=n.params.language,this._basicInfo.uint32_caller_coding_language=this._language)))}handleJoinScheduleSuccess(n){let{room:i,detailCost:s}=n;if(this.hitTest(i)&&s){let{totalCost:u,local:p,dns:y,tcp:E,tls:A,request:w,response:V}=s;this._pathJoinRoom.int32_schedule_cost=u,this._pathJoinRoom.int32_schedule_local=p,this._pathJoinRoom.int32_schedule_dns=y,this._pathJoinRoom.int32_schedule_tcp=E,this._pathJoinRoom.int32_schedule_tls=A,this._pathJoinRoom.int32_schedule_request=w,this._pathJoinRoom.int32_schedule_response=V}}handleSignalConnectionStart(n){let{room:i}=n;this.hitTest(i)&&this._pathJoinRoom.uint64_send_request_acc_ip_cmd_start_time===0&&(this._pathJoinRoom.uint64_send_request_acc_ip_cmd_start_time=Date.now())}handleSignalConnectionEnd(n){let{room:i,error:s}=n;this.hitTest(i)&&this._pathJoinRoom.uint64_send_request_acc_ip_cmd_end_time===0&&(this._pathJoinRoom.uint64_send_request_acc_ip_cmd_end_time=Date.now(),s&&(this._pathJoinRoom.int32_send_request_acc_ip_cmd_ret=s instanceof on?Number(s.getExtraCode()||s.getCode()):Ht.UNKNOWN,this._pathJoinRoom.int32_end_ret=this._pathJoinRoom.int32_send_request_acc_ip_cmd_ret))}handleJoinSendCMD(n){this.hitTest(n.room)&&this._pathJoinRoom.uint64_send_request_enter_room_cmd_start_time===0&&(this._pathJoinRoom.uint64_send_request_enter_room_cmd_start_time=Date.now())}handleJoinReceivedCMDResponce(n){this.hitTest(n.room)&&this._pathJoinRoom.uint64_send_request_enter_room_cmd_end_time===0&&(this._pathJoinRoom.uint64_send_request_enter_room_cmd_end_time=Date.now(),this._pathJoinRoom.int32_send_request_enter_room_cmd_ret=n.code,n.code!==0&&(this._pathJoinRoom.int32_end_ret=this._pathJoinRoom.int32_send_request_enter_room_cmd_ret))}handleJoinSuccess(n){this.hitTest(n.room)&&this._pathJoinRoom.uint64_end_time===0&&(this._pathJoinRoom.uint64_end_time=Date.now(),this._pathJoinRoom.int32_end_ret=0,this._signalInfo=n.room.getSignalInfo())}handleJoinFailed(n){let{room:i,error:s}=n;this.hitTest(i)&&(this._pathJoinRoom.uint64_end_time=Date.now(),this._pathJoinRoom.int32_end_ret===0&&(this._pathJoinRoom.int32_end_ret=s.code||this._pathJoinRoom.int32_send_request_enter_room_cmd_ret||this._pathJoinRoom.int32_send_request_acc_ip_cmd_ret),setTimeout(()=>{this.report()}))}handleReceivedPublishUserList(n){this.hitTest(n.room)&&this._pathJoinRoom.uint64_recv_userlist_time===0&&(this._pathJoinRoom.uint64_recv_userlist_time=Date.now(),this._firstPublishedUserList=n.publishedUserList||[])}handleSendFirstVideoFrame(n){let{room:i}=n;!this.hitTest(i)||this._pathJoinRoom.uint64_send_first_video_frame_time===0&&this._pathJoinRoom.uint64_start_time!==0&&(this._pathJoinRoom.uint64_send_first_video_frame_time=Date.now())}handleLeaveStart(n){this.hitTest(n.room)&&(this._pathLeaveRoom.uint64_start_time=Date.now())}handleLeaveSuccess(n){this.hitTest(n.room)&&this._pathLeaveRoom.uint64_end_time===0&&(this._pathLeaveRoom.uint64_end_time=Date.now(),this._pathJoinRoom.uint64_end_time!==0?this._basicInfo.uint32_joining_duration=this._pathLeaveRoom.uint64_end_time-this._pathJoinRoom.uint64_end_time:this._log.warn("pathJoinRoom endTime is 0"),this.report())}handleLeaveSendCMD(n){this.hitTest(n.room)&&(this._pathLeaveRoom.uint64_send_request_exit_room_cmd_start_time=Date.now(),this._pathLeaveRoom.uint64_send_request_exit_room_cmd_end_time=Date.now())}handleRemoteStreamAdded(n,i){var s;let u="".concat(n,"_").concat(i);if(!this._remoteStreamStatMap.has(u)){let p={userId:n,totalVideoFPS:0,totalVideoBitrate:0,totalAudioLevel:0,totalAudioBitrate:0,totalLoss:0,audioCount:0,audioLevelCount:0,videoCount:0,networkQualityCount:0,streamAddedTime:Date.now(),subscribeStartTime:0,subscribedTime:0,playStreamTime:0,statsToReport:Yn(hn({},wre),{msg_user_info:new jw({userId:n,tinyId:(s=this._room.remotePublishedUserMap.get(n))==null?void 0:s.tinyId,role:20})})};p.statsToReport.uint32_stream_type=i==="main"?2:7,this._remoteStreamStatMap.set(u,p)}}handleSubscribeStart(n){let{room:i,remotePublishedUser:s,streamType:u,subscribeState:p}=n;if(!this.hitTest(i))return;let{userId:y,tinyId:E,role:A}=s,w=new jw({userId:y,tinyId:E,role:A==="anchor"?20:21}),V=Date.now(),K="".concat(y,"_").concat(u),z=this._remoteStreamStatMap.get(K);z&&z.subscribeStartTime===0&&(z.subscribeStartTime=V),u==="main"?(s.muteState.hasVideo&&(p.video||p.smallVideo)&&!this._pathMainVideoMap.has(K)&&this._pathMainVideoMap.set(K,{statsToReport:{msg_user_info:w,uint64_start_enter_time:this._pathJoinRoom.uint64_start_time,uint64_render_first_frame_time:0,uint64_combine_first_frame_time:0},userId:y,sendSubscribeCMDTime:V}),s.muteState.hasAudio&&p.audio&&!this._pathMainAudioMap.has(K)&&this._pathMainAudioMap.set(K,{statsToReport:{msg_user_info:w,uint64_start_enter_time:this._pathJoinRoom.uint64_start_time,uint64_play_first_frame_time:0},userId:y,sendSubscribeCMDTime:V})):s.muteState.hasAuxiliary&&p.auxiliary&&!this._pathAuxiliaryMap.has(K)&&this._pathAuxiliaryMap.set(K,{sendSubscribeCMDTime:V})}handleSubscribed(n){let{room:i,remotePublishedUser:s,streamType:u}=n;if(this.hitTest(i)){let p="".concat(s.userId,"_").concat(u),y=this._remoteStreamStatMap.get(p);y&&y.subscribedTime===0&&(y.subscribedTime=Date.now())}}handlePlayStart(n){let{track:i}=n;if(!ql(i)||!this.hitTest(i.room))return;let s="".concat(i.userId,"_").concat(i.streamType),u=this._remoteStreamStatMap.get(s);(u==null?void 0:u.playStreamTime)===0&&(u.playStreamTime=Date.now())}handleVideoLoadedData(n){let{track:i}=n;if(!ql(i)||!this.hitTest(i.room))return;let s="".concat(i.userId,"_").concat(i.streamType),u=this._pathMainVideoMap.get(s);u&&u.statsToReport.uint64_combine_first_frame_time===0&&(u.statsToReport.uint64_combine_first_frame_time=Date.now())}handleVideoPlaying(n){let i="".concat(n.userId,"_").concat(n.streamType),s=Date.now(),u=this._pathMainVideoMap.get(i),p=this._remoteStreamStatMap.get(i);if(u&&(u.statsToReport.uint64_render_first_frame_time===0&&(u.statsToReport.uint64_render_first_frame_time=s),p)){let{statsToReport:E,playStreamTime:A,subscribedTime:w}=p;E.uint32_video_render_first===0&&A-w<=100&&(E.uint32_video_render_first=s-u.sendSubscribeCMDTime)}let y=this._pathAuxiliaryMap.get(i);if(y&&p){let{statsToReport:E,playStreamTime:A,subscribedTime:w}=p;E.uint32_video_render_first===0&&A-w<=100&&(E.uint32_video_render_first=s-y.sendSubscribeCMDTime)}}handleAudioPlaying(n){let i="".concat(n.userId,"_").concat(n.streamType),s=this._pathMainAudioMap.get(i);s&&s.statsToReport.uint64_play_first_frame_time===0&&(s.statsToReport.uint64_play_first_frame_time=Date.now())}handleNetworkQuality(n){this.hitTest(n.room)&&(this._networkQuality.totalUplinkLoss+=n.uplink.loss,this._networkQuality.totalUplinkRTT+=n.uplink.rtt,this._networkQuality.count++,n.downlinks.forEach(i=>{let{rtt:s,loss:u,userId:p,videoDelay:y,audioDelay:E}=i,A=this._networkQuality.totalDownlinkRTTAndLossMap.get(p);if(A)A.totalRTT+=s,A.totalLoss+=u,y&&(A.totalVideoDelay=(A.totalVideoDelay||0)+y,A.videoDelayCount=(A.videoDelayCount||0)+1),E&&(A.totalAudioDelay=(A.totalAudioDelay||0)+E,A.audioDelayCount=(A.audioDelayCount||0)+1),A.count++;else{let w,V,K,z;y&&(V=y,K=1),E&&(w=E,z=1),this._networkQuality.totalDownlinkRTTAndLossMap.set(p,{totalRTT:s,totalLoss:u,count:1,totalAudioDelay:w,totalVideoDelay:V,audioDelayCount:z,videoDelayCount:K})}}))}handleHeartbeatStats(n){if(this.hitTest(n.room)){let{msg_device_info:i,msg_up_stream_info:s,msg_down_stream_info:u}=n.report;if(s.msg_video_status[0]){let{uint32_video_codec_bitrate:p,uint32_video_enc_fps:y,uint32_video_width:E,uint32_video_height:A}=s.msg_video_status[0];this._localStreamStat.totalVideoBitrate+=p,this._localStreamStat.totalVideoFPS+=y,this._localStreamStat.totalVideoWidth+=E,this._localStreamStat.totalVideoHeight+=A,this._localStreamStat.videoCount++}if(s.msg_audio_status){let{uint32_audio_level:p}=s.msg_audio_status;Math.floor(p/jl*100)>0&&(this._localStreamStat.totalAudioLevel+=p/jl,this._localStreamStat.audioLevelCount++)}u.forEach(p=>{let{msg_user_info:y,msg_audio_status:E,msg_video_status:A}=p,w=y.str_identifier,V=this._room.remotePublishedUserMap.get(w);if(A.forEach(K=>{let z=K.uint32_video_stream_type===2,ue=K.uint32_video_stream_type===7,ve="".concat(w,"_").concat(z?"main":"auxiliary"),Oe=this._remoteStreamStatMap.get(ve);if(Oe&&(z&&(V==null?void 0:V.remoteVideoTrack.isSubscribed)||ue&&(V==null?void 0:V.remoteAuxiliaryTrack))){Oe.totalVideoFPS+=K.uint32_video_receive_fps,Oe.totalVideoBitrate+=K.uint32_video_codec_bitrate,Oe.videoCount++,Oe.statsToReport.uint32_video_width===0&&(Oe.statsToReport.uint32_video_width=K.uint32_video_width),Oe.statsToReport.uint32_video_height===0&&(Oe.statsToReport.uint32_video_height=K.uint32_video_height);let Qe=z?V.remoteVideoTrack:V.remoteAuxiliaryTrack;Qe.stat.jitterBufferDelay&&(Oe.videoJitterBufferDelay=Qe.stat.jitterBufferDelay),Qe.stat.framesReceived&&(Oe.statsToReport.uint32_video_consume_render_rate=Math.floor(Qe.stat.framesDecoded/Qe.stat.framesReceived*ZT(10,6)))}}),E){let K="".concat(w,"_","main"),z=this._remoteStreamStatMap.get(K);this._remoteStreamStatMap.has(K)&&z&&(V==null?void 0:V.remoteAudioTrack.isSubscribed)&&(z.totalAudioBitrate+=E.uint32_audio_codec_bitrate,z.audioCount++,V.remoteAudioTrack.stat.jitterBufferDelay&&(z.audioJitterBufferDelay=V.remoteAudioTrack.stat.jitterBufferDelay),Math.floor(E.uint32_audio_level/jl*100)>0&&(z.totalAudioLevel+=E.uint32_audio_level/jl,z.audioLevelCount++))}}),i.uint32_audio_capture_cost&&(this._captureCostSum+=i.uint32_audio_capture_cost,this._captureCostCount+=1,this._captureCostCount>=100&&(this._basicInfo.uint32_audio_capture_cost=Math.floor(this._captureCostSum/this._captureCostCount),this._captureCostSum=0,this._captureCostCount=0))}}handlePublishStart(n){let{room:i}=n;this.hitTest(i)&&this._localStreamStat.publishStartTime===0&&(this._localStreamStat.publishStartTime=Date.now())}handleTrackCaptureStart(n){let{track:i}=n;i.mediaType===1&&!this._pathJoinRoom.uint64_init_audio_start_time&&(this._pathJoinRoom.uint64_init_audio_start_time=Date.now()),i.mediaType===4&&!this._pathJoinRoom.uint64_init_camera_start_time&&(this._pathJoinRoom.uint64_init_camera_start_time=Date.now())}handleTrackCaptureSuccess(n){let{track:i}=n;i.mediaType===1&&!this._pathJoinRoom.uint64_init_audio_end_time&&(this._pathJoinRoom.int32_init_audio_ret=0,this._pathJoinRoom.uint64_init_audio_end_time=Date.now()),i.mediaType===4&&!this._pathJoinRoom.uint64_init_camera_end_time&&(this._pathJoinRoom.int32_init_camera_ret=0,this._pathJoinRoom.uint64_init_camera_end_time=Date.now())}handleTrackCaptureFailed(n){let{track:i,error:s}=n,u={NotFoundError:1,NotAllowedError:2,NotReadableError:3,OverConstrainedError:4,AbortError:5,InvalidStateError:6,SecurityError:7,TypeError:8}[s.name]||(s instanceof on?s.getExtraCode()||s.getCode():Ht.UNKNOWN);i.mediaType===1&&!this._pathJoinRoom.uint64_init_audio_end_time&&(this._pathJoinRoom.int32_init_audio_ret=u,this._pathJoinRoom.uint64_init_audio_end_time=Date.now()),i.mediaType===4&&!this._pathJoinRoom.uint64_init_camera_end_time&&(this._pathJoinRoom.int32_init_camera_ret=u,this._pathJoinRoom.uint64_init_camera_end_time=Date.now())}hasVideoFlag(n){return this._firstPublishedUserList.findIndex(i=>i.userId===n&&i.flag&Yp)>=0}hasAudioFlag(n){return this._firstPublishedUserList.findIndex(i=>i.userId===n&&i.flag&Jp)>=0}hasAuxFlag(n){return this._firstPublishedUserList.findIndex(i=>i.userId===n&&i.flag&qy)>=0}hitTest(n){return n===this._room}prepareReport(){if(this._captureCostCount>0&&!this._basicInfo.uint32_audio_capture_cost&&(this._basicInfo.uint32_audio_capture_cost=Math.floor(this._captureCostSum/this._captureCostCount),this._captureCostSum=0,this._captureCostCount=0),this._networkQuality.count>0&&(this._basicInfo.uint32_avg_rtt=Math.floor(this._networkQuality.totalUplinkRTT/this._networkQuality.count),this._basicInfo.uint32_avg_up_loss=Math.floor(this._networkQuality.totalUplinkLoss/this._networkQuality.count)),this._localStreamStat.videoCount>0){this._localStreamStat.statsToReport.uint32_video_big_capture_fps=Math.floor(this._localStreamStat.totalVideoFPS/this._localStreamStat.videoCount),this._localStreamStat.statsToReport.uint32_video_big_bitrate=Math.floor(this._localStreamStat.totalVideoBitrate/this._localStreamStat.videoCount);let n=Math.floor(this._localStreamStat.totalVideoWidth/this._localStreamStat.videoCount),i=Math.floor(this._localStreamStat.totalVideoHeight/this._localStreamStat.videoCount);this._localStreamStat.statsToReport.uint32_video_big_resolution=n<<16|i}this._localStreamStat.audioLevelCount>0&&(this._localStreamStat.statsToReport.uint32_audio_capture_db=Math.floor(this._localStreamStat.totalAudioLevel/this._localStreamStat.audioLevelCount*100)),this._remoteStreamStatMap.forEach((n,i)=>{let{userId:s}=n,u=this._networkQuality.totalDownlinkRTTAndLossMap.get(s);if(u){let{totalLoss:V,count:K,audioDelayCount:z,videoDelayCount:ue,totalAudioDelay:ve,totalVideoDelay:Oe}=u;n.statsToReport.uint32_avg_down_loss=Math.floor(V/K),z&&ve&&(n.statsToReport.uint32_audio_network_p2p_delay=Math.floor(ve/z),n.audioJitterBufferDelay&&(n.statsToReport.uint32_p2p_delay=Math.floor(n.statsToReport.uint32_audio_network_p2p_delay+n.audioJitterBufferDelay))),ue&&Oe&&(n.statsToReport.uint32_video_network_p2p_delay=Math.floor(Oe/ue))}n.videoCount>0&&(n.statsToReport.uint32_video_avg_fps=Math.floor(n.totalVideoFPS/n.videoCount),n.statsToReport.uint32_video_avg_bitrate=Math.floor(n.totalVideoBitrate/n.videoCount)),n.audioCount>0&&(n.statsToReport.uint32_audio_recv_bitrate=n.statsToReport.uint32_audio_bitrate=Math.floor(n.totalAudioBitrate/n.audioCount)),n.audioLevelCount>0&&(n.statsToReport.uint32_audio_play_db=Math.floor(n.totalAudioLevel/n.audioLevelCount*100));let{callDurationCalculator:p}=this._room;p&&(n.statsToReport.uint32_audio_play_time=p.getDuration(i,Ce.AUDIO),n.statsToReport.uint32_video_play_time=p.getDuration(i,Ce.VIDEO)),n.statsToReport.uint32_video_render_first=Math.min(n.statsToReport.uint32_video_render_first,Fu);let{badCaseDetector:y}=this._room,{dataFreeze:E,count:A}=y.getDataFreezeDuration(i),{renderFreeze:w}=y.getRenderFreezeDuration(i);n.statsToReport.uint32_video_block_count=A,n.statsToReport.uint32_video_block_time=Math.min(E,n.statsToReport.uint32_video_play_time),n.statsToReport.uint32_video_external_block_time=Math.min(w,n.statsToReport.uint32_video_play_time),y.isBlackStream(i)&&n.statsToReport.uint32_video_avg_fps===0?n.statsToReport.uint32_video_black_screen_subjective=1:n.statsToReport.uint32_video_black_screen_subjective=0,(n.subscribeStartTime===0||n.subscribeStartTime-n.streamAddedTime>100||n.playStreamTime===0)&&(this._pathMainAudioMap.delete(i),this._pathMainVideoMap.delete(i),n.statsToReport.uint32_video_render_first=0)}),this._pathMainAudioMap.forEach((n,i)=>{this.hasAudioFlag(n.userId)?n.statsToReport.uint64_play_first_frame_time-n.statsToReport.uint64_start_enter_time>Fu&&(n.statsToReport.uint64_play_first_frame_time=n.statsToReport.uint64_start_enter_time+Fu):this._pathMainAudioMap.delete(i)}),this._pathMainVideoMap.forEach((n,i)=>{this.hasVideoFlag(n.userId)?n.statsToReport.uint64_render_first_frame_time-n.statsToReport.uint64_start_enter_time>Fu&&(n.statsToReport.uint64_render_first_frame_time=n.statsToReport.uint64_start_enter_time+Fu):this._pathMainVideoMap.delete(i)}),this._pathJoinRoom.uint64_end_time-this._pathJoinRoom.uint64_start_time>Fu&&(this._pathJoinRoom.uint64_end_time=this._pathJoinRoom.uint64_start_time+Fu)}getReportData(){this._basicInfo.uint32_networkType=p_();let n={uint32_sdk_app_id:Number(this._room.sdkAppId),msg_user_info:new jw({userId:this._room.userId,tinyId:this._room.tinyId,role:this._room.role==="anchor"?20:21}),msg_basic_info:this._basicInfo,uint32_acc_ip:m_(this._signalInfo.relayIp),uint32_client_ip:m_(this._signalInfo.clientIp,!1),uint32_acc_port:this._signalInfo.relayPort||0,uint64_timestamp:Date.now(),uint32_seq:Math.floor(Math.random()*ZT(2,31)),msg_path_enter_room:this._pathJoinRoom,msg_path_exit_room:this._pathLeaveRoom,msg_path_recv_video:[...this._pathMainVideoMap.values()].map(i=>i.statsToReport),msg_quality_statistics:[...this._remoteStreamStatMap.values()].map(i=>i.statsToReport),str_room_name:String(this._room.roomId||0),msg_path_recv_audio:[...this._pathMainAudioMap.values()].map(i=>i.statsToReport),uint32_info_client_ip:m_(this._signalInfo.clientIp,!1),error_code:[],msg_local_statistics:this._localStreamStat.statsToReport};return qC(n),n}report(){return Ke(this,null,function*(){try{this.prepareReport();let n=this.getReportData();yield this.upload(n),this.initData()}catch(n){this._log.warn(n)}})}upload(n){return Ke(this,null,function*(){if(n.msg_path_enter_room.uint64_start_time===0)return;let i=Number(this._room.sdkAppId),s=yield DM(n),u=s instanceof ArrayBuffer,p="".concat(pm(i,qp.KEY_POINT),"&gzip=").concat(+u),y=!1;navigator.sendBeacon&&(y=navigator.sendBeacon(p,s)),y||rm({url:p,body:s}),this.uploadKVStat(bn),this.uploadKVStat(Im)})}setConnectionType(n){this.connectionType=n,this._basicInfo.uint32_connection_type=n}uploadKVStat(n){return Ke(this,null,function*(){let i=n.getReportData();if(i.stats_count.length===0&&i.stats_distribution.length===0)return;i.msg_sdk_basic_info=Yn(hn({},i.msg_sdk_basic_info),{bytes_device_name:this._basicInfo.string_device_name||"",bytes_os_version:this._basicInfo.string_os_version||"",uint32_framework:this._frameWorkType,uint32_network_type:this._basicInfo.uint32_networkType||0}),this._log.debug(i);let s=yield DM(i),u="".concat(pm(+this._room.sdkAppId,qp.KV_STAT),"&gzip=").concat(+(s instanceof ArrayBuffer)),p=!1;navigator.sendBeacon&&(p=navigator.sendBeacon(u,s)),p||rm({url:u,body:s})})}};Yt([Au({settings:{timeout:500,retries:3}})],$V.prototype,"upload",1);var Fu=5e3,wre={msg_user_info:null,uint32_video_avg_fps:0,uint32_video_width:0,uint32_video_height:0,uint32_video_avg_bitrate:0,uint32_video_block_time:0,uint32_video_play_time:0,uint32_audio_block_time:0,uint32_audio_play_time:0,uint32_audio_play_db:0,uint32_avg_down_loss:0,uint32_stream_type:0,uint32_video_render_first:0,uint32_video_block_count:0,uint32_audio_block_count:0,uint32_audio_bitrate:0,uint32_video_black_screen_subjective:0,uint32_audio_recv_bitrate:0,uint32_video_external_block_time:0,uint32_video_consume_render_rate:0},jw=class{constructor(n){this.str_identifier=String(n.userId),this.str_tinyid=String(n.tinyId||0),this.uint32_role=n.role}},Ire=$V,j_=class{constructor(){oe(this,"_startTime"),oe(this,"_endTime"),this._startTime=0,this._endTime=0,this.start()}start(){this._startTime===0&&(this._startTime=zn())}stop(){this._endTime===0&&(this._endTime=zn())}getDuration(){return this._endTime===0?zn()-this._startTime:this._endTime-this._startTime}get endTime(){return this._endTime}},kre=class{constructor(n){oe(this,"_room",null),oe(this,"_durationMap"),oe(this,"_eventMap",new Map),this._room=n.room,this._durationMap=new Map,this.installEvents()}installEvents(){this._eventMap.set(bt.SUBSCRIBE_SUCCESS,this.handleSubscribed).set(bt.UNSUBSCRIBE_SUCCESS,this.handleStreamStopped).set(bt.REMOTE_PUBLISH_STATE_CHANGED,n=>{let{room:i,prevMuteState:s,muteState:u}=n;var p;let{userId:y}=u;if(!this.hitTest(i))return;s.hasAudio&&!u.hasAudio&&this.stopDurationItem("".concat(y,"_","main"),Ce.AUDIO),s.hasVideo&&!u.hasVideo&&this.stopDurationItem("".concat(y,"_","main"),Ce.VIDEO),s.hasAuxiliary&&!u.hasAuxiliary&&this.stopDurationItem("".concat(y,"_","auxiliary"),Ce.VIDEO);let E=(p=this._room)==null?void 0:p.remotePublishedUserMap.get(y);!E||(!s.hasAudio&&u.hasAudio&&E.remoteAudioTrack.isSubscribed&&this.addDuractionItem(y,Ce.AUDIO,"main"),!s.hasVideo&&u.hasVideo&&E.remoteVideoTrack.isSubscribed&&this.addDuractionItem(y,Ce.VIDEO,"main"),!s.hasAuxiliary&&u.hasAuxiliary&&E.remoteAuxiliaryTrack.isSubscribed&&this.addDuractionItem(y,Ce.VIDEO,"auxiliary"))}),this._eventMap.forEach((n,i)=>Pt.on(i,n,this))}uninstallEvents(){this._eventMap.forEach((n,i)=>Pt.off(i,n,this)),this._eventMap.clear()}handleSubscribed(n){let{room:i,streamType:s,remotePublishedUser:u}=n;if(!this.hitTest(i))return;let{userId:p}=u,y="".concat(p,"_").concat(s);if(u.muteState.hasAudio&&s==="main")if(u.remoteAudioTrack.isSubscribed){let E=new j_,A=this._durationMap.get(y);A?this.isRecording(A.audio)||A.audio.push(E):this._durationMap.set(y,{userId:p,type:s,audio:[E],video:[]})}else this.stopDurationItem(y,Ce.AUDIO);if(u.muteState.hasVideo||u.muteState.hasAuxiliary)if(u.remoteVideoTrack.isSubscribed||u.remoteAuxiliaryTrack.isSubscribed){let E=new j_,A=this._durationMap.get(y);A?this.isRecording(A.video)||A.video.push(E):this._durationMap.set(y,{userId:p,type:s,audio:[],video:[E]})}else this.stopDurationItem(y,Ce.VIDEO)}handleStreamStopped(n){let{room:i,streamType:s,remotePublishedUser:u}=n;if(!this.hitTest(i))return;let{userId:p}=u,y="".concat(p,"_").concat(s);this.stopDurationItem(y,Ce.AUDIO),this.stopDurationItem(y,Ce.VIDEO)}isRecording(n){return n.findIndex(i=>i.endTime===0)>=0}addDuractionItem(n,i,s){let u="".concat(n,"_").concat(s),p=new j_,y=this._durationMap.get(u);y?this.isRecording(y[i])||y[i].push(p):this._durationMap.set(u,{userId:n,type:s,audio:i===Ce.AUDIO?[p]:[],video:i===Ce.AUDIO?[]:[p]})}stopDurationItem(n,i){if(this._durationMap.has(n)){let s=this._durationMap.get(n)[i].find(u=>u.endTime===0);s&&s.stop()}}hitTest(n){return this._room===n}getDuration(n,i){return this._durationMap.has(n)?this._durationMap.get(n)[i].reduce((s,u)=>s+u.getDuration(),0):0}getDurationMap(){return this._durationMap}reset(){this._durationMap.clear()}destroy(){this._room=null,this.uninstallEvents()}},Rre=class{constructor(n){oe(this,"_room"),oe(this,"_renderFreezeMap",new Map),oe(this,"_isVideoPlayingEventFiredMap",new Map),oe(this,"_dataFreezeMap",new Map),oe(this,"_monitorFreezeData",new Map),oe(this,"_eventMap",new Map),this._room=n.room,this.installEvents()}installEvents(){this._eventMap.set(bt.LEAVE_SUCCESS,n=>{let{room:i}=n;this.hitTest(i)&&this.stop()}).set(bt.PLAY_TRACK_START,this.onPlayTrackStart).set(bt.UNSUBSCRIBE_SUCCESS,n=>{let{room:i,streamType:s,remotePublishedUser:u}=n;if(!this.hitTest(i))return;let{userId:p}=u,y="".concat(p,"_").concat(s);this.stopDataFreeze({key:y,userId:p,type:s})}).set(bt.REMOTE_PUBLISH_STATE_CHANGED,n=>{let{room:i,prevMuteState:s,muteState:u}=n;if(!this.hitTest(i))return;let{userId:p}=u;if(s.hasVideo&&!u.hasVideo){let y="main",E="".concat(u.userId,"_").concat(y);this.stopDataFreeze({key:E,userId:p,type:y})}if(s.hasAuxiliary&&!u.hasAuxiliary){let y="auxiliary",E="".concat(u.userId,"_").concat(y);this.stopDataFreeze({key:E,userId:p,type:y})}}).set(bt.PLAYER_STATE_CHANGED,n=>{let{track:i,state:s,reason:u,type:p}=n;if(ql(i)&&this.hitTest(i.room)&&p===Ce.VIDEO){if(s==="PLAYING"){let y="".concat(i.userId,"_").concat(i.streamType);this._isVideoPlayingEventFiredMap.set(y,!0)}u===Ce.MUTE?this.onVideoTrackMuted(i):u===Ce.UNMUTE&&this.onVideoTrackUnmuted(i)}}).set(bt.HEARTBEAT_REPORT,this.onHearBeatReport),this._eventMap.forEach((n,i)=>Pt.on(i,n,this))}uninstallEvents(){this._eventMap.forEach((n,i)=>Pt.off(i,n,this)),this._eventMap.clear()}stop(){this._renderFreezeMap.clear(),this._dataFreezeMap.clear(),this._isVideoPlayingEventFiredMap.clear()}onVideoTrackMuted(n){if(!n.isSubscribed)return;let{userId:i,streamType:s}=n,u="".concat(i,"_").concat(s),p=this._dataFreezeMap.get(u),y=new j_;p?p.durationItemList.push(y):this._dataFreezeMap.set(u,{userId:i,type:s,durationItemList:[y],isFreezing(){let E=this.durationItemList[this.durationItemList.length-1];return E&&E.endTime===0}})}onVideoTrackUnmuted(n){if(!n.isSubscribed)return;let{userId:i,streamType:s}=n,u="".concat(i,"_").concat(s);this.stopDataFreeze({key:u,userId:i,type:s})}onHearBeatReport(n){let{room:i,report:s}=n;!this.hitTest(i)||s.msg_down_stream_info.forEach(u=>{let p=this._room.remotePublishedUserMap.get(u.msg_user_info.str_identifier);if(!p)return;let{userId:y,muteState:E}=p;u.msg_video_status.forEach(A=>{A.uint32_video_stream_type===2&&E.hasVideo&&!E.videoMuted&&p.remoteVideoTrack.isSubscribed&&this.handleRenderFreeze({userId:y,fps:A.uint32_video_dec_fps,type:"main"}),A.uint32_video_stream_type===7&&E.hasAuxiliary&&p.remoteAuxiliaryTrack.isSubscribed&&this.handleRenderFreeze({userId:y,fps:A.uint32_video_dec_fps,type:"auxiliary"})})})}stopDataFreeze(n){let{key:i,userId:s,type:u}=n,p=this._dataFreezeMap.get(i);if(!p||!p.isFreezing())return;let y=p.durationItemList[p.durationItemList.length-1];y.stop();let E=y.getDuration();E>pC?this._monitorFreezeData.set(i,{userId:s,type:u,duration:E}):p.durationItemList.pop()}getTotalDuration(n){return n.reduce((i,s)=>{let u=s.getDuration();return i+Math.min(u,5e3)},0)}handleRenderFreeze(n){return Ke(this,arguments,function(i){var s=this;let{userId:u,fps:p,type:y}=i;return function*(){let E="".concat(u,"_").concat(y),A=s._renderFreezeMap.get(E);if(p<=2){let w=zn();A&&!A.isFreeze&&(A.freezeTimeline.push({startTime:w,endTime:0}),A.isFreeze=!0),A||s._renderFreezeMap.set(E,{userId:u,type:y,isFreeze:!0,freezeTimeline:[{startTime:w,endTime:0}],renderFreezeTotal:0})}else if(A&&A.isFreeze){A.isFreeze=!1;let w=A.freezeTimeline.pop();if(w){w.endTime=zn();let V=w.endTime-w.startTime;A.freezeTimeline.push(w),A.renderFreezeTotal+=Math.min(5e3,V)}}}()})}onPlayTrackStart(n){let{track:i}=n;if(!ql(i)||!this.hitTest(i.room)||i.kind!==Ce.VIDEO||i.hasFlag)return;let s="".concat(i.userId,"_").concat(i.streamType);this._isVideoPlayingEventFiredMap.has(s)||this._isVideoPlayingEventFiredMap.set(s,!1)}getDataFreezeDuration(n){let i={dataFreeze:0,count:0},s=this._dataFreezeMap.get(n);if(s){if(s.isFreezing()){let u=s.durationItemList[s.durationItemList.length-1];u.stop(),u.getDuration()<pC&&s.durationItemList.pop()}i.dataFreeze=this.getTotalDuration(s.durationItemList),i.count=s.durationItemList.length}return i}getRenderFreezeDuration(n){let i=this._renderFreezeMap.get(n),s=0,u=0;if(i)if(i.isFreeze){let p=zn()-i.freezeTimeline[i.freezeTimeline.length-1].startTime;s=i.renderFreezeTotal+Math.min(p,5e3),u=i.freezeTimeline.length}else s=i.renderFreezeTotal;return{renderFreeze:s,count:u}}getMonitorFreeze(){return this._monitorFreezeData}isBlackStream(n){return!!this._isVideoPlayingEventFiredMap.has(n)&&!this._isVideoPlayingEventFiredMap.get(n)}resetMonitor(){this._monitorFreezeData.clear()}hitTest(n){return n===this._room}destroy(){this.uninstallEvents()}},Are=Ao(mi(),1),Ore=[1,0,0,0,1,1,0,1],Nre=class extends Du{constructor(n){if(super(n,{useDefaultProgram:!0,useFbo:!0,create2d:!0,name:"mirror"}),n instanceof us)try{this.setTexBuffer(Ore)}catch(i){n.destroy(i)}}draw2d(n,i,s,u,p){if(this.ctx2d){this.ctx2d.save(),this.ctx2d.scale(-1,1),this.ctx2d.translate(-this.width,0);let y=super.draw2d(n,i,s,u,p);return this.ctx2d.restore(),y}return!1}render(n){var i;return!((i=this.input)==null||!i.requestFrame(n))&&(this.useProgram(),this.useBufferFrame(),this.useInputTexture(),this.draw(),!0)}},Pre=class{constructor(n,i){this.node=n,this.layout=i,oe(this,"positionBuffer")}get x(){return this.layout.x||this.node.x}get y(){return this.layout.y||this.node.y}get width(){return this.layout.width||this.node.width}get height(){return this.layout.height||this.node.height}get right(){return this.x+this.width}get bottom(){return this.y+this.height}},Dre=class extends Du{constructor(n){super(n,{useDefaultProgram:!0,useFbo:!0,name:"mix",create2d:!0}),oe(this,"inputs",[])}addInput(n,i){if(this.inputs[i.zIndex])throw new Error("input already exists");let s=new Pre(n,i);this.inputs[i.zIndex]=s}resize(n,i){let s=this.inputs.reduce((u,p)=>p?Object.assign(u,{width:Math.max(u.width,p.right),height:Math.max(u.height,p.bottom)}):u,{width:0,height:0});super.resize(s.width,s.height),this.context instanceof us&&this.inputs.forEach(u=>{if(u){let p=this.layout2texCoords(u);u.positionBuffer?this.changeBufferData(u.positionBuffer,p):u.positionBuffer=this.createBuffer(p)}})}connect(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];return super.connect(n,...s),this.resize(0,0),n}removeInput(n){this.inputs[this.inputs.findIndex(i=>(i==null?void 0:i.node)===n)]=void 0}render(n){let i=this.context.ctx;if(i.clearColor(0,0,0,0),!this.inputs.reduce((s,u)=>(!u||!u.node.requestFrame(n))&&s,!0)&&i){this.useProgram(),i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),this.useBufferFrame();for(let s=0;s<this.inputs.length;s++){let u=this.inputs[s];u&&(u.node.useTexture(),this.draw(u.positionBuffer))}return!0}return!1}render2d(n){if(!this.inputs.reduce((i,s)=>(!s||!s.node.requestFrame(n))&&i,!0)&&this.ctx2d){this.ctx2d.clearRect(0,0,this.width,this.height);for(let i=0;i<this.inputs.length;i++){let s=this.inputs[i];s&&this.draw2d(s.node.image,s.x,s.y,s.width,s.height)}return!0}return!1}getInfo(){let{totalFrames:n,x:i,y:s,width:u,height:p,name:y}=this,E=Date.now(),A=(n-this.lastInfo.totalFrames)/((E-this.lastInfo.timestamp)/1e3)|0;return this.lastInfo={totalFrames:n,x:i,y:s,width:u,height:p,timestamp:E,fps:A,name:y},hn({parent:this.inputs.filter(w=>w).map(w=>w.node.getInfo())},this.lastInfo)}close(){super.close(),this.inputs.forEach(n=>{var i,s;if(n&&((i=n.node)==null||i.disconnect(),n.positionBuffer&&this.context instanceof us))try{(s=this.context.ctx)==null||s.deleteBuffer(n.positionBuffer)}catch{}})}},Lre=class extends oV{constructor(n,i){super(n,i.input,{name:"vb",create2d:!1,useDefaultProgram:!1,useFbo:!1,createTexture:!0,logger:n.log}),oe(this,"ready",!1),oe(this,"_bgTexture"),oe(this,"_waterMarkTexture"),oe(this,"_lastMaskTexture"),oe(this,"_lastMaskFbo"),oe(this,"_textureValid",!1),oe(this,"_selfieTextureValid",!1),oe(this,"_selfieSegmentation"),oe(this,"wasm"),oe(this,"_prePrograme"),oe(this,"_segmentationMask"),oe(this,"_weixin",!1),i.selfieSegmentation&&(this._selfieSegmentation=i.selfieSegmentation,this._selfieSegmentation.onResults=this.onPredict.bind(this)),this.init(i).catch(()=>this.context.destroy(new Error("selfie_segmentation init faild")))}init(n){return Ke(this,null,function*(){var i,s;let u=n.Wasm,p=this.context.ctx;if(this.wasm=new u.AllIn1(p),this.wasm.blurRadius=n.blurRadius||3,this.wasm.mirror=!!n.mirror,this.wasm.vbMode=n.bg==="blur"?1:n.bg instanceof HTMLImageElement?2:n.bg==="green"?3:0,n.waterMark){let{x:y,y:E,width:A,height:w}=n.waterMark;this.wasm.setWaterMark(y,E,A,w)}if(n.beautyParams){let{beauty:y,brightness:E,ruddy:A}=n.beautyParams;this.wasm.setBeauty(y,E,A,(i=this.context._canvas)==null?void 0:i.width,(s=this.context._canvas)==null?void 0:s.height)}if(this.program=this.wasm.init(),this.useProgram(),this.setAttributes(this.positionBuffer,this.texCoordBuffer),p.uniform1i(p.getUniformLocation(this.program,"mask"),1),n.bg instanceof HTMLImageElement&&(p.uniform1i(p.getUniformLocation(this.program,"bg"),2),this._bgTexture=this.createTexture(n.bg)),n.waterMark&&(p.uniform1i(p.getUniformLocation(this.program,"waterMark"),3),this._waterMarkTexture=this.createTexture(n.waterMark.image)),p.uniform1i(p.getUniformLocation(this.program,"lastMask"),4),this._weixin){let y=this.context.createShader(p.FRAGMENT_SHADER,`#version 300 es
precision highp float;
uniform sampler2D u_texture;
uniform sampler2D mask;

in vec2 v_texCoord;
out vec4 outColor;
void main() {
  outColor = vec4(texture(u_texture, v_texCoord).rgb, texture(mask, v_texCoord).a);
}`),E=this.context.createShader(p.VERTEX_SHADER,`#version 300 es
in vec2 a_position;
in vec2 a_texCoord;
out vec2 v_texCoord;
void main() {
  gl_Position = vec4(a_position.x, a_position.y, 0, 1);
  v_texCoord = a_texCoord;
}`);this._prePrograme=this.context.createProgram(E,y),p.useProgram(this._prePrograme),this.setAttributes(this.positionBuffer,this.texCoordBuffer),p.uniform1i(p.getUniformLocation(this._prePrograme,"mask"),1)}this.ready=!0})}onPredict(n){var i;let s=this.context.ctx;this._weixin&&(this._lastMaskTexture||(this._lastMaskTexture=this.createTexture(this.image),this._lastMaskFbo=this.createFramebuffer(this._lastMaskTexture))),this.useProgram(),this._weixin?this.useTexture():this==null||this._selfieSegmentation.bindTexture(),s.activeTexture(s.TEXTURE1),(i=this._selfieSegmentation)==null||i.bindTexture2d(n),s.activeTexture(s.TEXTURE2),s.bindTexture(s.TEXTURE_2D,this._bgTexture||null),s.activeTexture(s.TEXTURE3),s.bindTexture(s.TEXTURE_2D,this._waterMarkTexture||null),this.useBufferFrame(),s.drawArrays(s.TRIANGLE_STRIP,0,4),this._segmentationMask=n,this.totalFrames++}render(n){var i,s,u;let p=this.context.ctx;if(typeof this.image.getVideoPlaybackQuality=="function"&&!Tf){let w=this.image.getVideoPlaybackQuality().totalVideoFrames;if(this._totalFrames===w)return!1;this._totalFrames=w,this.dropFrames=this._totalFrames-this.totalFrames}let{videoWidth:y,videoHeight:E}=this.image;this.image.width=y,this.image.height=E;let A=!1;if(this.totalFrames)this._weixin?this.useTexture():this==null||this._selfieSegmentation.bindTexture(),A=this._selfieTextureValid,this._selfieTextureValid=!0;else{if(!this.program)return!1;this.useTexture(),A=this._textureValid,this._textureValid=!0}return this.width===y&&this.height===E&&A?p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.image):(this.resize(y,E),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,this.image)),this.ready&&(this._weixin&&(p.useProgram(this._prePrograme),this.useTexture(),this._segmentationMask&&(p.activeTexture(p.TEXTURE1),(i=this._selfieSegmentation)==null||i.bindTexture2d(this._segmentationMask),p.bindFramebuffer(p.FRAMEBUFFER,this._lastMaskFbo||null)),p.drawArrays(p.TRIANGLE_STRIP,0,4),(s=this._selfieSegmentation)==null||s.bindTexture(),this._segmentationMask?p.copyTexSubImage2D(p.TEXTURE_2D,0,0,0,0,0,y,E):p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,0,0,y,E,0)),(u=this._selfieSegmentation)==null||u.send(y,E)),this.totalFrames||(p.activeTexture(p.TEXTURE2),p.bindTexture(p.TEXTURE_2D,this._bgTexture||null),p.activeTexture(p.TEXTURE3),p.bindTexture(p.TEXTURE_2D,this._waterMarkTexture||null),p.drawArrays(p.TRIANGLE_STRIP,0,4)),!1}close(){var n;super.close();let i=this.context.ctx;this._bgTexture&&i.deleteTexture(this._bgTexture),this._waterMarkTexture&&i.deleteTexture(this._waterMarkTexture),this._lastMaskTexture&&i.deleteTexture(this._lastMaskTexture),this._lastMaskFbo&&i.deleteFramebuffer(this._lastMaskFbo),this._prePrograme&&i.deleteProgram(this._prePrograme),(n=this.wasm)==null||n.close()}},Mre=class extends Are.EventEmitter{constructor(n){super(),this.room=n,oe(this,"videoContext"),oe(this,"_glVideoContext"),oe(this,"_2dVideoContext"),oe(this,"destination"),oe(this,"smallVideoContext"),oe(this,"smallDestination"),oe(this,"smallTrackSource"),oe(this,"smallImageSource"),oe(this,"_isMirror",!1),oe(this,"cameraTrack"),oe(this,"cameraNode"),oe(this,"mirrorNode"),oe(this,"mixNode"),oe(this,"screenTrack"),oe(this,"screenNode"),oe(this,"selfModel",!1),oe(this,"blurRadius",3),oe(this,"arTrack"),oe(this,"Wasm"),oe(this,"waterMarkNode"),oe(this,"_waterMarkOption"),oe(this,"watermarkImageList",[]),oe(this,"_beautyParams"),oe(this,"isUsingArTrack",!1),oe(this,"_isMixScreen",!1),oe(this,"_virtualBackground"),oe(this,"virtualBackgroundInstance"),oe(this,"_bgAssetPath"),oe(this,"log",Gt.createLogger({id:"vm"})),oe(this,"_checkId",0),oe(this,"_use2d",!1),oe(this,"_autoSwitchRenderMode",!0),oe(this,"_selfieSegmentation"),n&&(this.log.setUserId(n.userId),this.log.setSdkAppId(n.sdkAppId)),this.smallVideoContext=new nc({frameRate:15,logger:this.log,name:"s"}),this.enablePrintDetail()}get _hasVirtualBg(){return!!this._virtualBackground}get _hasWaterMark(){return this.watermarkImageList.length>0}get renderMode(){return this._autoSwitchRenderMode?"auto":this._use2d?"2d":"webgl"}set renderMode(n){if(this._autoSwitchRenderMode=n==="auto",this._autoSwitchRenderMode)return;let i=n==="2d";this._use2d!==i&&(this._use2d=i,this.clear(),this.videoContext=this._use2d?this.get2dVideoContext():this.getGlVideoContext(),this.update())}get2dVideoContext(){return this._2dVideoContext?this._2dVideoContext.destroy():this._2dVideoContext=new nc({frameRate:15,logger:this.log,name:"m"}),this._2dVideoContext.create({alpha:this._hasWaterMark||this._hasVirtualBg}),this.sendCreateResult("videoCtx2d",this._2dVideoContext.ctx?void 0:new Error("create 2d context failed")),this._2dVideoContext}getGlVideoContext(){if(this._glVideoContext){if(this._glVideoContext.available)return this._glVideoContext}else this._glVideoContext=new us({frameRate:15,logger:this.log,name:"m"});try{this._glVideoContext.create(),this.sendCreateResult(),this._glVideoContext.on("unavailable",(n,i)=>{this.emit("error",{reason:n,error:i}),this.log.warn("video context unavailable",n,i),this.sendCreateResult("videoCtxGl",i||new Error(n)),this.update()})}catch(n){this.emit("error",{reason:"create",error:n}),this.sendCreateResult("videoCtxGl",n)}return this._glVideoContext}enablePrintDetail(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2e3;this._checkId=Zr.run(Zy,()=>{this.destination&&this.log.debug(this.destination.getInfo())},{delay:n})}destroy(){var n,i;(n=this._2dVideoContext)==null||n.destroy(),(i=this._glVideoContext)==null||i.destroy(),this.smallVideoContext.destroy(),Zr.clearTask(this._checkId)}get needAlpha(){return this._hasWaterMark||this._hasVirtualBg}get active(){return(Tf||this._isMixScreen||this._isMirror||this._hasWaterMark||this._hasVirtualBg||this._beautyParams)&&this.checkOrCreateVideoContext()}sendCreateResult(){let n=arguments.length>1?arguments[1]:void 0,i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"videoCtxGl")==="videoCtxGl"?512700:512701;n?bn.addFailedEvent({key:i,error:n}):bn.addSuccessEvent({key:i})}checkOrCreateVideoContext(){let n=this._use2d;if(this._autoSwitchRenderMode&&(this._use2d=!this._hasVirtualBg),this.videoContext)if(this.videoContext.available){let i=!this.videoContext.hasAlpha&&this.needAlpha;if(this._autoSwitchRenderMode&&n===this._hasVirtualBg)this.clear();else{if(!i||!this._use2d)return!0;this.clear()}}else this.clear(),this._use2d=!0;return this.videoContext=this._use2d?this.get2dVideoContext():this.getGlVideoContext(),this.videoContext.available}get smallTrack(){var n;return(n=this.smallDestination)==null?void 0:n.videoTrack}get hasSmall(){return!!this.smallTrack}get initialTrack(){var n;return(n=this.cameraTrack)==null?void 0:n.mediaTrack}initVirtualBackground(n){return this._selfieSegmentation=n,this._selfieSegmentation.changeModel()}_setMainOutput(n){var i;try{let s=this.cameraTrack,{small:u,settings:p,player:y}=s;u?(this.smallVideoContext.available||(this.smallVideoContext.create({alpha:!1}),this.smallDestination=new kne(this.smallVideoContext,u)),this.smallVideoContext.frameRate=u.frameRate,this.smallDestination.resolution=u,n?(this.smallTrackSource&&(this.smallTrackSource.close(),delete this.smallTrackSource),this.smallImageSource?this.smallImageSource.image=n:(this.smallImageSource=this.smallVideoContext.createVideoImageSource(n),this.smallImageSource.connect(this.smallDestination))):(this.smallImageSource&&(this.smallImageSource.close(),delete this.smallImageSource),this.smallTrackSource?this.smallTrackSource.replaceTrack(this.initialTrack):(this.smallTrackSource=this.smallVideoContext.createVideoTrackSource(this.initialTrack,"smallTrackSource"),this.smallTrackSource.width=p.width,this.smallTrackSource.height=p.height,this.smallTrackSource.connect(this.smallDestination)))):this.smallVideoContext.available&&(this.smallVideoContext.destroy(),delete this.smallDestination,delete this.smallTrackSource,delete this.smallImageSource),Tf&&y.setCanvas(n);let E=n&&((i=this.destination)==null?void 0:i.videoTrack)||this.initialTrack;return this.isUsingArTrack&&this.arTrack&&(this.emit("output-track-changed"),E=this.arTrack),this._selfieSegmentation&&n&&!this._use2d&&(this._selfieSegmentation._glName||this._selfieSegmentation.setCanvas(n)),this.log.info("set main output ".concat(E?E.label:"no output track")),s.setOutputMediaStreamTrack(E)}catch(s){this.log.error("set main output failed",s)}}update(){return Ke(this,null,function*(){var n,i;if(!this.cameraTrack||!this.cameraTrack.mediaTrack)return;if(!this.active)return this.cameraNode&&this.clear(),this._setMainOutput();let{settings:s,profile:u}=this.cameraTrack;if(this._use2d||!this._virtualBackground&&!this._beautyParams?(this.destination||(this.destination=this.videoContext.createVideoTrackDestination({name:"mainDestination",logger:this.log})),this.cameraNode?this.cameraNode.replaceTrack(this.initialTrack):(this.cameraNode=this.videoContext.createVideoTrackSource(this.initialTrack,"cameraNodeSource"),this.cameraNode.resize(s.width,s.height))):(this.cameraNode&&this.cameraNode.close(),this.destination||(this.destination=new Ine(this.videoContext,{name:"mainDestination",logger:this.log})),this.cameraNode=new Lre(this.videoContext,{input:this.cameraTrack.mediaTrack,mirror:this._isMirror,bg:this._virtualBackground,selfModel:this.selfModel,waterMark:this._waterMarkOption,beautyParams:this._beautyParams,useTflite:!0,blurRadius:this.blurRadius,assetPath:this._bgAssetPath,selfieSegmentation:this._selfieSegmentation,Wasm:this.Wasm}),this.cameraNode.connect(this.destination)),this.videoContext.frameRate=u.frameRate,this._use2d){let p=this.cameraNode;p.disconnect(),this._isMirror&&(this.mirrorNode||(this.mirrorNode=new Nre(this.videoContext)),p=p.connect(this.mirrorNode),p.disconnect(),this.log.info("start mirror")),this.mixNode&&this.mixNode.close(),delete this.mixNode,(this._isMixScreen||this._hasWaterMark)&&(this.mixNode=new Dre(this.videoContext),p.connect(this.mixNode,{zIndex:1}),this._hasWaterMark&&!this.waterMarkNode&&this._waterMarkOption&&(this.waterMarkNode=this.videoContext.createVideoImageSource(this._waterMarkOption.image,{autoResize:!1,logger:this.log}),this.waterMarkNode.resize(this._waterMarkOption.width,this._waterMarkOption.height),this.waterMarkNode.x=this._waterMarkOption.x,this.waterMarkNode.y=this._waterMarkOption.y),(n=this.waterMarkNode)==null||n.connect(this.mixNode,{zIndex:2}),this._isMixScreen&&this.screenTrack&&!this.screenNode&&(this.screenNode=this.videoContext.createVideoTrackSource(this.screenTrack.mediaTrack,"screenNodeSource")),(i=this.screenNode)==null||i.connect(this.mixNode,{zIndex:0}),p=this.mixNode,this.log.info("start mix","".concat(this.mixNode.width,"x").concat(this.mixNode.height))),p.connect(this.destination)}return this.log.info("update ".concat(this._use2d?"2d":"webgl")),this._setMainOutput(this.videoContext._canvas)})}changeInput(n){var i,s,u,p;if(n instanceof Pu)return this.log.info("change screen input",(i=n.mediaTrack)==null?void 0:i.label),this.setScreenTrack(n);if(n instanceof Mi)return this.log.info("change video input",(s=n.mediaTrack)==null?void 0:s.label),this.setCameraTrack(n);if(n instanceof Nm){this.log.info("change remote input",(u=n.mediaTrack)==null?void 0:u.label);let y=n.mediaTrack;return n.setOutputMediaStreamTrack(y)}this.log.warn("change unknown input",(p=n.mediaTrack)==null?void 0:p.label)}removeInput(n){var i;n instanceof Pu?((i=this.screenNode)==null||i.close(),delete this.screenNode,delete this.screenTrack,this.update()):n instanceof Mi?(this.clear(),delete this.cameraTrack,this.smallImageSource&&(this.smallImageSource.close(),delete this.smallImageSource),this.smallTrackSource&&(this.smallTrackSource.close(),delete this.smallTrackSource)):n instanceof Nm&&n.source&&n.source.context.destroy()}setCameraTrack(n){return Ke(this,null,function*(){this.cameraTrack=n,this.update()})}setScreenTrack(n){return this.screenTrack=n,this._isMixScreen&&(this.screenNode?this.screenNode.replaceTrack(n.mediaTrack):this.update()),n.setOutputMediaStreamTrack(n.mediaTrack)}getWatermarkImage(n,i){return Ke(this,null,function*(){let s=document.createElement("canvas");i&&n&&(s.height=i,s.width=n);let u=s.getContext("2d");if(!u)throw new on({code:Ht.NOT_SUPPORTED,message:"Make image failed because of canvas context is null"});return this.watermarkImageList.sort((p,y)=>p.zIndex-y.zIndex),this.watermarkImageList.forEach(p=>{let{image:y,x:E,y:A,width:w,height:V}=p;u.drawImage(y,E,A,w,V)}),g_(s.toDataURL())})}pushWaterMarkImageList(n){let{type:i}=n;this.watermarkImageList.some(s=>s.imageUrl===n.imageUrl&&s.height===n.height&&s.width===n.width&&s.x===n.x&&s.y===n.y&&s.type===n.type&&s.zIndex===n.zIndex)||((i==="mute"||i==="watermark")&&(this.watermarkImageList=this.watermarkImageList.filter(s=>s.type!==i)),this.watermarkImageList.push(n))}setBeautyParams(n){return Ke(this,null,function*(){this._beautyParams=n,this.update()})}stopBeauty(){return Ke(this,null,function*(){this._beautyParams=void 0,this.update()})}setWatermark(n){return Ke(this,null,function*(){let i;try{i=yield g_((n==null?void 0:n.imageElement)||n.imageUrl)}catch{throw new on({code:Ht.INVALID_PARAMETER,message:"load image failed, url: ".concat(n.imageUrl)})}let{x:s=0,y:u=0,width:p=i.width,height:y=i.height,type:E="watermark",zIndex:A=2}=n;this.pushWaterMarkImageList({x:s,y:u,width:p,height:y,image:i,zIndex:A,type:E,imageUrl:n.imageUrl}),yield this.freshWatermark(),this.log.info("set watermark",JSON.stringify(this.watermarkImageList))})}deleteWatermark(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"watermark";return Ke(this,null,function*(){this.watermarkImageList=this.watermarkImageList.filter(i=>i.type!==n),this.log.info("delete watermark",n,JSON.stringify(this.watermarkImageList)),yield this.freshWatermark()})}freshWatermark(){return Ke(this,null,function*(){var n,i,s;(n=this.waterMarkNode)==null||n.close(),delete this.waterMarkNode,delete this._waterMarkOption;let u=yield this.getWatermarkImage((i=this.cameraTrack)==null?void 0:i.settings.width,(s=this.cameraTrack)==null?void 0:s.settings.height);this._waterMarkOption={x:0,y:0,width:u.width,height:u.height,image:u},this.update()})}setVirtualBackground(n){return Ke(this,null,function*(){if(n){if(this._use2d&&!this._autoSwitchRenderMode)return Promise.reject(new Error("not support virtual background in 2d mode"));this._bgAssetPath=n.assetPath,n.type==="image"?this._virtualBackground=yield g_(n.imageUrl):(this.blurRadius=n.blurLevel||this.blurRadius||3,this._virtualBackground=n.type)}else this._virtualBackground=void 0;this.log.info("".concat(this._virtualBackground?"start":"stop"," virtual background, ").concat((n==null?void 0:n.type)||"",", ").concat(this.blurRadius||"")),this.update()})}get mixScreen(){return this._isMixScreen}set mixScreen(n){var i;this._isMixScreen=n,this._isMixScreen||((i=this.screenNode)==null||i.close(),delete this.screenNode),this.update()}set mirror(n){var i;this._isMirror!==n&&(this._isMirror=n,this._isMirror||((i=this.mirrorNode)==null||i.close(),delete this.mirrorNode),this.update())}get mirror(){return this._isMirror}enableAr(n){this.arTrack=n,this.isUsingArTrack=!0,this.update()}updateAr(){return Ke(this,null,function*(){var n;(n=this.cameraTrack)==null||!n.mediaTrack||(yield this.virtualBackgroundInstance.ar.updateInputTrack(this.cameraTrack.mediaTrack.clone()))})}disableAr(){var n;this.isUsingArTrack=!1,(n=this.arTrack)==null||n.stop(),this.arTrack=void 0,this.update()}clear(){var n;(n=this.videoContext)==null||n.disconnect(),delete this.destination,delete this.cameraNode,delete this.mirrorNode,delete this.screenNode,delete this.waterMarkNode}},xre=0,Vre=class extends ar{constructor(n){super("room"),this.seq=++xre,this.role="anchor",this.joinParams=null,this.localTracks=new Set,this.enableAutoPlayDialog=!0,this.autoReceiveAudio=!0,this.autoReceiveVideo=!0,this.scheduleResult={domains:null,iceServers:null,iceTransportPolicy:null,trtcAutoConf:null},this._isUsingCachedSchedule=!1,this._log=Gt.createLogger({id:"r".concat(this.seq)}),this._joinedTimestamp=0,this.isDestroyed=!1,this.useStringRoomId=!!n.useStringRoomId,Li(n.autoReceiveAudio)&&(this.autoReceiveAudio=n.autoReceiveAudio),Li(n.autoReceiveVideo)&&(this.autoReceiveVideo=n.autoReceiveVideo),Li(n.enableAutoPlayDialog)&&(this.enableAutoPlayDialog=n.enableAutoPlayDialog),this._sdkType=n.sdkType,this.keyPointManager=new Ire({room:this,frameWorkType:n.frameWorkType,component:n.component,language:n.language}),this.callDurationCalculator=new kre({room:this}),this.badCaseDetector=new Rre({room:this}),this.audioManager=new Ene(this),this.videoManager=new Mre(this)}get isMainStreamPublished(){for(let n of this.localTracks)if(4&n.mediaType)return!0;return!1}get isAuxStreamPublished(){for(let n of this.localTracks)if(2&n.mediaType)return!0;return!1}get hasAuxStream(){for(let n of this.remotePublishedUserMap.values())if(n.muteState.hasAuxiliary)return!0;return this.isAuxStreamPublished}getLogger(){return this._log}get isJoining(){return this.state.toString()==="joining"}get isJoined(){return this.state==="joined"}get isLeft(){return this.state==="left"}addTrack(n){return Ke(this,null,function*(){return this.publish(n)})}removeTrack(n){return Ke(this,null,function*(){return this.unpublish(n)})}replaceTrack(n){return Ke(this,null,function*(){})}setEncodedDataProcessingListener(n){throw new Error("Method not implemented.")}enableAIVoice(n){throw new Error("Method not implemented.")}setProxyServer(n){if(br(n))n.startsWith("wss://")?this.proxy_ws=n:n.startsWith("https://")&&(this.proxy_wt=n);else if(Ks(n)){let{websocketProxy:i,webtransportProxy:s,loggerProxy:u,scheduleProxy:p,unifiedProxy:y}=n;this.proxy_ws=i,this.proxy_wt=s,this.proxy_unified=y,y?(XM([y,y]),Gp("https://".concat(y))):(u&&Gp(u),p&&XM(p))}Pt.once(bt.JOIN_RECEIVED_CMD_RES,()=>this.sendAbilityStatus({sched_domain:Cu.main,sched_back_domain:Cu.backup,signal_domain:this.proxy_ws||this.proxy_wt||""}))}getRemoteAudioStats(){return Ke(this,null,function*(){let n={};return this.remotePublishedUserMap.forEach(i=>{n[i.userId]=i.remoteAudioTrack.stat}),n})}getTransportStats(){return Ke(this,null,function*(){var n;let i={rtt:((n=this.quality)==null?void 0:n.uplinkRTT)||0,downlinksRTT:{}};if(this.quality)for(let s of this.quality.downlinkInfo)i.downlinksRTT[s.userId]=s.rtt;return i})}getRemoteVideoStats(){return Ke(this,arguments,function(){var n=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return function*(){let s={};return n.remotePublishedUserMap.forEach(u=>{let p=i==="auxiliary"?u.remoteAuxiliaryTrack:u.remoteVideoTrack;s[u.userId]=p.stat}),s}()})}checkDestroy(){if(this.isDestroyed)throw new on({code:Ht.INVALID_OPERATION,message:jn({key:Bn.CLIENT_DESTROYED,data:{funName:"join"}})})}destroy(){if(this.isJoined)throw this._log.warn(ka.INVALID_DESTROY),new on({code:Ht.INVALID_OPERATION,message:jn({key:Bn.INVALID_DESTROY})});this._log.info("destroy room"),this.audioManager.destroy(),this.videoManager.destroy(),this.keyPointManager.destroy(),this.callDurationCalculator.destroy(),this.badCaseDetector.destroy(),this.isDestroyed=!0,Pt.emit(bt.ROOM_DESTROY,{room:this})}schedule(n,i){return Ke(this,null,function*(){var s,u;let p=zn();try{let{isCached:y,result:E,detailCost:A}=yield Ste({userId:this.userId,sdkAppId:this.sdkAppId,roomId:this.useStringRoomId?n.strRoomId:n.roomId,useStringRoomId:this.useStringRoomId,version:os,userSig:this.userSig,role:this.scene==="live"?n.role:void 0,frameWorkType:i,latencyLevel:n.latencyLevel});this._isUsingCachedSchedule=y,this._log.info("schedule cache:".concat(+y," ").concat(Gs(E,{keysToExclude:["username","credential"]}))),y&&Pt.once(bt.JOIN_RECEIVED_CMD_RES,()=>this.sendAbilityStatus({scheduleCache:1})),this.scheduleResult=hn(hn({},this.scheduleResult),E),ao((s=E.config)==null?void 0:s.retryCount)&&kM(E.config.retryCount),br((u=E.config)==null?void 0:u.loggerDomain)&&Gp(E.config.loggerDomain),Pt.emit(bt.JOIN_SCHEDULE_SUCCESS,{room:this,schedule:this.scheduleResult,detailCost:A}),bn.addSuccessEvent({key:521700,cost:zn()-p,split:50})}catch(y){throw bn.addFailedEvent({key:521700,error:y}),y}})}},Fre=Ao(mi()),UV=Ao(dM());function BV(n){var i;let s=[];for(let u=0;u<n.rtp.length;u++){if(["rtx","red","ulpfec"].includes(n.rtp[u].codec))continue;let p=n.fmtp.filter(y=>y.payload===n.rtp[u].payload)[0];s.push({payload:n.rtp[u].payload,codec:n.rtp[u].codec,fmtp:p?p.config:"",rate:n.rtp[u].rate,rtx:((i=n.rtp[u+1])==null?void 0:i.codec)==="rtx"?n.rtp[u+1].payload:0,rtcpFb:((n==null?void 0:n.rtcpFb)||[]).filter(y=>y.payload===n.rtp[u].payload).map(y=>{let{type:E,subtype:A}=y;return{id:E,params:A?[A]:[]}})})}return s}var $re=(n,i)=>Ke(void 0,null,function*(){var s;let u=po(n),p={ice:{ufrag:"",password:""},dtls:{hash:"",fingerprint:"",setup:""},audio:{codecs:[],extensions:[]},video:{codecs:[],decoders:[],extensions:[]},useDataChannel:!1};p.ice.ufrag=String(u.media[0].iceUfrag),p.ice.password=u.media[0].icePwd||"",u.fingerprint&&(p.dtls.hash=u.fingerprint.type,p.dtls.fingerprint=u.fingerprint.hash,p.dtls.setup=u.setup||""),u.media[0].fingerprint&&(p.dtls.hash=u.media[0].fingerprint.type,p.dtls.fingerprint=u.media[0].fingerprint.hash),p.dtls.setup=u.media[0].setup||"";let y=u.media[0],E=u.media[1];y.ext&&(p.audio.extensions=y.ext.map(V=>({id:V.value,uri:V.uri}))),E.ext&&(p.video.extensions=E.ext.map(V=>({id:V.value,uri:V.uri})));let A={codec:y.rtp[0].codec,fmtp:y.fmtp[0].config,payload:y.fmtp[0].payload,rate:y.rtp[0].rate,channel:y.rtp[0].encoding,rtcpFb:[],rtx:0};(s=y.rtcpFb)==null||s.forEach(V=>{let{payload:K,type:z,subtype:ue}=V;if(K===A.payload){let ve={id:z,params:[]};ue&&ve.params.push(ue),A.rtcpFb.push(ve)}}),p.audio.codecs.push(A);let w=["h264","vp8"];return i&&w.shift(),p.video.codecs=[...BV(E)].filter(V=>w.includes(V.codec.toLocaleLowerCase())),p.video.decoders=(yield function(){return Ke(this,null,function*(){let V=new RTCPeerConnection;V.addTransceiver(Ce.VIDEO,{direction:Ce.TRANSCEIVER_DIRECTION_RECVONLY});let K=yield V.createOffer();if(!K.sdp)return[];let z=BV(po(K.sdp).media[0]);return V.close(),z})}()).filter(V=>["h264","vp8"].includes(V.codec.toLocaleLowerCase())),p}),Ure=n=>{let{serverAbility:i,clientAbility:s,offerSDP:u,enableCustomMessage:p}=n,y=po(u),E={extmapAllowMixed:"extmap-allow-mixed",groups:y.groups,icelite:"ice-lite",media:[],msidSemantic:{semantic:"",token:"WMS"},name:"-",origin:{address:"127.0.0.1",username:"-",sessionId:String(Date.now()),sessionVersion:1,netType:"IN",ipVer:4},timing:{start:0,stop:0},version:0},A={candidates:i.candidates.map(w=>({component:1,foundation:"1",generation:0,ip:w.ip,port:w.port,priority:w.priority,transport:w.foundation,type:w.type})),connection:{version:4,ip:"0.0.0.0"},direction:Ce.TRANSCEIVER_DIRECTION_RECVONLY,ext:i.audio.extensions.map(w=>({value:w.id,uri:w.uri})),fingerprint:{type:i.dtls.hash,hash:i.dtls.fingerprint},fmtp:[{payload:i.audio.codecs[0].payload,config:i.audio.codecs[0].fmtp}],icePwd:i.ice.password,iceUfrag:i.ice.ufrag,mid:"0",payloads:String(i.audio.codecs[0].payload),port:y.media[0].port,protocol:y.media[0].protocol,type:Ce.AUDIO,setup:i.dtls.setup,rtcpFb:i.audio.codecs[0].rtcpfb.map(w=>({payload:i.audio.codecs[0].payload,type:w.id,subtype:w.params[0]})),rtcpMux:"rtcp-mux",rtcpRsize:"rtcp-rsize",rtp:[{payload:i.audio.codecs[0].payload,codec:i.audio.codecs[0].codec,rate:i.audio.codecs[0].rate,encoding:i.audio.codecs[0].channels}]};return E.media.push(A),[1,2,3].forEach(w=>{E.media.push(HV({mid:w,serverAbility:i,clientAbility:s,parsedOffer:y}))}),p&&E.media.push(y.media.find(w=>w.mid==="dc")),oc(E)},HV=n=>{let{mid:i,serverAbility:s,clientAbility:u,parsedOffer:p,isDownlink:y=!1}=n,E={candidates:s.candidates.map(A=>({component:1,foundation:"1",generation:0,ip:A.ip,port:A.port,priority:A.priority,transport:A.foundation,type:A.type})),connection:{version:4,ip:"0.0.0.0"},direction:Ce.TRANSCEIVER_DIRECTION_RECVONLY,ext:s.video.extensions.map(A=>({value:A.id,uri:A.uri})),fingerprint:{type:s.dtls.hash,hash:s.dtls.fingerprint},fmtp:[],icePwd:s.ice.password,iceUfrag:s.ice.ufrag,mid:String(i),payloads:"",port:p.media[0].port,protocol:p.media[0].protocol,type:Ce.VIDEO,setup:s.dtls.setup,rtcpFb:[],rtcpMux:"rtcp-mux",rtcpRsize:"rtcp-rsize",rtp:[]};if(y)(s.video.decoders||s.video.codecs).forEach(A=>{W_(E,A)});else{let A=s.video.codecs.findIndex(V=>V.codec.toLowerCase()===(s.useVp8?"vp8":"h264")),w=s.video.codecs[A]||u.video.codecs[0];W_(E,w)}return E},W_=(n,i)=>{n.payloads="".concat(n.payloads," ").concat(i.payload).trim(),n.fmtp.push({payload:i.payload,config:i.fmtp}),n.rtcpFb=[...n.rtcpFb||[],...(i.rtcpfb||i.rtcpFb).map(s=>({payload:i.payload,type:s.id,subtype:s.params[0]}))],n.rtp.push({payload:i.payload,codec:i.codec.toUpperCase(),rate:i.rate}),i.rtx&&(n.payloads="".concat(n.payloads," ").concat(i.rtx),n.fmtp.push({payload:i.rtx,config:"apt=".concat(i.payload)}),n.rtp.push({payload:i.rtx,codec:"rtx",rate:i.rate}))},Na,Bre=(n,i,s)=>{let u=UV.default.parse(n);return u.media.forEach((p,y)=>{var E;(p.type===Ce.AUDIO||p.type===Ce.VIDEO)&&(function(A){if(!A.rtcpFb)return;let w=[];A.rtcpFb.forEach((V,K)=>{var z;w.push(V),A.rtcpFb&&((z=A.rtcpFb[K+1])==null?void 0:z.payload)!==V.payload&&V.type!=="rrtr"&&w.push({payload:V.payload,type:"rrtr"})}),A.rtcpFb=w}(p),function(A){A.type===Ce.VIDEO&&A.fmtp&&A.fmtp.forEach(w=>{w.config.includes("apt")||(w.config+=";sps-pps-idr-in-keyframe=1")})}(p),function(A){A.type===Ce.AUDIO&&A.fmtp&&A.fmtp.forEach(w=>{w.config+=";sprop-stereo=1;stereo=1"})}(p),function(A){let w=new Set(["urn:ietf:params:rtp-hdrext:sdes:mid","urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id"]);A.ext&&(A.ext=A.ext.filter(V=>!w.has(V.uri)))}(p),p.type===Ce.VIDEO&&(y<4?(p.payloads="",p.fmtp=[],p.rtp=[],p.rtcpFb=[],i.video.codecs.forEach(A=>W_(p,A))):s&&(p.payloads="",p.fmtp=[],p.rtp=[],p.rtcpFb=[],(s.video.decoders||s.video.codecs).forEach(A=>W_(p,A))))),((E=p.payloads)==null?void 0:E.includes("datachannel"))&&u.groups&&p.mid&&(u.groups[0].mids=u.groups[0].mids.replace(p.mid,"dc"),p.mid="dc")}),UV.default.write(u)},$u=((Na=$u||{}).TRACK="track",Na.DATA_CHANNEL_MESSAGE="data_channel_msg",Na[Na.CONNECTION_STATE_CHANGED="connection-state-changed"]="CONNECTION_STATE_CHANGED",Na[Na.FIREWALL_RESTRICTION="firewall-restriction"]="FIREWALL_RESTRICTION",Na.RECONNECTED="spc-reconnected",Na.RECONNECT_FAILED="spc-reconnect-failed",Na.ERROR="error",Na.SEI_MESSAGE="sei-message",Na),jV=0,WV=!1,Hre=new Set,jre=1,Hm=class extends Fre.default{constructor(n){let{signalChannel:i,room:s,enableCustomMessage:u}=n;super(),oe(this,"stat",{iceStartTime:0,iceEndTime:0,dtlsStartTime:0,dtlsEndTime:0,peerConnectionStartTime:0,peerConnectionEndTime:0}),oe(this,"currentState","DISCONNECTED"),oe(this,"_room"),oe(this,"_signalChannel"),oe(this,"_peerConnection",null),oe(this,"_datachannel",null),oe(this,"_enableCustomMessage"),oe(this,"_log"),oe(this,"_downlinkMIDMap",new Map),oe(this,"_downlinkMIDUserIDMap",new Map),oe(this,"_reconnectionTimer",-1),oe(this,"reconnectionCount",0),oe(this,"clientAbility"),oe(this,"_serverAbility",null),oe(this,"addDownlinkQueue",new Set),oe(this,"removeDownlinkQueue",new Set),oe(this,"_parsedAnswer",null),oe(this,"_updateSDPPromise",null),oe(this,"_waitForPCConnectedPromise"),oe(this,"_waitForPCConnectedPromiseReject",null),oe(this,"_isSDPLogged",!1),oe(this,"abortMap",new Map),oe(this,"enableInsertableStreams",!1),this._room=s,this._enableCustomMessage=u,this._signalChannel=i,this._log=Gt.createLogger({id:"spc".concat(jre++),userId:this._room.userId,sdkAppId:this._room.sdkAppId}),this._room.enableSEI&&Ru&&(this.enableInsertableStreams=!0)}get isH264EncodeSupported(){let n=this._room.checkSystemResult.detail.isH264EncodeSupported;return this._serverAbility&&(n=n&&!!this._serverAbility.video.codecs.find(i=>i.codec.toLowerCase()==="h264")),n}addAbortController(n,i){var s;(s=this.abortMap.get(n))==null||s.abort("destory"),this.abortMap.set(n,i)}get isVP8EncodeSupported(){let n=this._room.checkSystemResult.detail.isVp8EncodeSupported;return this._serverAbility&&(n=n&&this._serverAbility.useVp8),n}get videoCodec(){var n;return(n=this._serverAbility)!=null&&n.useVp8?"vp8":"h264"}get downlinkVideoCodec(){var n;return(n=this._serverAbility)!=null&&n.video.codecs.find(i=>i.codec.toLowerCase()==="h264")?"h264":"vp8"}get isUsingH264(){return this.videoCodec==="h264"}get uplinkSSRC(){return this._peerConnection&&this._peerConnection.localDescription?(n=>{let i=po(n),s={audioSsrc:0,audioRtxSsrc:0,bigVideoSsrc:0,bigVideoRtxSsrc:0,smallVideoSsrc:0,smallVideoRtxSsrc:0,auxVideoSsrc:0,auxVideoRtxSsrc:0};return i.media.forEach((u,p)=>{var y;if(u.ssrcs&&!_t(u.ssrcs[0].id)){let E=Number(u.ssrcs[0].id),A=Number((y=u.ssrcs.filter(w=>w.attribute==="cname")[1])==null?void 0:y.id);switch(p){case 0:s.audioSsrc=E;break;case 1:s.bigVideoSsrc=E,s.bigVideoRtxSsrc=A;break;case 2:s.smallVideoSsrc=E,s.smallVideoRtxSsrc=A;break;case 3:s.auxVideoSsrc=E,s.auxVideoRtxSsrc=A}}}),s})(this._peerConnection.localDescription.sdp):{audioSsrc:0,audioRtxSsrc:0,bigVideoSsrc:0,bigVideoRtxSsrc:0,smallVideoSsrc:0,smallVideoRtxSsrc:0,auxVideoSsrc:0,auxVideoRtxSsrc:0}}get isReconnecting(){return this.currentState==="RECONNECTING"||this._reconnectionTimer>0||this.reconnectionCount>0}get dtlsTransport(){if(!this._peerConnection)return null;let n=this._peerConnection.getSenders();return n.length===0?null:n[0].transport}initialize(){return Ke(this,null,function*(){var n;let i;try{this._peerConnection=new RTCPeerConnection({encodedInsertableStreams:this.enableInsertableStreams,offerExtmapAllowMixed:!0,iceServers:this._room.getIceServers(),iceTransportPolicy:this._room.getIceTransportPolicy(),sdpSemantics:this._room.sdpSemantics,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",tcpCandidatePolicy:"disable",IceTransportsType:"nohost"}),this._peerConnection.oniceconnectionstatechange=()=>{if(!this._peerConnection)return;let u=this._peerConnection.iceConnectionState;this._log.debug("ice state: ".concat(u)),u==="checking"&&this.stat.iceStartTime===0?this.stat.iceStartTime=Date.now():u==="connected"&&this.stat.iceEndTime===0&&(this.stat.iceEndTime=Date.now())},this._peerConnection.onconnectionstatechange=this.onConnectionStateChange.bind(this),this._peerConnection.ontrack=u=>this.emit("track",u),this._enableCustomMessage&&(this._datachannel=this._peerConnection.createDataChannel("".concat(this._room.userId,"dc")),this._datachannel.binaryType="arraybuffer",this._datachannel.onopen=()=>{this._log.info("datachannel open")},this._datachannel.onclose=()=>{this._log.warn("datachannel close")},this._datachannel.onmessage=u=>{let p=new zre(u.data);this.emit("data_channel_msg",{data:p})},this._datachannel.onerror=u=>{this._log.warn("datachannel error",u)}),this._peerConnection.addTransceiver(Ce.AUDIO,{direction:Ce.TRANSCEIVER_DIRECTION_SENDONLY}),this._peerConnection.addTransceiver(Ce.VIDEO,{direction:Ce.TRANSCEIVER_DIRECTION_SENDONLY}),this._peerConnection.addTransceiver(Ce.VIDEO,{direction:Ce.TRANSCEIVER_DIRECTION_SENDONLY}),this._peerConnection.addTransceiver(Ce.VIDEO,{direction:Ce.TRANSCEIVER_DIRECTION_SENDONLY}),i=yield this._peerConnection.createOffer();let s=!this.isH264EncodeSupported;return _t((n=this._room.scheduleResult.config)==null?void 0:n.remove264FromSDP)||(s=s&&this._room.scheduleResult.config.remove264FromSDP),this.clientAbility=yield $re(i.sdp,s),yield this.setOffer(i),this.dtlsTransport&&(this.dtlsTransport.onstatechange=()=>{let{dtlsTransport:u}=this;!u||(this._log.debug("dtls state: ".concat(u.state)),u.state==="connecting"&&this.stat.dtlsStartTime===0?this.stat.dtlsStartTime=Date.now():u.state==="connected"&&this.stat.dtlsEndTime===0&&(this.stat.dtlsEndTime=Date.now()))}),bn.addSuccessEvent({key:521707}),this.clientAbility}catch(s){throw bn.addFailedEvent({key:521707,error:s}),this._log.error("initialize failed ".concat(s,` 
offer: `).concat(i==null?void 0:i.sdp)),s}})}connect(n){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Ke(this,null,function*(){try{if(this.currentState==="CONNECTED")return;let s=zn(),u={type:"answer",sdp:Ure({serverAbility:n,clientAbility:this.clientAbility,offerSDP:this._peerConnection.localDescription.sdp,enableCustomMessage:this._enableCustomMessage})};this._serverAbility=n,yield this.setAnswer(u),yield this.waitForPeerConnectionConnected(),i||bn.addSuccessEvent({key:521703,cost:zn()-s})}catch(s){let u=s instanceof on&&s.code===Ht.API_CALL_ABORTED;throw u||this._log.error("connect failed: ".concat(s),n),this.reset(),!u&&!this.isReconnecting&&(bn.addFailedEvent({key:521703,error:s}),this.emitConnectionStateChangedEvent("DISCONNECTED"),this.startReconnection()),s}})}reconnect(){return Ke(this,null,function*(){if(this._reconnectionTimer===-1){if(!this._signalChannel.isConnected)return this._log.warn("reconnect() wait signal channel is connected"),void this._signalChannel.once($f,this.reconnect,this);try{this.reconnectionCount++,this._log.warn("reconnect() trying [".concat(this.reconnectionCount,"]")),this.reset();let n=yield this.initialize(),i=yield this._signalChannel.sendWaitForResponse({command:mre,responseCommand:Xn.REBUILD_PEER_CONNECTION_RES,data:{ability:n},enableLog:!1});if(i.data.code!==0)throw new on({code:i.data.code,message:i.data.message});yield this.connect(i.data.data.ability,!0),bn.addSuccessEvent({key:521704}),this._log.warn("reconnect() success"),this.stopReconnection(),Pt.emit(bt.SPC_RECONNECTED,{room:this._room}),this.emit("spc-reconnected")}catch(n){if(!this.isReconnecting)return;if(n!=null&&n.message.includes("timeout")){let i=If(this.reconnectionCount);this._log.warn("reconnect() timeout, try again after ".concat(i/1e3,"s")),this._reconnectionTimer=window.setTimeout(()=>{this.clearReconnectionTimer(),this.reconnect()},i)}else this._log.error("reconnect() failed ".concat(n==null?void 0:n.code," ").concat(n)),bn.addFailedEvent({key:521704,error:n}),this.reconnectionCount>=bf()&&this._log.warn("SDK has tried reconnect for ".concat(bf()," times, but all failed, please check your network")),this.stopReconnection(),this.emitConnectionStateChangedEvent("DISCONNECTED"),this.emit("error")}}else this._log.warn("reconnect() is reconnecting, ignore current reconnection")})}getPeerConnection(){return this._peerConnection}startReconnection(){return Ke(this,null,function*(){this._log.warn("start reconnect"),this._updateSDPPromise=null,this.emitConnectionStateChangedEvent("RECONNECTING"),yield this.reconnect()})}stopReconnection(){this.isReconnecting&&(this._log.info("stop reconnect"),this.reconnectionCount=0,this.clearReconnectionTimer(),this._signalChannel.off($f,this.reconnect,this))}checkPeerConnectionToReconnect(){var n;!this.isReconnecting&&((n=this._peerConnection)==null?void 0:n.connectionState)===io.CLOSED&&this.startReconnection()}clearReconnectionTimer(){this._reconnectionTimer!==-1&&(clearTimeout(this._reconnectionTimer),this._reconnectionTimer=-1)}onConnectionStateChange(n){let i=this._peerConnection.iceConnectionState,s=this.getDTLSTransportState();this._log.info("connectionState: ".concat(n.target.connectionState," ICE: ").concat(i," DTLS: ").concat(s)),n.target.connectionState===io.CONNECTING&&(this.stat.peerConnectionStartTime===0&&(this.stat.peerConnectionStartTime=Date.now()),this.emitConnectionStateChangedEvent("CONNECTING")),(n.target.connectionState===io.FAILED||n.target.connectionState===io.CLOSED)&&(this.emitConnectionStateChangedEvent("DISCONNECTED"),this.startReconnection()),(n.target.connectionState===io.CONNECTED||n.target.connectionState===io.COMPLETED)&&(this.stat.peerConnectionEndTime===0&&(this.stat.peerConnectionEndTime=Date.now()),Pt.emit(bt.SINGLE_CONNECTION_STAT,{room:this._room,stat:{ice:this.stat.iceEndTime-this.stat.iceStartTime,dtls:this.stat.dtlsEndTime-this.stat.dtlsStartTime,peerConnection:this.stat.peerConnectionEndTime-this.stat.peerConnectionStartTime}}),this.logSelectedCandidate(),this.emitConnectionStateChangedEvent("CONNECTED"))}getDTLSTransportState(){if(!this._peerConnection)return Hl;let n=null;return Sm()&&this._peerConnection.getSenders().length!==0?(n=this._peerConnection.getSenders()[0].transport,b_()&&this._peerConnection.getReceivers().length!==0&&n?n.state:Hl):Hl}emitConnectionStateChangedEvent(n){n!==this.currentState&&(this.currentState==="RECONNECTING"&&n==="CONNECTING"||(this.emit($u.CONNECTION_STATE_CHANGED,{prevState:this.currentState,state:n}),this.currentState=n))}logSelectedCandidate(){return Ke(this,null,function*(){if(!this._peerConnection)return;let n=yield this._peerConnection.getStats();for(let[i,s]of n)if(bm(s)){let u=n.get(s.localCandidateId),p=n.get(s.remoteCandidateId);u&&(this._log.info("local candidate: ".concat(u.candidateType," ").concat(u.protocol,":").concat(u.ip||u.address,":").concat(u.port," ").concat(u.networkType||""," ").concat(u.candidateType==="relay"?"relayProtocol:".concat(u.relayProtocol):"")),u.networkType&&nx(u.networkType)),p&&this._log.info("remote candidate: ".concat(p.candidateType," ").concat(p.protocol,":").concat(p.ip||p.address,":").concat(p.port));break}})}waitForPeerConnectionConnected(){return this._waitForPCConnectedPromise||(this._waitForPCConnectedPromise=new Promise((n,i)=>{if(this.currentState==="CONNECTED")return n();this._waitForPCConnectedPromiseReject=i;let s=E=>{E.state==="CONNECTED"&&(clearTimeout(y),p(),n())},u=E=>{let{room:A}=E;A===this._room&&(clearTimeout(y),p(),i(new on({code:Ht.API_CALL_ABORTED,message:jn({key:Bn.CONNECTION_ABORTED,data:"leave room"})})))},p=()=>{Pt.off(bt.LEAVE_SUCCESS,u,this),this.off($u.CONNECTION_STATE_CHANGED,s,this)},y=setTimeout(()=>{p();let E=new on({code:Ht.API_CALL_TIMEOUT,message:"connection timeout"});var A;jV+=1,A=this._signalChannel.isConnected,jV>2&&!WV&&Hre.size===0&&A&&(this._log.warn("firewall restriction"),WV=!0,this.emit($u.FIREWALL_RESTRICTION)),i(E)},mC);Pt.on(bt.LEAVE_SUCCESS,u,this),this.on($u.CONNECTION_STATE_CHANGED,s,this)}),this._waitForPCConnectedPromise=this._waitForPCConnectedPromise.finally(()=>{this._waitForPCConnectedPromise=null,this._waitForPCConnectedPromiseReject=null})),this._waitForPCConnectedPromise}waitForReconnected(){return this.isReconnecting?new Promise((n,i)=>{this.once("spc-reconnected",n),this.once("error",i)}):Promise.resolve()}addDownlink(n){return Ke(this,null,function*(){if(this._log.info("addDownlink(".concat(n.userId,") trying")),this.isReconnecting&&(yield this.waitForReconnected()),this._updateSDPPromise&&(yield this._updateSDPPromise),this.updateLocalAndRemoteSDPConfig(n),this.addDownlinkQueue.size===0)try{yield this.updateSDP(),this._log.info("addDownlink(".concat(n.userId,") done"))}catch(i){this._log.error("addDownlink(".concat(n.userId,") failed ").concat(i)),yield this.startReconnection()}})}updateLocalAndRemoteSDPConfig(n){let{ssrc:i,userId:s,tinyId:u}=n;if(!this._peerConnection)return;this._log.info("updateLocalAndRemoteSDPConfig ".concat(s," ").concat(JSON.stringify(i)));let p=this._peerConnection.getTransceivers().filter(z=>z.direction==="inactive").slice(0,3).map(z=>(z.direction=Ce.TRANSCEIVER_DIRECTION_RECVONLY,Number(z.mid)));this._parsedAnswer||(this._parsedAnswer=po(this._peerConnection.remoteDescription.sdp));let y,E,A,w=this._parsedAnswer.media.filter(z=>{var ue;return(ue=z.ssrcs)==null?void 0:ue.find(ve=>{var Oe;return(Oe=ve.value)==null?void 0:Oe.includes(u)})});if(w.length===3)y=w[0],E=w[1],A=w[2];else if(p.length===3)y=this._parsedAnswer.media.find(z=>Number(z.mid)===Number(p[0])),E=this._parsedAnswer.media.find(z=>Number(z.mid)===Number(p[1])),A=this._parsedAnswer.media.find(z=>Number(z.mid)===Number(p[2]));else if(p.length===0){this._peerConnection.addTransceiver(Ce.AUDIO,{direction:Ce.TRANSCEIVER_DIRECTION_RECVONLY}),this._peerConnection.addTransceiver(Ce.VIDEO,{direction:Ce.TRANSCEIVER_DIRECTION_RECVONLY}),this._peerConnection.addTransceiver(Ce.VIDEO,{direction:Ce.TRANSCEIVER_DIRECTION_RECVONLY}),y=JSON.parse(JSON.stringify(this._parsedAnswer.media[0]));let z=HV({mid:1,serverAbility:this._serverAbility,clientAbility:this.clientAbility,parsedOffer:po(this._peerConnection.localDescription.sdp),isDownlink:!0});E=JSON.parse(JSON.stringify(z)),A=JSON.parse(JSON.stringify(z)),y.mid=this._parsedAnswer.media.length,this._parsedAnswer.media.push(y),E.mid=this._parsedAnswer.media.length,this._parsedAnswer.media.push(E),A.mid=this._parsedAnswer.media.length,this._parsedAnswer.media.push(A)}y.direction=Ce.TRANSCEIVER_DIRECTION_SENDONLY;let V="".concat(u,"-").concat(i.audio);y.ssrcs=[{id:i.audio,attribute:"cname",value:"".concat(V)},{id:i.audio,attribute:"msid",value:"".concat(V,"-").concat(Ce.MAIN," ").concat(V,"-audio")}],E.direction=Ce.TRANSCEIVER_DIRECTION_SENDONLY,E.ssrcs=[{id:i.video,attribute:"cname",value:"".concat(V)},{id:i.video,attribute:"msid",value:"".concat(V,"-").concat(Ce.MAIN," ").concat(V,"-bigvideo")},{id:i.videoRtx,attribute:"cname",value:"".concat(V)},{id:i.videoRtx,attribute:"msid",value:"".concat(V,"-").concat(Ce.MAIN," ").concat(V,"-bigvideo")}],E.ssrcGroups=[{semantics:"FID",ssrcs:"".concat(i.video," ").concat(i.videoRtx)}],A.direction=Ce.TRANSCEIVER_DIRECTION_SENDONLY;let K="".concat(V,"-aux");A.ssrcs=[{id:i.auxiliary,attribute:"cname",value:K},{id:i.auxiliary,attribute:"msid",value:"".concat(K," ").concat(V,"-aux").concat(Ce.VIDEO)},{id:i.auxiliaryRtx,attribute:"cname",value:"".concat(K," ").concat(V,"-aux").concat(Ce.VIDEO)},{id:i.auxiliaryRtx,attribute:"msid",value:"".concat(K," ").concat(V,"-aux").concat(Ce.VIDEO)}],A.ssrcGroups=[{semantics:"FID",ssrcs:"".concat(i.auxiliary," ").concat(i.auxiliaryRtx)}],this._parsedAnswer.groups&&(this._parsedAnswer.groups[0].mids=this._parsedAnswer.media.map(z=>z.mid).join(" ")),this._downlinkMIDMap.set(s,[y.mid,E.mid,A.mid]),this._downlinkMIDUserIDMap.set(y.mid,s),this._downlinkMIDUserIDMap.set(E.mid,s),this._downlinkMIDUserIDMap.set(A.mid,s)}removeDownlink(n){return Ke(this,null,function*(){if(!this._downlinkMIDMap.has(n)||!this._peerConnection)return;this._log.info("removeDownlink(".concat(n,") trying")),this.isReconnecting&&(yield this.waitForReconnected()),this._updateSDPPromise&&(yield this._updateSDPPromise);let i=this._downlinkMIDMap.get(n),s=!1;this._peerConnection.getTransceivers().forEach(u=>{i!=null&&i.includes(Number(u.mid))&&(s=!0,u.direction="inactive")}),this._parsedAnswer||(this._parsedAnswer=po(this._peerConnection.remoteDescription.sdp)),this._parsedAnswer.media.forEach(u=>{i!=null&&i.includes(Number(u.mid))&&(s=!0,u.direction="inactive",u.ssrcs=[],u.ssrcGroups=[])}),this.removeDownlinkQueue.size===0&&s&&(yield this.updateSDP()),this._downlinkMIDMap.delete(n),i==null||i.forEach(u=>this._downlinkMIDUserIDMap.delete(u)),this._log.info("removeDownlink(".concat(n,") done"))})}setBandwidth(n){return Ke(this,null,function*(){if(!this._peerConnection)return;let{audio:i,bigVideo:s,smallVideo:u,auxVideo:p}=n;try{if(nw()){let y=this._peerConnection.getSenders().slice(0,4);for(let A=0;A<y.length;A++){let w,V=y[A];A===0&&i?w=i:A===1&&s?w=s:A===2&&u?w=u:A===3&&p&&(w=p),w&&(yield this.setSenderMaxBitrate(V,w))}let E=!1;s&&y[1].track&&(E=this.setStartBitrate(1,s)),p&&y[3].track&&(E=this.setStartBitrate(3,p)||E),E&&(yield this.updateSDP())}else yield this.setBandwidthBySDP(n);this._log.info("setBandwidth ".concat(JSON.stringify(n)))}catch(y){this._log.error("failed to set bandwidth: ".concat(y))}})}setStartBitrate(n,i){var s,u;return!((s=this._peerConnection)==null||!s.remoteDescription||(this._parsedAnswer||(this._parsedAnswer=po(this._peerConnection.remoteDescription.sdp)),(u=this._parsedAnswer.media[n])==null||!u.fmtp[0]))&&(this._parsedAnswer.media[n].fmtp[0].config+=";x-google-start-bitrate=".concat(i>5e3?5e3:i),!0)}setSenderMaxBitrate(n,i){let s=n.getParameters();return(!s.encodings||s.encodings.length===0)&&(s.encodings=[{}]),i==="unlimited"?delete s.encodings[0].maxBitrate:s.encodings[0].maxBitrate=1e3*i,n.setParameters(s)}setBandwidthBySDP(n){let{audio:i,bigVideo:s,smallVideo:u,auxVideo:p}=n;if(!this._peerConnection||!this._peerConnection.localDescription)return;let y=po(this._peerConnection.localDescription.sdp);this._parsedAnswer||(this._parsedAnswer=po(this._peerConnection.remoteDescription.sdp));let E=jr?"TIAS":"AS";i&&(y.media[0].bandwidth=[{type:E,limit:jr?1e3*i:i}],this._parsedAnswer.media[0].bandwidth=[{type:E,limit:jr?1e3*i:i}]),s&&(y.media[1].bandwidth=[{type:E,limit:jr?1e3*s:s}],this._parsedAnswer.media[1].bandwidth=[{type:E,limit:jr?1e3*s:s}]),u&&(y.media[2].bandwidth=[{type:E,limit:jr?1e3*u:u}],this._parsedAnswer.media[2].bandwidth=[{type:E,limit:jr?1e3*u:u}]),p&&(y.media[3].bandwidth=[{type:E,limit:jr?1e3*p:p}],this._parsedAnswer.media[3].bandwidth=[{type:E,limit:jr?1e3*p:p}]);let A={type:"offer",sdp:oc(y)};return this.updateSDP({localDescription:A})}setScaleResolutionDownBy(n,i){if(i===1)return;let s=n.getParameters();return(!s.encodings||s.encodings.length===0)&&(s.encodings=[{}]),s.encodings[0].scaleResolutionDownBy=i,n.setParameters(s)}updateSDP(){let{localDescription:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._parsedAnswer)return Promise.resolve();let i=oc(this._parsedAnswer);return this._updateSDPPromise=new Promise((s,u)=>Ke(this,null,function*(){var p,y;try{!n&&this._peerConnection&&(this._log.info("creating offer"),n=yield this._peerConnection.createOffer()),n&&(yield this.setOffer(n)),yield this.setAnswer({type:"answer",sdp:i}),this._updateSDPPromise=null,s()}catch(E){this._log.error(E),!this._isSDPLogged&&this._peerConnection&&(this._log.warn("current offer: ".concat(this.filterSDPDirection((p=this._peerConnection.localDescription)==null?void 0:p.sdp),` 
next offer: `).concat(this.filterSDPDirection(n==null?void 0:n.sdp))),this._log.warn("current answer: ".concat(this.filterSDPDirection((y=this._peerConnection.remoteDescription)==null?void 0:y.sdp),` 
next answer: `).concat(this.filterSDPDirection(i))),this._log.warn("offer: ".concat(n==null?void 0:n.sdp)),this._log.warn("answer: ".concat(i)),this._log.warn("transceivers: ".concat(JSON.stringify(this._peerConnection.getTransceivers().map(A=>{let{mid:w,currentDirection:V,direction:K,stopped:z}=A;return{mid:w,currentDirection:V,direction:K,stopped:z}})))),this._log.warn("parsedAnswer: ".concat(JSON.stringify(this._parsedAnswer))),this._isSDPLogged=!0),this._updateSDPPromise=null,u(E)}})),this._updateSDPPromise}filterSDPDirection(){return po(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").media.map(n=>n.direction)}setOffer(n){return this._log.info("setting offer"),this._log.debug(n.sdp),this._peerConnection.setLocalDescription({type:"offer",sdp:Bre(n.sdp,this.clientAbility,this._serverAbility)})}setAnswer(n){return this._log.info("setting answer"),this._log.debug(n.sdp),this._room.enableHWEncoder&&n.sdp&&(n.sdp=n.sdp.replaceAll("42e01f","42001f")),this._peerConnection.setRemoteDescription(n)}sendDataChannelMessage(n){var i;(i=this._datachannel)==null||i.send(n)}reset(){var n;(n=this._peerConnection)==null||n.close(),this._waitForPCConnectedPromise=null,this._parsedAnswer=null}close(){this._log.info("close pc"),this.abortMap.forEach(n=>typeof n.abort=="function"&&n.abort("destroy")),this.abortMap.clear(),this.reset(),this.emitConnectionStateChangedEvent("DISCONNECTED"),this._downlinkMIDMap.clear(),this.stopReconnection(),this.removeAllListeners()}getReceiversByUserId(n){if(!this._peerConnection)return[];let i=this._peerConnection.getReceivers();return(this._downlinkMIDMap.get(n)||[]).map(s=>i[s])}};Yt([Yx("reconnect")],Hm.prototype,"startReconnection",1),Yt([Df(n=>n.userId)],Hm.prototype,"addDownlink",1),Yt([Df(n=>n)],Hm.prototype,"removeDownlink",1),Yt([Pf(!0)],Hm.prototype,"updateSDP",1);var Wre=class{constructor(n){oe(this,"tag"),oe(this,"len"),oe(this,"data");let i=new DataView(n);this.tag=i.getUint16(),this.len=i.getUint16(2),this.data=new Uint8Array(n).slice(4,4+this.len).buffer}},zre=class{constructor(n){oe(this,"tinyId"),oe(this,"data");let i=new DataView(n),s=0,u=[];for(;s<i.byteLength;){let p=i.getUint16(s+2),y=new Wre(new Uint8Array(n).slice(s,s+2+2+p).buffer);u.push(y),s+=4+p}u.forEach(p=>{p.tag===1?this.tinyId=new TextDecoder().decode(p.data):p.tag===2&&(this.data=p.data)})}},zV=new Set;function Uf(){let n=Math.floor(4294967296*Math.random());return zV.has(n)?Uf():(zV.add(n),n)}var Kre=Ao(mi()),KV=class extends Kre.default{constructor(n){super(),oe(this,"userId"),oe(this,"tinyId"),oe(this,"_sdpSemantics"),oe(this,"_isUplink"),oe(this,"_room"),oe(this,"_log"),oe(this,"_signalChannel"),oe(this,"_currentState","DISCONNECTED"),oe(this,"_prevTime",-1),oe(this,"_enableSEI"),this.userId=n.userId,this.tinyId=n.tinyId,this._room=n.room,this._sdpSemantics=n.room.sdpSemantics,this._isUplink=n.isUplink,this._log=Gt.createLogger({id:"n",userId:this._room.userId,remoteUserId:this._isUplink?void 0:this.userId,sdkAppId:this._room.sdkAppId,isLocal:this._isUplink}),this._signalChannel=n.signalChannel,this._enableSEI=n.enableSEI}get _peerConnection(){var n;return((n=this.singlePC)==null?void 0:n.getPeerConnection())||null}get singlePC(){return this._room.singlePC}close(n){this._log.info("close connection"),this.emit("closed",n)}emitConnectionStateChangedEvent(n){return n!==this._currentState&&(Pt.emit(bt.PEER_CONNECTION_STATE_CHANGED,{room:this._room,prevState:this._currentState,state:n,remoteUserId:this._isUplink?void 0:this.userId}),this.emit("connection-state-changed",{prevState:this._currentState,state:n}),this._currentState=n,!0)}getPeerConnection(){return this._peerConnection}getRoom(){return this._room}getUserId(){return this.userId}getTinyId(){return this.tinyId}getCurrentState(){return this._currentState}get isH264(){var n,i;return!((i=(n=this._peerConnection)==null?void 0:n.remoteDescription)==null||!i.sdp.includes("H264"))}},Ww=class extends KV{constructor(n){super(Yn(hn({},n),{isUplink:!0})),oe(this,"localMainAudioTrack",null),oe(this,"localMainVideoTrack",null),oe(this,"localAuxAudioTrack",null),oe(this,"localAuxVideoTrack",null),oe(this,"_isPublishingAux",!1),oe(this,"_publishingLocalAudioTrack"),oe(this,"_publishingLocalVideoTrack"),oe(this,"_mediaSettings",{videoCodec:"",videoWidth:0,videoHeight:0,videoBps:0,videoFps:0,audioCodec:"opus",audioFs:0,audioChannel:0,audioBps:0,smallVideoWidth:0,smallVideoHeight:0,smallVideoFps:0,smallVideoBps:0,auxVideoWidth:0,auxVideoHeight:0,auxVideoFps:0,auxVideoBps:0}),oe(this,"_flag",0),oe(this,"_checkPublishStateTimeoutId",-1),this.initialize()}get videoCodec(){var n;return((n=this.singlePC)==null?void 0:n.videoCodec)||"h264"}get ssrc(){if(!this.singlePC)return{audio:0,video:0,videoRtx:0,small:0,smallRtx:0,auxiliary:0,auxiliaryRtx:0};let{audioSsrc:n,bigVideoSsrc:i,bigVideoRtxSsrc:s,smallVideoSsrc:u,smallVideoRtxSsrc:p,auxVideoSsrc:y,auxVideoRtxSsrc:E}=this.singlePC.uplinkSSRC;return{audio:n||0,video:i||0,videoRtx:s||0,small:u||0,smallRtx:p||0,auxiliary:y||0,auxiliaryRtx:E||0}}get flag(){return this._flag}set flag(n){this._flag!==n&&(this._flag=n,this.checkPublishState())}checkPublishState(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!n&&this._checkPublishStateTimeoutId>0)return;let{publishState:i,serverPublishState:s}=this,u=Object.keys(i).find(p=>i[p]!==s[p]);if(u){if(!n)return void(this._checkPublishStateTimeoutId=Zr.run(nm,()=>this.checkPublishState(!0),{delay:1e4,count:1}));this._log.warn("publish state not matched, ".concat(u," local:").concat(i[u]," server:").concat(s[u]," ").concat(BC()," ").concat(KM())),bn.addCount({key:521e3})}Zr.clearTask(this._checkPublishStateTimeoutId),this._checkPublishStateTimeoutId=-1}get isMainStreamPublished(){return!(!this.localMainAudioTrack&&!this.localMainVideoTrack)}get isAuxStreamPublished(){return!(!this.localAuxVideoTrack&&!this.localAuxAudioTrack)}get publishState(){var n,i,s,u;let p={audio:!1,bigVideo:!1,smallVideo:!1,auxVideo:!1};if(this._peerConnection){let y=this._peerConnection.getSenders();y&&(Yl()?(p.audio=!((n=y[0])==null||!n.track),p.bigVideo=!((i=y[1])==null||!i.track),p.smallVideo=!((s=y[2])==null||!s.track),p.auxVideo=!((u=y[3])==null||!u.track)):y.forEach(E=>{E.track&&(E.track.kind===Ce.AUDIO?p.audio=!0:(p.bigVideo=!0,this._room.videoManager.hasSmall&&(p.smallVideo=!0)))}))}return p}get serverPublishState(){return{audio:!!(this.flag&Jp),bigVideo:!!(this.flag&Yp),smallVideo:!!(this.flag&dC),auxVideo:!!(this.flag&qy)}}get muteState(){var n,i,s;return{audio:!((n=this.localMainAudioTrack)==null||!n.muted),bigVideo:!((i=this.localMainVideoTrack)==null||!i.muted),auxVideo:!((s=this.localAuxVideoTrack)==null||!s.muted)}}initialize(){this.installEvents()}reset(){this.uninstallEvents(),this.uninstallTrackMuteEvents(this.localMainAudioTrack,this.localMainVideoTrack,this.localAuxVideoTrack)}close(n){var i;let s=((i=this._peerConnection)==null?void 0:i.getSenders())||[];for(let u of s)u.replaceTrack(null);super.close(n),this.reset(),this.emitConnectionStateChangedEvent("DISCONNECTED")}installEvents(){var n,i;this.listeners("connection-state-changed").includes(this.handleConnectionStateChange)||this.on("connection-state-changed",this.handleConnectionStateChange,this),(n=this.singlePC)!=null&&n.listeners("spc-reconnected").includes(this.onSinglePCReconnected)||(i=this.singlePC)==null||i.on("spc-reconnected",this.onSinglePCReconnected,this)}uninstallEvents(){var n;this.off("connection-state-changed",this.handleConnectionStateChange,this),(n=this.singlePC)==null||n.off("spc-reconnected",this.onSinglePCReconnected,this)}emitConnectionStateChangedEvent(n,i){var s,u,p;let y=this._currentState,E=super.emitConnectionStateChangedEvent(n);return E&&y!==n&&(i?i.emit("connection-state-changed",{prevState:y,state:n}):((s=this.localMainVideoTrack)==null||s.emit("connection-state-changed",{prevState:y,state:n}),(u=this.localAuxVideoTrack)==null||u.emit("connection-state-changed",{prevState:y,state:n}),(p=this._publishingLocalVideoTrack)==null||p.emit("connection-state-changed",{prevState:y,state:n}))),E}publish(n){return Ke(this,arguments,function(i){var s=this;let{localAudioTrack:u,localVideoTrack:p,isAuxiliary:y}=i;return function*(){var E,A,w,V,K,z;if(!s.singlePC)return;yield s.singlePC.waitForPeerConnectionConnected();let ue,{publishState:ve,muteState:Oe}=s;if(u&&(s._publishingLocalAudioTrack=u,ve.audio=!0,Oe.audio=u.muted),p){if(!s.singlePC.isH264EncodeSupported&&!s.singlePC.isVP8EncodeSupported)throw new on({code:Ht.NOT_SUPPORTED_H264,message:jn({key:Bn.NOT_SUPPORTED_H264ENCODE})});vi&&dm()===115&&p.profile.width*p.profile.height<=230400&&(s._log.warn("fallback video to 480p"),p.setProfile(is["480p_2"]),yield p.applyProfile()),s._publishingLocalVideoTrack=p,y?(ve.auxVideo=!0,Oe.auxVideo=p.muted):(ve.bigVideo=!0,Oe.bigVideo=p.muted)}if(s._isPublishingAux=y,p&&!y&&p.small&&(ue=s._room.videoManager.smallTrack,ve.smallVideo=!0),yield s._signalChannel.sendWaitForResponseWithRetry({command:gre,responseCommand:Xn.SPC_PUBLISH_RESULT,data:Yn(hn({},s.singlePC.uplinkSSRC),{state:ve,muteState:Oe}),retries:3}),yield s.publishByTransceiver({localAudioTrack:u,localVideoTrack:p,smallTrack:ue,isAuxiliary:y}),s._publishingLocalAudioTrack=null,s._publishingLocalVideoTrack=null,s._isPublishingAux=!1,y)p&&(s.localAuxVideoTrack=p),u&&(s.localAuxAudioTrack=u);else{if(p){s.localMainVideoTrack=p;let{scaleResolutionDownBy:Qe}=p;Qe>1&&(s._log.warn("setScaleResolutionDownBy main ".concat(Qe)),yield s.singlePC.setScaleResolutionDownBy(s._peerConnection.getSenders()[1],Qe))}u&&(s.localMainAudioTrack=u)}yield s.singlePC.setBandwidth({audio:((E=s.localMainAudioTrack)==null?void 0:E.profile.bitrate)||((A=s.localAuxAudioTrack)==null?void 0:A.profile.bitrate),bigVideo:(w=s.localMainVideoTrack)==null?void 0:w.profile.bitrate,smallVideo:(K=(V=s.localMainVideoTrack)==null?void 0:V.small)==null?void 0:K.bitrate,auxVideo:(z=s.localAuxVideoTrack)==null?void 0:z.profile.bitrate}),s.sendMediaSettings(),s.installTrackMuteEvents(u,p)}()})}publishByTransceiver(n){let{localAudioTrack:i,localVideoTrack:s,smallTrack:u,isAuxiliary:p}=n;if(!qs())return;this._log.info("publish by transceiver");let y=s==null?void 0:s.outMediaTrack,E=i==null?void 0:i.outMediaTrack,A=this._peerConnection.getTransceivers(),w=[],V=[],K=(ue,ve,Oe)=>{var Qe;let gt=A[ve].sender.replaceTrack(Oe);V.push(ve),(Qe=this.singlePC)!=null&&Qe.enableInsertableStreams&&gt.then(()=>this.createEncodedStreams(A[ve].sender,ue)),w.push(gt)};E&&K(i.mediaType,0,E),y&&K(s.mediaType,p?3:1,y),u&&K(8,2,u);let z=this.setTransceiverDirection(tr.SENDONLY,V);return w.push(z),Promise.all(w)}getTrackByMeidaType(n){switch(n){case 1:return this.localMainAudioTrack||this._publishingLocalAudioTrack;case 4:case 8:return this.localMainVideoTrack||this._publishingLocalVideoTrack;case 2:return this.localAuxVideoTrack||this._publishingLocalVideoTrack;default:throw new Error("mediaType error")}}createEncodedStreams(n,i){var s,u;if(this.singlePC.abortMap.has(n))return;let p=n.createEncodedStreams(),y=new AbortController;(s=this.singlePC)==null||s.addAbortController(n,y),((u=this.getTrackByMeidaType(i))!=null&&u.enableEncodeFrame?p.readable.pipeThrough(new TransformStream({transform:(E,A)=>{var w;return A.enqueue((w=this.singlePC)!=null&&w.isUsingH264?this.getTrackByMeidaType(i).encodeFrame(E,i===8):E)}}),y):p.readable).pipeTo(p.writable,y).catch(E=>{this._log.debug("encoded stream error",E),E!=="destory"&&this._log.warn(E)})}enableSmall(n){return Ke(this,null,function*(){if(!this.singlePC)return;let i=this._peerConnection.getTransceivers();n?this._room.videoManager.smallTrack&&(yield i[2].sender.replaceTrack(this._room.videoManager.smallTrack),yield this.setTransceiverDirection(tr.SENDONLY,[2])):(yield i[2].sender.replaceTrack(null),yield this.setTransceiverDirection(tr.INACTIVE,[2])),this.updateMediaSettings(),yield this.doPublishChange()})}installTrackMuteEvents(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i.forEach(u=>{u&&(u==null||u.on("mute",this.sendMutedFlag,this),u==null||u.on("unmute",this.sendMutedFlag,this))})}uninstallTrackMuteEvents(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i.forEach(u=>{u&&(u==null||u.off("mute",this.sendMutedFlag,this),u==null||u.off("unmute",this.sendMutedFlag,this))})}unpublish(n){return Ke(this,arguments,function(i){var s=this;let{localAudioTrack:u,localVideoTrack:p}=i;return function*(){let y=p&&p===s.localAuxVideoTrack,E=p==null?void 0:p.outMediaTrack,A=s._peerConnection.getSenders(),w=[];u&&(yield A[0].replaceTrack(null),w.push(0),y?s.localAuxAudioTrack=null:s.localMainAudioTrack=null),E&&(y?(yield A[3].replaceTrack(null),s.localAuxVideoTrack=null,s._mediaSettings=Yn(hn({},s._mediaSettings),{auxVideoBps:0,auxVideoFps:0,auxVideoWidth:0,auxVideoHeight:0}),w.push(3)):(yield A[1].replaceTrack(null),yield A[2].replaceTrack(null),s.localMainVideoTrack=null,s._mediaSettings=Yn(hn({},s._mediaSettings),{videoWidth:0,videoHeight:0,videoBps:0,videoFps:0,audioFs:0,audioChannel:0,audioBps:0,smallVideoWidth:0,smallVideoHeight:0,smallVideoFps:0,smallVideoBps:0}),w.push(1,2))),s.isMainStreamPublished||s.isAuxStreamPublished?(yield s.setTransceiverDirection(tr.INACTIVE,w),yield s.doPublishChange(!1)):yield s.doUnpublish(),s.uninstallTrackMuteEvents(u,p),p==null||p.emit("connection-state-changed",{prevState:s._currentState,state:"DISCONNECTED"})}()})}doPublishChange(){let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ke(this,null,function*(){let i={state:this.publishState,constraintConfig:this._mediaSettings},s=yield this._signalChannel.sendWaitForResponseWithRetry({command:kV,data:i,responseCommand:Xn.PUBLISH_STATE_CHANGE_RESULT,enableLog:n,retries:3});this.checkPublishResultCode(s.data.code,s.data.message)})}doUnpublish(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this._signalChannel.sendWaitForResponse({command:Mw,commandDesc:"unpublish",responseCommand:Xn.UNPUBLISH_RESULT,enableLog:n}).catch(i=>{if(i.getCode()===Ht.API_CALL_TIMEOUT)return Promise.resolve();throw i})}updateMediaSettings(){let{detail:{isH264EncodeSupported:n,isVp8EncodeSupported:i}}=this._room.checkSystemResult;n?this._mediaSettings.videoCodec="H264":i&&(this._mediaSettings.videoCodec="VP8");let s=this._publishingLocalAudioTrack||this.localMainAudioTrack||this.localAuxAudioTrack,{localMainVideoTrack:u,localAuxVideoTrack:p}=this;if(this._publishingLocalVideoTrack&&(this._isPublishingAux?p=this._publishingLocalVideoTrack:u=this._publishingLocalVideoTrack),kf){if(s&&s.outMediaTrack){let y=s.outMediaTrack.getSettings();this._mediaSettings.audioChannel=y.channelCount||1,this._mediaSettings.audioBps=1e3*s.profile.bitrate,this._mediaSettings.audioFs=y.sampleRate||0}if(u&&u.outMediaTrack){let y=u.outMediaTrack.getSettings();this._mediaSettings.videoWidth=y.width||0,this._mediaSettings.videoHeight=y.height||0,this._mediaSettings.videoFps=y.frameRate||0,this._mediaSettings.videoBps=1e3*u.profile.bitrate,u.small&&(this._mediaSettings.smallVideoWidth=u.small.width,this._mediaSettings.smallVideoHeight=u.small.height,this._mediaSettings.smallVideoFps=u.small.frameRate,this._mediaSettings.smallVideoBps=1e3*u.small.bitrate)}if(p&&p.outMediaTrack){let y=p.outMediaTrack.getSettings();this._mediaSettings.auxVideoWidth=y.width||0,this._mediaSettings.auxVideoHeight=y.height||0,this._mediaSettings.auxVideoFps=y.frameRate||0,this._mediaSettings.auxVideoBps=1e3*p.profile.bitrate}}else s&&s.outMediaTrack&&(this._mediaSettings.audioChannel=s.profile.channelCount,this._mediaSettings.audioBps=1e3*s.profile.bitrate,this._mediaSettings.audioFs=s.profile.sampleRate),u&&u.outMediaTrack&&(this._mediaSettings.videoWidth=u.profile.width,this._mediaSettings.videoHeight=u.profile.height,this._mediaSettings.videoFps=u.profile.frameRate,this._mediaSettings.videoBps=1e3*u.profile.bitrate);this._log.info("updateMediaSettings: ".concat(JSON.stringify(this._mediaSettings)))}sendMediaSettings(){this.updateMediaSettings(),this._signalChannel.sendWaitForResponse({command:OV,data:this._mediaSettings,responseCommand:Xn.UPDATE_CONSTRAINT_CONFIG_RES}).then(n=>{n.data.code!==0&&this._log.warn(n.data.message)}).catch(()=>{})}addTrack(n){return Ke(this,null,function*(){if(!this._peerConnection)return;let i=n===this.localAuxAudioTrack||n===this.localAuxVideoTrack;this._log.info("is adding ".concat(n.kind," track to current published local ").concat(i?Ce.AUXILIARY:Ce.MAIN," stream")),Yl()&&(yield this.addTrackByTransceiver(n,i))})}addTrackByTransceiver(n,i){return Ke(this,null,function*(){var s;if(!n.mediaTrack)return;let u=this._peerConnection.getTransceivers();if(n.kind===Ce.AUDIO)yield u[0].sender.replaceTrack(n.outMediaTrack);else{let p=i?3:1;yield u[p].sender.replaceTrack(n.outMediaTrack),p===1&&((s=this.localMainVideoTrack)==null?void 0:s.small)&&(yield u[2].sender.replaceTrack(this._room.videoManager.smallTrack)),u[p].direction===tr.INACTIVE&&(yield this.setTransceiverDirection(tr.SENDONLY,[p]))}this.updateMediaSettings(),yield this.doPublishChange()})}removeTrack(n){return Ke(this,null,function*(){if(!this._peerConnection)return;let i=n===this.localAuxAudioTrack||n===this.localAuxVideoTrack;this._log.info("is removing ".concat(n.kind," track from current published local ").concat(i?Ce.AUXILIARY:Ce.MAIN," stream")),Yl()&&(yield this.removeTrackByTransceiver(n,i))})}removeTrackByTransceiver(n,i){return Ke(this,null,function*(){if(!n.mediaTrack)return;let s=this._peerConnection.getTransceivers();if(n.kind===Ce.AUDIO)yield s[0].sender.replaceTrack(null);else{let u=i?3:1;yield s[u].sender.replaceTrack(null),u===1&&this._room.videoManager.hasSmall&&(yield s[2].sender.replaceTrack(null)),yield this.setTransceiverDirection(tr.INACTIVE,[u])}this.updateMediaSettings(),yield this.doPublishChange()})}setTransceiverDirection(n,i){return Ke(this,null,function*(){if(!jr)return;let s=!1,u=!1;this._log.info("setting transceiver ".concat(i.join(",")," direction to ").concat(n));let p=this._peerConnection.getTransceivers();if(i.forEach(A=>{p[A].direction!==n&&(p[A].direction=n,s=!0)}),s){this._log.info("updating offer");let A=yield this._peerConnection.createOffer();yield this._peerConnection.setLocalDescription(A)}let y=-1,E=this._peerConnection.remoteDescription.sdp.split(`\r
`).map(A=>{if(A.match(new RegExp("a=(".concat(tr.INACTIVE,"|").concat(tr.RECVONLY,"|").concat(tr.SENDONLY,")")))&&y++,i.includes(y)){if(n===tr.INACTIVE&&A.includes("a=".concat(tr.RECVONLY)))return u=!0,"a=".concat(n);if(n===tr.SENDONLY&&A.includes("a=".concat(tr.INACTIVE)))return u=!0,"a=".concat(tr.RECVONLY)}return A}).join(`\r
`);u&&(this._log.info("updating answer"),yield this._peerConnection.setRemoteDescription({type:"answer",sdp:E}))})}replaceTrack(n){return Ke(this,null,function*(){var i;let s=(i=this._peerConnection)==null?void 0:i.getSenders(),u=n.outMediaTrack||n.mediaTrack;if(!s||s.length===0||!u||s.find(y=>y.track===u))return!1;let p=n===this.localAuxAudioTrack||n===this.localAuxVideoTrack;return this._log.info("is replacing ".concat(u.kind," track ").concat(u.id," on ").concat(p?Ce.AUXILIARY:Ce.MAIN," stream")),u.kind===Ce.AUDIO&&s[0]&&(yield s[0].replaceTrack(u)),u.kind===Ce.VIDEO&&(!p&&s[1]&&(yield s[1].replaceTrack(u)),p&&s[3]&&(yield s[3].replaceTrack(u))),!0})}setBandwidth(n){return Ke(this,arguments,function(i){var s=this;let{bandwidth:u,type:p,videoType:y}=i;return function*(){if(s.singlePC){let E={};p===Ce.AUDIO?E.audio=u:y==="big"?E.bigVideo=u:y==="small"?E.smallVideo=u:E.auxVideo=u,yield s.singlePC.setBandwidth(E)}}()})}sendMutedFlag(n){n===this.localAuxAudioTrack||n===this.localAuxVideoTrack||(this._log.info("send muted state: ".concat(JSON.stringify(this.muteState))),this._signalChannel.sendWaitForResponseWithRetry({command:IV,responseCommand:Xn.MUTE_RESULT,data:this.muteState,retries:3}).catch(()=>{}))}handleConnectionStateChange(n){n.state==="CONNECTED"&&(this.localMainVideoTrack||this._publishingLocalVideoTrack&&!this._isPublishingAux)&&Pt.emit(bt.SEND_FIRST_VIDEO_FRAME,{room:this._room})}getVideoTrackId(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ce.VIDEO;if(this._peerConnection){let i=this._peerConnection.getSenders();if(n===Ce.AUXILIARY&&i[3]&&i[3].track)return i[3].track.id;if(n===Ce.VIDEO&&i[1]&&i[1].track)return i[1].track.id}if(this.localMainVideoTrack&&n===Ce.VIDEO){let i=this.localMainVideoTrack.mediaTrack;if(i)return i.id}if(this.localAuxVideoTrack&&n===Ce.AUXILIARY){let i=this.localAuxVideoTrack.mediaTrack;if(i)return i.id}return""}getSSRC(){return this.ssrc}checkPublishResultCode(n,i){if(n!==0)throw n===Xy?(this._log.error(ka.NOT_SUPPORTED_H264ENCODE),new on({code:Ht.NOT_SUPPORTED_H264,message:jn({key:Bn.NOT_SUPPORTED_H264ENCODE})})):new on({code:Ht.UNKNOWN,message:jn({key:Bn.SIGNAL_RESPONSE_FAILED,data:{signalResponse:Xn.PUBLISH_RESULT,code:n,message:i}})})}onSinglePCReconnected(){return Ke(this,null,function*(){this.isMainStreamPublished&&(this._log.warn("republish main stream"),yield this.publish({localAudioTrack:this.localMainAudioTrack,localVideoTrack:this.localMainVideoTrack,isAuxiliary:!1})),this.isAuxStreamPublished&&(this._log.warn("republish aux stream"),yield this.publish({localAudioTrack:this.localAuxAudioTrack,localVideoTrack:this.localAuxVideoTrack,isAuxiliary:!0}))})}};function GV(n){return Object.keys(n).filter(i=>n[i])}var z_=class extends KV{constructor(n){super(Yn(hn({},n),{isUplink:!1})),oe(this,"_flag",0),oe(this,"role","anchor"),oe(this,"remoteAudioTrack"),oe(this,"remoteVideoTrack"),oe(this,"remoteAuxiliaryTrack"),oe(this,"ssrc",{audio:0,video:0,videoRtx:0,auxiliary:0,auxiliaryRtx:0}),this.flag=n.flag,this.remoteAudioTrack=new Iw(this._room,this),this.remoteVideoTrack=new Nm(this._room,this),this.remoteAuxiliaryTrack=new aV(this._room,this),this.initialize()}get videoCodec(){var n;return((n=this.singlePC)==null?void 0:n.downlinkVideoCodec)||"h264"}get subscribeState(){return{audio:this.remoteAudioTrack.isSubscribed||this.remoteAudioTrack.isSubscribing,video:this.remoteVideoTrack.isBig&&(this.remoteVideoTrack.isSubscribed||this.remoteVideoTrack.isSubscribing),smallVideo:this.remoteVideoTrack.isSmall&&(this.remoteVideoTrack.isSubscribed||this.remoteVideoTrack.isSubscribing),auxiliary:this.remoteAuxiliaryTrack.isSubscribed||this.remoteAuxiliaryTrack.isSubscribing}}get muteState(){return gm(this.flag,this.userId)}get flag(){return this._flag}set flag(n){var i,s,u;n!==this._flag&&(this._flag=n,(i=this.remoteAudioTrack)==null||i.onFlagChanged(),(s=this.remoteVideoTrack)==null||s.onFlagChanged(),(u=this.remoteAuxiliaryTrack)==null||u.onFlagChanged())}get hasMainStream(){return this.muteState.hasAudio||this.muteState.hasVideo||this.muteState.hasSmall}get hasAuxStream(){return this.muteState.hasAuxiliary}get isMainStreamSubscribed(){return(this.subscribeState.audio||this.subscribeState.video||this.subscribeState.smallVideo)&&(this.muteState.hasAudio||this.muteState.hasVideo||this.muteState.hasSmall)}get isAuxStreamSubscribed(){return this.subscribeState.auxiliary&&this.muteState.hasAuxiliary}get isSmallStreamSubscribed(){return this.subscribeState.smallVideo&&this.muteState.hasSmall}get isBigStreamSubscribed(){return this.subscribeState.video&&this.muteState.hasVideo}isStreamUnpublished(n){return n===Ce.MAIN?!this.muteState.hasAudio&&!this.muteState.hasVideo:!this.muteState.hasAuxiliary}initialize(){this.installEvents()}close(n){super.close(n),this.emitConnectionStateChangedEvent("DISCONNECTED"),this.remoteAudioTrack.close(),this.remoteVideoTrack.close(),this.remoteAuxiliaryTrack.close(),this.uninstallEvents(),this.removeDownlink()}installEvents(){!this.singlePC||(this.listeners("track").includes(this.onTrack)||this.singlePC.on("track",this.onTrack,this),this.listeners("spc-reconnected").includes(this.onSinglePCReconnected)||this.singlePC.on("spc-reconnected",this.onSinglePCReconnected,this))}uninstallEvents(){!this.singlePC||(this.singlePC.off("track",this.onTrack,this),this.singlePC.off("spc-reconnected",this.onSinglePCReconnected,this))}emitConnectionStateChangedEvent(n){var i,s;let u=this._currentState,p=super.emitConnectionStateChangedEvent(n);return p&&u!==n&&((i=this.remoteVideoTrack)==null||i.emit("connection-state-changed",{prevState:u,state:n}),(s=this.remoteAuxiliaryTrack)==null||s.emit("connection-state-changed",{prevState:u,state:n})),p}onTrack(n){let i=n.streams[0],{track:s,receiver:u}=n;if(!i.id.includes(this.tinyId))return;let p=i.id.includes("aux")?"auxiliary":"main";this._log.debug("ontrack ".concat(p," ").concat(s.kind));let y=Ce.AUDIO;s.kind===Ce.VIDEO&&(y=p===Ce.MAIN?Ce.VIDEO:Ce.AUXILIARY);let E=this.remoteAudioTrack;y===Ce.VIDEO?E=this.remoteVideoTrack:y===Ce.AUXILIARY&&(E=this.remoteAuxiliaryTrack),this.singlePC.enableInsertableStreams&&this.createEncodedStreams(E,u),E.setInputMediaStreamTrack(s)}createEncodedStreams(n,i){if(!this.singlePC.abortMap.has(i)){let s=i.createEncodedStreams(),u=new AbortController,p={abortController:u,enqueue:y=>{var E;return(E=this.singlePC)!=null&&E.isUsingH264?n.decodeFrame(y):y}};(n.enableDecodeFrame?s.readable.pipeThrough(new TransformStream({transform:(y,E)=>E.enqueue(p.enqueue(y))})):s.readable).pipeTo(s.writable,u).catch(y=>{y!=="destory"&&this._log.warn(y)}),this.singlePC.addAbortController(i,u)}}subscribe(n,i){return Ke(this,null,function*(){try{if(this._log.info("subscribe ".concat(i," ").concat(GV(n))),this.hasSSRC){let s="subscribe_change";Object.values(n).find(u=>u===!0)||(s="unsubscribe"),yield this.sendSubscription(s,n)}else yield this.doSubscribe(n),this.checkTrackEnded(n)}catch(s){throw this._room.isJoined&&this.isStreamUnpublished(i)?(this._log.warn("".concat(s.message," ").concat(JSON.stringify(this.muteState))),new on({code:Ht.REMOTE_STREAM_NOT_EXIST,message:"remote user ".concat(this.userId," unpublished stream")})):s}})}checkTrackEnded(n){var i,s,u;if((n.audio&&((i=this.remoteAudioTrack.mediaTrack)==null?void 0:i.readyState)==="ended"||n.video&&((s=this.remoteVideoTrack.mediaTrack)==null?void 0:s.readyState)==="ended"||n.auxiliary&&((u=this.remoteAuxiliaryTrack.mediaTrack)==null?void 0:u.readState)==="ended")&&this.singlePC&&!this.singlePC.isReconnecting){if(this._log.warn("remote track ended start spc reconnect"),bu&&Su<92)return;this.singlePC.startReconnection()}}unsubscribe(n){return Ke(this,arguments,function(i){var s=this;let{remoteTracks:u,streamType:p}=i;return function*(){var y;if(p==="main"&&!s.isMainStreamSubscribed||p==="auxiliary"&&!s.isAuxStreamSubscribed)return void s._log.info("".concat(p," stream already unsubscribed"));let E=hn({},s.subscribeState);u.forEach(w=>{switch(w.mediaType){case 1:E.audio=!1;break;case 4:E.video=!1;break;case 8:E.smallVideo=!1;break;case 2:E.auxiliary=!1}});let A="subscribe_change";Object.values(E).find(w=>w===!0)||(A="unsubscribe"),s._log.info("".concat(A==="unsubscribe"?A:"subscribe"," ").concat(p," [").concat(GV(E),"]")),A==="unsubscribe"&&((y=s.singlePC)==null||y.removeDownlinkQueue.add(s.tinyId)),yield s.sendSubscription(A,E),A==="unsubscribe"&&(yield s.removeDownlink())}()})}sendSubscription(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscribeState,s={srcTinyId:this.tinyId,srcUserId:this.userId},u=RV,p=Xn.UNSUBSCRIBE_RESULT;return n==="subscribe_change"&&(s={audio:i.audio,bigVideo:i.video,auxVideo:i.auxiliary,smallVideo:i.smallVideo,srcTinyId:this.tinyId},u=AV,p=Xn.SUBSCRIBE_CHANGE_RESULT),this._signalChannel.sendWaitForResponseWithRetry({command:u,data:s,responseCommand:p,timeout:1e4,retries:3}).then(y=>{let{data:E}=y;if(E.code!==0){let A=new on({code:E.code,message:jn({key:Bn.ERROR_MESSAGE,data:{type:n,message:E.message}})});throw this._log.error(A),A}})}getMainStreamVideoTrackId(){return this.remoteVideoTrack&&this.remoteVideoTrack.mediaTrack?this.remoteVideoTrack.mediaTrack.id:""}getAuxStreamVideoTrackId(){return this.remoteAuxiliaryTrack&&this.remoteAuxiliaryTrack.mediaTrack?this.remoteAuxiliaryTrack.mediaTrack.id:""}setDelay(n){let{audioDelay:i,videoDelay:s}=n;this.remoteAudioTrack.stat.end2EndDelay=i,this.remoteVideoTrack.stat.end2EndDelay=s}onSinglePCReconnected(){(this.ssrc.audio||this.ssrc.video||this.ssrc.auxiliary)&&(this._log.warn("resubscribe ".concat(JSON.stringify(this.subscribeState))),this.doSubscribe(this.subscribeState))}get hasSSRC(){return this.ssrc.audio&&this.ssrc.video&&this.ssrc.auxiliary}doSubscribe(){return Ke(this,arguments,function(){var n=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.subscribeState,s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){if(n.singlePC){n.singlePC.addDownlinkQueue.add(n.tinyId),yield n.singlePC.waitForPeerConnectionConnected();try{if(s||!n.hasSSRC){let u={audioSsrc:Uf(),bigVideoSsrc:Uf(),bigVideoRtxSsrc:Uf(),auxVideoSsrc:Uf(),auxVideoRtxSsrc:Uf()},{audioSsrc:p,bigVideoSsrc:y,bigVideoRtxSsrc:E,auxVideoSsrc:A,auxVideoRtxSsrc:w}=u;n.ssrc={audio:p,video:y,videoRtx:E,auxiliary:A,auxiliaryRtx:w},n.singlePC.addDownlinkQueue.delete(n.tinyId),yield n.singlePC.addDownlink({userId:n.userId,tinyId:n.tinyId,ssrc:n.ssrc});try{let V=yield n._signalChannel.sendWaitForResponseWithRetry({command:yre,responseCommand:Xn.SPC_SUBSCRIBE_RESULT,data:{srcUserId:n.userId,srcTinyId:n.tinyId,audio:i.audio,bigVideo:i.video,auxVideo:i.auxiliary,smallVideo:i.smallVideo,customData:!1,ssrc:u},retries:3,retryTimeout:0});if(V.data.code!==0)throw new on({code:V.data.code,message:V.data.message})}catch(V){throw yield n.removeDownlink(),V}return}n.singlePC.addDownlinkQueue.delete(n.tinyId),yield n.singlePC.addDownlink({userId:n.userId,tinyId:n.tinyId,ssrc:n.ssrc})}finally{let u=n._room.scheduleResult.config;((u==null?void 0:u.jitterDelay)||(u==null?void 0:u.jitterDelayAux))&&n.setJitterBufferDelay({mainDelay:u.jitterDelay,auxDelay:u.jitterDelayAux})}}}()})}removeDownlink(){return Ke(this,null,function*(){if(!this.singlePC)return;this.ssrc={audio:0,video:0,videoRtx:0,auxiliary:0,auxiliaryRtx:0},this.singlePC.removeDownlinkQueue.delete(this.tinyId);let n=this._room.scheduleResult.config;((n==null?void 0:n.jitterDelay)||(n==null?void 0:n.jitterDelayAux))&&this.setJitterBufferDelay({mainDelay:0,auxDelay:0}),yield this.singlePC.removeDownlink(this.userId)})}setJitterBufferDelay(n){let{mainDelay:i,auxDelay:s}=n;if(!this.singlePC||!this._peerConnection||Iu(i)&&Iu(s))return Promise.resolve();this._log.info("set jitterBuffer main: ".concat(i," aux: ").concat(s));let u=this.singlePC.getReceiversByUserId(this.userId);return ao(i)&&(this.remoteAudioTrack.jitterBufferDelay=i,this.remoteVideoTrack.jitterBufferDelay=i),ao(s)&&(this.remoteAuxiliaryTrack.jitterBufferDelay=s,Iu(i)&&(this.remoteAudioTrack.jitterBufferDelay=s)),new Promise(p=>{this.doSetJitterBufferDelay({mainDelay:i,auxDelay:s,receivers:u,resolve:p})})}doSetJitterBufferDelay(n){let{mainDelay:i,auxDelay:s,receivers:u,resolve:p}=n,y=-1;try{if(i===0&&s===0)return u.forEach(E=>E.jitterBufferTarget=0),p();if(u.forEach(E=>{var A;let w=E.track===this.remoteAuxiliaryTrack.outMediaTrack||Iu(i)&&E.track===this.remoteAudioTrack.outMediaTrack;if(w&&Iu(s)||!w&&Iu(i))return;let V=w?s||0:i,K=(E.jitterBufferTarget||0)+100;K>V||(E.jitterBufferTarget=K,this._log.debug("set ".concat(w?"aux ":"").concat((A=E==null?void 0:E.track)==null?void 0:A.kind," jitterBuffer delay ").concat(K," -> ").concat(V)))}),!u.find(E=>{let A=E.track===this.remoteAuxiliaryTrack.outMediaTrack?s||0:i;return E.jitterBufferTarget<A}))return this._log.info("set jitterBuffer main: ".concat(i," aux: ").concat(s," done")),p();y=setTimeout(()=>{this.doSetJitterBufferDelay({mainDelay:i,auxDelay:s,receivers:u,resolve:p})},1e3)}catch(E){this._log.warn("set jitterBuffer delay error: ".concat(E)),clearTimeout(y),p()}}};Yt([Pf(),$r(n=>function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return new Promise((p,y)=>{let E=A=>{this.off("closed",E),y(new on({code:Ht.API_CALL_ABORTED,message:jn({key:Bn.CONNECTION_ABORTED,data:A})}))};this.on("closed",E),n.apply(this,s).then(p,y).finally(()=>{this.off("closed",E)})})})],z_.prototype,"subscribe",1),Yt([Pf()],z_.prototype,"unsubscribe",1),Yt([Df(()=>"jitter")],z_.prototype,"setJitterBufferDelay",1);var Gre=z_,qre=Ao(mi()),qV=class extends qre.EventEmitter{constructor(n,i){super(),this.room=n,this.signalChannel=i,oe(this,"log"),oe(this,"cmdIdSeqMap",new Map),oe(this,"messageMap",new Map),this.log=Gt.createLogger({id:"cmm",userId:n.userId}),this.onReceiveMsg=this.onReceiveMsg.bind(this),i.on(Xn.RECEIVE_CUSTOM_MSG,this.onReceiveMsg)}send(n){let{cmdId:i,data:s}=n,u=this.cmdIdSeqMap.get(i)||Math.floor(16383*Math.random()),p={cmdId:i,msg:btoa(String.fromCharCode(...new Uint8Array(s))),ordered:!0,reliable:!0,streamSeq:u};this.cmdIdSeqMap.set(i,u+1),this.signalChannel.send(Sre,p)}onReceiveMsg(n){let{data:i}=n.data,s=this.room.tinyIdToUserIdMap.get(i.srcTinyId);if(s){let u={userId:s,cmdId:i.cmdId,seq:i.streamSeq,data:Uint8Array.from(atob(i.msg),p=>p.charCodeAt(0)).buffer};if(i.ordered){let p="".concat(s,"_").concat(u.cmdId),y=this.messageMap.get(p);if(!y||Math.abs(y.lastSeq-u.seq)>qV.SEQ_INTERVAL)this.messageMap.set(p,{lastSeq:u.seq,cachedMessageMap:new Map}),this.emitMessage(u);else if(u.seq>y.lastSeq){if(u.seq===y.lastSeq+1)this.emitMessage(u);else if(!y.cachedMessageMap.has(u.seq)){let E=setTimeout(()=>this.emitMessage(u,!0),5e3);y.cachedMessageMap.set(u.seq,{message:u,timeoutId:E})}}else this.log.debug("drop message ".concat(u.userId,"-").concat(u.cmdId,"-").concat(u.seq))}else this.emit("message",u)}}emitMessage(n){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];var s;let u=this.messageMap.get("".concat(n.userId,"_").concat(n.cmdId)),p=n;if(u){if(i){let E=[...u.cachedMessageMap.values()].sort((A,w)=>A.message.seq-w.message.seq);E[0]&&(p=E[0].message)}p.seq-u.lastSeq>1&&this.log.debug("msg lost userId: ".concat(p.userId," seq: ").concat(u.lastSeq," -> ").concat(p.seq)),u.lastSeq=p.seq,clearTimeout((s=u.cachedMessageMap.get(p.seq))==null?void 0:s.timeoutId),u.cachedMessageMap.delete(p.seq)}this.emit("message",p);let y=u==null?void 0:u.cachedMessageMap.get(p.seq+1);y&&this.emitMessage(y.message)}},YV=qV;oe(YV,"SEQ_INTERVAL",300);var JV,{isString:XV,isUndefined:Bf,getNetworkType:Yre,isEmpty:jm}=rs,ic=class extends Vre{constructor(n){super(n),this._heartbeat=-1,this._lastHeartBeatTime=-1,this._joinTimeout=-1,this._firstPublishedList=null,this._joinReject=null,this._isRelayChanged=!1,this._signalChannel=null,this.uplinkConnection=null,this.singlePC=null,this.enableSPC=Em,this._changeBigSmallRecords=new Map,this._networkQuality=null,this._turnServers=[],this._syncUserListInterval=-1,this._smallStreamConfig={bitrate:100,frameRate:15,height:120,width:160},this.enableSEI=!1,this._enableAudioVolumeEvaluation=!1,this._audioVolumeIntervalId=0,this._enableMultiAuxStream=!1,this._pureAudioPushMode=!1,this.enableHWEncoder=!1,this._stats=new Tre(this,this._log),this.userManager=new xne(this.userId,this._log),this._version=os,this.sdpSemantics=Jy,Bf(n.sdpSemantics)?_m.isUnifiedPlanDefault()&&(this.sdpSemantics=Xp):this.sdpSemantics=n.sdpSemantics,this._log.info("sdpSemantics: ".concat(this.sdpSemantics,", netType: ").concat(Yre())),n.iceTransportPolicy&&(this._iceTransportPolicy=n.iceTransportPolicy),this._enableMultiAuxStream=!Bf(n.enableMultiAuxStream)&&n.enableMultiAuxStream,this.enableSEI=n.enableSEI&&Em,!Bf(n.enableSPC)&&Em&&(this.enableSPC=n.enableSPC),this.enableHWEncoder=n.enableHWEncoder||!1,this._initBusinessInfo(n)}get isMainStreamPublished(){var n;return!((n=this.uplinkConnection)==null||!n.isMainStreamPublished)}get isMainAudioPublished(){var n;return!((n=this.uplinkConnection)==null||!n.localMainAudioTrack)}get isAuxStreamPublished(){var n;return!((n=this.uplinkConnection)==null||!n.isAuxStreamPublished)}get hasAuxStream(){return[...this.remotePublishedUserMap.values()].findIndex(n=>n.muteState.hasAuxiliary)>=0}get userMap(){return this.userManager.userMap}get remotePublishedUserMap(){return this.userManager.remotePublishedUserMap}get tinyIdToUserIdMap(){return new Map([...this.userMap.values()].map(n=>[n.tinyId,n.userId]))}join(n,i,s){return Ke(this,null,function*(){return this.userManager.mySelfId=this.userId,this.userManager.on("1",u=>{this.emit("peer-join",u)}),this.userManager.on("2",u=>{this.closeDownLinkConnection(u,"remote user exitRoom"),this.emit("peer-leave",u)}),this.userManager.on("3",this.createDownlinkConnection,this),this.userManager.on("5",this.closeDownLinkConnection,this),this.userManager.on("6",u=>{var p=((y,E)=>{var A={};for(var w in y)QT.call(y,w)&&E.indexOf(w)<0&&(A[w]=y[w]);if(y!=null&&Ky)for(var w of Ky(y))E.indexOf(w)<0&&lM.call(y,w)&&(A[w]=y[w]);return A})(u,[]);Pt.emit(bt.REMOTE_PUBLISH_STATE_CHANGED,hn({room:this},p)),this.emit("remote-publish-state-changed",hn({},p))}),this.joinParams=n,new Promise((u,p)=>Ke(this,null,function*(){var y,E;this._joinReject=p;try{this.checkDestroy();try{yield Promise.all([this.initialize(),this.initSinglePC()])}catch(A){if(!(A instanceof on&&A.code===Ht.SPC_INITIALIZED_FAILED))return p(A);(y=this._signalChannel)==null||y.destroy(),yield this.initialize()}yield this.doJoin(n,(E=this.singlePC)==null?void 0:E.clientAbility),u(),this._firstPublishedList&&this.onPublishedUserList({data:{userList:this._firstPublishedList}})}catch(A){p(A)}this._joinReject=null}))})}initSinglePC(){return Ke(this,null,function*(){if(this.enableSPC&&!this.singlePC){this.singlePC=new Hm({signalChannel:this._signalChannel,room:this,enableCustomMessage:!1}),this.singlePC.on("sei-message",n=>this.emit("sei-message",n)),this.singlePC.once("error",()=>this.fallbackToMPC());try{return yield this.singlePC.initialize()}catch(n){throw this.fallbackToMPC(),new on({code:Ht.SPC_INITIALIZED_FAILED,message:n==null?void 0:n.message})}}})}doJoin(n,i){return new Promise((s,u)=>Ke(this,null,function*(){var p,y,E;n.privateMapKey&&(this.privateMapKey=n.privateMapKey),n.latencyLevel&&(this.latencyLevel=n.latencyLevel),this._signalChannel.once(wV,V=>{this.clearJoinTimeout(),Pt.emit(bt.JOIN_SIGNAL_CONNECTION_END,{room:this,error:V}),u(V)}),Li((y=(p=this.scheduleResult)==null?void 0:p.config)==null?void 0:y.singlePC)&&Em&&(this.enableSPC=this.scheduleResult.config.singlePC),this.keyPointManager.setConnectionType(this.singlePC?1:2);let A={roomId:String(n.roomId||n.strRoomId),useStringRoomId:this.useStringRoomId,privateMapKey:this.privateMapKey,latencyLevel:this.latencyLevel,trtcRole:n.role,trtcScene:this.scene==="live"?2:1,sdpSemantics:this.sdpSemantics,version:this._version,ua:navigator&&navigator.userAgent||"",terminalType:qM(),netType:p_(),bussinessInfo:this._businessInfo,ability:i,sdkType:this._sdkType,userSig:this.userSig};this._log.debug("join room signal data: ".concat(JSON.stringify(A)));let w=5e3;((E=this.scheduleResult.config)==null?void 0:E.enterRoomTimeout)&&this.scheduleResult.config.enterRoomTimeout>=1&&(w=1e3*this.scheduleResult.config.enterRoomTimeout),this._joinTimeout=window.setTimeout(()=>{u(new on({code:Ht.JOIN_ROOM_FAILED,message:jn({key:Bn.JOIN_ROOM_TIMEOUT})}))},w),Pt.emit(bt.JOIN_SEND_CMD,{room:this}),this._signalChannel.send(this.singlePC?vre:nre,A),this._signalChannel.once(Xn.JOIN_ROOM_RESULT,V=>{this.clearJoinTimeout();let{code:K,message:z,data:ue,tinyId:ve}=V.data;Pt.emit(bt.JOIN_RECEIVED_CMD_RES,{room:this,code:K}),K===0?(this._log.info("Join room success, start heartbeat"),ve&&(this.tinyId=ve),this.startHeartbeat(),this.syncUserList(),this.startSyncUserListInterval(),this._firstPublishedList=ue.publishers,this.singlePC&&this.singlePC.connect(ue.ability).catch(()=>{}),s()):(this._log.error("Join room failed result: ".concat(K," error: ").concat(z)),u(new on({code:Ht.JOIN_ROOM_FAILED,extraCode:K,message:jn({key:Bn.JOIN_ROOM_FAILED,data:{error:z,code:K}})})))})}))}reJoin(){let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ke(this,null,function*(){if(this.isJoined)try{this._log.warn("reJoin pending: ".concat(this.joinParams.roomId));let i,s=[];if(this.singlePC&&(this.singlePC.close(),this.singlePC=null,s.push(this.initSinglePC().then(u=>(i=u,u)))),this._signalChannel&&(this._signalChannel.race=n,this._signalChannel.close(),s.push(this._signalChannel.connect())),yield Promise.all(s),yield this.doJoin(Yn(hn({},this.joinParams),{role:this.role==="anchor"?20:21,privateMapKey:this.privateMapKey,latencyLevel:this.latencyLevel}),i),this._log.warn("reJoin success"),Wr.logSuccessEvent({userId:this.userId,eventType:js.REJOIN}),this.singlePC){let u=p=>{var y;p.state==="CONNECTED"&&((y=this.singlePC)==null||y.off($u.CONNECTION_STATE_CHANGED,u),this.uplinkConnection instanceof Ww&&(this.uplinkConnection.installEvents(),this.uplinkConnection.onSinglePCReconnected()),this.remotePublishedUserMap.forEach(E=>{E.installEvents(),E.onSinglePCReconnected()}))};this.singlePC.on($u.CONNECTION_STATE_CHANGED,u),this.checkConnectionsToReconnect(),this.uplinkConnection instanceof Bw&&!this.uplinkConnection.getIsReconnecting()&&this.uplinkConnection.startReconnection()}}catch(i){this._log.warn("reJoin fail ".concat(i)),this.reset(),Wr.logFailedEvent({userId:this.userId,eventType:js.REJOIN,error:i}),this.emit("error",new on({code:Ht.JOIN_ROOM_FAILED,message:jn({key:Bn.REJOIN_ROOM_FAILED,data:{roomId:this.joinParams.roomId}})}))}else this._log.warn("reJoin abort")})}initialize(){return Ke(this,null,function*(){let n,{mainUrl:i,backupUrl:s}=this.getSignalChannelUrl(),u=this._signalChannel||function(y){return[...B_.values()].find(A=>A.room.userId===y&&!A.room.isJoined)||null}(this.userId),p=!!(u&&u.isConnected&&u.keepAlive);return Array.isArray(this.scheduleResult.domains)&&this.scheduleResult.domains.length>0&&(n=this.scheduleResult.domains[0]),this._log.info("".concat(p?"reuse":"setup"," signal channel")),p?(u.url=i,u.backupUrl=s,u.room=this,this._signalChannel=u):(this._signalChannel=new NV({sdkAppId:this.sdkAppId,userId:this.userId,userSig:this.userSig,url:i,backupUrl:s,race:this.enableSPC&&!this.proxy_ws,room:this,signalDomainWhenUnifiedProxy:this.proxy_unified?n:void 0}),this._customMessageManager=new YV(this,this._signalChannel),this._customMessageManager.on("message",y=>{this.emit("custom-message",y)})),this._networkQuality||(this._networkQuality=new Hw({signalChannel:this._signalChannel,room:this}),this._networkQuality.on(Hw.EVENT_NETWORK_QUALITY,y=>{this.emit("network-quality",y)})),Aa(this,this._signalChannel).add(Lw,y=>{Pt.emit(bt.SIGNAL_CONNECTION_STATE_CHANGED,hn({room:this},y)),this.emit("signal-connection-state-changed",y)}).add(Zne,y=>{this.reset(),this.emit("error",y)}).add(Xn.PEER_JOIN,y=>{let{srcTinyId:E,userId:A,role:w}=y.data.data;this.userManager.addUser({userId:A,tinyId:E,role:w})}).add(Xn.PEER_LEAVE,y=>{let{userId:E,reason:A=0}=y.data.data;this.userManager.deleteUser(E,A)}).add(Xn.UPDATE_REMOTE_MUTE_STAT,y=>{this._lastHeartBeatTime>0&&Date.now()-this._lastHeartBeatTime>=1e4&&this.doHeartbeat(),this.onPublishedUserList(y.data)}).add(Xn.CLIENT_BANNED,y=>{let E=y.data.data,{reason:A}=E;if(Wr.uploadEvent({log:"stat-banned:".concat(A),userId:this.userId}),A==="user_time_out")return this._log.warn("".concat(A," last heart beat time: ").concat(this._lastHeartBeatTime," interval: ").concat(Date.now()-this._lastHeartBeatTime,", visibility: ").concat(document.visibilityState)),void this.reJoin();this._log[A==="kick"?"error":"info"]("user was banned because of [".concat(A,"]")),this.reset(),this.emit("banned",{reason:A})}),this._signalChannel.once(CV,y=>{this.tinyId=y.signalInfo.tinyId,Pt.emit(bt.JOIN_SIGNAL_CONNECTION_END,{room:this})}),Pt.emit(bt.JOIN_SIGNAL_CONNECTION_START,{room:this}),yield this._signalChannel.connect(),p&&Pt.emit(bt.JOIN_SIGNAL_CONNECTION_END,{room:this}),p})}setSignalChannel(n){this._signalChannel=n,n||Zo(this)}leave(){return Ke(this,null,function*(){var n;try{yield this.doHeartbeat()}catch{}this._log.info("leave() => leaving room"),Pt.emit(bt.LEAVE_SEND_CMD,{room:this}),(n=this._signalChannel)==null||n.send(rre)})}clearNetworkQuality(){this._networkQuality&&(this._networkQuality.stop(),this._networkQuality=null)}closeConnections(){this.remotePublishedUserMap.forEach(n=>{this.closeDownLinkConnection(n.userId,"you exitRoom")})}clearJoinTimeout(){clearTimeout(this._joinTimeout),this._joinTimeout=-1}startHeartbeat(){this._heartbeat===-1&&(this._heartbeat=Zr.run(tm,this.doHeartbeat.bind(this),{delay:2e3}))}stopHeartbeat(){this._heartbeat!==-1&&(this._log.info("stopHeartbeat"),Zr.clearTask(this._heartbeat),this._heartbeat=-1,this._lastHeartBeatTime=-1)}doHeartbeat(){return Ke(this,null,function*(){var n;let i=this.badCaseDetector.getMonitorFreeze(),s=yield this._stats.getStatsReport({uplinkConnection:this.uplinkConnection,downlinkConnections:this.remotePublishedUserMap,freezeMap:i});if(this.badCaseDetector.resetMonitor(),(n=this._signalChannel)==null||!n.isConnected)return;let u=this._signalChannel.isConnected?function(E){if(Lf.has(E)){let A=Lf.get(E).map(w=>({uint32_event_id:w.eventId,uint64_date:w.timestamp,str_userid:w.remoteUserId,uint32_param1:w.param1,uint32_param2:w.param2,uint32_video_stream_type:w.streamType}));return Lf.delete(E),A}return[]}(this.userId):[],p=Yn(hn({str_sdk_version:rC,uint64_datetime:new Date().getTime(),msg_user_info:{str_identifier:this.userId,uint64_tinyid:this.tinyId},msg_event_msg:u,str_acc_ip:this.getSignalInfo().relayIp,str_client_ip:this.getSignalInfo().clientIp},s),{msg_device_info:hn({uint32_terminal_type:15,str_device_name:navigator.platform,str_os_version:"",uint32_net_type:p_()},s.msg_device_info)});this.heartbeatReport=p,Pt.emit(bt.HEARTBEAT_REPORT,{room:this,report:p}),this._signalChannel.send(ore,p),this.emit("heartbeat-report",Yn(hn({},p),{bytes_sent:this._stats.totalBytesSent+this._signalChannel.bytesSent,bytes_received:this._stats.totalBytesReceived+this._signalChannel.bytesReceived}));let y=Date.now();this._lastHeartBeatTime>0&&y-this._lastHeartBeatTime>1e4&&this._log.warn("heartbeat took ".concat(y-this._lastHeartBeatTime)),this._signalChannel.isConnected&&(this._lastHeartBeatTime=y),!this._isRelayChanged&&this.isRelayMaybeFailed()&&(this.reJoin(),this._isRelayChanged=!0)})}onPublishedUserList(n){if(!this.isJoined)return;let i=n.data.userList.map(s=>{let{userId:u,srcTinyId:p,flag:y}=s;u===this.userId&&this.uplinkConnection&&(this.uplinkConnection.flag=y);let E=this.remotePublishedUserMap.get(u);return E&&this.checkSubscribeBigSmallVideo(E),{userId:u,tinyId:p,flag:y}});Pt.emit(bt.RECEIVED_PUBLISHED_USER_LIST,{room:this,publishedUserList:i}),this.userManager.setRemotePublishedUserList(i)}closeUplink(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"you unpublished";this.uplinkConnection&&(this.localTracks.size>0&&this.uplinkConnection.doUnpublish(),this.uplinkConnection.close(n),this.uplinkConnection=null),this.localTracks.forEach(i=>i.unpublish()),this.localTracks.clear()}createDownlinkConnection(n){let{userId:i,tinyId:s,flag:u}=n,p=new(this.singlePC?Gre:MV)({userId:i,tinyId:s,room:this,signalChannel:this._signalChannel,enableSEI:this.enableSEI,flag:u});this.userManager.addRemotePublishedUser(p),this.installDownlinkEvents(p,i),this.emit("remote-published",p)}closeDownLinkConnection(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"remote user unpublished",s=this.remotePublishedUserMap.get(n);s&&(s.close(i),this.emit("remote-unpublished",s))}installDownlinkEvents(n,i){n.on("error",s=>{let u=s.getCode();u!==Ht.ICE_TRANSPORT_ERROR&&(u===Ht.DOWNLINK_RECONNECTION_FAILED&&this.closeDownLinkConnection(i),this.emit("error",s))}),n.on("connection-state-changed",s=>{this.emit("media-connection-state-changed",Yn(hn({},s),{userId:n.userId}))}),n.on("firewall-restriction",()=>{this.emit("firewall-restriction")})}startSyncUserListInterval(){this._syncUserListInterval===-1&&(this._syncUserListInterval=Zr.run(tm,this.syncUserList.bind(this)))}stopSyncUserListInterval(){Zr.clearTask(this._syncUserListInterval),this._syncUserListInterval=-1}syncUserList(){return this.getUserList().then(n=>{this.userManager.setUserList(n)}).catch(n=>{this._log.debug("sync user list failed: ".concat(n))})}getUserList(){var n;return(n=this._signalChannel)!=null&&n.isConnected?this._signalChannel.sendWaitForResponse({command:hre,responseCommand:Xn.USER_LIST_RES,enableLog:!1,timeout:2e3}).then(i=>{let{data:s}=i,{code:u,message:p}=s;if(u===0)return(s.data&&s.data.userList||[]).map(y=>{let{userId:E,srcTinyId:A,role:w}=y;return{userId:E,tinyId:A,role:w}});throw jn({key:Bn.SIGNAL_RESPONSE_FAILED,data:{signalResponse:Xn.USER_LIST_RES,code:u,message:p}})}):Promise.reject("not connected")}getAllConnections(){let n=[...this.remotePublishedUserMap.values()];return this.uplinkConnection&&n.push(this.uplinkConnection),n}isRelayMaybeFailed(){if(this._signalChannel&&!this._signalChannel.isOnline||!PV)return!1;if(this.singlePC)return this.singlePC.reconnectionCount>6;let n=this.getAllConnections();if(n.length===0)return!1;for(let i=0;i<n.length;i++)if(n[i].getReconnectionCount()<6)return!1;return!0}checkConnectionsToReconnect(){var n;this.singlePC?((n=this.singlePC.getPeerConnection())==null?void 0:n.connectionState)===io.CLOSED&&!this.singlePC.isReconnecting&&(this._log.warn("spc pc is closed but not reconnect"),this.singlePC.startReconnection()):this.getAllConnections().forEach(i=>{if(i instanceof Vu&&!i.getIsReconnecting()){let s=i.getPeerConnection();s&&s.connectionState===io.CLOSED&&(this._log.warn("[".concat(i.getUserId(),"] pc is closed but not reconnect")),i.startReconnection())}})}fallbackToMPC(){return Ke(this,null,function*(){var n;if(this._log.warn("fallback to multi pc"),Wr.uploadEvent({log:"stat-fallback",userId:this.userId}),this.enableSPC=!1,(n=this.singlePC)==null||n.close(),this.singlePC=null,this.isJoined&&(yield this.reJoin(!1)),this.uplinkConnection){let i=this.uplinkConnection;this.uplinkConnection=new Bw({userId:this.userId,tinyId:this.tinyId,room:this,signalChannel:this._signalChannel,enableSEI:this.enableSEI,audioManager:this.audioManager}),i.isMainStreamPublished&&(yield this.uplinkConnection.publish({localAudioTrack:i.localMainAudioTrack,localVideoTrack:i.localMainVideoTrack,isAuxiliary:!1})),i.isAuxStreamPublished&&(yield this.uplinkConnection.publish({localAudioTrack:i.localAuxAudioTrack,localVideoTrack:i.localAuxVideoTrack,isAuxiliary:!0})),i.close()}this.remotePublishedUserMap.forEach(i=>{let s=new MV({userId:i.userId,tinyId:i.tinyId,room:this,signalChannel:this._signalChannel,enableSEI:this.enableSEI,flag:i.flag,remoteAudioTrack:i.remoteAudioTrack,remoteVideoTrack:i.remoteVideoTrack,remoteAuxiliaryTrack:i.remoteAuxiliaryTrack});this.installDownlinkEvents(s,i.userId),this.remotePublishedUserMap.set(i.userId,s),i.isMainStreamSubscribed&&s.subscribe(i.subscribeState,"main"),i.isAuxStreamSubscribed&&s.subscribe(i.subscribeState,"auxiliary")})})}destroy(){this.isDestroyed||(this._signalChannel&&(this._log.info("destroying SignalChannel"),this._signalChannel.close(),this._signalChannel=null),super.destroy(),this._joinReject&&(this._joinReject(new on({code:Ht.INVALID_OPERATION,message:jn({key:Bn.CLIENT_DESTROYED,data:{funName:"join"}})})),this.clearJoinTimeout(),this.reset()),this.removeAllListeners())}switchRole(n){return Ke(this,null,function*(){this.role!==n&&(n==="audience"&&this.uplinkConnection&&this.closeUplink("you switch role to audience"),yield this.doSwitchRole(n))})}doSwitchRole(n){let i={command:pre,data:{role:n==="anchor"?20:21,privateMapKey:this.privateMapKey,latencyLevel:this.latencyLevel},responseCommand:Xn.SWITCH_ROLE_RES,retries:1};return this._log.info("switchRole signal data: ".concat(JSON.stringify(i.data))),this._signalChannel.sendWaitForResponseWithRetry(i).then(s=>{let{code:u,message:p}=s.data;if(u!==0)throw new on({code:Ht.SWITCH_ROLE_FAILED,message:jn({key:Bn.SWITCH_ROLE_FAILED,data:{message:p,code:u}})});this.role=n}).catch(s=>{throw s instanceof on&&s.getCode()===Ht.API_CALL_TIMEOUT&&(s=new on({code:Ht.SWITCH_ROLE_FAILED,message:jn({key:Bn.SWITCH_ROLE_TIMEOUT})})),this._log.error(s),s})}publish(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Ke(this,null,function*(){let u={},p={};i.forEach(w=>{w instanceof Xs&&(w instanceof Om?p.audio=w:u.audio=w),w instanceof Mi&&(w instanceof Pu&&w.mediaType===2?p.video=w:u.video=w)});let y=jm(u),E=jm(p);(!y||!E)&&!this.uplinkConnection&&(this.singlePC?this.uplinkConnection=new Ww({userId:this.userId,tinyId:this.tinyId,room:this,signalChannel:this._signalChannel,enableSEI:this.enableSEI,audioManager:this.audioManager}):this.uplinkConnection=new Bw({userId:this.userId,tinyId:this.tinyId,room:this,signalChannel:this._signalChannel,enableSEI:this.enableSEI,audioManager:this.audioManager}),this.uplinkConnection.on("connection-state-changed",w=>{this.emit("media-connection-state-changed",Yn(hn({},w),{userId:this.userId}))}),this.uplinkConnection.on("firewall-restriction",()=>{this.emit("firewall-restriction")}),this.uplinkConnection.on("error",w=>{let V=w.getCode();V!==Ht.ICE_TRANSPORT_ERROR&&(V===Ht.UPLINK_RECONNECTION_FAILED&&this.closeUplink(),this.emit("error",w))}));let A=i.map(w=>w.kind).join(",");y||(this._log.info("publish() => main ".concat(A)),yield this.uplinkConnection.publish({localAudioTrack:u.audio,localVideoTrack:u.video,isAuxiliary:!1}),this._log.info("main is published")),E||(this._log.info("publish() => aux ".concat(A)),yield this.uplinkConnection.publish({localAudioTrack:p.audio,localVideoTrack:p.video,isAuxiliary:!0}),this._log.info("aux is published"))})}unpublish(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Ke(this,null,function*(){if(this.scene==="live"&&this.role!=="anchor"||!this.isMainStreamPublished&&!this.isAuxStreamPublished||!this.uplinkConnection)return;let u={},p={};i.forEach(y=>{!y.mediaTrack||!y.isPublished||(y instanceof Xs&&(y instanceof Om?p.audio=y:u.audio=y),y instanceof Mi&&(y instanceof Pu&&y.mediaType===2?p.video=y:u.video=y))});try{let y=i.map(E=>E.kind).join(",");jm(u)||(this._log.info("unpublish() => main ".concat(y)),yield this.uplinkConnection.unpublish({localAudioTrack:u.audio,localVideoTrack:u.video})),jm(p)||(this._log.info("unpublish() => aux ".concat(y)),yield this.uplinkConnection.unpublish({localAudioTrack:p.audio,localVideoTrack:p.video}))}catch{}this.localTracks.size===0&&this.closeUplink("you unpublished")})}addTrack(n){if(!this.uplinkConnection||!n.mediaTrack)return Promise.resolve();let i=this.uplinkConnection.addTrack(n);return n.publish(this,i),i}removeTrack(n){return this.uplinkConnection&&n.mediaTrack?this.uplinkConnection.removeTrack(n).then(i=>(n.unpublish(),i)):Promise.resolve()}replaceTrack(n){return this.uplinkConnection&&n.mediaTrack&&Sx()?this.uplinkConnection.replaceTrack(n).then(i=>{i&&Pt.emit(bt.LOCAL_TRACK_REPLACED,{track:n})}):Promise.resolve()}setBandWidth(n){return Ke(this,null,function*(){!this.uplinkConnection||(yield this.uplinkConnection.setBandwidth(n),yield this.uplinkConnection.sendMediaSettings())})}enableSmall(n){return Ke(this,null,function*(){if(!this.uplinkConnection||!this.uplinkConnection.localMainVideoTrack)return Promise.resolve();n&&this.uplinkConnection.localMainVideoTrack.small&&(yield this.setBandWidth({type:Ce.VIDEO,videoType:Ce.SMALL,bandwidth:this.uplinkConnection.localMainVideoTrack.small.bitrate})),yield this.uplinkConnection.enableSmall(n)})}subscribe(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Ke(this,null,function*(){if(i=i.filter(E=>!E.isSubscribed),i.length===0)return;let{userId:u}=i[0],p=this.remotePublishedUserMap.get(u);if(!p)return;let y=i.find(E=>E.mediaType===2)?"auxiliary":"main";try{let E=hn({},p.subscribeState);i.forEach(w=>{switch(w.mediaType){case 1:E.audio=!0;break;case 4:E.video=!0;break;case 8:E.smallVideo=!0;break;case 2:E.auxiliary=!0}});let A=this._changeBigSmallRecords.get(u);A&&A.options.smallVideo&&p.muteState.hasSmall&&E.video&&(E.video=!1,E.smallVideo=!0),Pt.emit(bt.SUBSCRIBE_START,{room:this,streamType:y,remotePublishedUser:p,subscribeState:E}),this._log.info("subscribe() => ".concat(u," ").concat(y," [").concat(Fw(E),"] prev: [").concat(Fw(p.subscribeState),"]")),yield p.subscribe(E,y),this._log.info("subscribe ".concat(u," ").concat(y," done"));for(let w of i)w.mediaTrack||(yield w.waitHasMediaTrack());Pt.emit(bt.SUBSCRIBE_SUCCESS,{room:this,streamType:y,remotePublishedUser:p})}catch(E){let A=E instanceof on?E.getCode():Ht.UNKNOWN,w=E;throw E instanceof on?A===Ht.REMOTE_STREAM_NOT_EXIST&&(w=new on({code:Ht.API_CALL_ABORTED,message:jn({key:Bn.API_CALL_ABORTED,data:{message:E.message,userId:u,streamType:y}})}),this._log.warn(w)):(w=new on({code:A,message:jn({key:Bn.SUBSCRIBE_FAILED,data:{message:E.message,userId:u,streamType:y}})}),this._log.error(w)),w}})}unsubscribe(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Ke(this,null,function*(){let{userId:u}=i[0],p=this.remotePublishedUserMap.get(u);if(!p)return;let y=i.find(E=>E.mediaType===2)?"auxiliary":"main";this._log.info("unsubscribe() => ".concat(u," ").concat(y));try{yield p.unsubscribe({remoteTracks:i,streamType:y})}catch(E){this._log.warn("unsubscribe() => failed ".concat(E))}i.forEach(E=>{E.unsubscribe(),E.mediaType===8&&E.setMediaType(4)}),Pt.emit(bt.UNSUBSCRIBE_SUCCESS,{room:this,streamType:y,remotePublishedUser:p})})}setEncodedDataProcessingListener(n){throw new Error("Method not implemented.")}enableAudioVolumeEvaluation(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2e3,i=arguments.length>1?arguments[1]:void 0;if(n<=0)return this._enableAudioVolumeEvaluation=!1,void Zr.clearTask(this._audioVolumeIntervalId);n=Math.floor(Math.max(n,100)),Pt.emit(bt.AUDIO_LEVEL_INTERVAL,{interval:n}),this._audioVolumeIntervalId&&Zr.clearTask(this._audioVolumeIntervalId),this._enableAudioVolumeEvaluation=!0,this._audioVolumeIntervalId=Zr.run(vC,()=>{var s;let u=[];(s=this.remotePublishedUserMap)==null||s.forEach(p=>{if(p.muteState.hasAudio){let y=Math.floor(100*p.remoteAudioTrack.getAudioLevel());u.push({userId:p.userId,volume:y})}}),this.emit("audio-volume",u)},{fps:1e3/n,backgroundTask:i})}getLocalAudioStats(){return Ke(this,null,function*(){let n={};if(n[this.userId]={bytesSent:0,packetsSent:0},this.uplinkConnection){let i=yield this._stats.getSenderStats(this.uplinkConnection);n[this.userId]={bytesSent:i.audio.bytesSent,packetsSent:i.audio.packetsSent}}return n})}getLocalVideoStats(){return Ke(this,null,function*(){let n={};if(n[this.userId]={bytesSent:0,packetsSent:0,framesEncoded:0,framesSent:0,frameWidth:0,frameHeight:0},this.uplinkConnection){let{video:{bytesSent:i,packetsSent:s,framesEncoded:u,framesSent:p,frameWidth:y,frameHeight:E}}=yield this._stats.getSenderStats(this.uplinkConnection);n[this.userId]={bytesSent:i,packetsSent:s,framesEncoded:u,framesSent:p,frameWidth:y,frameHeight:E}}return n})}getTransportStats(){return Ke(this,null,function*(){let n={rtt:0,downlinksRTT:{}};if(this.uplinkConnection){let i=yield this._stats.getSenderStats(this.uplinkConnection);n.rtt=i.rtt}for(let[,i]of this.remotePublishedUserMap){let s=yield this._stats.getReceiverStats(i);n.downlinksRTT[s.userId]=s.rtt}return n})}getRemoteVideoStats(n){return Ke(this,null,function*(){let i={};for(let[s,u]of this.remotePublishedUserMap)n==="main"&&u.muteState.hasVideo&&(i[s]=u.remoteVideoTrack.stat),n==="auxiliary"&&u.muteState.hasAuxiliary&&(i[s]=u.remoteAuxiliaryTrack.stat);return i})}getRemoteAudioStats(){return Ke(this,null,function*(){let n={};for(let[i,s]of this.remotePublishedUserMap)s.muteState.hasAudio&&(n[i]=s.remoteAudioTrack.stat);return n})}setTurnServer(n,i){this._log.info("set turn server: ".concat(JSON.stringify(n)," ").concat(i||""));let s=[];Array.isArray(n)?n.forEach(u=>s.push(rs.getTurnServer(u))):rs.isPlainObject(n)&&s.push(rs.getTurnServer(n)),this._turnServers=s,i&&(this._iceTransportPolicy=i)}sendStartMixTranscode(n){return this._signalChannel.sendWaitForResponse({command:dre,data:n,timeout:5e3,responseCommand:Xn.START_MIX_TRANSCODE_RES,commandDesc:"startMixTranscode"})}sendStopMixTranscode(n){return this._signalChannel.sendWaitForResponse({command:fre,data:n,timeout:5e3,responseCommand:Xn.STOP_MIX_TRANSCODE_RES,commandDesc:"stopMixTranscode"})}sendStartPublishCDN(n){let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this._signalChannel.sendWaitForResponse({command:i?sre:cre,data:n,timeout:5e3,responseCommand:i?Xn.START_PUBLISH_TENCENT_CDN_RES:Xn.START_PUBLISH_GIVEN_CDN_RES,commandDesc:"startPublishCDN"})}sendStopPublishCDN(n){let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this._signalChannel.sendWaitForResponse({command:i?lre:ure,data:n,timeout:5e3,responseCommand:i?Xn.STOP_PUBLISH_TENCENT_CDN_RES:Xn.STOP_PUBLISH_GIVEN_CDN_RES,commandDesc:"stopPublishCDN"})}sendAbilityStatus(n){var i;(i=this._signalChannel)==null||i.sendWaitForResponse({command:_re,data:n,timeout:5e3,responseCommand:Xn.ABILITY_STATUS_REPORT_RESULT,commandDesc:"ability status report"}).catch(s=>{})}getIceServers(){return this._turnServers.length===0&&this.scheduleResult.iceServers?this.scheduleResult.iceServers:this._turnServers}getIceTransportPolicy(){return this._iceTransportPolicy||this.scheduleResult.iceTransportPolicy||"all"}getLogger(){return this._log}enableAIVoice(){throw new Error("Method not implemented.")}getSignalChannelUrl(){let n={mainUrl:"",backupUrl:""},i=rs.getEnv();return i?(n.mainUrl="wss://".concat(i,".rtc.qq.com"),n.backupUrl=n.mainUrl):this.proxy_ws?(n.mainUrl=this.proxy_ws,n.backupUrl=n.mainUrl):this.proxy_unified?(n.mainUrl="wss://".concat(this.proxy_unified),n.backupUrl=n.mainUrl):Array.isArray(this.scheduleResult.domains)&&this.scheduleResult.domains.length>0&&(n.mainUrl="wss://".concat(this.scheduleResult.domains[0]),n.backupUrl=n.mainUrl,this.scheduleResult.domains[1]&&(n.backupUrl="wss://".concat(this.scheduleResult.domains[1]))),n}getSignalInfo(){var n;return((n=this._signalChannel)==null?void 0:n.getSignalInfo())||{clientIp:"",relayIp:""}}reset(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.stopSyncUserListInterval(),this.stopHeartbeat(),this.closeConnections(),this.clearNetworkQuality(),this.closeUplink("you exitRoom"),this._signalChannel&&(n&&this._signalChannel.keepAlive&&this._signalChannel.isConnected?this._signalChannel.stopKeepAliveIn(3600):this._signalChannel.close(),this.setSignalChannel(null)),this._stats.reset(),this.userManager.clear(),this.userManager.removeAllListeners(),this.singlePC&&(this.singlePC.close(),this.singlePC=null),this.scheduleResult={domains:null,iceServers:null,iceTransportPolicy:null,trtcAutoConf:null}}checkSubscribeBigSmallVideo(n){return Ke(this,null,function*(){let{subscribeState:i,userId:s,muteState:{hasSmall:u,hasVideo:p}}=n;if(!u&&!p||!i.video&&!i.smallVideo)return;let y=this._changeBigSmallRecords.get(s);if(!y||y.isSubscribing||y.reSubscribeCount<=0)return;let{options:E,reSubscribeCount:A}=y;if(E.video&&i.video||E.smallVideo&&i.smallVideo&&u)return;let w={audio:n.remoteAudioTrack.isSubscribed||n.remoteAudioTrack.isSubscribing,auxiliary:n.remoteAuxiliaryTrack.isSubscribed||n.remoteAuxiliaryTrack.isSubscribing,video:E.video,smallVideo:E.smallVideo};try{if(!u&&w.smallVideo&&(w.video=!0,w.smallVideo=!1),w.smallVideo===i.smallVideo&&w.video===i.video)return;y.isSubscribing=!0,y.reSubscribeCount=A-1,yield n.subscribe(w,"main"),n.remoteVideoTrack.setMediaType(w.smallVideo?8:4),this._log.info("change [".concat(s,"] to ").concat(w.smallVideo?"small":"big"," video successfully. count ").concat(Zp-y.reSubscribeCount,".")),y.isSubscribing=!1,y.reSubscribeCount=Zp}catch{this._log.info("change [".concat(s,"] to ").concat(w.smallVideo?"small":"big"," video failed. count ").concat(Zp-y.reSubscribeCount,".")),y.isSubscribing=!1,y.reSubscribeCount===0&&this._changeBigSmallRecords.delete(s)}})}changeType(n,i){let s={options:{video:!n,smallVideo:n},isSubscribing:!1,reSubscribeCount:Zp};this._changeBigSmallRecords.set(i.userId,s),this._log.info("set [".concat(i.userId,"] video prefer type: ").concat(n?"small":"big"))}get smallStreamConfig(){return this._smallStreamConfig}_initBusinessInfo(n){this._businessInfo=n.businessInfo;let i={};if(XV(n.businessInfo)&&(i=JSON.parse(n.businessInfo)),!Bf(n.pureAudioPushMode)){if(!Number.isInteger(Number(n.pureAudioPushMode)))throw new on({code:Ht.INVALID_PARAMETER,message:jn({key:Bn.INVALID_PURE_AUDIO})});this._pureAudioPushMode=n.pureAudioPushMode,i.Str_uc_params||(i.Str_uc_params={}),i.Str_uc_params.pure_audio_push_mod=this._pureAudioPushMode}if(!Bf(n.userDefineRecordId)){let s=/^[A-Za-z0-9_-]{1,64}$/gi;if(n.userDefineRecordId.match(s)===null)throw new on({code:Ht.INVALID_PARAMETER,message:jn({key:Bn.INVALID_USER_DEFINE_RECORDID})});i.Str_uc_params||(i.Str_uc_params={}),i.Str_uc_params.userdefine_record_id=n.userDefineRecordId}if(!Bf(n.userDefinePushArgs)){if(!(XV(n.userDefinePushArgs)&&String(n.userDefinePushArgs)&&String(n.userDefinePushArgs).length<=256))throw new on({code:Ht.INVALID_PARAMETER,message:jn({key:Bn.INVALID_USER_DEFINE_PUSH_ARGS})});i.Str_uc_params||(i.Str_uc_params={}),i.Str_uc_params.userdefine_push_args=n.userDefinePushArgs}jm(i)||(this._businessInfo=JSON.stringify(i))}sendSEI(n,i){var s,u;this.uplinkConnection instanceof Ww&&(i!=null&&i.toSubStream?(s=this.uplinkConnection.localAuxVideoTrack)==null||s.sendSEI(n,i):(u=this.uplinkConnection.localMainVideoTrack)==null||u.sendSEI(n,i))}sendCustomMessage(n){var i;(i=this._customMessageManager)==null||i.send(n)}enableInsertableStreams(){if(this.singlePC&&!this.singlePC.enableInsertableStreams)return this.singlePC.enableInsertableStreams=!0,this.singlePC.startReconnection()}};return Yt([TV(["left",zr.INIT],"joined"),Au({settings:{retries:1,timeout:0},onError(n,i,s){this._isUsingCachedSchedule&&!this.isDestroyed?(this._log.warn("is using cached schedule, retry join"),zl(!0),this.reset(),i()):this._signalChannel&&this._signalChannel.isConnected&&this._signalChannel.keepAlive?(this._log.warn("is using keepAlive ws, retry join"),this._signalChannel.close(),this.reset(),i()):(this.reset(),this._log.error(n),s(n))}}),$r(n=>{let i=new Gne;return function(s,u,p){return Ke(this,null,function*(){let y=String(s.roomId||s.strRoomId);if(this.userId=s.userId,this.sdkAppId=s.sdkAppId,this.userSig=s.userSig,this._log.setSdkAppId(this.sdkAppId),this._log.setUserId(this.userId),this.scene=u,s.privateMapKey=s.privateMapKey||"",this.isJoined)throw new on({code:Ht.INVALID_OPERATION,message:jn({key:Bn.INVALID_JOIN})});if(this.checkDestroy(),i.isJoined({userId:this.userId,roomId:y,sdkAppId:this.sdkAppId,room:this}))throw new on({code:Ht.INVALID_OPERATION,message:jn({key:Bn.REPEAT_JOIN,data:this.userId})});i.add({room:this,roomId:y}),this.role=s.role===21?"audience":"anchor",this._log.info("Join() => joining room: ".concat(y," useStringRoomId: ").concat(this.useStringRoomId," scene: ").concat(this.scene," role: ").concat(this.role)),Pt.emit(bt.JOIN_START,{room:this,roomId:y,params:s}),this.checkSystemResult=yield _m.checkSystemRequirementsInternal(),this.checkDestroy();let E=rs.getEnv();E||(E=gu.QCLOUD,this.proxy_ws&&(this.proxy_ws.startsWith(uC.OLD_CLOUD_LADDER)?E=gu.OLD_CLOUD_LADDER:this.proxy_ws.startsWith(uC.WEBRTC)&&(E=gu.WEBRTC))),Wr.setConfig({env:E,sdkAppId:String(this.sdkAppId),userId:this.userId,roomId:y}),qne.call(this);let{isH264EncodeSupported:A,isVp8EncodeSupported:w}=this.checkSystemResult.detail;if(!_m.isWebRTCSupported()||!A&&!w)throw new on({code:Ht.NOT_SUPPORTED,message:jn({key:Bn.NOT_SUPPORTED_WEBRTC})});try{!this.proxy_ws&&!this.proxy_wt&&!this.scheduleResult.domains&&!rs.getEnv()&&(yield this.schedule(s,p));let V=yield n.call(this,s,u,p);return this.roomId=y,this._joinedTimestamp=rs.performanceNow(),Pt.emit(bt.JOIN_SUCCESS,{room:this}),p===30&&!s.component&&Wr.uploadEvent({log:"stat-conv-".concat(Number(Cf),"-").concat(location.hostname),userId:this.userId}),V}catch(V){throw i.delete({room:this,roomId:y}),Pt.emit(bt.JOIN_FAILED,{room:this,error:V}),V}})}})],ic.prototype,"join",1),Yt([TV("joined","left",{ignoreError:!0,success(){this.reset(!0)}}),$r(n=>function(){return Ke(this,null,function*(){Pt.emit(bt.LEAVE_START,{room:this}),yield n.call(this),Pt.emit(bt.LEAVE_SUCCESS,{room:this,roomId:this.roomId})})}),Yx("leave room"),E_({fnName:"publish",validateArgs:!1}),E_({fnName:"unsubscribe",validateArgs:!1})],ic.prototype,"leave",1),Yt([Pf(),$r(n=>function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return Ke(this,null,function*(){if(this.scene==="live"&&this.role!=="anchor"||(s=s.filter(y=>y.outMediaTrack&&y.state==="capture"),!s.length))return;Pt.emit("61",{room:this});let p=n.apply(this,s);return s.forEach(y=>y.publish(this,p)),p})}),Au({settings:{retries:bf,timeout:n=>If(n)},onError(n,i,s){var u;(u=n.message)!=null&&u.includes("timeout")?(this._log.warn("publish timeout"),i()):(this._log.error("publish failed: ".concat(n)),s(n),Pt.emit(bt.PUBLISH_FAILED,{room:this}))}})],ic.prototype,"publish",1),Yt([E_({fnName:"publish"}),(JV="api-call",function(n,i,s){let u=s.value;return s.value=function(){for(var p=arguments.length,y=new Array(p),E=0;E<p;E++)y[E]=arguments[E];let A=Rm.get(this);if(A){let w=A.queue.filter((V,K)=>{if(K===0)return!0;let z=!0;return V.args.forEach(ue=>{y.find(ve=>ve===ue)||(z=!1)}),!z||(V.reject(new on({code:Ht.API_CALL_ABORTED,message:JV})),!1)});A.queue=w}return u.apply(this,y)},s}),Pf(),$r(n=>function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];let p=n.apply(this,s);return s.forEach(y=>y.unpublish()),p}),Cw(function(){var n,i;!this.uplinkConnection&&Sm()&&((i=(n=this.singlePC)==null?void 0:n.getPeerConnection())==null||i.getSenders().forEach(s=>s.track&&s.replaceTrack(null)))})],ic.prototype,"unpublish",1),Yt([Df(n=>n.userId)],ic.prototype,"replaceTrack",1),Yt([Df(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i[0].userId}),Zx(),$r(n=>function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];let p=n.apply(this,s);return s.forEach(y=>!y.isSubscribed&&y.subscribe(p)),p}),Au({settings:{retries:bf,timeout:n=>If(n)},onError(n,i,s,u){n.message.includes("timeout")?(this._log.warn("subscribe timeout"),i()):(this._log.error("subscribe failed: ".concat(n)),s(n),Pt.emit(bt.SUBSCRIBE_FAILED,{room:this,remoteTracks:u}))}})],ic.prototype,"subscribe",1),Yt([E_({fnName:"subscribe",callback(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];this.singlePC||i.forEach(u=>{let p=this.remotePublishedUserMap.get(u.userId);p&&!p.isMainStreamSubscribed&&!p.isAuxStreamSubscribed&&p.close("you unsubscribed")})}}),Df(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i[0].userId})],ic.prototype,"unsubscribe",1),$_.create=$_._create.bind($_,ic),$_})})(tW);var Dr=xbe(tW.exports);function Fb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fb=function(t){return typeof t}:Fb=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(e)}var e2e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function t2e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n2e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var nW=n2e(function(e,t){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */(function(r,o){e.exports=o()})(e2e,function(){return a={},r.m=o=[function(l,c){l.exports=function(d){var h;if(d.nodeName==="SELECT")d.focus(),h=d.value;else if(d.nodeName==="INPUT"||d.nodeName==="TEXTAREA"){var m=d.hasAttribute("readonly");m||d.setAttribute("readonly",""),d.select(),d.setSelectionRange(0,d.value.length),m||d.removeAttribute("readonly"),h=d.value}else{d.hasAttribute("contenteditable")&&d.focus();var g=window.getSelection(),v=document.createRange();v.selectNodeContents(d),g.removeAllRanges(),g.addRange(v),h=g.toString()}return h}},function(l,c){function d(){}d.prototype={on:function(h,m,g){var v=this.e||(this.e={});return(v[h]||(v[h]=[])).push({fn:m,ctx:g}),this},once:function(h,m,g){var v=this;function _(){v.off(h,_),m.apply(g,arguments)}return _._=m,this.on(h,_,g)},emit:function(h){for(var m=[].slice.call(arguments,1),g=((this.e||(this.e={}))[h]||[]).slice(),v=0,_=g.length;v<_;v++)g[v].fn.apply(g[v].ctx,m);return this},off:function(h,m){var g=this.e||(this.e={}),v=g[h],_=[];if(v&&m)for(var S=0,T=v.length;S<T;S++)v[S].fn!==m&&v[S].fn._!==m&&_.push(v[S]);return _.length?g[h]=_:delete g[h],this}},l.exports=d,l.exports.TinyEmitter=d},function(l,c,d){var h=d(3),m=d(4);l.exports=function(g,v,_){if(!g&&!v&&!_)throw new Error("Missing required arguments");if(!h.string(v))throw new TypeError("Second argument must be a String");if(!h.fn(_))throw new TypeError("Third argument must be a Function");if(h.node(g))return k=v,N=_,(R=g).addEventListener(k,N),{destroy:function(){R.removeEventListener(k,N)}};if(h.nodeList(g))return I=g,C=v,P=_,Array.prototype.forEach.call(I,function(O){O.addEventListener(C,P)}),{destroy:function(){Array.prototype.forEach.call(I,function(O){O.removeEventListener(C,P)})}};if(h.string(g))return S=g,T=v,b=_,m(document.body,S,T,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var S,T,b,I,C,P,R,k,N}},function(l,c){c.node=function(d){return d!==void 0&&d instanceof HTMLElement&&d.nodeType===1},c.nodeList=function(d){var h=Object.prototype.toString.call(d);return d!==void 0&&(h==="[object NodeList]"||h==="[object HTMLCollection]")&&"length"in d&&(d.length===0||c.node(d[0]))},c.string=function(d){return typeof d=="string"||d instanceof String},c.fn=function(d){return Object.prototype.toString.call(d)==="[object Function]"}},function(l,c,d){var h=d(5);function m(g,v,_,S,T){var b=function(I,C,P,R){return function(k){k.delegateTarget=h(k.target,C),k.delegateTarget&&R.call(I,k)}}.apply(this,arguments);return g.addEventListener(_,b,T),{destroy:function(){g.removeEventListener(_,b,T)}}}l.exports=function(g,v,_,S,T){return typeof g.addEventListener=="function"?m.apply(null,arguments):typeof _=="function"?m.bind(null,document).apply(null,arguments):(typeof g=="string"&&(g=document.querySelectorAll(g)),Array.prototype.map.call(g,function(b){return m(b,v,_,S,T)}))}},function(l,c){if(typeof Element!="undefined"&&!Element.prototype.matches){var d=Element.prototype;d.matches=d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector}l.exports=function(h,m){for(;h&&h.nodeType!==9;){if(typeof h.matches=="function"&&h.matches(m))return h;h=h.parentNode}}},function(l,c,d){d.r(c);var h=d(0),m=d.n(h),g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};function v(L,M){for(var U=0;U<M.length;U++){var j=M[U];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(L,j.key,j)}}function _(L){(function(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")})(this,_),this.resolveOptions(L),this.initSelection()}var S=(function(L,M,U){return M&&v(L.prototype,M),U&&v(L,U),L}(_,[{key:"resolveOptions",value:function(L){var M=0<arguments.length&&L!==void 0?L:{};this.action=M.action,this.container=M.container,this.emitter=M.emitter,this.target=M.target,this.text=M.text,this.trigger=M.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var L=this,M=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return L.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[M?"right":"left"]="-9999px";var U=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=U+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=m()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=m()(this.target),this.copyText()}},{key:"copyText",value:function(){var L=void 0;try{L=document.execCommand(this.action)}catch{L=!1}this.handleResult(L)}},{key:"handleResult",value:function(L){this.emitter.emit(L?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(L){var M=0<arguments.length&&L!==void 0?L:"copy";if(this._action=M,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(L){if(L!==void 0){if(!L||(L===void 0?"undefined":g(L))!=="object"||L.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(this.action==="copy"&&L.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(L.hasAttribute("readonly")||L.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=L}},get:function(){return this._target}}]),_),T=d(1),b=d.n(T),I=d(2),C=d.n(I),P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},R=function(L,M,U){return M&&k(L.prototype,M),U&&k(L,U),L};function k(L,M){for(var U=0;U<M.length;U++){var j=M[U];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(L,j.key,j)}}var N=(function(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}(O,b.a),R(O,[{key:"resolveOptions",value:function(L){var M=0<arguments.length&&L!==void 0?L:{};this.action=typeof M.action=="function"?M.action:this.defaultAction,this.target=typeof M.target=="function"?M.target:this.defaultTarget,this.text=typeof M.text=="function"?M.text:this.defaultText,this.container=P(M.container)==="object"?M.container:document.body}},{key:"listenClick",value:function(L){var M=this;this.listener=C()(L,"click",function(U){return M.onClick(U)})}},{key:"onClick",value:function(L){var M=L.delegateTarget||L.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new S({action:this.action(M),target:this.target(M),text:this.text(M),container:this.container,trigger:M,emitter:this})}},{key:"defaultAction",value:function(L){return $("action",L)}},{key:"defaultTarget",value:function(L){var M=$("target",L);if(M)return document.querySelector(M)}},{key:"defaultText",value:function(L){return $("text",L)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(L){var M=0<arguments.length&&L!==void 0?L:["copy","cut"],U=typeof M=="string"?[M]:M,j=!!document.queryCommandSupported;return U.forEach(function(W){j=j&&!!document.queryCommandSupported(W)}),j}}]),O);function O(L,M){(function(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")})(this,O);var U=function(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||typeof W!="object"&&typeof W!="function"?j:W}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return U.resolveOptions(M),U.listenClick(L),U}function $(L,M){var U="data-clipboard-"+L;if(M.hasAttribute(U))return M.getAttribute(U)}c.default=N}],r.c=a,r.d=function(l,c,d){r.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:d})},r.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},r.t=function(l,c){if(1&c&&(l=r(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var d=Object.create(null);if(r.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var h in l)r.d(d,h,function(m){return l[m]}.bind(null,h));return d},r.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(c,"a",c),c},r.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},r.p="",r(r.s=6).default;function r(l){if(a[l])return a[l].exports;var c=a[l]={i:l,l:!1,exports:{}};return o[l].call(c.exports,c,c.exports,r),c.l=!0,c.exports}var o,a})}),rW=t2e(nW);nW.ClipboardJS;var s1={autoSetContainer:!1,appendToBody:!0};function oW(e,t,r){var o=document.createElement("button"),a=new rW(o,{text:function(){return e},action:function(){return"copy"},container:Fb(t)==="object"?t:document.body});a.on("success",function(l){a.destroy(),r(void 0,l)}),a.on("error",function(l){a.destroy(),r(l,void 0)}),s1.appendToBody&&document.body.appendChild(o),o.click(),s1.appendToBody&&document.body.removeChild(o)}function r2e(e,t){s1=t,e.config.globalProperties.$copyText=oW,e.directive("clipboard",{mounted:function(o,a){if(a.arg==="success")o._vClipboard_success=a.value;else if(a.arg==="error")o._vClipboard_error=a.value;else{var l=new rW(o,{text:function(){return a.value},action:function(){return a.arg==="cut"?"cut":"copy"},container:t.autoSetContainer?o:void 0});l.on("success",function(c){var d=o._vClipboard_success;d&&d(c)}),l.on("error",function(c){var d=o._vClipboard_error;d&&d(c)}),o._vClipboard=l}},updated:function(o,a){a.arg==="success"?o._vClipboard_success=a.value:a.arg==="error"?o._vClipboard_error=a.value:(o._vClipboard.text=function(){return a.value},o._vClipboard.action=function(){return a.arg==="cut"?"cut":"copy"})},unmounted:function(o,a){a.arg==="success"?delete o._vClipboard_success:a.arg==="error"?delete o._vClipboard_error:(o._vClipboard.destroy(),delete o._vClipboard)}})}/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const p0=typeof window!="undefined",Cl=(e,t=!1)=>t?Symbol.for(e):Symbol(e),o2e=(e,t,r)=>i2e({l:e,k:t,s:r}),i2e=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),vo=e=>typeof e=="number"&&isFinite(e),a2e=e=>aW(e)==="[object Date]",jc=e=>aW(e)==="[object RegExp]",aS=e=>Vn(e)&&Object.keys(e).length===0,Lo=Object.assign;let NU;const ul=()=>NU||(NU=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function PU(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const s2e=Object.prototype.hasOwnProperty;function m0(e,t){return s2e.call(e,t)}const xr=Array.isArray,kr=e=>typeof e=="function",Xt=e=>typeof e=="string",rr=e=>typeof e=="boolean",vr=e=>e!==null&&typeof e=="object",l2e=e=>vr(e)&&kr(e.then)&&kr(e.catch),iW=Object.prototype.toString,aW=e=>iW.call(e),Vn=e=>{if(!vr(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},c2e=e=>e==null?"":xr(e)||Vn(e)&&e.toString===iW?JSON.stringify(e,null,2):String(e);function u2e(e,t=""){return e.reduce((r,o,a)=>a===0?r+o:r+t+o,"")}function sS(e){let t=e;return()=>++t}function d2e(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const yb=e=>!vr(e)||xr(e);function $b(e,t){if(yb(e)||yb(t))throw new Error("Invalid value");const r=[{src:e,des:t}];for(;r.length;){const{src:o,des:a}=r.pop();Object.keys(o).forEach(l=>{yb(o[l])||yb(a[l])?a[l]=o[l]:r.push({src:o[l],des:a[l]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function f2e(e,t,r){return{line:e,column:t,offset:r}}function v0(e,t,r){const o={start:e,end:t};return r!=null&&(o.source=r),o}const h2e=/\{([0-9a-zA-Z]+)\}/g;function sW(e,...t){return t.length===1&&p2e(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(h2e,(r,o)=>t.hasOwnProperty(o)?t[o]:"")}const lW=Object.assign,DU=e=>typeof e=="string",p2e=e=>e!==null&&typeof e=="object";function cW(e,t=""){return e.reduce((r,o,a)=>a===0?r+o:r+t+o,"")}const MA={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},m2e={[MA.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function v2e(e,t,...r){const o=sW(m2e[e]||"",...r||[]),a={message:String(o),code:e};return t&&(a.location=t),a}const kn={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},g2e={[kn.EXPECTED_TOKEN]:"Expected token: '{0}'",[kn.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[kn.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[kn.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[kn.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[kn.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[kn.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[kn.EMPTY_PLACEHOLDER]:"Empty placeholder",[kn.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[kn.INVALID_LINKED_FORMAT]:"Invalid linked format",[kn.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[kn.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[kn.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[kn.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[kn.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[kn.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Qh(e,t,r={}){const{domain:o,messages:a,args:l}=r,c=sW((a||g2e)[e]||"",...l||[]),d=new SyntaxError(String(c));return d.code=e,t&&(d.location=t),d.domain=o,d}function y2e(e){throw e}const nl=" ",_2e="\r",ri=`
`,b2e=String.fromCharCode(8232),S2e=String.fromCharCode(8233);function E2e(e){const t=e;let r=0,o=1,a=1,l=0;const c=$=>t[$]===_2e&&t[$+1]===ri,d=$=>t[$]===ri,h=$=>t[$]===S2e,m=$=>t[$]===b2e,g=$=>c($)||d($)||h($)||m($),v=()=>r,_=()=>o,S=()=>a,T=()=>l,b=$=>c($)||h($)||m($)?ri:t[$],I=()=>b(r),C=()=>b(r+l);function P(){return l=0,g(r)&&(o++,a=0),c(r)&&r++,r++,a++,t[r]}function R(){return c(r+l)&&l++,l++,t[r+l]}function k(){r=0,o=1,a=1,l=0}function N($=0){l=$}function O(){const $=r+l;for(;$!==r;)P();l=0}return{index:v,line:_,column:S,peekOffset:T,charAt:b,currentChar:I,currentPeek:C,next:P,peek:R,reset:k,resetPeek:N,skipToPeek:O}}const uc=void 0,T2e=".",LU="'",C2e="tokenizer";function w2e(e,t={}){const r=t.location!==!1,o=E2e(e),a=()=>o.index(),l=()=>f2e(o.line(),o.column(),o.index()),c=l(),d=a(),h={currentType:14,offset:d,startLoc:c,endLoc:c,lastType:14,lastOffset:d,lastStartLoc:c,lastEndLoc:c,braceNest:0,inLinked:!1,text:""},m=()=>h,{onError:g}=t;function v(le,pe,Re,...Ae){const qe=m();if(pe.column+=Re,pe.offset+=Re,g){const rt=r?v0(qe.startLoc,pe):null,Ue=Qh(le,rt,{domain:C2e,args:Ae});g(Ue)}}function _(le,pe,Re){le.endLoc=l(),le.currentType=pe;const Ae={type:pe};return r&&(Ae.loc=v0(le.startLoc,le.endLoc)),Re!=null&&(Ae.value=Re),Ae}const S=le=>_(le,14);function T(le,pe){return le.currentChar()===pe?(le.next(),pe):(v(kn.EXPECTED_TOKEN,l(),0,pe),"")}function b(le){let pe="";for(;le.currentPeek()===nl||le.currentPeek()===ri;)pe+=le.currentPeek(),le.peek();return pe}function I(le){const pe=b(le);return le.skipToPeek(),pe}function C(le){if(le===uc)return!1;const pe=le.charCodeAt(0);return pe>=97&&pe<=122||pe>=65&&pe<=90||pe===95}function P(le){if(le===uc)return!1;const pe=le.charCodeAt(0);return pe>=48&&pe<=57}function R(le,pe){const{currentType:Re}=pe;if(Re!==2)return!1;b(le);const Ae=C(le.currentPeek());return le.resetPeek(),Ae}function k(le,pe){const{currentType:Re}=pe;if(Re!==2)return!1;b(le);const Ae=le.currentPeek()==="-"?le.peek():le.currentPeek(),qe=P(Ae);return le.resetPeek(),qe}function N(le,pe){const{currentType:Re}=pe;if(Re!==2)return!1;b(le);const Ae=le.currentPeek()===LU;return le.resetPeek(),Ae}function O(le,pe){const{currentType:Re}=pe;if(Re!==8)return!1;b(le);const Ae=le.currentPeek()===".";return le.resetPeek(),Ae}function $(le,pe){const{currentType:Re}=pe;if(Re!==9)return!1;b(le);const Ae=C(le.currentPeek());return le.resetPeek(),Ae}function L(le,pe){const{currentType:Re}=pe;if(!(Re===8||Re===12))return!1;b(le);const Ae=le.currentPeek()===":";return le.resetPeek(),Ae}function M(le,pe){const{currentType:Re}=pe;if(Re!==10)return!1;const Ae=()=>{const rt=le.currentPeek();return rt==="{"?C(le.peek()):rt==="@"||rt==="%"||rt==="|"||rt===":"||rt==="."||rt===nl||!rt?!1:rt===ri?(le.peek(),Ae()):W(le,!1)},qe=Ae();return le.resetPeek(),qe}function U(le){b(le);const pe=le.currentPeek()==="|";return le.resetPeek(),pe}function j(le){const pe=b(le),Re=le.currentPeek()==="%"&&le.peek()==="{";return le.resetPeek(),{isModulo:Re,hasSpace:pe.length>0}}function W(le,pe=!0){const Re=(qe=!1,rt="",Ue=!1)=>{const Xe=le.currentPeek();return Xe==="{"?rt==="%"?!1:qe:Xe==="@"||!Xe?rt==="%"?!0:qe:Xe==="%"?(le.peek(),Re(qe,"%",!0)):Xe==="|"?rt==="%"||Ue?!0:!(rt===nl||rt===ri):Xe===nl?(le.peek(),Re(!0,nl,Ue)):Xe===ri?(le.peek(),Re(!0,ri,Ue)):!0},Ae=Re();return pe&&le.resetPeek(),Ae}function re(le,pe){const Re=le.currentChar();return Re===uc?uc:pe(Re)?(le.next(),Re):null}function ae(le){const pe=le.charCodeAt(0);return pe>=97&&pe<=122||pe>=65&&pe<=90||pe>=48&&pe<=57||pe===95||pe===36}function ee(le){return re(le,ae)}function G(le){const pe=le.charCodeAt(0);return pe>=97&&pe<=122||pe>=65&&pe<=90||pe>=48&&pe<=57||pe===95||pe===36||pe===45}function Z(le){return re(le,G)}function X(le){const pe=le.charCodeAt(0);return pe>=48&&pe<=57}function H(le){return re(le,X)}function J(le){const pe=le.charCodeAt(0);return pe>=48&&pe<=57||pe>=65&&pe<=70||pe>=97&&pe<=102}function fe(le){return re(le,J)}function ge(le){let pe="",Re="";for(;pe=H(le);)Re+=pe;return Re}function me(le){I(le);const pe=le.currentChar();return pe!=="%"&&v(kn.EXPECTED_TOKEN,l(),0,pe),le.next(),"%"}function Ee(le){let pe="";for(;;){const Re=le.currentChar();if(Re==="{"||Re==="}"||Re==="@"||Re==="|"||!Re)break;if(Re==="%")if(W(le))pe+=Re,le.next();else break;else if(Re===nl||Re===ri)if(W(le))pe+=Re,le.next();else{if(U(le))break;pe+=Re,le.next()}else pe+=Re,le.next()}return pe}function Fe(le){I(le);let pe="",Re="";for(;pe=Z(le);)Re+=pe;return le.currentChar()===uc&&v(kn.UNTERMINATED_CLOSING_BRACE,l(),0),Re}function $e(le){I(le);let pe="";return le.currentChar()==="-"?(le.next(),pe+=`-${ge(le)}`):pe+=ge(le),le.currentChar()===uc&&v(kn.UNTERMINATED_CLOSING_BRACE,l(),0),pe}function de(le){return le!==LU&&le!==ri}function Le(le){I(le),T(le,"'");let pe="",Re="";for(;pe=re(le,de);)pe==="\\"?Re+=Te(le):Re+=pe;const Ae=le.currentChar();return Ae===ri||Ae===uc?(v(kn.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,l(),0),Ae===ri&&(le.next(),T(le,"'")),Re):(T(le,"'"),Re)}function Te(le){const pe=le.currentChar();switch(pe){case"\\":case"'":return le.next(),`\\${pe}`;case"u":return Be(le,pe,4);case"U":return Be(le,pe,6);default:return v(kn.UNKNOWN_ESCAPE_SEQUENCE,l(),0,pe),""}}function Be(le,pe,Re){T(le,pe);let Ae="";for(let qe=0;qe<Re;qe++){const rt=fe(le);if(!rt){v(kn.INVALID_UNICODE_ESCAPE_SEQUENCE,l(),0,`\\${pe}${Ae}${le.currentChar()}`);break}Ae+=rt}return`\\${pe}${Ae}`}function be(le){return le!=="{"&&le!=="}"&&le!==nl&&le!==ri}function We(le){I(le);let pe="",Re="";for(;pe=re(le,be);)Re+=pe;return Re}function ce(le){let pe="",Re="";for(;pe=ee(le);)Re+=pe;return Re}function ie(le){const pe=Re=>{const Ae=le.currentChar();return Ae==="{"||Ae==="%"||Ae==="@"||Ae==="|"||Ae==="("||Ae===")"||!Ae||Ae===nl?Re:(Re+=Ae,le.next(),pe(Re))};return pe("")}function De(le){I(le);const pe=T(le,"|");return I(le),pe}function tt(le,pe){let Re=null;switch(le.currentChar()){case"{":return pe.braceNest>=1&&v(kn.NOT_ALLOW_NEST_PLACEHOLDER,l(),0),le.next(),Re=_(pe,2,"{"),I(le),pe.braceNest++,Re;case"}":return pe.braceNest>0&&pe.currentType===2&&v(kn.EMPTY_PLACEHOLDER,l(),0),le.next(),Re=_(pe,3,"}"),pe.braceNest--,pe.braceNest>0&&I(le),pe.inLinked&&pe.braceNest===0&&(pe.inLinked=!1),Re;case"@":return pe.braceNest>0&&v(kn.UNTERMINATED_CLOSING_BRACE,l(),0),Re=xe(le,pe)||S(pe),pe.braceNest=0,Re;default:{let qe=!0,rt=!0,Ue=!0;if(U(le))return pe.braceNest>0&&v(kn.UNTERMINATED_CLOSING_BRACE,l(),0),Re=_(pe,1,De(le)),pe.braceNest=0,pe.inLinked=!1,Re;if(pe.braceNest>0&&(pe.currentType===5||pe.currentType===6||pe.currentType===7))return v(kn.UNTERMINATED_CLOSING_BRACE,l(),0),pe.braceNest=0,ze(le,pe);if(qe=R(le,pe))return Re=_(pe,5,Fe(le)),I(le),Re;if(rt=k(le,pe))return Re=_(pe,6,$e(le)),I(le),Re;if(Ue=N(le,pe))return Re=_(pe,7,Le(le)),I(le),Re;if(!qe&&!rt&&!Ue)return Re=_(pe,13,We(le)),v(kn.INVALID_TOKEN_IN_PLACEHOLDER,l(),0,Re.value),I(le),Re;break}}return Re}function xe(le,pe){const{currentType:Re}=pe;let Ae=null;const qe=le.currentChar();switch((Re===8||Re===9||Re===12||Re===10)&&(qe===ri||qe===nl)&&v(kn.INVALID_LINKED_FORMAT,l(),0),qe){case"@":return le.next(),Ae=_(pe,8,"@"),pe.inLinked=!0,Ae;case".":return I(le),le.next(),_(pe,9,".");case":":return I(le),le.next(),_(pe,10,":");default:return U(le)?(Ae=_(pe,1,De(le)),pe.braceNest=0,pe.inLinked=!1,Ae):O(le,pe)||L(le,pe)?(I(le),xe(le,pe)):$(le,pe)?(I(le),_(pe,12,ce(le))):M(le,pe)?(I(le),qe==="{"?tt(le,pe)||Ae:_(pe,11,ie(le))):(Re===8&&v(kn.INVALID_LINKED_FORMAT,l(),0),pe.braceNest=0,pe.inLinked=!1,ze(le,pe))}}function ze(le,pe){let Re={type:14};if(pe.braceNest>0)return tt(le,pe)||S(pe);if(pe.inLinked)return xe(le,pe)||S(pe);switch(le.currentChar()){case"{":return tt(le,pe)||S(pe);case"}":return v(kn.UNBALANCED_CLOSING_BRACE,l(),0),le.next(),_(pe,3,"}");case"@":return xe(le,pe)||S(pe);default:{if(U(le))return Re=_(pe,1,De(le)),pe.braceNest=0,pe.inLinked=!1,Re;const{isModulo:qe,hasSpace:rt}=j(le);if(qe)return rt?_(pe,0,Ee(le)):_(pe,4,me(le));if(W(le))return _(pe,0,Ee(le));break}}return Re}function ot(){const{currentType:le,offset:pe,startLoc:Re,endLoc:Ae}=h;return h.lastType=le,h.lastOffset=pe,h.lastStartLoc=Re,h.lastEndLoc=Ae,h.offset=a(),h.startLoc=l(),o.currentChar()===uc?_(h,14):ze(o,h)}return{nextToken:ot,currentOffset:a,currentPosition:l,context:m}}const I2e="parser",k2e=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function R2e(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const o=parseInt(t||r,16);return o<=55295||o>=57344?String.fromCodePoint(o):"\uFFFD"}}}function A2e(e={}){const t=e.location!==!1,{onError:r,onWarn:o}=e;function a(R,k,N,O,...$){const L=R.currentPosition();if(L.offset+=O,L.column+=O,r){const M=t?v0(N,L):null,U=Qh(k,M,{domain:I2e,args:$});r(U)}}function l(R,k,N,O,...$){const L=R.currentPosition();if(L.offset+=O,L.column+=O,o){const M=t?v0(N,L):null;o(v2e(k,M,$))}}function c(R,k,N){const O={type:R};return t&&(O.start=k,O.end=k,O.loc={start:N,end:N}),O}function d(R,k,N,O){O&&(R.type=O),t&&(R.end=k,R.loc&&(R.loc.end=N))}function h(R,k){const N=R.context(),O=c(3,N.offset,N.startLoc);return O.value=k,d(O,R.currentOffset(),R.currentPosition()),O}function m(R,k){const N=R.context(),{lastOffset:O,lastStartLoc:$}=N,L=c(5,O,$);return L.index=parseInt(k,10),R.nextToken(),d(L,R.currentOffset(),R.currentPosition()),L}function g(R,k,N){const O=R.context(),{lastOffset:$,lastStartLoc:L}=O,M=c(4,$,L);return M.key=k,N===!0&&(M.modulo=!0),R.nextToken(),d(M,R.currentOffset(),R.currentPosition()),M}function v(R,k){const N=R.context(),{lastOffset:O,lastStartLoc:$}=N,L=c(9,O,$);return L.value=k.replace(k2e,R2e),R.nextToken(),d(L,R.currentOffset(),R.currentPosition()),L}function _(R){const k=R.nextToken(),N=R.context(),{lastOffset:O,lastStartLoc:$}=N,L=c(8,O,$);return k.type!==12?(a(R,kn.UNEXPECTED_EMPTY_LINKED_MODIFIER,N.lastStartLoc,0),L.value="",d(L,O,$),{nextConsumeToken:k,node:L}):(k.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,Da(k)),L.value=k.value||"",d(L,R.currentOffset(),R.currentPosition()),{node:L})}function S(R,k){const N=R.context(),O=c(7,N.offset,N.startLoc);return O.value=k,d(O,R.currentOffset(),R.currentPosition()),O}function T(R){const k=R.context(),N=c(6,k.offset,k.startLoc);let O=R.nextToken();if(O.type===9){const $=_(R);N.modifier=$.node,O=$.nextConsumeToken||R.nextToken()}switch(O.type!==10&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(O)),O=R.nextToken(),O.type===2&&(O=R.nextToken()),O.type){case 11:O.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(O)),N.key=S(R,O.value||"");break;case 5:O.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(O)),N.key=g(R,O.value||"");break;case 6:O.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(O)),N.key=m(R,O.value||"");break;case 7:O.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(O)),N.key=v(R,O.value||"");break;default:{a(R,kn.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const $=R.context(),L=c(7,$.offset,$.startLoc);return L.value="",d(L,$.offset,$.startLoc),N.key=L,d(N,$.offset,$.startLoc),{nextConsumeToken:O,node:N}}}return d(N,R.currentOffset(),R.currentPosition()),{node:N}}function b(R){const k=R.context(),N=k.currentType===1?R.currentOffset():k.offset,O=k.currentType===1?k.endLoc:k.startLoc,$=c(2,N,O);$.items=[];let L=null,M=null;do{const W=L||R.nextToken();switch(L=null,W.type){case 0:W.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(W)),$.items.push(h(R,W.value||""));break;case 6:W.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(W)),$.items.push(m(R,W.value||""));break;case 4:M=!0;break;case 5:W.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(W)),$.items.push(g(R,W.value||"",!!M)),M&&(l(R,MA.USE_MODULO_SYNTAX,k.lastStartLoc,0,Da(W)),M=null);break;case 7:W.value==null&&a(R,kn.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Da(W)),$.items.push(v(R,W.value||""));break;case 8:{const re=T(R);$.items.push(re.node),L=re.nextConsumeToken||null;break}}}while(k.currentType!==14&&k.currentType!==1);const U=k.currentType===1?k.lastOffset:R.currentOffset(),j=k.currentType===1?k.lastEndLoc:R.currentPosition();return d($,U,j),$}function I(R,k,N,O){const $=R.context();let L=O.items.length===0;const M=c(1,k,N);M.cases=[],M.cases.push(O);do{const U=b(R);L||(L=U.items.length===0),M.cases.push(U)}while($.currentType!==14);return L&&a(R,kn.MUST_HAVE_MESSAGES_IN_PLURAL,N,0),d(M,R.currentOffset(),R.currentPosition()),M}function C(R){const k=R.context(),{offset:N,startLoc:O}=k,$=b(R);return k.currentType===14?$:I(R,N,O,$)}function P(R){const k=w2e(R,lW({},e)),N=k.context(),O=c(0,N.offset,N.startLoc);return t&&O.loc&&(O.loc.source=R),O.body=C(k),e.onCacheKey&&(O.cacheKey=e.onCacheKey(R)),N.currentType!==14&&a(k,kn.UNEXPECTED_LEXICAL_ANALYSIS,N.lastStartLoc,0,R[N.offset]||""),d(O,k.currentOffset(),k.currentPosition()),O}return{parse:P}}function Da(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"\u2026":t}function O2e(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:l=>(r.helpers.add(l),l)}}function MU(e,t){for(let r=0;r<e.length;r++)xA(e[r],t)}function xA(e,t){switch(e.type){case 1:MU(e.cases,t),t.helper("plural");break;case 2:MU(e.items,t);break;case 6:{xA(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function N2e(e,t={}){const r=O2e(e);r.helper("normalize"),e.body&&xA(e.body,r);const o=r.context();e.helpers=Array.from(o.helpers)}function P2e(e){const t=e.body;return t.type===2?xU(t):t.cases.forEach(r=>xU(r)),e}function xU(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const o=e.items[r];if(!(o.type===3||o.type===9)||o.value==null)break;t.push(o.value)}if(t.length===e.items.length){e.static=cW(t);for(let r=0;r<e.items.length;r++){const o=e.items[r];(o.type===3||o.type===9)&&delete o.value}}}}const D2e="minifier";function Qf(e){switch(e.t=e.type,e.type){case 0:{const t=e;Qf(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,r=t.cases;for(let o=0;o<r.length;o++)Qf(r[o]);t.c=r,delete t.cases;break}case 2:{const t=e,r=t.items;for(let o=0;o<r.length;o++)Qf(r[o]);t.i=r,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Qf(t.key),t.k=t.key,delete t.key,t.modifier&&(Qf(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Qh(kn.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:D2e,args:[e.type]})}delete e.type}const L2e="parser";function M2e(e,t){const{sourceMap:r,filename:o,breakLineCode:a,needIndent:l}=t,c=t.location!==!1,d={filename:o,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:l,indentLevel:0};c&&e.loc&&(d.source=e.loc.source);const h=()=>d;function m(I,C){d.code+=I}function g(I,C=!0){const P=C?a:"";m(l?P+"  ".repeat(I):P)}function v(I=!0){const C=++d.indentLevel;I&&g(C)}function _(I=!0){const C=--d.indentLevel;I&&g(C)}function S(){g(d.indentLevel)}return{context:h,push:m,indent:v,deindent:_,newline:S,helper:I=>`_${I}`,needIndent:()=>d.needIndent}}function x2e(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),Mh(e,t.key),t.modifier?(e.push(", "),Mh(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function V2e(e,t){const{helper:r,needIndent:o}=e;e.push(`${r("normalize")}([`),e.indent(o());const a=t.items.length;for(let l=0;l<a&&(Mh(e,t.items[l]),l!==a-1);l++)e.push(", ");e.deindent(o()),e.push("])")}function F2e(e,t){const{helper:r,needIndent:o}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(o());const a=t.cases.length;for(let l=0;l<a&&(Mh(e,t.cases[l]),l!==a-1);l++)e.push(", ");e.deindent(o()),e.push("])")}}function $2e(e,t){t.body?Mh(e,t.body):e.push("null")}function Mh(e,t){const{helper:r}=e;switch(t.type){case 0:$2e(e,t);break;case 1:F2e(e,t);break;case 2:V2e(e,t);break;case 6:x2e(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Qh(kn.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:L2e,args:[t.type]})}}const U2e=(e,t={})=>{const r=DU(t.mode)?t.mode:"normal",o=DU(t.filename)?t.filename:"message.intl",a=!!t.sourceMap,l=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,c=t.needIndent?t.needIndent:r!=="arrow",d=e.helpers||[],h=M2e(e,{mode:r,filename:o,sourceMap:a,breakLineCode:l,needIndent:c});h.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),h.indent(c),d.length>0&&(h.push(`const { ${cW(d.map(v=>`${v}: _${v}`),", ")} } = ctx`),h.newline()),h.push("return "),Mh(h,e),h.deindent(c),h.push("}"),delete e.helpers;const{code:m,map:g}=h.context();return{ast:e,code:m,map:g?g.toJSON():void 0}};function B2e(e,t={}){const r=lW({},t),o=!!r.jit,a=!!r.minify,l=r.optimize==null?!0:r.optimize,d=A2e(r).parse(e);return o?(l&&P2e(d),a&&Qf(d),{ast:d,code:""}):(N2e(d,r),U2e(d,r))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function H2e(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ul().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ul().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ul().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Yc=[];Yc[0]={w:[0],i:[3,0],["["]:[4],o:[7]};Yc[1]={w:[1],["."]:[2],["["]:[4],o:[7]};Yc[2]={w:[2],i:[3,0],[0]:[3,0]};Yc[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};Yc[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};Yc[5]={["'"]:[4,0],o:8,l:[5,0]};Yc[6]={['"']:[4,0],o:8,l:[6,0]};const j2e=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function W2e(e){return j2e.test(e)}function z2e(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function K2e(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function G2e(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:W2e(t)?z2e(t):"*"+t}function q2e(e){const t=[];let r=-1,o=0,a=0,l,c,d,h,m,g,v;const _=[];_[0]=()=>{c===void 0?c=d:c+=d},_[1]=()=>{c!==void 0&&(t.push(c),c=void 0)},_[2]=()=>{_[0](),a++},_[3]=()=>{if(a>0)a--,o=4,_[0]();else{if(a=0,c===void 0||(c=G2e(c),c===!1))return!1;_[1]()}};function S(){const T=e[r+1];if(o===5&&T==="'"||o===6&&T==='"')return r++,d="\\"+T,_[0](),!0}for(;o!==null;)if(r++,l=e[r],!(l==="\\"&&S())){if(h=K2e(l),v=Yc[o],m=v[h]||v.l||8,m===8||(o=m[0],m[1]!==void 0&&(g=_[m[1]],g&&(d=l,g()===!1))))return;if(o===7)return t}}const VU=new Map;function Y2e(e,t){return vr(e)?e[t]:null}function J2e(e,t){if(!vr(e))return null;let r=VU.get(t);if(r||(r=q2e(t),r&&VU.set(t,r)),!r)return null;const o=r.length;let a=e,l=0;for(;l<o;){const c=a[r[l]];if(c===void 0||kr(a))return null;a=c,l++}return a}const X2e=e=>e,Q2e=e=>"",Z2e="text",eMe=e=>e.length===0?"":u2e(e),tMe=c2e;function FU(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function nMe(e){const t=vo(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(vo(e.named.count)||vo(e.named.n))?vo(e.named.count)?e.named.count:vo(e.named.n)?e.named.n:t:t}function rMe(e,t){t.count||(t.count=e),t.n||(t.n=e)}function oMe(e={}){const t=e.locale,r=nMe(e),o=vr(e.pluralRules)&&Xt(t)&&kr(e.pluralRules[t])?e.pluralRules[t]:FU,a=vr(e.pluralRules)&&Xt(t)&&kr(e.pluralRules[t])?FU:void 0,l=C=>C[o(r,C.length,a)],c=e.list||[],d=C=>c[C],h=e.named||{};vo(e.pluralIndex)&&rMe(r,h);const m=C=>h[C];function g(C){const P=kr(e.messages)?e.messages(C):vr(e.messages)?e.messages[C]:!1;return P||(e.parent?e.parent.message(C):Q2e)}const v=C=>e.modifiers?e.modifiers[C]:X2e,_=Vn(e.processor)&&kr(e.processor.normalize)?e.processor.normalize:eMe,S=Vn(e.processor)&&kr(e.processor.interpolate)?e.processor.interpolate:tMe,T=Vn(e.processor)&&Xt(e.processor.type)?e.processor.type:Z2e,I={list:d,named:m,plural:l,linked:(C,...P)=>{const[R,k]=P;let N="text",O="";P.length===1?vr(R)?(O=R.modifier||O,N=R.type||N):Xt(R)&&(O=R||O):P.length===2&&(Xt(R)&&(O=R||O),Xt(k)&&(N=k||N));const $=g(C)(I),L=N==="vnode"&&xr($)&&O?$[0]:$;return O?v(O)(L,N):L},message:g,type:T,interpolate:S,normalize:_,values:Lo({},c,h)};return I}let Xv=null;function iMe(e){Xv=e}function aMe(e,t,r){Xv&&Xv.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const sMe=lMe("function:translate");function lMe(e){return t=>Xv&&Xv.emit(e,t)}const uW=MA.__EXTEND_POINT__,zu=sS(uW),cMe={NOT_FOUND_KEY:uW,FALLBACK_TO_TRANSLATE:zu(),CANNOT_FORMAT_NUMBER:zu(),FALLBACK_TO_NUMBER_FORMAT:zu(),CANNOT_FORMAT_DATE:zu(),FALLBACK_TO_DATE_FORMAT:zu(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:zu(),__EXTEND_POINT__:zu()},dW=kn.__EXTEND_POINT__,Ku=sS(dW),Fa={INVALID_ARGUMENT:dW,INVALID_DATE_ARGUMENT:Ku(),INVALID_ISO_DATE_ARGUMENT:Ku(),NOT_SUPPORT_NON_STRING_MESSAGE:Ku(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ku(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ku(),NOT_SUPPORT_LOCALE_TYPE:Ku(),__EXTEND_POINT__:Ku()};function ys(e){return Qh(e,null,void 0)}function VA(e,t){return t.locale!=null?$U(t.locale):$U(e.locale)}let NI;function $U(e){if(Xt(e))return e;if(kr(e)){if(e.resolvedOnce&&NI!=null)return NI;if(e.constructor.name==="Function"){const t=e();if(l2e(t))throw ys(Fa.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return NI=t}else throw ys(Fa.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ys(Fa.NOT_SUPPORT_LOCALE_TYPE)}function uMe(e,t,r){return[...new Set([r,...xr(t)?t:vr(t)?Object.keys(t):Xt(t)?[t]:[r]])]}function fW(e,t,r){const o=Xt(r)?r:xh,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let l=a.__localeChainCache.get(o);if(!l){l=[];let c=[r];for(;xr(c);)c=UU(l,c,t);const d=xr(t)||!Vn(t)?t:t.default?t.default:null;c=Xt(d)?[d]:d,xr(c)&&UU(l,c,!1),a.__localeChainCache.set(o,l)}return l}function UU(e,t,r){let o=!0;for(let a=0;a<t.length&&rr(o);a++){const l=t[a];Xt(l)&&(o=dMe(e,t[a],r))}return o}function dMe(e,t,r){let o;const a=t.split("-");do{const l=a.join("-");o=fMe(e,l,r),a.splice(-1,1)}while(a.length&&o===!0);return o}function fMe(e,t,r){let o=!1;if(!e.includes(t)&&(o=!0,t)){o=t[t.length-1]!=="!";const a=t.replace(/!/g,"");e.push(a),(xr(r)||Vn(r))&&r[a]&&(o=r[a])}return o}const hMe="9.13.1",lS=-1,xh="en-US",BU="",HU=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function pMe(){return{upper:(e,t)=>t==="text"&&Xt(e)?e.toUpperCase():t==="vnode"&&vr(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Xt(e)?e.toLowerCase():t==="vnode"&&vr(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Xt(e)?HU(e):t==="vnode"&&vr(e)&&"__v_isVNode"in e?HU(e.children):e}}let hW;function jU(e){hW=e}let pW;function mMe(e){pW=e}let mW;function vMe(e){mW=e}let vW=null;const WU=e=>{vW=e},gMe=()=>vW;let gW=null;const zU=e=>{gW=e},yMe=()=>gW;let KU=0;function _Me(e={}){const t=kr(e.onWarn)?e.onWarn:d2e,r=Xt(e.version)?e.version:hMe,o=Xt(e.locale)||kr(e.locale)?e.locale:xh,a=kr(o)?xh:o,l=xr(e.fallbackLocale)||Vn(e.fallbackLocale)||Xt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,c=Vn(e.messages)?e.messages:{[a]:{}},d=Vn(e.datetimeFormats)?e.datetimeFormats:{[a]:{}},h=Vn(e.numberFormats)?e.numberFormats:{[a]:{}},m=Lo({},e.modifiers||{},pMe()),g=e.pluralRules||{},v=kr(e.missing)?e.missing:null,_=rr(e.missingWarn)||jc(e.missingWarn)?e.missingWarn:!0,S=rr(e.fallbackWarn)||jc(e.fallbackWarn)?e.fallbackWarn:!0,T=!!e.fallbackFormat,b=!!e.unresolving,I=kr(e.postTranslation)?e.postTranslation:null,C=Vn(e.processor)?e.processor:null,P=rr(e.warnHtmlMessage)?e.warnHtmlMessage:!0,R=!!e.escapeParameter,k=kr(e.messageCompiler)?e.messageCompiler:hW,N=kr(e.messageResolver)?e.messageResolver:pW||Y2e,O=kr(e.localeFallbacker)?e.localeFallbacker:mW||uMe,$=vr(e.fallbackContext)?e.fallbackContext:void 0,L=e,M=vr(L.__datetimeFormatters)?L.__datetimeFormatters:new Map,U=vr(L.__numberFormatters)?L.__numberFormatters:new Map,j=vr(L.__meta)?L.__meta:{};KU++;const W={version:r,cid:KU,locale:o,fallbackLocale:l,messages:c,modifiers:m,pluralRules:g,missing:v,missingWarn:_,fallbackWarn:S,fallbackFormat:T,unresolving:b,postTranslation:I,processor:C,warnHtmlMessage:P,escapeParameter:R,messageCompiler:k,messageResolver:N,localeFallbacker:O,fallbackContext:$,onWarn:t,__meta:j};return W.datetimeFormats=d,W.numberFormats=h,W.__datetimeFormatters=M,W.__numberFormatters=U,__INTLIFY_PROD_DEVTOOLS__&&aMe(W,r,j),W}function FA(e,t,r,o,a){const{missing:l,onWarn:c}=e;if(l!==null){const d=l(e,r,t,a);return Xt(d)?d:t}else return t}function Qm(e,t,r){const o=e;o.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function bMe(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function SMe(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let o=r+1;o<t.length;o++)if(bMe(e,t[o]))return!0;return!1}function PI(e){return r=>EMe(r,e)}function EMe(e,t){const r=t.b||t.body;if((r.t||r.type)===1){const o=r,a=o.c||o.cases;return e.plural(a.reduce((l,c)=>[...l,GU(e,c)],[]))}else return GU(e,r)}function GU(e,t){const r=t.s||t.static;if(r)return e.type==="text"?r:e.normalize([r]);{const o=(t.i||t.items).reduce((a,l)=>[...a,l1(e,l)],[]);return e.normalize(o)}}function l1(e,t){const r=t.t||t.type;switch(r){case 3:{const o=t;return o.v||o.value}case 9:{const o=t;return o.v||o.value}case 4:{const o=t;return e.interpolate(e.named(o.k||o.key))}case 5:{const o=t;return e.interpolate(e.list(o.i!=null?o.i:o.index))}case 6:{const o=t,a=o.m||o.modifier;return e.linked(l1(e,o.k||o.key),a?l1(e,a):void 0,e.type)}case 7:{const o=t;return o.v||o.value}case 8:{const o=t;return o.v||o.value}default:throw new Error(`unhandled node type on format message part: ${r}`)}}const yW=e=>e;let rh=Object.create(null);const Vh=e=>vr(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function _W(e,t={}){let r=!1;const o=t.onError||y2e;return t.onError=a=>{r=!0,o(a)},{...B2e(e,t),detectError:r}}const TMe=(e,t)=>{if(!Xt(e))throw ys(Fa.NOT_SUPPORT_NON_STRING_MESSAGE);{rr(t.warnHtmlMessage)&&t.warnHtmlMessage;const o=(t.onCacheKey||yW)(e),a=rh[o];if(a)return a;const{code:l,detectError:c}=_W(e,t),d=new Function(`return ${l}`)();return c?d:rh[o]=d}};function CMe(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Xt(e)){rr(t.warnHtmlMessage)&&t.warnHtmlMessage;const o=(t.onCacheKey||yW)(e),a=rh[o];if(a)return a;const{ast:l,detectError:c}=_W(e,{...t,location:!1,jit:!0}),d=PI(l);return c?d:rh[o]=d}else{const r=e.cacheKey;if(r){const o=rh[r];return o||(rh[r]=PI(e))}else return PI(e)}}const qU=()=>"",ua=e=>kr(e);function YU(e,...t){const{fallbackFormat:r,postTranslation:o,unresolving:a,messageCompiler:l,fallbackLocale:c,messages:d}=e,[h,m]=c1(...t),g=rr(m.missingWarn)?m.missingWarn:e.missingWarn,v=rr(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn,_=rr(m.escapeParameter)?m.escapeParameter:e.escapeParameter,S=!!m.resolvedMessage,T=Xt(m.default)||rr(m.default)?rr(m.default)?l?h:()=>h:m.default:r?l?h:()=>h:"",b=r||T!=="",I=VA(e,m);_&&wMe(m);let[C,P,R]=S?[h,I,d[I]||{}]:bW(e,h,I,c,v,g),k=C,N=h;if(!S&&!(Xt(k)||Vh(k)||ua(k))&&b&&(k=T,N=k),!S&&(!(Xt(k)||Vh(k)||ua(k))||!Xt(P)))return a?lS:h;let O=!1;const $=()=>{O=!0},L=ua(k)?k:SW(e,h,P,k,N,$);if(O)return k;const M=RMe(e,P,R,m),U=oMe(M),j=IMe(e,L,U),W=o?o(j,h):j;if(__INTLIFY_PROD_DEVTOOLS__){const re={timestamp:Date.now(),key:Xt(h)?h:ua(k)?k.key:"",locale:P||(ua(k)?k.locale:""),format:Xt(k)?k:ua(k)?k.source:"",message:W};re.meta=Lo({},e.__meta,gMe()||{}),sMe(re)}return W}function wMe(e){xr(e.list)?e.list=e.list.map(t=>Xt(t)?PU(t):t):vr(e.named)&&Object.keys(e.named).forEach(t=>{Xt(e.named[t])&&(e.named[t]=PU(e.named[t]))})}function bW(e,t,r,o,a,l){const{messages:c,onWarn:d,messageResolver:h,localeFallbacker:m}=e,g=m(e,o,r);let v={},_,S=null;const T="translate";for(let b=0;b<g.length&&(_=g[b],v=c[_]||{},(S=h(v,t))===null&&(S=v[t]),!(Xt(S)||Vh(S)||ua(S)));b++)if(!SMe(_,g)){const I=FA(e,t,_,l,T);I!==t&&(S=I)}return[S,_,v]}function SW(e,t,r,o,a,l){const{messageCompiler:c,warnHtmlMessage:d}=e;if(ua(o)){const m=o;return m.locale=m.locale||r,m.key=m.key||t,m}if(c==null){const m=()=>o;return m.locale=r,m.key=t,m}const h=c(o,kMe(e,r,a,o,d,l));return h.locale=r,h.key=t,h.source=o,h}function IMe(e,t,r){return t(r)}function c1(...e){const[t,r,o]=e,a={};if(!Xt(t)&&!vo(t)&&!ua(t)&&!Vh(t))throw ys(Fa.INVALID_ARGUMENT);const l=vo(t)?String(t):(ua(t),t);return vo(r)?a.plural=r:Xt(r)?a.default=r:Vn(r)&&!aS(r)?a.named=r:xr(r)&&(a.list=r),vo(o)?a.plural=o:Xt(o)?a.default=o:Vn(o)&&Lo(a,o),[l,a]}function kMe(e,t,r,o,a,l){return{locale:t,key:r,warnHtmlMessage:a,onError:c=>{throw l&&l(c),c},onCacheKey:c=>o2e(t,r,c)}}function RMe(e,t,r,o){const{modifiers:a,pluralRules:l,messageResolver:c,fallbackLocale:d,fallbackWarn:h,missingWarn:m,fallbackContext:g}=e,_={locale:t,modifiers:a,pluralRules:l,messages:S=>{let T=c(r,S);if(T==null&&g){const[,,b]=bW(g,S,t,d,h,m);T=c(b,S)}if(Xt(T)||Vh(T)){let b=!1;const C=SW(e,S,t,T,S,()=>{b=!0});return b?qU:C}else return ua(T)?T:qU}};return e.processor&&(_.processor=e.processor),o.list&&(_.list=o.list),o.named&&(_.named=o.named),vo(o.plural)&&(_.pluralIndex=o.plural),_}function JU(e,...t){const{datetimeFormats:r,unresolving:o,fallbackLocale:a,onWarn:l,localeFallbacker:c}=e,{__datetimeFormatters:d}=e,[h,m,g,v]=u1(...t),_=rr(g.missingWarn)?g.missingWarn:e.missingWarn;rr(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const S=!!g.part,T=VA(e,g),b=c(e,a,T);if(!Xt(h)||h==="")return new Intl.DateTimeFormat(T,v).format(m);let I={},C,P=null;const R="datetime format";for(let O=0;O<b.length&&(C=b[O],I=r[C]||{},P=I[h],!Vn(P));O++)FA(e,h,C,_,R);if(!Vn(P)||!Xt(C))return o?lS:h;let k=`${C}__${h}`;aS(v)||(k=`${k}__${JSON.stringify(v)}`);let N=d.get(k);return N||(N=new Intl.DateTimeFormat(C,Lo({},P,v)),d.set(k,N)),S?N.formatToParts(m):N.format(m)}const EW=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function u1(...e){const[t,r,o,a]=e,l={};let c={},d;if(Xt(t)){const h=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!h)throw ys(Fa.INVALID_ISO_DATE_ARGUMENT);const m=h[3]?h[3].trim().startsWith("T")?`${h[1].trim()}${h[3].trim()}`:`${h[1].trim()}T${h[3].trim()}`:h[1].trim();d=new Date(m);try{d.toISOString()}catch{throw ys(Fa.INVALID_ISO_DATE_ARGUMENT)}}else if(a2e(t)){if(isNaN(t.getTime()))throw ys(Fa.INVALID_DATE_ARGUMENT);d=t}else if(vo(t))d=t;else throw ys(Fa.INVALID_ARGUMENT);return Xt(r)?l.key=r:Vn(r)&&Object.keys(r).forEach(h=>{EW.includes(h)?c[h]=r[h]:l[h]=r[h]}),Xt(o)?l.locale=o:Vn(o)&&(c=o),Vn(a)&&(c=a),[l.key||"",d,l,c]}function XU(e,t,r){const o=e;for(const a in r){const l=`${t}__${a}`;!o.__datetimeFormatters.has(l)||o.__datetimeFormatters.delete(l)}}function QU(e,...t){const{numberFormats:r,unresolving:o,fallbackLocale:a,onWarn:l,localeFallbacker:c}=e,{__numberFormatters:d}=e,[h,m,g,v]=d1(...t),_=rr(g.missingWarn)?g.missingWarn:e.missingWarn;rr(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const S=!!g.part,T=VA(e,g),b=c(e,a,T);if(!Xt(h)||h==="")return new Intl.NumberFormat(T,v).format(m);let I={},C,P=null;const R="number format";for(let O=0;O<b.length&&(C=b[O],I=r[C]||{},P=I[h],!Vn(P));O++)FA(e,h,C,_,R);if(!Vn(P)||!Xt(C))return o?lS:h;let k=`${C}__${h}`;aS(v)||(k=`${k}__${JSON.stringify(v)}`);let N=d.get(k);return N||(N=new Intl.NumberFormat(C,Lo({},P,v)),d.set(k,N)),S?N.formatToParts(m):N.format(m)}const TW=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function d1(...e){const[t,r,o,a]=e,l={};let c={};if(!vo(t))throw ys(Fa.INVALID_ARGUMENT);const d=t;return Xt(r)?l.key=r:Vn(r)&&Object.keys(r).forEach(h=>{TW.includes(h)?c[h]=r[h]:l[h]=r[h]}),Xt(o)?l.locale=o:Vn(o)&&(c=o),Vn(a)&&(c=a),[l.key||"",d,l,c]}function ZU(e,t,r){const o=e;for(const a in r){const l=`${t}__${a}`;!o.__numberFormatters.has(l)||o.__numberFormatters.delete(l)}}H2e();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const AMe="9.13.1";function OMe(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ul().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ul().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ul().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ul().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ul().__INTLIFY_PROD_DEVTOOLS__=!1)}const CW=cMe.__EXTEND_POINT__,rl=sS(CW);rl(),rl(),rl(),rl(),rl(),rl(),rl(),rl(),rl();const wW=Fa.__EXTEND_POINT__,_i=sS(wW),_o={UNEXPECTED_RETURN_TYPE:wW,INVALID_ARGUMENT:_i(),MUST_BE_CALL_SETUP_TOP:_i(),NOT_INSTALLED:_i(),NOT_AVAILABLE_IN_LEGACY_MODE:_i(),REQUIRED_VALUE:_i(),INVALID_VALUE:_i(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:_i(),NOT_INSTALLED_WITH_PROVIDE:_i(),UNEXPECTED_ERROR:_i(),NOT_COMPATIBLE_LEGACY_VUE_I18N:_i(),BRIDGE_SUPPORT_VUE_2_ONLY:_i(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:_i(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:_i(),__EXTEND_POINT__:_i()};function Io(e,...t){return Qh(e,null,void 0)}const f1=Cl("__translateVNode"),h1=Cl("__datetimeParts"),p1=Cl("__numberParts"),IW=Cl("__setPluralRules");Cl("__intlifyMeta");const kW=Cl("__injectWithOption"),m1=Cl("__dispose");function Qv(e){if(!vr(e))return e;for(const t in e)if(!!m0(e,t))if(!t.includes("."))vr(e[t])&&Qv(e[t]);else{const r=t.split("."),o=r.length-1;let a=e,l=!1;for(let c=0;c<o;c++){if(r[c]in a||(a[r[c]]={}),!vr(a[r[c]])){l=!0;break}a=a[r[c]]}l||(a[r[o]]=e[t],delete e[t]),vr(a[r[o]])&&Qv(a[r[o]])}return e}function cS(e,t){const{messages:r,__i18n:o,messageResolver:a,flatJson:l}=t,c=Vn(r)?r:xr(o)?{}:{[e]:{}};if(xr(o)&&o.forEach(d=>{if("locale"in d&&"resource"in d){const{locale:h,resource:m}=d;h?(c[h]=c[h]||{},$b(m,c[h])):$b(m,c)}else Xt(d)&&$b(JSON.parse(d),c)}),a==null&&l)for(const d in c)m0(c,d)&&Qv(c[d]);return c}function RW(e){return e.type}function AW(e,t,r){let o=vr(t.messages)?t.messages:{};"__i18nGlobal"in r&&(o=cS(e.locale.value,{messages:o,__i18n:r.__i18nGlobal}));const a=Object.keys(o);a.length&&a.forEach(l=>{e.mergeLocaleMessage(l,o[l])});{if(vr(t.datetimeFormats)){const l=Object.keys(t.datetimeFormats);l.length&&l.forEach(c=>{e.mergeDateTimeFormat(c,t.datetimeFormats[c])})}if(vr(t.numberFormats)){const l=Object.keys(t.numberFormats);l.length&&l.forEach(c=>{e.mergeNumberFormat(c,t.numberFormats[c])})}}}function e4(e){return se(Cd,null,e,0)}const t4="__INTLIFY_META__",n4=()=>[],NMe=()=>!1;let r4=0;function o4(e){return(t,r,o,a)=>e(r,o,Qt()||void 0,a)}const PMe=()=>{const e=Qt();let t=null;return e&&(t=RW(e)[t4])?{[t4]:t}:null};function $A(e={},t){const{__root:r,__injectWithOption:o}=e,a=r===void 0,l=e.flatJson,c=p0?q:dr,d=!!e.translateExistCompatible;let h=rr(e.inheritLocale)?e.inheritLocale:!0;const m=c(r&&h?r.locale.value:Xt(e.locale)?e.locale:xh),g=c(r&&h?r.fallbackLocale.value:Xt(e.fallbackLocale)||xr(e.fallbackLocale)||Vn(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:m.value),v=c(cS(m.value,e)),_=c(Vn(e.datetimeFormats)?e.datetimeFormats:{[m.value]:{}}),S=c(Vn(e.numberFormats)?e.numberFormats:{[m.value]:{}});let T=r?r.missingWarn:rr(e.missingWarn)||jc(e.missingWarn)?e.missingWarn:!0,b=r?r.fallbackWarn:rr(e.fallbackWarn)||jc(e.fallbackWarn)?e.fallbackWarn:!0,I=r?r.fallbackRoot:rr(e.fallbackRoot)?e.fallbackRoot:!0,C=!!e.fallbackFormat,P=kr(e.missing)?e.missing:null,R=kr(e.missing)?o4(e.missing):null,k=kr(e.postTranslation)?e.postTranslation:null,N=r?r.warnHtmlMessage:rr(e.warnHtmlMessage)?e.warnHtmlMessage:!0,O=!!e.escapeParameter;const $=r?r.modifiers:Vn(e.modifiers)?e.modifiers:{};let L=e.pluralRules||r&&r.pluralRules,M;M=(()=>{a&&zU(null);const Ue={version:AMe,locale:m.value,fallbackLocale:g.value,messages:v.value,modifiers:$,pluralRules:L,missing:R===null?void 0:R,missingWarn:T,fallbackWarn:b,fallbackFormat:C,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:N,escapeParameter:O,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};Ue.datetimeFormats=_.value,Ue.numberFormats=S.value,Ue.__datetimeFormatters=Vn(M)?M.__datetimeFormatters:void 0,Ue.__numberFormatters=Vn(M)?M.__numberFormatters:void 0;const Xe=_Me(Ue);return a&&zU(Xe),Xe})(),Qm(M,m.value,g.value);function j(){return[m.value,g.value,v.value,_.value,S.value]}const W=D({get:()=>m.value,set:Ue=>{m.value=Ue,M.locale=m.value}}),re=D({get:()=>g.value,set:Ue=>{g.value=Ue,M.fallbackLocale=g.value,Qm(M,m.value,Ue)}}),ae=D(()=>v.value),ee=D(()=>_.value),G=D(()=>S.value);function Z(){return kr(k)?k:null}function X(Ue){k=Ue,M.postTranslation=Ue}function H(){return P}function J(Ue){Ue!==null&&(R=o4(Ue)),P=Ue,M.missing=R}const fe=(Ue,Xe,Nt,Ft,Et,Ut)=>{j();let He;try{__INTLIFY_PROD_DEVTOOLS__&&WU(PMe()),a||(M.fallbackContext=r?yMe():void 0),He=Ue(M)}finally{__INTLIFY_PROD_DEVTOOLS__&&WU(null),a||(M.fallbackContext=void 0)}if(Nt!=="translate exists"&&vo(He)&&He===lS||Nt==="translate exists"&&!He){const[vt,we]=Xe();return r&&I?Ft(r):Et(vt)}else{if(Ut(He))return He;throw Io(_o.UNEXPECTED_RETURN_TYPE)}};function ge(...Ue){return fe(Xe=>Reflect.apply(YU,null,[Xe,...Ue]),()=>c1(...Ue),"translate",Xe=>Reflect.apply(Xe.t,Xe,[...Ue]),Xe=>Xe,Xe=>Xt(Xe))}function me(...Ue){const[Xe,Nt,Ft]=Ue;if(Ft&&!vr(Ft))throw Io(_o.INVALID_ARGUMENT);return ge(Xe,Nt,Lo({resolvedMessage:!0},Ft||{}))}function Ee(...Ue){return fe(Xe=>Reflect.apply(JU,null,[Xe,...Ue]),()=>u1(...Ue),"datetime format",Xe=>Reflect.apply(Xe.d,Xe,[...Ue]),()=>BU,Xe=>Xt(Xe))}function Fe(...Ue){return fe(Xe=>Reflect.apply(QU,null,[Xe,...Ue]),()=>d1(...Ue),"number format",Xe=>Reflect.apply(Xe.n,Xe,[...Ue]),()=>BU,Xe=>Xt(Xe))}function $e(Ue){return Ue.map(Xe=>Xt(Xe)||vo(Xe)||rr(Xe)?e4(String(Xe)):Xe)}const Le={normalize:$e,interpolate:Ue=>Ue,type:"vnode"};function Te(...Ue){return fe(Xe=>{let Nt;const Ft=Xe;try{Ft.processor=Le,Nt=Reflect.apply(YU,null,[Ft,...Ue])}finally{Ft.processor=null}return Nt},()=>c1(...Ue),"translate",Xe=>Xe[f1](...Ue),Xe=>[e4(Xe)],Xe=>xr(Xe))}function Be(...Ue){return fe(Xe=>Reflect.apply(QU,null,[Xe,...Ue]),()=>d1(...Ue),"number format",Xe=>Xe[p1](...Ue),n4,Xe=>Xt(Xe)||xr(Xe))}function be(...Ue){return fe(Xe=>Reflect.apply(JU,null,[Xe,...Ue]),()=>u1(...Ue),"datetime format",Xe=>Xe[h1](...Ue),n4,Xe=>Xt(Xe)||xr(Xe))}function We(Ue){L=Ue,M.pluralRules=L}function ce(Ue,Xe){return fe(()=>{if(!Ue)return!1;const Nt=Xt(Xe)?Xe:m.value,Ft=tt(Nt),Et=M.messageResolver(Ft,Ue);return d?Et!=null:Vh(Et)||ua(Et)||Xt(Et)},()=>[Ue],"translate exists",Nt=>Reflect.apply(Nt.te,Nt,[Ue,Xe]),NMe,Nt=>rr(Nt))}function ie(Ue){let Xe=null;const Nt=fW(M,g.value,m.value);for(let Ft=0;Ft<Nt.length;Ft++){const Et=v.value[Nt[Ft]]||{},Ut=M.messageResolver(Et,Ue);if(Ut!=null){Xe=Ut;break}}return Xe}function De(Ue){const Xe=ie(Ue);return Xe!=null?Xe:r?r.tm(Ue)||{}:{}}function tt(Ue){return v.value[Ue]||{}}function xe(Ue,Xe){if(l){const Nt={[Ue]:Xe};for(const Ft in Nt)m0(Nt,Ft)&&Qv(Nt[Ft]);Xe=Nt[Ue]}v.value[Ue]=Xe,M.messages=v.value}function ze(Ue,Xe){v.value[Ue]=v.value[Ue]||{};const Nt={[Ue]:Xe};if(l)for(const Ft in Nt)m0(Nt,Ft)&&Qv(Nt[Ft]);Xe=Nt[Ue],$b(Xe,v.value[Ue]),M.messages=v.value}function ot(Ue){return _.value[Ue]||{}}function le(Ue,Xe){_.value[Ue]=Xe,M.datetimeFormats=_.value,XU(M,Ue,Xe)}function pe(Ue,Xe){_.value[Ue]=Lo(_.value[Ue]||{},Xe),M.datetimeFormats=_.value,XU(M,Ue,Xe)}function Re(Ue){return S.value[Ue]||{}}function Ae(Ue,Xe){S.value[Ue]=Xe,M.numberFormats=S.value,ZU(M,Ue,Xe)}function qe(Ue,Xe){S.value[Ue]=Lo(S.value[Ue]||{},Xe),M.numberFormats=S.value,ZU(M,Ue,Xe)}r4++,r&&p0&&(Ge(r.locale,Ue=>{h&&(m.value=Ue,M.locale=Ue,Qm(M,m.value,g.value))}),Ge(r.fallbackLocale,Ue=>{h&&(g.value=Ue,M.fallbackLocale=Ue,Qm(M,m.value,g.value))}));const rt={id:r4,locale:W,fallbackLocale:re,get inheritLocale(){return h},set inheritLocale(Ue){h=Ue,Ue&&r&&(m.value=r.locale.value,g.value=r.fallbackLocale.value,Qm(M,m.value,g.value))},get availableLocales(){return Object.keys(v.value).sort()},messages:ae,get modifiers(){return $},get pluralRules(){return L||{}},get isGlobal(){return a},get missingWarn(){return T},set missingWarn(Ue){T=Ue,M.missingWarn=T},get fallbackWarn(){return b},set fallbackWarn(Ue){b=Ue,M.fallbackWarn=b},get fallbackRoot(){return I},set fallbackRoot(Ue){I=Ue},get fallbackFormat(){return C},set fallbackFormat(Ue){C=Ue,M.fallbackFormat=C},get warnHtmlMessage(){return N},set warnHtmlMessage(Ue){N=Ue,M.warnHtmlMessage=Ue},get escapeParameter(){return O},set escapeParameter(Ue){O=Ue,M.escapeParameter=Ue},t:ge,getLocaleMessage:tt,setLocaleMessage:xe,mergeLocaleMessage:ze,getPostTranslationHandler:Z,setPostTranslationHandler:X,getMissingHandler:H,setMissingHandler:J,[IW]:We};return rt.datetimeFormats=ee,rt.numberFormats=G,rt.rt=me,rt.te=ce,rt.tm=De,rt.d=Ee,rt.n=Fe,rt.getDateTimeFormat=ot,rt.setDateTimeFormat=le,rt.mergeDateTimeFormat=pe,rt.getNumberFormat=Re,rt.setNumberFormat=Ae,rt.mergeNumberFormat=qe,rt[kW]=o,rt[f1]=Te,rt[h1]=be,rt[p1]=Be,rt}function DMe(e){const t=Xt(e.locale)?e.locale:xh,r=Xt(e.fallbackLocale)||xr(e.fallbackLocale)||Vn(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,o=kr(e.missing)?e.missing:void 0,a=rr(e.silentTranslationWarn)||jc(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,l=rr(e.silentFallbackWarn)||jc(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,c=rr(e.fallbackRoot)?e.fallbackRoot:!0,d=!!e.formatFallbackMessages,h=Vn(e.modifiers)?e.modifiers:{},m=e.pluralizationRules,g=kr(e.postTranslation)?e.postTranslation:void 0,v=Xt(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,_=!!e.escapeParameterHtml,S=rr(e.sync)?e.sync:!0;let T=e.messages;if(Vn(e.sharedMessages)){const O=e.sharedMessages;T=Object.keys(O).reduce((L,M)=>{const U=L[M]||(L[M]={});return Lo(U,O[M]),L},T||{})}const{__i18n:b,__root:I,__injectWithOption:C}=e,P=e.datetimeFormats,R=e.numberFormats,k=e.flatJson,N=e.translateExistCompatible;return{locale:t,fallbackLocale:r,messages:T,flatJson:k,datetimeFormats:P,numberFormats:R,missing:o,missingWarn:a,fallbackWarn:l,fallbackRoot:c,fallbackFormat:d,modifiers:h,pluralRules:m,postTranslation:g,warnHtmlMessage:v,escapeParameter:_,messageResolver:e.messageResolver,inheritLocale:S,translateExistCompatible:N,__i18n:b,__root:I,__injectWithOption:C}}function v1(e={},t){{const r=$A(DMe(e)),{__extender:o}=e,a={id:r.id,get locale(){return r.locale.value},set locale(l){r.locale.value=l},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(l){r.fallbackLocale.value=l},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(l){},get missing(){return r.getMissingHandler()},set missing(l){r.setMissingHandler(l)},get silentTranslationWarn(){return rr(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(l){r.missingWarn=rr(l)?!l:l},get silentFallbackWarn(){return rr(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(l){r.fallbackWarn=rr(l)?!l:l},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(l){r.fallbackFormat=l},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(l){r.setPostTranslationHandler(l)},get sync(){return r.inheritLocale},set sync(l){r.inheritLocale=l},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(l){r.warnHtmlMessage=l!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(l){r.escapeParameter=l},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(l){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...l){const[c,d,h]=l,m={};let g=null,v=null;if(!Xt(c))throw Io(_o.INVALID_ARGUMENT);const _=c;return Xt(d)?m.locale=d:xr(d)?g=d:Vn(d)&&(v=d),xr(h)?g=h:Vn(h)&&(v=h),Reflect.apply(r.t,r,[_,g||v||{},m])},rt(...l){return Reflect.apply(r.rt,r,[...l])},tc(...l){const[c,d,h]=l,m={plural:1};let g=null,v=null;if(!Xt(c))throw Io(_o.INVALID_ARGUMENT);const _=c;return Xt(d)?m.locale=d:vo(d)?m.plural=d:xr(d)?g=d:Vn(d)&&(v=d),Xt(h)?m.locale=h:xr(h)?g=h:Vn(h)&&(v=h),Reflect.apply(r.t,r,[_,g||v||{},m])},te(l,c){return r.te(l,c)},tm(l){return r.tm(l)},getLocaleMessage(l){return r.getLocaleMessage(l)},setLocaleMessage(l,c){r.setLocaleMessage(l,c)},mergeLocaleMessage(l,c){r.mergeLocaleMessage(l,c)},d(...l){return Reflect.apply(r.d,r,[...l])},getDateTimeFormat(l){return r.getDateTimeFormat(l)},setDateTimeFormat(l,c){r.setDateTimeFormat(l,c)},mergeDateTimeFormat(l,c){r.mergeDateTimeFormat(l,c)},n(...l){return Reflect.apply(r.n,r,[...l])},getNumberFormat(l){return r.getNumberFormat(l)},setNumberFormat(l,c){r.setNumberFormat(l,c)},mergeNumberFormat(l,c){r.mergeNumberFormat(l,c)},getChoiceIndex(l,c){return-1}};return a.__extender=o,a}}const UA={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function LMe({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((o,a)=>[...o,...a.type===Tt?a.children:[a]],[]):t.reduce((r,o)=>{const a=e[o];return a&&(r[o]=a()),r},{})}function OW(e){return Tt}const MMe=he({name:"i18n-t",props:Lo({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>vo(e)||!isNaN(e)}},UA),setup(e,t){const{slots:r,attrs:o}=t,a=e.i18n||Jc({useScope:e.scope,__useComponent:!0});return()=>{const l=Object.keys(r).filter(v=>v!=="_"),c={};e.locale&&(c.locale=e.locale),e.plural!==void 0&&(c.plural=Xt(e.plural)?+e.plural:e.plural);const d=LMe(t,l),h=a[f1](e.keypath,d,c),m=Lo({},o),g=Xt(e.tag)||vr(e.tag)?e.tag:OW();return Ot(g,m,h)}}}),i4=MMe;function xMe(e){return xr(e)&&!Xt(e[0])}function NW(e,t,r,o){const{slots:a,attrs:l}=t;return()=>{const c={part:!0};let d={};e.locale&&(c.locale=e.locale),Xt(e.format)?c.key=e.format:vr(e.format)&&(Xt(e.format.key)&&(c.key=e.format.key),d=Object.keys(e.format).reduce((_,S)=>r.includes(S)?Lo({},_,{[S]:e.format[S]}):_,{}));const h=o(e.value,c,d);let m=[c.key];xr(h)?m=h.map((_,S)=>{const T=a[_.type],b=T?T({[_.type]:_.value,index:S,parts:h}):[_.value];return xMe(b)&&(b[0].key=`${_.type}-${S}`),b}):Xt(h)&&(m=[h]);const g=Lo({},l),v=Xt(e.tag)||vr(e.tag)?e.tag:OW();return Ot(v,g,m)}}const VMe=he({name:"i18n-n",props:Lo({value:{type:Number,required:!0},format:{type:[String,Object]}},UA),setup(e,t){const r=e.i18n||Jc({useScope:e.scope,__useComponent:!0});return NW(e,t,TW,(...o)=>r[p1](...o))}}),a4=VMe,FMe=he({name:"i18n-d",props:Lo({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},UA),setup(e,t){const r=e.i18n||Jc({useScope:e.scope,__useComponent:!0});return NW(e,t,EW,(...o)=>r[h1](...o))}}),s4=FMe;function $Me(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const o=r.__getInstance(t);return o!=null?o.__composer:e.global.__composer}}function UMe(e){const t=c=>{const{instance:d,modifiers:h,value:m}=c;if(!d||!d.$)throw Io(_o.UNEXPECTED_ERROR);const g=$Me(e,d.$),v=l4(m);return[Reflect.apply(g.t,g,[...c4(v)]),g]};return{created:(c,d)=>{const[h,m]=t(d);p0&&e.global===m&&(c.__i18nWatcher=Ge(m.locale,()=>{d.instance&&d.instance.$forceUpdate()})),c.__composer=m,c.textContent=h},unmounted:c=>{p0&&c.__i18nWatcher&&(c.__i18nWatcher(),c.__i18nWatcher=void 0,delete c.__i18nWatcher),c.__composer&&(c.__composer=void 0,delete c.__composer)},beforeUpdate:(c,{value:d})=>{if(c.__composer){const h=c.__composer,m=l4(d);c.textContent=Reflect.apply(h.t,h,[...c4(m)])}},getSSRProps:c=>{const[d]=t(c);return{textContent:d}}}}function l4(e){if(Xt(e))return{path:e};if(Vn(e)){if(!("path"in e))throw Io(_o.REQUIRED_VALUE,"path");return e}else throw Io(_o.INVALID_VALUE)}function c4(e){const{path:t,locale:r,args:o,choice:a,plural:l}=e,c={},d=o||{};return Xt(r)&&(c.locale=r),vo(a)&&(c.plural=a),vo(l)&&(c.plural=l),[t,d,c]}function BMe(e,t,...r){const o=Vn(r[0])?r[0]:{},a=!!o.useI18nComponentName;(rr(o.globalInstall)?o.globalInstall:!0)&&([a?"i18n":i4.name,"I18nT"].forEach(c=>e.component(c,i4)),[a4.name,"I18nN"].forEach(c=>e.component(c,a4)),[s4.name,"I18nD"].forEach(c=>e.component(c,s4))),e.directive("t",UMe(t))}function HMe(e,t,r){return{beforeCreate(){const o=Qt();if(!o)throw Io(_o.UNEXPECTED_ERROR);const a=this.$options;if(a.i18n){const l=a.i18n;if(a.__i18n&&(l.__i18n=a.__i18n),l.__root=t,this===this.$root)this.$i18n=u4(e,l);else{l.__injectWithOption=!0,l.__extender=r.__vueI18nExtend,this.$i18n=v1(l);const c=this.$i18n;c.__extender&&(c.__disposer=c.__extender(this.$i18n))}}else if(a.__i18n)if(this===this.$root)this.$i18n=u4(e,a);else{this.$i18n=v1({__i18n:a.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const l=this.$i18n;l.__extender&&(l.__disposer=l.__extender(this.$i18n))}else this.$i18n=e;a.__i18nGlobal&&AW(t,a,a),this.$t=(...l)=>this.$i18n.t(...l),this.$rt=(...l)=>this.$i18n.rt(...l),this.$tc=(...l)=>this.$i18n.tc(...l),this.$te=(l,c)=>this.$i18n.te(l,c),this.$d=(...l)=>this.$i18n.d(...l),this.$n=(...l)=>this.$i18n.n(...l),this.$tm=l=>this.$i18n.tm(l),r.__setInstance(o,this.$i18n)},mounted(){},unmounted(){const o=Qt();if(!o)throw Io(_o.UNEXPECTED_ERROR);const a=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,a.__disposer&&(a.__disposer(),delete a.__disposer,delete a.__extender),r.__deleteInstance(o),delete this.$i18n}}}function u4(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[IW](t.pluralizationRules||e.pluralizationRules);const r=cS(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(o=>e.mergeLocaleMessage(o,r[o])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(o=>e.mergeDateTimeFormat(o,t.datetimeFormats[o])),t.numberFormats&&Object.keys(t.numberFormats).forEach(o=>e.mergeNumberFormat(o,t.numberFormats[o])),e}const jMe=Cl("global-vue-i18n");function WMe(e={},t){const r=__VUE_I18N_LEGACY_API__&&rr(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,o=rr(e.globalInjection)?e.globalInjection:!0,a=__VUE_I18N_LEGACY_API__&&r?!!e.allowComposition:!0,l=new Map,[c,d]=zMe(e,r),h=Cl("");function m(_){return l.get(_)||null}function g(_,S){l.set(_,S)}function v(_){l.delete(_)}{const _={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return a},async install(S,...T){if(S.__VUE_I18N_SYMBOL__=h,S.provide(S.__VUE_I18N_SYMBOL__,_),Vn(T[0])){const C=T[0];_.__composerExtend=C.__composerExtend,_.__vueI18nExtend=C.__vueI18nExtend}let b=null;!r&&o&&(b=exe(S,_.global)),__VUE_I18N_FULL_INSTALL__&&BMe(S,_,...T),__VUE_I18N_LEGACY_API__&&r&&S.mixin(HMe(d,d.__composer,_));const I=S.unmount;S.unmount=()=>{b&&b(),_.dispose(),I()}},get global(){return d},dispose(){c.stop()},__instances:l,__getInstance:m,__setInstance:g,__deleteInstance:v};return _}}function Jc(e={}){const t=Qt();if(t==null)throw Io(_o.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Io(_o.NOT_INSTALLED);const r=KMe(t),o=qMe(r),a=RW(t),l=GMe(e,a);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!e.__useComponent){if(!r.allowComposition)throw Io(_o.NOT_AVAILABLE_IN_LEGACY_MODE);return QMe(t,l,o,e)}if(l==="global")return AW(o,e,a),o;if(l==="parent"){let h=YMe(r,t,e.__useComponent);return h==null&&(h=o),h}const c=r;let d=c.__getInstance(t);if(d==null){const h=Lo({},e);"__i18n"in a&&(h.__i18n=a.__i18n),o&&(h.__root=o),d=$A(h),c.__composerExtend&&(d[m1]=c.__composerExtend(d)),XMe(c,t,d),c.__setInstance(t,d)}return d}function zMe(e,t,r){const o=b0();{const a=__VUE_I18N_LEGACY_API__&&t?o.run(()=>v1(e)):o.run(()=>$A(e));if(a==null)throw Io(_o.UNEXPECTED_ERROR);return[o,a]}}function KMe(e){{const t=pt(e.isCE?jMe:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Io(e.isCE?_o.NOT_INSTALLED_WITH_PROVIDE:_o.UNEXPECTED_ERROR);return t}}function GMe(e,t){return aS(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function qMe(e){return e.mode==="composition"?e.global:e.global.__composer}function YMe(e,t,r=!1){let o=null;const a=t.root;let l=JMe(t,r);for(;l!=null;){const c=e;if(e.mode==="composition")o=c.__getInstance(l);else if(__VUE_I18N_LEGACY_API__){const d=c.__getInstance(l);d!=null&&(o=d.__composer,r&&o&&!o[kW]&&(o=null))}if(o!=null||a===l)break;l=l.parent}return o}function JMe(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function XMe(e,t,r){Zt(()=>{},t),_l(()=>{const o=r;e.__deleteInstance(t);const a=o[m1];a&&(a(),delete o[m1])},t)}function QMe(e,t,r,o={}){const a=t==="local",l=dr(null);if(a&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Io(_o.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const c=rr(o.inheritLocale)?o.inheritLocale:!Xt(o.locale),d=q(!a||c?r.locale.value:Xt(o.locale)?o.locale:xh),h=q(!a||c?r.fallbackLocale.value:Xt(o.fallbackLocale)||xr(o.fallbackLocale)||Vn(o.fallbackLocale)||o.fallbackLocale===!1?o.fallbackLocale:d.value),m=q(cS(d.value,o)),g=q(Vn(o.datetimeFormats)?o.datetimeFormats:{[d.value]:{}}),v=q(Vn(o.numberFormats)?o.numberFormats:{[d.value]:{}}),_=a?r.missingWarn:rr(o.missingWarn)||jc(o.missingWarn)?o.missingWarn:!0,S=a?r.fallbackWarn:rr(o.fallbackWarn)||jc(o.fallbackWarn)?o.fallbackWarn:!0,T=a?r.fallbackRoot:rr(o.fallbackRoot)?o.fallbackRoot:!0,b=!!o.fallbackFormat,I=kr(o.missing)?o.missing:null,C=kr(o.postTranslation)?o.postTranslation:null,P=a?r.warnHtmlMessage:rr(o.warnHtmlMessage)?o.warnHtmlMessage:!0,R=!!o.escapeParameter,k=a?r.modifiers:Vn(o.modifiers)?o.modifiers:{},N=o.pluralRules||a&&r.pluralRules;function O(){return[d.value,h.value,m.value,g.value,v.value]}const $=D({get:()=>l.value?l.value.locale.value:d.value,set:ie=>{l.value&&(l.value.locale.value=ie),d.value=ie}}),L=D({get:()=>l.value?l.value.fallbackLocale.value:h.value,set:ie=>{l.value&&(l.value.fallbackLocale.value=ie),h.value=ie}}),M=D(()=>l.value?l.value.messages.value:m.value),U=D(()=>g.value),j=D(()=>v.value);function W(){return l.value?l.value.getPostTranslationHandler():C}function re(ie){l.value&&l.value.setPostTranslationHandler(ie)}function ae(){return l.value?l.value.getMissingHandler():I}function ee(ie){l.value&&l.value.setMissingHandler(ie)}function G(ie){return O(),ie()}function Z(...ie){return l.value?G(()=>Reflect.apply(l.value.t,null,[...ie])):G(()=>"")}function X(...ie){return l.value?Reflect.apply(l.value.rt,null,[...ie]):""}function H(...ie){return l.value?G(()=>Reflect.apply(l.value.d,null,[...ie])):G(()=>"")}function J(...ie){return l.value?G(()=>Reflect.apply(l.value.n,null,[...ie])):G(()=>"")}function fe(ie){return l.value?l.value.tm(ie):{}}function ge(ie,De){return l.value?l.value.te(ie,De):!1}function me(ie){return l.value?l.value.getLocaleMessage(ie):{}}function Ee(ie,De){l.value&&(l.value.setLocaleMessage(ie,De),m.value[ie]=De)}function Fe(ie,De){l.value&&l.value.mergeLocaleMessage(ie,De)}function $e(ie){return l.value?l.value.getDateTimeFormat(ie):{}}function de(ie,De){l.value&&(l.value.setDateTimeFormat(ie,De),g.value[ie]=De)}function Le(ie,De){l.value&&l.value.mergeDateTimeFormat(ie,De)}function Te(ie){return l.value?l.value.getNumberFormat(ie):{}}function Be(ie,De){l.value&&(l.value.setNumberFormat(ie,De),v.value[ie]=De)}function be(ie,De){l.value&&l.value.mergeNumberFormat(ie,De)}const We={get id(){return l.value?l.value.id:-1},locale:$,fallbackLocale:L,messages:M,datetimeFormats:U,numberFormats:j,get inheritLocale(){return l.value?l.value.inheritLocale:c},set inheritLocale(ie){l.value&&(l.value.inheritLocale=ie)},get availableLocales(){return l.value?l.value.availableLocales:Object.keys(m.value)},get modifiers(){return l.value?l.value.modifiers:k},get pluralRules(){return l.value?l.value.pluralRules:N},get isGlobal(){return l.value?l.value.isGlobal:!1},get missingWarn(){return l.value?l.value.missingWarn:_},set missingWarn(ie){l.value&&(l.value.missingWarn=ie)},get fallbackWarn(){return l.value?l.value.fallbackWarn:S},set fallbackWarn(ie){l.value&&(l.value.missingWarn=ie)},get fallbackRoot(){return l.value?l.value.fallbackRoot:T},set fallbackRoot(ie){l.value&&(l.value.fallbackRoot=ie)},get fallbackFormat(){return l.value?l.value.fallbackFormat:b},set fallbackFormat(ie){l.value&&(l.value.fallbackFormat=ie)},get warnHtmlMessage(){return l.value?l.value.warnHtmlMessage:P},set warnHtmlMessage(ie){l.value&&(l.value.warnHtmlMessage=ie)},get escapeParameter(){return l.value?l.value.escapeParameter:R},set escapeParameter(ie){l.value&&(l.value.escapeParameter=ie)},t:Z,getPostTranslationHandler:W,setPostTranslationHandler:re,getMissingHandler:ae,setMissingHandler:ee,rt:X,d:H,n:J,tm:fe,te:ge,getLocaleMessage:me,setLocaleMessage:Ee,mergeLocaleMessage:Fe,getDateTimeFormat:$e,setDateTimeFormat:de,mergeDateTimeFormat:Le,getNumberFormat:Te,setNumberFormat:Be,mergeNumberFormat:be};function ce(ie){ie.locale.value=d.value,ie.fallbackLocale.value=h.value,Object.keys(m.value).forEach(De=>{ie.mergeLocaleMessage(De,m.value[De])}),Object.keys(g.value).forEach(De=>{ie.mergeDateTimeFormat(De,g.value[De])}),Object.keys(v.value).forEach(De=>{ie.mergeNumberFormat(De,v.value[De])}),ie.escapeParameter=R,ie.fallbackFormat=b,ie.fallbackRoot=T,ie.fallbackWarn=S,ie.missingWarn=_,ie.warnHtmlMessage=P}return ig(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Io(_o.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const ie=l.value=e.proxy.$i18n.__composer;t==="global"?(d.value=ie.locale.value,h.value=ie.fallbackLocale.value,m.value=ie.messages.value,g.value=ie.datetimeFormats.value,v.value=ie.numberFormats.value):a&&ce(ie)}),We}const ZMe=["locale","fallbackLocale","availableLocales"],d4=["t","rt","d","n","tm","te"];function exe(e,t){const r=Object.create(null);return ZMe.forEach(a=>{const l=Object.getOwnPropertyDescriptor(t,a);if(!l)throw Io(_o.UNEXPECTED_ERROR);const c=lr(l.value)?{get(){return l.value.value},set(d){l.value.value=d}}:{get(){return l.get&&l.get()}};Object.defineProperty(r,a,c)}),e.config.globalProperties.$i18n=r,d4.forEach(a=>{const l=Object.getOwnPropertyDescriptor(t,a);if(!l||!l.value)throw Io(_o.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${a}`,l)}),()=>{delete e.config.globalProperties.$i18n,d4.forEach(a=>{delete e.config.globalProperties[`$${a}`]})}}OMe();__INTLIFY_JIT_COMPILATION__?jU(CMe):jU(TMe);mMe(J2e);vMe(fW);if(__INTLIFY_PROD_DEVTOOLS__){const e=ul();e.__INTLIFY__=!0,iMe(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}function f4(e){const t=decodeURI(window.location.href.replace(/^[^?]*\?/,"")),r=new RegExp(`(^|&)${e}=([^&#]*)(&|$|)`,"i"),o=t.match(r);return o?o[2]:""}function PW(e="trtc-v5-quick-demo-vue3-ts"){var r;let t=ov("lang")||localStorage.getItem(e)||((r=window.navigator.language)==null?void 0:r.toLowerCase());return t=t.indexOf("zh")>-1?"zh-cn":"en",t}const ov=e=>{if(f4(e))return f4(e);switch(e){case"userId":return`user_${Math.floor(Math.random()*1e8)}`;case"roomId":return Math.floor(Math.random()*1e5);case"sdkAppId":return;case"sdkSecretKey":return;default:return}};/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);const txe="https://web.sdk.qcloud.com/trtc/webrtc/assets/logo/trtc-logo-en-w.png",nxe="Step 1 :  Check Current Environment",rxe="Step 2 : Create New Application",oxe="Step 3 : Get SDKAppID and SDKSecretKey",ixe="Step 4 : Start Video Call",axe="Params",sxe="Notes: this Demo is only applicable for debugging. Before official launch, please migrate the UserSig calculation code and key to your backend server to avoid unauthorized traffic use caused by the leakage of encryption key.",lxe="View documents",cxe="https://trtc.io/document/35166",uxe="Device",dxe="Operation",fxe="Please enable your microphone and camera for current page.",hxe="Please enter the correct SDKAppId, SDKSecretKey, userId, roomId!",pxe="Copy the link to invite friends to join the video call, one link can invite only one person, the link will be updated automatically after copying.",mxe="You are invited to this video chat room!",vxe="Please reacquire the invitation link!",gxe="PS: Please confirm that cameras and microphones are allowed on the current page before entering the room",yxe="Documentation";var _xe={logo:txe,step1:nxe,step2:rxe,step3:oxe,step4:ixe,param:axe,alert:sxe,click:lxe,url:cxe,device:uxe,operation:dxe,permit:fxe,paramsNeed:hxe,invite:pxe,inviteUrl:mxe,check:vxe,deviceHint:gxe,"Enter Room":"Enter Room","Start Local Audio":"Start Local Audio","Stop Local Audio":"Stop Local Audio","Start Local Video":"Start Local Video","Stop Local Video":"Stop Local Video","Exit Room":"Exit Room","Start Screen Share":"Start Screen Share","Stop Screen Share":"Stop Screen Share",Documentation:yxe};const bxe="https://web.sdk.qcloud.com/trtc/webrtc/assets/logo/trtc-logo-cn-w.png",Sxe="\u6B65\u9AA4 1 : \u5224\u65AD\u5F53\u524D\u73AF\u5883\u662F\u5426\u6EE1\u8DB3\u6761\u4EF6",Exe="\u6B65\u9AA4 2 : \u521B\u5EFA\u65B0\u7684\u5E94\u7528",Txe="\u6B65\u9AA4 3 : \u83B7\u53D6 SDKAppID \u548C \u5BC6\u94A5 SDKSecretKey",Cxe="\u6B65\u9AA4 4 : \u5F00\u59CB\u89C6\u9891\u901A\u8BDD",wxe="\u53C2\u6570",Ixe="\u6CE8\u610F\uFE0F\uFF1A\u672C Demo \u4EC5\u7528\u4E8E\u8C03\u8BD5\uFF0C\u6B63\u5F0F\u4E0A\u7EBF\u524D\u8BF7\u5C06 UserSig \u8BA1\u7B97\u4EE3\u7801\u548C\u5BC6\u94A5\u8FC1\u79FB\u5230\u60A8\u7684\u540E\u53F0\u670D\u52A1\u5668\u4E0A\uFF0C\u4EE5\u907F\u514D\u52A0\u5BC6\u5BC6\u94A5\u6CC4\u9732\u5BFC\u81F4\u7684\u6D41\u91CF\u76D7\u7528\u3002",kxe="\u67E5\u770B\u6587\u6863",Rxe="https://cloud.tencent.com/document/product/647/17275",Axe="\u8BBE\u5907",Oxe="\u64CD\u4F5C",Nxe="\u8BF7\u6388\u6743\u60A8\u7684\u9EA6\u514B\u98CE\u548C\u6444\u50CF\u5934\u6743\u9650",Pxe="\u8BF7\u68C0\u67E5\u53C2\u6570 SDKAppId, SDKSecretKey, userId, roomId \u662F\u5426\u8F93\u5165\u6B63\u786E\uFF01",Dxe="\u590D\u5236\u94FE\u63A5\u9080\u8BF7\u597D\u53CB\u52A0\u5165\u89C6\u9891\u901A\u8BDD\uFF0C\u4E00\u6761\u94FE\u63A5\u4EC5\u53EF\u9080\u8BF7\u4E00\u4EBA\uFF0C\u590D\u5236\u540E\u81EA\u52A8\u66F4\u65B0\u94FE\u63A5\u3002",Lxe="\u4F60\u88AB\u9080\u8BF7\u53C2\u52A0\u89C6\u9891\u901A\u8BDD\uFF01",Mxe="\u8BF7\u91CD\u65B0\u83B7\u53D6\u9080\u8BF7\u94FE\u63A5\uFF01",xxe="PS: \u8FDB\u623F\u4E4B\u524D\u8BF7\u786E\u8BA4\u5F53\u524D\u9875\u9762\u5141\u8BB8\u4F7F\u7528\u6444\u50CF\u5934\u548C\u9EA6\u514B\u98CE",Vxe="\u6587\u6863";var Fxe={logo:bxe,step1:Sxe,step2:Exe,step3:Txe,step4:Cxe,param:wxe,alert:Ixe,click:kxe,url:Rxe,device:Axe,operation:Oxe,permit:Nxe,paramsNeed:Pxe,invite:Dxe,inviteUrl:Lxe,check:Mxe,deviceHint:xxe,"Enter Room":"\u8FDB\u5165\u623F\u95F4","Start Local Audio":"\u91C7\u96C6\u9EA6\u514B\u98CE","Stop Local Audio":"\u7EC8\u6B62\u91C7\u96C6\u9EA6\u514B\u98CE","Start Local Video":"\u91C7\u96C6\u6444\u50CF\u5934","Stop Local Video":"\u7EC8\u6B62\u91C7\u96C6\u6444\u50CF\u5934","Exit Room":"\u79BB\u5F00\u623F\u95F4","Start Screen Share":"\u5F00\u59CB\u5171\u4EAB\u5C4F\u5E55","Stop Screen Share":"\u505C\u6B62\u5171\u4EAB\u5C4F\u5E55",Documentation:Vxe};document.title=PW()==="en"?"Quick demo Vue 3 | Tencent RTC":"Quick demo Vue 3 | TRTC \u5B9E\u65F6\u97F3\u89C6\u9891";const $xe=WMe({locale:PW()||"en",legacy:!1,globalInjection:!0,global:!0,fallbackLocale:"en",messages:{en:_xe,"zh-cn":Fxe}});var DW={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(ji,function(){var r,o;function a(x){this.name="__st"+(1e9*Math.random()>>>0)+r+"__",x!=null&&x.forEach(this.add,this),r+=1}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(x){if(this===null)throw new TypeError('"this" is null or not defined');var Y=Object(this),ne=Y.length>>>0;if(typeof x!="function")throw new TypeError("predicate must be a function");for(var _e=arguments[1],ke=0;ke<ne;){var Ne=Y[ke];if(x.call(_e,Ne,ke,Y))return Ne;ke+=1}}}),window.WeakSet||(r=Date.now()%1e9,a.prototype.add=function(x){var Y=this.name;return x[Y]||Object.defineProperty(x,Y,{value:!0,writable:!0}),this},a.prototype.delete=function(x){return!!x[this.name]&&!(x[this.name]=void 0)},a.prototype.has=function(x){return!!x[this.name]},o=a,Object.defineProperty(window,"WeakSet",{value:function(x){return new o(x)}})),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(x){if(x==null)throw new TypeError("Cannot convert first argument to object");for(var Y=Object(x),ne=1;ne<arguments.length;ne++)if((_e=arguments[ne])!=null)for(var _e=Object(_e),ke=Object.keys(Object(_e)),Ne=0,je=ke.length;Ne<je;Ne++){var Ze=ke[Ne],lt=Object.getOwnPropertyDescriptor(_e,Ze);lt!=null&&lt.enumerable&&(Y[Ze]=_e[Ze])}return Y}});var l=function(x,Y){return(l=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(ne,_e){ne.__proto__=_e}:function(ne,_e){for(var ke in _e)Object.prototype.hasOwnProperty.call(_e,ke)&&(ne[ke]=_e[ke])}))(x,Y)},c=function(){return(c=Object.assign||function(x){for(var Y,ne=1,_e=arguments.length;ne<_e;ne++)for(var ke in Y=arguments[ne])Object.prototype.hasOwnProperty.call(Y,ke)&&(x[ke]=Y[ke]);return x}).apply(this,arguments)};function d(){for(var x=0,Y=0,ne=arguments.length;Y<ne;Y++)x+=arguments[Y].length;for(var _e=Array(x),ke=0,Y=0;Y<ne;Y++)for(var Ne=arguments[Y],je=0,Ze=Ne.length;je<Ze;je++,ke++)_e[ke]=Ne[je];return _e}var h=/_?t(\d)?(imestamp)?=\d+&?/g,m=["aegis.qq.com","tamaegis.com","/aegis-sdk","rumt-","/flog.core.min.js","pingfore.qq.com","pingfore.tencent.com","zhiyan.tencent-cloud.net","h.trace.qq.com","btrace.qq.com","beacon.qq.com","dmplog.qq.com","qq.com/report","svibeacon.onezapp.com","cube.weixinbridge.com","doubleclick.net","pcmgrmonitor.3g.qq.com","tdm.qq.com","report.qqweb.qq.com","tpstelemetry.tencent.com","insight.cloud.tencent.com","facebook.com","facebook.net","google","yahoo.com","twitter.com","ga-audiences","report.idqqimg.com","arms-retcode.aliyuncs.com","px.effirst.com","sentry","baidu.com","hot-update.json","u.c.b.r.o.w.s.e.r","report.url.cn","sockjs-node","m3u8"],g=["ResizeObserver loop limit exceeded","ResizeObserver loop completed","Failed to execute 'transaction'","window.indexedDB.deleteDatabase is not a function"],v=["ext1","ext2","ext3","level","trace","tag","seq","code"],_=["static","fetch"],S="unknown",T=(C.prototype.indexOf=function(x,Y){for(var ne=0;ne<x.length;ne++)if(x[ne].callback===Y)return ne;return-1},C.prototype.on=function(x,Y,ne){var _e;if(ne===void 0&&(ne=0),this)return(_e=this.eventsList[x])||(this.eventsList[x]=[],_e=this.eventsList[x]),this.indexOf(_e,Y)===-1&&_e.push({name:x,type:ne||0,callback:Y}),this},C.prototype.one=function(x,Y){this.on(x,Y,1)},C.prototype.remove=function(x,Y){if(this){var ne=this.eventsList[x];if(ne){if(Y)return ne.length&&(Y=this.indexOf(ne,Y),ne.splice(Y,1)),this;try{delete this.eventsList[x]}catch{}}return null}},C.prototype.clear=function(){this.eventsList={}},C),b={generateTraceId:P(16),generateSpanId:P(8)},I=Array(32);function C(){var x=this;this.emit=function(Y,ne){if(x){var _e;if((ke=x.eventsList[Y])!=null&&ke.length)for(var ke=ke.slice(),Ne=0;Ne<ke.length;Ne++){_e=ke[Ne];try{var je=_e.callback.apply(x,[ne]);if(_e.type===1&&x.remove(Y,_e.callback),je===!1)break}catch(Ze){throw Ze}}return x}},this.eventsList={}}function P(x){return function(){for(var Y=0;Y<2*x;Y++)I[Y]=Math.floor(16*Math.random())+48,58<=I[Y]&&(I[Y]+=39);return String.fromCharCode.apply(null,I.slice(0,2*x))}}function R(){return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,function(x){return(x^(16*Math.random()&15)>>x/4).toString(16)})}function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var Y=16*Math.random()|0;return(x==="x"?Y:3&Y|8).toString(16)})}function N(x){for(var Y,ne,_e,ke="",Ne=0,je=(x=String(x)).length%3;Ne<x.length;){if(255<(Y=x.charCodeAt(Ne++))||255<(ne=x.charCodeAt(Ne++))||255<(_e=x.charCodeAt(Ne++)))throw new TypeError("Failed to execute 'btoa': The string to be encoded contains characters outside of the Latin1 range.");ke+=M.charAt((Y=Y<<16|ne<<8|_e)>>18&63)+M.charAt(Y>>12&63)+M.charAt(Y>>6&63)+M.charAt(63&Y)}return je?ke.slice(0,je-3)+"===".substring(je):ke}function O(x){if(x=String(x).replace(/[\t\n\f\r ]+/g,""),!U.test(x))throw new TypeError("Failed to execute 'atob': The string to be decoded is not correctly encoded.");var Y;x+="==".slice(2-(3&x.length));for(var ne,_e,ke="",Ne=0;Ne<x.length;)Y=M.indexOf(x.charAt(Ne++))<<18|M.indexOf(x.charAt(Ne++))<<12|(ne=M.indexOf(x.charAt(Ne++)))<<6|(_e=M.indexOf(x.charAt(Ne++))),ke+=ne===64?String.fromCharCode(Y>>16&255):_e===64?String.fromCharCode(Y>>16&255,Y>>8&255):String.fromCharCode(Y>>16&255,Y>>8&255,255&Y);return ke}function $(x){var Y,ne="";return ne=typeof x=="object"&&(Y=(x=function(_e,ke){for(var Ne=0;Ne<ke.length;Ne++){var je=ke[Ne],Ze=_e[je]||typeof _e.get=="function"&&_e.get(je);if(Ze)return[je,Ze]}return["",""]}(x,Object.keys(W)))[0],x=x[1],Y)?W[Y](x):ne}var L,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",U=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,j=(ae.prototype.generate=function(x,Y,ne){if(Y===void 0&&(Y={}),this.url=x,!this.isUrlIgnored()&&this.isUrlInTraceUrls()&&this.traceType){switch(this.traceType){case"traceparent":this.traceId=this.createTraceparent();break;case"b3":this.traceId=this.createB3();break;case"sw8":this.traceId=this.createSw8(ne);break;case"sentry-trace":this.traceId=this.createSentryTrace();break;default:return console.warn("this trace key "+this.traceType+" is not supported"),void(this.traceId="")}return Y[this.traceType]&&(this.traceId=Y[this.traceType]),{name:this.traceType,value:this.traceId}}},ae.prototype.createTraceparent=function(){var x=b.generateSpanId();return"00-"+b.generateTraceId()+"-"+x+"-0"+Number(1).toString(16)},ae.prototype.createB3=function(){var x=b.generateSpanId();return b.generateTraceId()+"-"+x+"-1"},ae.prototype.createSw8=function(_e){var Y=typeof btoa=="function"?btoa:N,_e=_e||{},ne=_e.host,ne=ne===void 0?"":ne,_e=_e.pathname,_e=_e===void 0?"":_e,ke=k(),Ne=k();return"1-"+String(Y(Ne))+"-"+String(Y(ke))+"-1-"+String(Y("aegis"))+"-"+String(Y("1.39.1"))+"-"+String(Y(encodeURI(_e)))+"-"+String(Y(ne))},ae.prototype.createSentryTrace=function(){var x=R().substring(16);return R()+"-"+x+"-1"},ae.prototype.isUrlIgnored=function(){if(Array.isArray(this.ignoreUrls)&&this.ignoreUrls.length!==0)for(var x=0,Y=this.ignoreUrls;x<Y.length;x++){var ne=Y[x];if(this.urlMatches(this.url,ne))return!0}return!1},ae.prototype.isUrlInTraceUrls=function(){if(!this.urls)return!0;if(Array.isArray(this.urls)){if(this.urls.length===0)return!1;for(var x=0,Y=this.urls;x<Y.length;x++){var ne=Y[x];if(this.urlMatches(this.url,ne))return!0}}return!1},ae.prototype.urlMatches=function(x,Y){return typeof Y=="string"?x===Y:!!x.match(Y)},ae),W={sw8:function(ne){var Y=typeof atob=="function"?atob:O,ne=ne.split("-")[1];return ne?Y(ne):""},traceparent:function(x){return x.split("-")[1]},b3:function(x){return x.split("-")[0]},"sentry-trace":function(x){return x.split("-")[0]}},re=function(x){if(!x||x.length===0)return"{}";x=Array.isArray(x)?x:[x];var Y=Object.keys(x[0]),ne={};return Y.forEach(function(_e){ne[_e]=x.map(function(ke){return ke[_e]})}),ne.count=x.length,ot(ne)};function ae(x,Y,ne){ne===void 0&&(ne=null),this.traceType=x,this.ignoreUrls=Y,this.urls=ne}(cn=L=L||{})[cn.number=-1]="number",cn.string="";function ee(x,Y){return typeof x=="number"||typeof x=="string"?x:Y?L.string:L.number}function G(x,Y){return typeof x=="string"?x.split("?")[Y?1:0]||"":x}function Z(x,Y){return Y===void 0&&(Y=2048),String(x).replace(h,"").slice(0,Y)}function X(x){return typeof x=="string"&&/^\//.test(x)?(location==null?void 0:location.protocol)==="https:":/^https/.test(x)}function H(x,Y,ne){var _e,ke,Ne,je;try{if(typeof(Y==null?void 0:Y.retCodeHandler)=="function")return Ne=(ke=Y.retCodeHandler(x,ne==null?void 0:ne.url,ne==null?void 0:ne.ctx,ne==null?void 0:ne.payload)||{}).code,je=ke.isErr,{code:Ne===void 0?S:Ne,isErr:je};if(!(x=typeof x=="string"?JSON.parse(x):x))return{code:S,isErr:!1};typeof((_e=Y==null?void 0:Y.ret)==null?void 0:_e.join)=="function"&&(tt=[].concat(Y.ret.map(function(lt){return lt.toLowerCase()})));var Ze=Object.getOwnPropertyNames(x).filter(function(lt){return tt.indexOf(lt.toLowerCase())!==-1});return Ze.length?{code:""+(Ne=(Ne=x[Ze[0]])!=="\u672A\u77E5"&&Ne!==""?Ne:S),isErr:Ne!==0&&Ne!=="0"&&Ne!==S}:{code:S,isErr:!1}}catch{return{code:S,isErr:!1}}}function J(x,Y,ne){try{var _e=typeof Y=="function"?Y(x,ne==null?void 0:ne.url)||"":x;return le(_e).slice(0,102400)}catch{return""}}function fe(x,Y){return typeof x!="string"||!x||Y&&-1<x.indexOf(Y)||Ae.test(x)||m.some(function(ne){return-1<x.indexOf(ne)})}function ge(x,Y){var ne,_e=[],ke=x.config;return x.lifeCycle.on("destroy",function(){_e.length=0}),function(Ne,je){Array.isArray(Ne)?_e=_e.concat(Ne):_e.push(Ne),Y&&_e.length>=Y||x.sendNow&&0<_e.length?(_e=qe(_e),je(_e.splice(0,_e.length)),ne&&clearTimeout(ne)):(ne&&clearTimeout(ne),ne=setTimeout(function(){ne=null,0<(_e=qe(_e)).length&&je(_e.splice(0,_e.length))},ke.delay))}}function me(x,Y){return Array.isArray(x)?Y(x.map(function(ne){return _e=c(c({},ne),{msg:typeof ne.msg=="string"?ne.msg:[].concat(ne.msg).map(ze).join(" ")}),v.forEach(function(ke){_e[ke]||delete _e[ke]}),_e;var _e})):Y([c(c({},x),{msg:typeof x.msg=="string"?x.msg:ze(x.msg)})])}function Ee(x,Y){return function(ne,_e){var ke,Ne,je,Ze=Array.isArray(ne),lt=Ze?ne:[ne],ut=(x.lifeCycle.emit("beforeRequest",ne),x.config.beforeRequest);(lt=typeof ut=="function"?lt.map(function(Ct){try{var At=ut({logs:Ct,logType:Y});return(At==null?void 0:At.logType)===Y&&At!=null&&At.logs?At.logs:At!==!1&&Ct}catch{return Ct}}).filter(function(Ct){return Ct!==!1}):lt).length&&(ke=lt,ne=v,!Array.isArray(ke)||ke.length<=1||(Ne=[],je=[],!(je=typeof ne=="string"?[ne]:ne))||je.length<=0||(je.forEach(function(Ct){ke.forEach(function(At){At!=null&&At[Ct]&&Ne.push(Ct)})}),0<Ne.length&&(ke=ke.map(function(Ct){var At={};return Ne.forEach(function($t){At[$t]=""}),c(c({},At),Ct)}))),lt=ke,_e(Ze?lt:lt[0]))}}function Fe(x){return function(Y,ne){x.lifeCycle.emit("modifyRequest",Y);var _e=x.config.modifyRequest;if(typeof _e=="function")try{var ke=_e(Y);typeof ke=="object"&&"url"in ke&&(Y=ke)}catch(Ne){console.error(Ne)}ne(Y)}}function $e(x){return function(Y,ne){(_e=x.lifeCycle)!=null&&_e.emit("afterRequest",Y);var _e=(x.config||{}).afterRequest;typeof _e=="function"&&_e(Y)===!1||ne(Y)}}function de(x){if(x&&x.reduce&&x.length)return x.length===1?function(Y,ne){x[0](Y,ne||Ut)}:x.reduce(function(Y,ne){return function(_e,ke){return ke===void 0&&(ke=Ut),Y(_e,function(Ne){return ne==null?void 0:ne(Ne,ke)})}});throw new TypeError("createPipeline need at least one function param")}function Le(x,Y){Object.getOwnPropertyNames(x).forEach(function(ne){typeof x[ne]=="function"&&ne!=="constructor"&&(Y?Y[ne]=ne==="sendPipeline"?function(){return function(){}}:function(){}:x[ne]=function(){})})}function Te(){return window.performance!==void 0&&typeof performance.getEntriesByType=="function"&&typeof performance.now=="function"}function Be(x){return jt.indexOf(x)!==-1}var be,We,ce,ie=["application/xhtml+xml","application/xml","application/pdf","application/pkcs12","application/javascript","application/x-javascript","application/ecmascript","application/vnd.mspowerpoint","application/vnd.apple.mpegurl","application/ogg","text/css","text/javascript","image","audio","video","video/mp2t"],De=/\.(json|js|css|jpg|jpeg|png|svg|apng|webp|gif|bmp|mp4|mp3|ts|mpeg|wav|webm|ogg|flv|m3u8|ttf|woff2|otf|eot|woff|html|htm|shtml|shtm|)$/i,tt=["ret","retcode","code","errcode"],xe=function(){var x=new WeakSet;return function(Y,ne){if(ne instanceof Error)return"Error.message: "+ne.message+` 
  Error.stack: `+ne.stack;if(typeof ne=="object"&&ne!==null){if(x.has(ne))return"[Circular "+(Y||"root")+"]";x.add(ne)}return ne}},ze=function(x){if(typeof x=="string")return x;try{return x instanceof Error?(JSON.stringify(x,xe(),4)||"undefined").replace(/"/gim,""):JSON.stringify(x,xe(),4)||"undefined"}catch(Y){return`error happen when aegis stringify: 
 `+Y.message+` 
 `+Y.stack}},ot=function(x){if(typeof x=="string")return x;try{return JSON.stringify(x,xe())||"undefined"}catch(Y){return`error happen when aegis stringify: 
 `+Y.message+` 
 `+Y.stack}},le=function(x,Y){Y===void 0&&(Y=3);var ne,_e,ke,Ne="";return Array.isArray(x)?(Ne+="[",ne=x.length,x.forEach(function(je,Ze){Ne=(Ne+=typeof je=="object"&&1<Y?le(je,Y-1):Re(je))+(Ze===ne-1?"":",")}),Ne+="]"):x instanceof Object?(Ne="{",_e=Object.keys(x),ke=_e.length,_e.forEach(function(je,Ze){typeof x[je]=="object"&&1<Y?Ne+='"'+je+'":'+le(x[je],Y-1):Ne+=pe(je,x[je]),Ne+=Ze===ke-1||Ze<ke-1&&x[_e[Ze+1]]===void 0?"":","}),Ne+="}"):Ne+=x,Ne},pe=function(x,Y){var ne=typeof Y,_e="";return ne=="string"||ne=="object"?_e+='"'+x+'":"'+Y+'"':typeof Y=="function"?_e+='"'+x+'":"function '+Y.name+'"':typeof Y=="symbol"?_e+='"'+x+'":"symbol"':typeof Y!="number"&&ne!="boolean"||(_e+='"'+x+'": '+Y),_e},Re=function(x){var Y=typeof x;return""+(Y=="undefined"||Y=="symbol"||Y=="function"?"null":Y=="string"||Y=="object"?'"'+x+'"':x)},Ae=/data:(image|text|application|font)\/.*;base64/,qe=((cn=be=be||{}).INFO_ALL="-1",cn.API_RESPONSE="1",cn.INFO="2",cn.ERROR="4",cn.PROMISE_ERROR="8",cn.AJAX_ERROR="16",cn.SCRIPT_ERROR="32",cn.IMAGE_ERROR="64",cn.CSS_ERROR="128",cn.CONSOLE_ERROR="256",cn.MEDIA_ERROR="512",cn.RET_ERROR="1024",cn.REPORT="2048",cn.PV="4096",cn.EVENT="8192",cn.PAGE_NOT_FOUND_ERROR="16384",cn.WEBSOCKET_ERROR="32768",cn.BRIDGE_ERROR="65536",cn.LAZY_LOAD_ERROR="131072",(cn=We=We||{}).LOG="log",cn.SPEED="speed",cn.PERFORMANCE="performance",cn.OFFLINE="offline",cn.WHITE_LIST="whiteList",cn.VITALS="vitals",cn.PV="pv",cn.CUSTOM_PV="customPV",cn.EVENT="event",cn.CUSTOM="custom",cn.SDK_ERROR="sdkError",cn.SET_DATA="setData",cn.LOAD_PACKAGE="loadPackage",(cn=ce=ce||{}).production="production",cn.development="development",cn.gray="gray",cn.pre="pre",cn.daily="daily",cn.local="local",cn.test="test",cn.others="others",function(x){return x.filter(function(Y,ne){return Y.type!=="static"||!x.find(function(_e,ke){return Y.url===_e.url&&Y.status===200&&ne<ke})})}),rt=function(x){x.level===be.INFO_ALL&&(x.level=be.INFO)},Ue={},Xe={},Nt=function(x){return Ue[x]||(Ue[x]=setTimeout(function(){Xe[x]={},Ue[x]=null},6e4)),Ue[x]},Ft=function(x){return(Array.isArray(x)?x:[x]).map(function(Y){return Object.getOwnPropertyNames(Y).reduce(function(ne,_e){return _e!=="ctx"&&(ne[_e]=Y[_e]),ne},{level:be.INFO,msg:""})})},Et=function(x){return function(Y){return x.sendPipeline([function(ne,_e){return _e({url:x.config.url||"",data:re(Ft(ne)),method:"post",contentType:"application/json",type:We.LOG,log:ne,requestConfig:{timeout:5e3},success:function(){var ke=x.config.onReport;typeof ke=="function"&&ne.forEach(function(Ne){ke(Ne)}),typeof _e=="function"&&_e([])}})}],We.LOG)(Y)}},Ut=function(){},cn=(ft.use=function(x){ft.installedPlugins.indexOf(x)===-1&&x.aegisPlugin&&ft.installedPlugins.push(x)},ft.unuse=function(x){x=ft.installedPlugins.indexOf(x),x!==-1&&ft.installedPlugins.splice(x,1)},ft.prototype.init=function(x){this.setConfig(x);for(var Y=0;Y<ft.installedPlugins.length;Y++)try{ft.installedPlugins[Y].patch(this)}catch(ne){this.sendSDKError(ne)}this.lifeCycle.emit("onInited")},ft.prototype.destroy=function(x){x===void 0&&(x=!1);var Y,ne,_e=ft.instances.indexOf(this);_e!==-1&&ft.instances.splice(_e,1);for(var ke=ft.installedPlugins.length-1;0<=ke;ke--)try{ft.installedPlugins[ke].unpatch(this)}catch(je){this.sendSDKError(je)}if(this.lifeCycle.emit("destroy"),this.lifeCycle.clear(),x)Y=this,ne=Object.getOwnPropertyDescriptors(Y),Object.keys(ne).forEach(function(je){ne[je].writable&&(Y[je]=null)}),Object.setPrototypeOf(this,null);else{for(var Ne=this;Ne.constructor!==Object&&Le(Ne,this),Ne=Object.getPrototypeOf(Ne););ft.instances.length===0&&(_e=Object.getPrototypeOf(this).constructor,Le(_e),Le(ft))}},ft.prototype.setConfig=function(Ct){Object.assign(this.config,Ct);var Ct=this.config,Y=Ct.id,ne=Ct.uin,_e=Ct.version,ke=Ct.ext1,Ne=Ct.ext2,je=Ct.ext3,Ze=Ct.aid,ut=Ct.env,lt=ut===void 0?"production":ut,ut=Ct.pageUrl,Ct=this.bean.id!==Y||this.bean.uin!==ne||this.bean.aid!==Ze;return this.bean.id=Y||"",this.bean.uin=ne||"",this.bean.version=_e||"1.39.1",this.bean.aid=Ze||"",this.bean.env=function(){switch(lt){case ce.production:case ce.development:case ce.gray:case ce.pre:case ce.daily:case ce.local:case ce.test:case ce.others:return 1;default:return}}()?lt:ce.others,ut&&this.extendBean("from",encodeURIComponent(ut.slice(0,2048))),ke&&this.extendBean("ext1",encodeURIComponent(ke)),Ne&&this.extendBean("ext2",encodeURIComponent(Ne)),je&&this.extendBean("ext3",encodeURIComponent(je)),Ct&&this.lifeCycle.emit("onConfigChange",this.config),this.config},ft.prototype.extendBean=function(x,Y){this.bean[x]=Y},ft.prototype.send=function(x,Y,ne){var _e=this;return de([Fe(this),function(ke,Ne){_e.request(ke,function(){for(var je=[],Ze=0;Ze<arguments.length;Ze++)je[Ze]=arguments[Ze];Ne({isErr:!1,result:je,logType:ke.type,logs:ke.log}),Y!=null&&Y.apply(void 0,je)},function(){for(var je=[],Ze=0;Ze<arguments.length;Ze++)je[Ze]=arguments[Ze];Ne({isErr:!0,result:je,logType:ke.type,logs:ke.log}),ne!=null&&ne.apply(void 0,je)})},$e(this)])(x)},ft.prototype.sendSDKError=function(x){var Y=this;this.sendPipeline([function(ne,_e){_e({url:Y.config.url+"?id=1085&msg[0]="+encodeURIComponent(ze(ne))+"&level[0]=2&from="+Y.config.id+"&count=1&version="+Y.config.id+"(1.39.1)",addBean:!1,method:"get",type:We.SDK_ERROR,log:ne})}],We.SDK_ERROR)(x)},ft.prototype.sendPipeline=function(x,Y){var ne,_e=this;return de(d([function(ke,Ne){if(typeof ne.config.random!="number"&&(console.warn("random must in [0, 1], default is 1."),ne.config.random=1),!ne.isHidden||!ne.isGetSample)if(ne.isGetSample)ne.isHidden||Ne(ke);else{if(ne.isGetSample=!0,Math.random()<ne.config.random)return ne.isHidden=!1,Ne(ke);ne.isHidden=!0}},Ee(ne=this,Y)],x,[Fe(this),function(ke,Ne){_e.request(ke,function(){for(var je=[],Ze=0;Ze<arguments.length;Ze++)je[Ze]=arguments[Ze];var lt=!1;-1<(""+je[_e.failRequestCount=0]).indexOf("403 forbidden")&&(lt=!0,_e.destroy()),Ne({isErr:lt,result:je,logType:ke==null?void 0:ke.type,logs:ke==null?void 0:ke.log}),(lt=ke==null?void 0:ke.success)!=null&&lt.call.apply(lt,d([ke],je))},function(){for(var je,Ze=[],lt=0;lt<arguments.length;lt++)Ze[lt]=arguments[lt];60<=++_e.failRequestCount&&_e.destroy(),-1<(""+Ze[0]).indexOf("403 forbidden")&&_e.destroy(),Ne({isErr:!0,result:Ze,logType:ke==null?void 0:ke.type,logs:ke==null?void 0:ke.log}),(je=ke==null?void 0:ke.fail)!=null&&je.call.apply(je,d([ke],Ze))})},$e(this)]))},ft.prototype.info=function(){for(var x=[],Y=0;Y<arguments.length;Y++)x[Y]=arguments[Y];var ne={level:be.INFO,msg:x};x.length===1&&x[0].msg&&Object.assign(ne,c({},x[0]),{level:be.INFO}),this.normalLogPipeline(ne)},ft.prototype.infoAll=function(){for(var x=[],Y=0;Y<arguments.length;Y++)x[Y]=arguments[Y];var ne={level:be.INFO_ALL,msg:x};x.length===1&&x[0].msg&&Object.assign(ne,c({},x[0]),{level:be.INFO_ALL}),this.normalLogPipeline(ne)},ft.prototype.report=function(){for(var x=[],Y=0;Y<arguments.length;Y++)x[Y]=arguments[Y];var ne={level:be.REPORT,msg:x};x.length===1&&x[0].msg&&Object.assign(ne,c({},x[0])),this.normalLogPipeline(ne)},ft.prototype.error=function(){for(var x=[],Y=0;Y<arguments.length;Y++)x[Y]=arguments[Y];var ne={level:be.ERROR,msg:x};x.length===1&&x[0].msg&&Object.assign(ne,c({},x[0]),{level:be.ERROR}),this.normalLogPipeline(ne)},ft.prototype.reportEvent=function(x){x&&((x=typeof x=="string"?{name:x,ext1:this.config.ext1||"",ext2:this.config.ext2||"",ext3:this.config.ext3||""}:x).name?(typeof x.name!="string"&&(console.warn("reportEvent params name must be string"),x.name=String(x.name)),this.eventPipeline(x)):console.warn("reportEvent params error"))},ft.prototype.reportT=function(je){var Y=je.name,ne=je.duration,_e=je.ext1,_e=_e===void 0?"":_e,ke=je.ext2,ke=ke===void 0?"":ke,Ne=je.ext3,Ne=Ne===void 0?"":Ne,je=je.from;if(typeof Y=="string"&&typeof ne=="number"&&typeof _e=="string"&&typeof ke=="string"&&typeof Ne=="string"){if(!(ne<0||6e4<ne))return this.submitCustomTime(Y,ne,_e,ke,Ne,je===void 0?"":je);console.warn("reportTime: duration must between 0 and 60000")}else console.warn("reportTime: params error")},ft.prototype.reportTime=function(x,Y){if(typeof x=="object")return this.reportT(x);typeof x=="string"?typeof Y=="number"?Y<0||6e4<Y?console.warn("reportTime: duration must between 0 and 60000"):this.submitCustomTime(x,Y):console.warn("reportTime: second param must be number"):console.warn("reportTime: first param must be a string")},ft.prototype.time=function(x){typeof x=="string"?this.timeMap[x]?console.warn("Timer "+x+" already exists"):this.timeMap[x]=Date.now():console.warn("time: first param must be a string")},ft.prototype.timeEnd=function(x){typeof x=="string"?this.timeMap[x]?(this.submitCustomTime(x,Date.now()-this.timeMap[x]),delete this.timeMap[x]):console.warn("Timer "+x+" does not exist"):console.warn("timeEnd: first param must be a string")},ft.prototype.ready=function(x,Y,ne){throw new Error('You need to override "ready" method')},ft.prototype.request=function(x,Y,ne){throw new Error('You need to override "request" method')},ft.prototype.speedLogPipeline=function(x){throw new Error('You need to override "speedLogPipeline" method')},Object.defineProperty(ft.prototype,"__version__",{get:function(){return"1.39.1"},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"LogType",{get:function(){return be},enumerable:!1,configurable:!0}),ft.prototype.reportPv=function(x){x&&console.warn("reportPv is deprecated, please use reportEvent")},ft.prototype.submitCustomTime=function(x,Y,ne,_e,ke,Ne){this.customTimePipeline({name:x,duration:Y,ext1:ne||this.config.ext1,ext2:_e||this.config.ext2,ext3:ke||this.config.ext3,from:Ne||void 0})},ft.version="1.39.1",ft.instances=[],ft.logType=be,ft.environment=ce,ft.installedPlugins=[],ft),He=(Me.prototype.patch=function(x){this.canUse(x)&&this.exist(x)&&(this.instances.push(x),this.triggerInit(x),this.triggerOnNewAegis(x))},Me.prototype.unpatch=function(x){var Y=this.instances.indexOf(x);Y!==-1&&(this.instances.splice(Y,1),this.instances.length===0)&&this.uninstall(x)},Me.prototype.countInstance=function(){return this.instances.length},Me.prototype.uninstall=function(x){var Y;(Y=(Y=this.option)==null?void 0:Y.destroy)!=null&&Y.apply(this,[x])},Me.prototype.walk=function(x){var Y=this;this.instances.forEach(function(ne){var _e=Y.canUse(ne);_e&&x(ne,_e)})},Me.prototype.canUse=function(x){return x=this.getConfig(x),!(!x||typeof x!="object")||!!x},Me.prototype.getConfig=function(x){return(x=x.config)==null?void 0:x[this.name]},Me.prototype.exist=function(x){return this.instances.indexOf(x)===-1},Me.prototype.triggerInit=function(x){var Y;this.inited||(this.inited=!0,(Y=(Y=this.option)==null?void 0:Y.init)==null)||Y.call(this.option,this.getConfig(x))},Me.prototype.triggerOnNewAegis=function(x){var Y;(Y=(Y=this.option)==null?void 0:Y.onNewAegis)!=null&&Y.call(this.option,x,this.getConfig(x))},Me),vt=new He({name:"aid",aid:"",init:function(x){try{var Y=x!==!0&&x||window.localStorage.getItem("AEGIS_ID");Y||(Y="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ne){var _e=16*Math.random()|0;return(ne==="x"?_e:3&_e|8).toString(16)}),window.localStorage.setItem("AEGIS_ID",Y)),this.aid=Y}catch{}},onNewAegis:function(x){x.bean.aid=this.aid,x.config.aid=this.aid}}),we=function(x){var Y;return x.payload?(Y={},Object.keys(x).forEach(function(ne){ne!=="payload"&&(Y[ne]=x[ne])}),Y):x},Ye=new He({name:"reportAssetSpeed"}),nt=Ye=new He({name:"reportAssetSpeed",collectCur:0,collectEntryType:"resource",ASSETS_INITIATOR_TYPE:["img","css","script","link","audio","video"],onNewAegis:function(x){var Y=this;Te()&&(this.collectSuccessLog(x),this.collectFailLog(x),performance.onresourcetimingbufferfull=function(){typeof performance.clearResourceTimings=="function"&&(Y.collectCur=0,performance.clearResourceTimings())})},publish:function(x,Y){this.$walk(function(ne){ne===Y&&ne.speedLogPipeline(x)})},publishMany:function(x,Y){for(var ne=Y.config,_e=0,ke=x.length;_e<ke;_e++){var Ne=x[_e];this.ASSETS_INITIATOR_TYPE.indexOf(Ne.initiatorType)===-1||fe(Ne.name,ne.hostUrl)||this.publish(this.generateLog(Ne,ne),Y)}},collectSuccessLog:function(x){var Y,ne,_e=this;typeof window.PerformanceObserver=="function"?(this.publishMany(performance.getEntriesByType(this.collectEntryType),x),(Y=new window.PerformanceObserver(function(ke){_e.publishMany(ke.getEntries(),x)})).observe({entryTypes:[this.collectEntryType]}),x.lifeCycle.on("destroy",function(){Ye.countInstance()===0&&Y.disconnect()})):(ne=setInterval(function(){var ke=performance.getEntriesByType(_e.collectEntryType),Ne=ke.slice(_e.collectCur);_e.collectCur=ke.length,_e.publishMany(Ne,x)},3e3),x.lifeCycle.on("destroy",function(){Ye.countInstance()===0&&clearInterval(ne)}))},collectFailLog:function(x){function Y(ke){var Ne,je;ke&&(ke=ke.target||ke.srcElement,!(Ne=(ke==null?void 0:ke.src)||(ke==null?void 0:ke.href))||typeof Ne!="string"||-1<window.location.href.indexOf(Ne)||(ke=typeof((ke=_e.api)==null?void 0:ke.resourceTypeHandler)=="function"?(ke=_e.api)==null?void 0:ke.resourceTypeHandler(Ne):"",je=performance.getEntriesByType(ne.collectEntryType).find(function(Ze){return Ze.name===Ne}),fe(Ne,_e.hostUrl))||(je={url:Z(Ne),status:400,duration:Number(((je==null?void 0:je.duration)||0).toFixed(2)),method:"get",type:ke||"static",isHttps:X(Ne),urlQuery:G(Ne,!0),nextHopProtocol:"",domainLookup:0,connectTime:0},ne.publish(je,x)))}var ne=this,_e=x.config;window.document.addEventListener("error",Y,!0),x.lifeCycle.on("destroy",function(){Ye.countInstance()===0&&window.document.removeEventListener("error",Y,!0)})},generateLog:function(x,ne){var ne=typeof((_e=ne.api)==null?void 0:_e.resourceTypeHandler)=="function"?(_e=ne.api)==null?void 0:_e.resourceTypeHandler(x.name):"",_e=x.transferSize;return{url:Z(x.name),method:"get",duration:Number(x.duration.toFixed(2)),status:200,type:ne||"static",isHttps:X(x.name),nextHopProtocol:x.nextHopProtocol||"",urlQuery:G(x.name,!0),domainLookup:ee(x.domainLookupEnd-x.domainLookupStart),connectTime:ee(x.connectEnd-x.connectStart),transferSize:0<_e?_e:-1}},collectNotReportedLog:function(x){var Y,ne;Te()&&(Y=(ne=performance.getEntriesByType(this.collectEntryType)).length,typeof window.PerformanceObserver!="function")&&this.collectCur!==Y&&(ne=ne.slice(this.collectCur),this.collectCur=Y,this.publishMany(ne,x,!0))},destroy:function(){this.option.publish=function(){}}}),jt=window.navigator.userAgent.toLowerCase(),Dt={};function Me(x){this.aegisPlugin=!0,this.name="",this.instances=[],this.inited=!1,x.$walk=this.walk.bind(this),x.$getConfig=this.getConfig.bind(this),this.option=x,this.name=x.name}function ft(x){var Y,ne,_e,ke,Ne,je,Ze,lt,ut,Ct,At,$t,Wt,Fn,Ln=this;this.isGetSample=!1,this.isHidden=!1,this.config={version:0,delay:1e3,onError:!0,repeat:60,random:1,aid:!0,device:!0,pagePerformance:!0,webVitals:!0,speedSample:!0,onClose:!0,reportLoadPackageSpeed:!0,hostUrl:"https://aegis.qq.com",env:"production",url:"",offlineUrl:"",whiteListUrl:"",pvUrl:"",speedUrl:"",customTimeUrl:"",performanceUrl:"",performanceUrlForHippy:"",webVitalsUrl:"",eventUrl:"",setDataReportUrl:"",reportImmediately:!0},this.isWhiteList=!1,this.lifeCycle=new T,this.bean={},this.normalLogPipeline=de([ge(this,5),me,function(Tn,_n){var mn=Y.config;_n(Tn=Tn.map(function(yn){var un,hr=mn.maxLength||102400;try{if(!yn.msg||yn.msg.length<=hr)return yn;yn.msg=(un=yn.msg)==null?void 0:un.substring(0,hr)}catch{yn.msg=ze(yn.msg).substring(0,mn.maxLength)}return yn}))},(Fn=(Y=this).config,function(Tn,_n){var mn=typeof Fn.repeat=="number"?Fn.repeat:60;if(mn<=0)return _n(Tn);var yn=(Fn==null?void 0:Fn.id)+"_error",un=Xe[yn]||{};_n(Tn.filter(function(hr){if(hr.level===be.ERROR||hr.level===be.PROMISE_ERROR||hr.level===be.AJAX_ERROR||hr.level===be.SCRIPT_ERROR||hr.level===be.IMAGE_ERROR||hr.level===be.CSS_ERROR||hr.level===be.MEDIA_ERROR||hr.level===be.RET_ERROR||hr.level===be.BRIDGE_ERROR||hr.level===be.PAGE_NOT_FOUND_ERROR||hr.level===be.WEBSOCKET_ERROR||hr.level===be.LAZY_LOAD_ERROR){if(hr=hr.msg.slice(0,200),un[hr]>mn)return Ue[yn]||Nt(yn),!1;un[hr]=1+~~un[hr],Xe[yn]=un}return!0}))}),($t=this.lifeCycle.emit,Wt=this.config,function(Tn,_n){var mn,yn=Wt.logCreated;return typeof yn=="function"?(mn=Tn.filter(function(un){return yn(un)!==!1}),$t("beforeWrite",mn),_n(mn)):($t("beforeWrite",Tn),_n(Tn))}),(At=this,setTimeout(function(){var mn=At.config,_n=mn.pvUrl,Tn=_n===void 0?"":_n,_n=mn.spa,mn=-1<["web-sdk","mp-sdk"].indexOf("web-sdk");Tn&&(mn&&!_n||!mn)&&At.sendPipeline([function(yn,un){un({url:Tn,type:We.PV})}],We.PV)(null)},100),function(Tn,_n){_n(Tn)}),(ut=lt=Ze=!1,Ct=[],(Ne=this).lifeCycle.on("onConfigChange",function(){je&&clearTimeout(je),je=setTimeout(function(){var Tn,_n;!ut&&Ne.config&&(ut=!0,Tn=Ne.config.whiteListUrl,(_n=Tn===void 0?"":Tn)&&Ne.sendPipeline([function(mn,yn){yn({url:_n,type:We.WHITE_LIST,success:function(un){lt=!0;try{var hr=un.data||JSON.parse(un),hi=hr.retcode,gr=hr.result,Yo=gr===void 0?{}:gr,Xa=(hi===0&&(Ze=Yo.is_in_white_list,Ne.isWhiteList=Ze,0<=Yo.rate)&&Yo.rate<=1&&(Ne.config.random=Yo.rate,Ne.isGetSample=!1),Ne.isWhiteList&&Ct.length?Et(Ne)(Ct.splice(0),function(){}):!Ne.isWhiteList&&Ct.length&&(Ct.length=0),Ne.config.onWhitelist);typeof Xa=="function"&&Xa(Ze)}catch{}},fail:function(){lt=!0}})}],We.WHITE_LIST)(null),ut=!1)},Ne.config.uin?50:500)}),Ne.lifeCycle.on("destroy",function(){Ct.length=0}),function(Tn,_n){var mn;Ze||(mn=(mn=Ne.config)==null?void 0:mn.api)!=null&&mn.reportRequest?_n(Tn.concat(Ct.splice(0)).map(function(yn){return rt(yn),yn})):(mn=Tn.filter(function(yn){return yn.level!==be.INFO&&yn.level!==be.API_RESPONSE?(rt(yn),!0):(lt||(Ct.push(yn),200<=Ct.length&&(Ct.length=200)),!1)})).length&&_n(mn)}),function(Tn,_n){try{var mn=JSON.parse(JSON.stringify(Tn)),yn=(Ln.lifeCycle.emit("beforeReport",mn),Ln.config.beforeReport);(Tn=typeof yn=="function"?Tn.filter(function(un){return yn(un)!==!1}):Tn).length&&_n(Tn)}catch{}},Et(this)]),this.eventPipeline=de([ge(this,10),(ke=this,function(Tn){ke.sendPipeline([function(_n,mn){var yn=_n.map(function(un){return{name:un.name,ext1:un.ext1||ke.config.ext1||"",ext2:un.ext2||ke.config.ext2||"",ext3:un.ext3||ke.config.ext3||""}});mn({url:ke.config.eventUrl+"?payload="+encodeURIComponent(JSON.stringify(yn)),type:We.EVENT,log:_n})}],We.EVENT)(Tn)})]),this.customTimePipeline=de([ge(this,10),(_e=this,function(Tn){return _e.sendPipeline([function(_n,mn){mn({url:_e.config.customTimeUrl+"?payload="+encodeURIComponent(JSON.stringify({custom:_n})),type:We.CUSTOM,log:_n})}],We.CUSTOM)(Tn)})]),this.timeMap={},this.failRequestCount=0,this.config=(ne=this.config,(x=x.hostUrl)===void 0&&(x="https://aegis.qq.com"),ne.url=ne.url||x+"/collect",ne.offlineUrl=ne.offlineUrl||x+"/offline",ne.whiteListUrl=ne.whiteListUrl||x+"/collect/whitelist",ne.pvUrl=ne.pvUrl||x+"/collect/pv",ne.eventUrl=ne.eventUrl||x+"/collect/events",ne.speedUrl=ne.speedUrl||x+"/speed",ne.customTimeUrl=ne.customTimeUrl||x+"/speed/custom",ne.performanceUrl=ne.performanceUrl||x+"/speed/performance",ne.performanceUrlForHippy=ne.performanceUrlForHippy||x+"/speed/hippyPerformance",ne.webVitalsUrl=ne.webVitalsUrl||x+"/speed/webvitals",ne.setDataReportUrl=ne.SetDataReportUrl||x+"/speed/miniProgramData",ne),ft.instances.push(this)}Dt.macos=function(){return Be("mac")},Dt.ios=function(){return Dt.iphone()||Dt.ipod()||Dt.ipad()},Dt.iphone=function(){return!Dt.windows()&&Be("iphone")},Dt.ipod=function(){return Be("ipod")},Dt.ipad=function(){var x=navigator.platform==="MacIntel"&&1<navigator.maxTouchPoints;return Be("ipad")||x},Dt.android=function(){return!Dt.windows()&&Be("android")},Dt.androidPhone=function(){return Dt.android()&&Be("mobile")},Dt.androidTablet=function(){return Dt.android()&&!Be("mobile")},Dt.blackberry=function(){return Be("blackberry")||Be("bb10")},Dt.blackberryPhone=function(){return Dt.blackberry()&&!Be("tablet")},Dt.blackberryTablet=function(){return Dt.blackberry()&&Be("tablet")},Dt.windows=function(){return Be("windows")},Dt.windowsPhone=function(){return Dt.windows()&&Be("phone")},Dt.windowsTablet=function(){return Dt.windows()&&Be("touch")&&!Dt.windowsPhone()},Dt.fxos=function(){return(Be("(mobile")||Be("(tablet"))&&Be(" rv:")},Dt.fxosPhone=function(){return Dt.fxos()&&Be("mobile")},Dt.fxosTablet=function(){return Dt.fxos()&&Be("tablet")},Dt.meego=function(){return Be("meego")},Dt.cordova=function(){return window.cordova&&location.protocol==="file:"},Dt.nodeWebkit=function(){return typeof window.process=="object"},Dt.mobile=function(){return Dt.androidPhone()||Dt.iphone()||Dt.ipod()||Dt.windowsPhone()||Dt.blackberryPhone()||Dt.fxosPhone()||Dt.meego()},Dt.tablet=function(){return Dt.ipad()||Dt.androidTablet()||Dt.blackberryTablet()||Dt.windowsTablet()||Dt.fxosTablet()},Dt.desktop=function(){return!Dt.tablet()&&!Dt.mobile()};function In(){return{host:new URL(location.href).host,pathname:location.pathname}}function rn(x,Y,ne){return Y!=null&&Y.length&&typeof x=="object"?Y.reduce(function(_e,ke){var Ne=window.Headers&&x instanceof Headers?x.get(ke):x[ke];return Ne?_e+(_e===""?"":`

`)+ne+" header "+ke+": "+Ne:_e},""):""}function qn(x,Y){return x&&["null","undefined"].indexOf(x)===-1?Y+": "+x:""}function Pn(Ne,Y,ne){Y===void 0&&(Y="");var _e,ke,Ne=typeof((ke=Ne.api)==null?void 0:ke.resourceTypeHandler)=="function"?(ke=Ne.api)==null?void 0:ke.resourceTypeHandler(ne):"";return _.indexOf(Ne)===-1&&(_e=Y===void 0?"":Y,ke=(ne===void 0?"":ne).split("?")[0],Ne=De.test(ke)||ie.some(function(je){return String(_e).indexOf(je)!==-1})?"static":"fetch"),Ne}function Xr(x,Y){return x?be.AJAX_ERROR:Y?be.RET_ERROR:be.API_RESPONSE}function Nr(x,Y){return(x=x.api)!=null&&x.usePerformanceTiming&&typeof Y.url=="string"&&(x=(x=performance.getEntriesByName(Y.url))==null?void 0:x.pop(),x)?{url:Y.url,isHttps:X(Y.url),method:Y.method,type:Y.type,status:Y.status,duration:Number(x.duration.toFixed(2)),nextHopProtocol:x.nextHopProtocol||"",domainLookup:ee(x.domainLookupEnd-x.domainLookupStart),connectTime:ee(x.connectEnd-x.connectStart)}:{url:Y.url,isHttps:X(Y.url),method:Y.method,type:Y.type,status:Y.status,duration:Number(Y.duration.toFixed(2)),nextHopProtocol:"",domainLookup:L.number,connectTime:L.number}}var zi,Cr,qo,ro,Gr,Ki,ba,Sa=!(Dt.isIE=function(){return"ActiveXObject"in window}),di=[],Os=/^\/[^/]/,Ns=!1,st=[],Rt=(new He({name:"reportApiSpeed"}),new He({name:"reportApiSpeed",override:!1,onNewAegis:function(x){var Y,ne;this.override||(this.override=!0,(ne=x.config.api)!=null&&ne.injectTraceHeader&&(this.traceRequestHeader=new j(ne.injectTraceHeader,(Y=ne==null?void 0:ne.injectTraceIgnoreUrls)!=null?Y:[],ne==null?void 0:ne.injectTraceUrls)),this.overrideFetch(x.config,x),this.overrideXhr(x.config,x))},overrideFetch:function(x,Y){var ne=this,_e=x.api,_e={name:this.name,traceRequestHeader:_e!=null&&_e.injectTraceHeader?this.traceRequestHeader:null,then:function(je,Ze,lt,ut){var Ct,At;fe(lt,x.hostUrl)||(Ct=je.headers?je.headers.get("content-type"):"",(At=Pn(x,Ct||"",lt))==="fetch"?je.clone().text().then(function($t){var Wt,Fn=je.status<=0||400<=je.status,un=((un=x.api)==null?void 0:un.reqHeaders)||[],Ln=rn(ut==null?void 0:ut.headers,un,"req"),un=((un=x.api)==null?void 0:un.resHeaders)||[],Tn=rn(je.headers,un,"res"),_n=$(ut==null?void 0:ut.headers),un=H($t,x.api,{url:lt,ctx:je,payload:ut==null?void 0:ut.body}),mn=un.code,yn=un.isErr,un=(un=x.api)==null?void 0:un.apiDetail,hr=un?J(ut==null?void 0:ut.body,(Wt=x.api)==null?void 0:Wt.reqParamHandler,{url:lt}):"",hi=un?J($t,(Wt=x.api)==null?void 0:Wt.resBodyHandler,{url:lt,ctx:je}):"";setTimeout(function(){var gr=Nr(x,{url:lt,duration:Ze,type:At,status:je.status||0,method:(ut==null?void 0:ut.method)||"get"}),Yo=[Fn?"FETCH_ERROR: "+$t:"","fetch req url: "+lt,"res status: "+(gr.status||0),"res duration: "+gr.duration+"ms",Ln,Tn,"req method: "+(gr.method||"GET"),"res retcode: "+mn,qn(hr,"req param"),qn(hi,"res data")].filter(function(Xa){return Xa}).join(`

`);gr.payload=ut==null?void 0:ut.body,gr.ret=mn,gr.isErr=+yn,ne.publishNormalLog({msg:Yo,level:Xr(Fn,yn),code:mn,trace:_n},Y),ne.publishSpeed(gr,Y)},0)}):setTimeout(function(){var $t=Nr(x,{url:lt,duration:Ze,type:At,status:je.status||0,method:(ut==null?void 0:ut.method)||"get"});$t.type="static",$t.urlQuery=G(lt,!0),ne.publishSpeed($t,Y)},0))},catch:function(je,Ze,lt,ut){var Ct,At,$t,Wt,Fn;throw fe(lt,x.hostUrl)||(Ct=Pn(x,"",lt),At=((At=x.api)==null?void 0:At.reqHeaders)||[],$t=rn(ut==null?void 0:ut.headers,At,"req"),Wt=$(ut==null?void 0:ut.headers),Fn=(At=x.api)!=null&&At.apiDetail?J(ut==null?void 0:ut.body,(At=x.api)==null?void 0:At.reqParamHandler,{url:lt}):"",setTimeout(function(){var Ln=Nr(x,{url:lt,duration:Ze,type:Ct,status:0,method:(ut==null?void 0:ut.method)||"get"}),Ln=(ne.publishSpeed(Ln,Y),"AJAX_ERROR: "+je+`
                          
req url: `+lt+`
                          
res status: 0
                          
res duration: `+Ln.duration+`ms
                          
req method: `+((ut==null?void 0:ut.method)||"get")+`
                          
req param: `+Fn+`
                          
`+$t);ne.publishNormalLog({msg:Ln,level:be.AJAX_ERROR,code:-400,trace:Wt},Y)},0)),je}},ke=(this.hackFetchOptions=_e,this.hackFetchOptions),Ne=(_e=x.api)==null?void 0:_e.ignoreHackReg;if(Ne===void 0&&(Ne=/\.flv(\?|$)/gi),st.find(function(je){return je.name===ke.name}))throw new Error("name '"+ke.name+"' is already in hackFetch option list");st.push(ke),!Ns&&window.fetch&&(Ns=!0,ro=window.fetch,window.fetch=function(je,Ze){Ze===void 0&&(Ze={});var lt=typeof je=="string"?je:je==null?void 0:je.url;if(($t=Ne==null?void 0:Ne.test)!=null&&$t.call(Ne,lt))return ro(lt,Ze);Os.test(lt)&&(lt=""+location.origin+lt);var ut,Ct,At,$t=(ke||{}).traceRequestHeader;$t&&(ut=(ut=(Ze||{}).headers)===void 0?{}:ut,Ct=(At=In()).host,At=At.pathname,Ct=($t=$t.generate(lt,ut,{host:Ct,pathname:At})||{}).name,At=$t.value)&&Ct&&(Ze.headers=Object.assign(ut,(($t={})[Ct]=At,$t)));for(var Wt=0;Wt<st.length;Wt++){var Fn=st[Wt];try{typeof Fn.beforeFetch=="function"&&Fn.beforeFetch(lt,Ze)}catch{}}var Ln=Date.now();return ro(je,Ze).then(function(Tn){for(var _n=Tn.clone(),mn=0;mn<st.length;mn++){var yn=st[mn];try{typeof yn.then=="function"&&yn.then(_n,Date.now()-Ln,lt,Ze)}catch{}}return _n}).catch(function(Tn){for(var _n=0;_n<st.length;_n++){var mn=st[_n];try{typeof mn.catch=="function"&&mn.catch(Tn,Date.now()-Ln,lt,Ze)}catch{}}throw Tn})})},overrideXhr:function(x,Y){var ne,_e=this,ke={name:this.name,ignoreHackReg:(ke=x.api)==null?void 0:ke.ignoreHackReg,send:function(Ne,je){var Ze,lt,ut=Date.now(),Ct=(((x==null?void 0:x.api)||{}).injectTraceHeader&&(lt=(Ze=In()).host,Ze=Ze.pathname,Ze=(lt=_e.traceRequestHeader.generate(Ne.aegisUrl,{},{host:lt,pathname:Ze})||{}).name,lt=lt.value,Ze)&&lt&&Ne.setRequestHeader(Ze,lt),Ne.addEventListener("loadend",function(){var Wt,Fn,Ln,Tn,_n=Ne.aegisUrl||"";fe(_n,x.hostUrl)||Ne.failType==="abort"||(Wt="",(Ne.failType||!Ne.status||400<=Ne.status)&&(Wt=Ne.failType||"failed"),Fn=Date.now()-ut,Ln=Ne.getResponseHeader("content-type")||"",Tn=Pn(x,Ln,_n),setTimeout(function(){var mn=Nr(x,{url:_n,duration:Fn,type:Tn,status:Ne.status,method:Ne.aegisMethod||"get"});if(Tn==="fetch"){var gr=((gr=x.api)==null?void 0:gr.reqHeaders)||[],yn=rn(Ne.aegisXhrReqHeader,gr,"req"),gr=((gr=x.api)==null?void 0:gr.resHeaders)||[],un=Ne.getAllResponseHeaders().split(`\r
`).reduce(function(Vo,Hr){return Hr=Hr.split(": "),Hr[0]&&Hr[1]&&(Vo[Hr[0]]=Hr[1]),Vo},{}),hr=rn(un,gr,"res"),hi=$(Ne.aegisXhrReqHeader),gr=(un=x.api)==null?void 0:un.apiDetail,Yo=gr?J(je,(un=x.api)==null?void 0:un.reqParamHandler,{url:_n}):"",Xa=gr?J(Ne.response,(un=x.api)==null?void 0:un.resBodyHandler,{url:_n}):"";try{(function(Vo,Hr,Qr,oo){var Vd,Fg,Yi,Fd;try{if(typeof(Hr==null?void 0:Hr.retCodeHandlerAsync)=="function")return Hr.retCodeHandlerAsync(Vo,Qr==null?void 0:Qr.url,Qr==null?void 0:Qr.ctx,function(Ds){var Al=Ds.code,Ds=Ds.isErr;oo!=null&&oo({code:Al===void 0?S:Al,isErr:Ds})});if(typeof(Hr==null?void 0:Hr.retCodeHandler)=="function")return Yi=(Fg=Hr.retCodeHandler(Vo,Qr==null?void 0:Qr.url,Qr==null?void 0:Qr.ctx,Qr==null?void 0:Qr.payload)||{}).code,Fd=Fg.isErr,oo!=null&&oo({code:Yi===void 0?S:Yi,isErr:Fd});if(!(Vo=typeof Vo=="string"?JSON.parse(Vo):Vo))return oo!=null&&oo({code:S,isErr:!1});typeof((Vd=Hr==null?void 0:Hr.ret)==null?void 0:Vd.join)=="function"&&(tt=[].concat(Hr.ret.map(function(Ps){return Ps.toLowerCase()})));var $d=Object.getOwnPropertyNames(Vo).filter(function(Ps){return tt.indexOf(Ps.toLowerCase())!==-1});if($d.length)return(Yi=Vo[$d[0]])!=="\u672A\u77E5"&&Yi!==""||(Yi=S),oo!=null&&oo({code:""+Yi,isErr:Yi!==0&&Yi!=="0"&&Yi!==S});oo!=null&&oo({code:S,isErr:!1})}catch{oo!=null&&oo({code:S,isErr:!1})}})(Ne.response,x.api,{url:_n,ctx:Ne,payload:je},function(Qr){var Hr=Qr.code,Qr=Qr.isErr,oo=[Wt?"AJAX_ERROR: request "+Wt:"","fetch req url: "+_n,"res status: "+(mn.status||0),"res duration: "+mn.duration+"ms",yn,hr,"req method: "+(mn.method||"GET"),"res retcode: "+Hr,qn(Yo,"req param"),qn(Xa,"res data")].filter(function(Vd){return Vd}).join(`

`);mn.ret=Hr,mn.isErr=+Qr,mn.payload=je,_e.publishNormalLog({msg:oo,level:Xr(!!Wt,Qr),code:Hr,trace:hi},Y),_e.publishSpeed(mn,Y)})}catch{mn.ret=S,_e.publishSpeed(mn,Y)}}else mn.type="static",mn.urlQuery=G(_n,!0),_e.publishSpeed(mn,Y);Ne.removeEventListener("abort",Ct),Ne.removeEventListener("error",At),Ne.removeEventListener("timeout",$t)},0))}),function(){Ne.failType="abort"}),At=function(){Ne.failType="error"},$t=function(){Ne.failType="timeout"};Ne.addEventListener("abort",Ct),Ne.addEventListener("error",At),Ne.addEventListener("timeout",$t)}};this.hackXHROptions=ke,ne=this.hackXHROptions,di.find(function(Ne){return Ne.name===ne.name})||(di.push(ne),!Sa&&window.XMLHttpRequest&&(zi=window.XMLHttpRequest.prototype.send,Cr=window.XMLHttpRequest.prototype.open,qo=window.XMLHttpRequest.prototype.setRequestHeader,Sa=!0,window.XMLHttpRequest.prototype.open=function(){this.aegisMethod=arguments[0];var Ne,je=arguments[1];if(Os.test(je)&&(je=""+location.origin+je),this.aegisUrl=je,(je=(Ne=ne.ignoreHackReg)==null?void 0:Ne.test)==null||!je.call(Ne,this.aegisUrl))if(this.aegisXhrStartTime=Date.now(),this.sendByAegis)Dt.isIE()||(this.timeout=5e3);else for(var Ze=0;Ze<di.length;Ze++){var lt=di[Ze];try{typeof lt.open=="function"&&lt.open(this)}catch{}}return Cr.apply(this,arguments)},window.XMLHttpRequest.prototype.setRequestHeader=function(){var Ne,je,Ze;return(je=(Ze=ne.ignoreHackReg)==null?void 0:Ze.test)!=null&&je.call(Ze,this.aegisUrl)?qo.apply(this,arguments):(je=arguments[0],Ze=arguments[1],this.aegisXhrReqHeader=(Ne=this.aegisXhrReqHeader)!=null?Ne:{},-1<["traceparent","b3","sw8","sentry-trace"].indexOf(je)&&(this.aegisXhrReqHeader[je]||(arguments[1]=Ze),this.aegisXhrReqHeader[je])?void 0:(this.aegisXhrReqHeader[je]=arguments[1],qo.apply(this,arguments)))},window.XMLHttpRequest.prototype.send=function(){var Ne,je;if(!((je=(Ne=ne.ignoreHackReg)==null?void 0:Ne.test)!=null&&je.call(Ne,this.aegisUrl)||this.sendByAegis))for(var Ze=0;Ze<di.length;Ze++){var lt=di[Ze];try{typeof lt.send=="function"&&lt.send(this,arguments[0])}catch{}}return zi.apply(this,arguments)}))},publishSpeed:function(x){var Y=this;this.$walk(function(ne){var _e=Y.$getConfig(ne);x.type!=="fetch"||typeof(_e==null?void 0:_e.urlHandler)!="function"?(x.url=G(x.url),ne.speedLogPipeline(x)):ne.speedLogPipeline(c(c({},x),{url:G(_e.urlHandler(x.url,x.payload))}))})},publishNormalLog:function(x){this.$walk(function(Y){Y.normalLogPipeline(x)})},destroy:function(){var x,Y,ne;this.option.publishSpeed=function(){},this.option.publishNormalLog=function(){},this.option.hackXHROptions&&(x=this.option.hackXHROptions,(ne=di.findIndex(function(_e){return _e.name===x.name}))!==-1)&&di.splice(ne,1),this.option.hackFetchOptions&&(Y=this.option.hackFetchOptions,(ne=st.findIndex(function(_e){return _e.name===Y.name}))!==-1)&&st.splice(ne,1),this.option.override=!1}})),Rn={},fr=new He({name:"reportBridgeSpeed",override:!1,onNewAegis:function(x){this.override||(this.override=!0,this.overrideBridge(x))},publishSpeed:function(x,Y){this.$walk(function(ne){ne===Y&&ne.speedLogPipeline(x)})},overrideBridge:function(x){var Y=this,ne=x.config;ne.reportBridgeSpeed&&ne.h5Bridge&&ne.h5BridgeFunc.length&&ne.h5BridgeFunc.forEach(function(_e){var ke=ne.h5Bridge[_e];Rn[_e]=ke,ne.h5Bridge[_e]=function(){for(var Ne=[],je=0;je<arguments.length;je++)Ne[je]=arguments[je];var Ze=Ne[0],lt=Ne[1],ut=Ne[2],Ct=Ne[3],At=Date.now();ke(Ze,lt,ut,function($t){var Wt=H($t,ne.api),Fn=Wt.code,Wt=Wt.isErr,Fn={url:Ze+"-"+lt,name:Ze+"-"+lt,duration:Date.now()-At,type:"bridge",ret:Fn,isErr:+Wt};Y.publishSpeed(Fn,x),Ct($t)})}})},unHackBridge:function(x){Object.keys(Rn).forEach(function(Y){Rn[Y]&&(x.config.h5Bridge[Y]=Rn[Y])}),Rn={}},destroy:function(x){this.option.publishSpeed=function(){},this.option.unHackBridge(x),this.option.override=!1}});(An=Gr=Gr||{})[An.unknown=100]="unknown",An[An.wifi=1]="wifi",An[An.net2g=2]="net2g",An[An.net3g=3]="net3g",An[An.net4g=4]="net4g",An[An.net5g=5]="net5g",An[An.net6g=6]="net6g",(An=Ki=Ki||{})[An.android=1]="android",An[An.ios=2]="ios",An[An.windows=3]="windows",An[An.macos=4]="macos",An[An.linux=5]="linux",An[An.other=100]="other",(An=ba=ba||{})[An.unknown=100]="unknown",An[An.normal=0]="normal",An[An.weak=1]="weak",An[An.disconnected=2]="disconnected";function mr(x,Y,ne,_e){return ne===void 0&&(ne=15e3),_e===void 0&&(_e=0),(Y=Y===void 0?0:Y)<=x&&x<=ne?x:_e}var Fr,uo,Ro,fo,ct,Bt,vn,Dn,To,An=new He({name:"device",onNewAegis:function(x){x.extendBean("platform",this.getPlatform()),x.extendBean("netType",Gr.unknown),this.getDpi(x),this.refreshNetworkTypeToBean(x),this.refreshNetworkStatusToBean(x)},getDpi:function(x){x.extendBean("vp",Math.round(window.innerWidth)+" * "+Math.round(window.innerHeight)),window.screen&&x.extendBean("sr",Math.round(window.screen.width)+" * "+Math.round(window.screen.height))},getPlatform:function(){var x={android:/\bAndroid\s*([^;]+)/,ios:/\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,windows:/\b(Windows NT)/,macos:/\b(Mac OS)/,linux:/\b(Linux)/i},Y=Object.keys(x).find(function(ne){return x[ne].test(navigator.userAgent)});return Y?Ki[Y]:Ki.other},refreshNetworkTypeToBean:function(x){var Y=this,ne=x.config;ne&&(typeof ne.getNetworkType=="function"?ne.getNetworkType:Tg)(function(_e){Gr[_e]||(_e=Gr.unknown),x.extendBean("netType",_e),Y.NetworkRefreshTimer=setTimeout(function(){Y.refreshNetworkTypeToBean(x),clearTimeout(Y.NetworkRefreshTimer)},1e4)})},refreshNetworkStatusToBean:function(x){var Y,ne=this,_e=x.config;_e&&(Y=typeof _e.getNetworkStatus=="function"?_e.getNetworkStatus:Y)!=null&&Y(function(ke){ba[ke]===void 0&&(ke=ba.unknown),x.extendBean("netStatus",ke),ne.NetworkStatusRefreshTimer=setTimeout(function(){ne.refreshNetworkStatusToBean(x),clearTimeout(ne.NetworkStatusRefreshTimer)},1e4)})}}),Tg=function(x){var Y="",ne=navigator.userAgent.match(/NetType\/(\w+)/);ne?Y=ne[1]:navigator.connection&&(Y=navigator.connection.effectiveType||navigator.connection.type),x((ne=Y=Y||S,0<=(ne=String(ne).toLowerCase()).indexOf("4g")?Gr.net4g:0<=ne.indexOf("wifi")?Gr.wifi:0<=ne.indexOf("5g")?Gr.net5g:0<=ne.indexOf("6g")?Gr.net6g:0<=ne.indexOf("3g")?Gr.net3g:0<=ne.indexOf("2g")?Gr.net2g:Gr.unknown))},ki=window.WebSocket,Ea=[],pS={construct:function(x,Y){var ne=new x(Y[0],Y[1]);return ne.originSend=ne.send,ne.addEventListener("error",function(ke){var ke=(ke==null?void 0:ke.currentTarget)||{},Ne=ke.url,je=ke.readyState;Ea!=null&&Ea.forEach(function(Ze){Ze=Ze.onErr,Ze!=null&&Ze({msg:"\u65E0\u6CD5\u83B7\u77E5\u5177\u4F53\u9519\u8BEF\u4FE1\u606F\uFF0C\u9700\u5728\u6D4F\u89C8\u5668\u63A7\u5236\u53F0\u67E5\u770B\uFF01",readyState:je,connectUrl:Ne})})}),Object.defineProperty(ne,"send",{get:function(){return function(Ne){(ke=ne.originSend)!=null&&ke.call(ne,Ne);var ke=ne.readyState,Ne=WebSocket.OPEN,je=WebSocket.CLOSED,Ze=WebSocket.CONNECTING,lt=WebSocket.CLOSING;if(ke!==Ne){var ut={readyState:ke,connectUrl:ne.url};switch(ke){case je:Ea.forEach(function(Ct){Ct=Ct.sendErr,Ct!=null&&Ct(c({msg:"\u6D88\u606F\u53D1\u9001\u5931\u8D25\uFF0C\u8FDE\u63A5\u5DF2\u5173\u95ED\uFF01"},ut))});break;case Ze:Ea.forEach(function(Ct){(0,Ct.sendErr)(c({msg:"\u6D88\u606F\u53D1\u9001\u5931\u8D25\uFF0C\u6B63\u5728\u8FDE\u63A5\u4E2D\uFF01"},ut))});break;case lt:Ea.forEach(function(Ct){(0,Ct.sendErr)(c({msg:"\u6D88\u606F\u53D1\u9001\u5931\u8D25\uFF0C\u8FDE\u63A5\u6B63\u5728\u5173\u95ED\uFF01"},ut))})}}}}}),ne}},wl=new He({name:"onError"}),ep=wl=new He({name:"onError",onNewAegis:function(x){this.startListen(x)},startListen:function(x){function Y(ut){var Ct,At=ut&&ze(ut.reason);At&&Ze.publishErrorLog({msg:"PROMISE_ERROR: "+At,errorMsg:(Ct=(ut=((Ct=ut.reason)==null?void 0:Ct.message)||((Ct=ut.reason)==null?void 0:Ct.errMsg)||At)==null?void 0:ut.slice)==null?void 0:Ct.call(ut,0,150),level:be.PROMISE_ERROR},x)}function ne(ut){var Ct;if(ut=(ut==null?void 0:ut.target)||(ut==null?void 0:ut.srcElement)){var At=ut.src||ut.href||"",ut=ut.tagName,ut=ut===void 0?"script":ut;if(!(fe(Ct=At,x.config.hostUrl)||-1<window.location.href.indexOf(Ct))){var $t={msg:ut+" load fail: "+At,level:be.INFO};if(/\.js$/.test(At))$t.level=be.SCRIPT_ERROR;else if(/\.css$/.test(At))$t.level=be.CSS_ERROR;else switch(ut.toLowerCase()){case"script":$t.level=be.SCRIPT_ERROR;break;case"link":$t.level=be.CSS_ERROR;break;case"img":$t.level=be.IMAGE_ERROR;break;case"audio":case"video":$t.level=be.MEDIA_ERROR;break;default:return}Ze.publishErrorLog($t,x)}}}var _e,ke,Ne,je,Ze=this,lt=window.onerror;window.onerror=function(){for(var ut=[],Ct=0;Ct<arguments.length;Ct++)ut[Ct]=arguments[Ct];var At,$t=ze(ut[0]);typeof(At=$t)!="string"||!At||g.some(function(Wt){return-1<At.indexOf(Wt)})||m.some(function(Wt){return-1<At.indexOf(Wt)})||Ze.publishErrorLog({msg:($t||"")+" @ ("+(ze(ut[1])||"")+":"+(ut[2]||0)+":"+(ut[3]||0)+`)
          
`+ze(ut[4]||""),level:be.ERROR},x),lt!=null&&lt.call.apply(lt,d([window],ut))},window.addEventListener("unhandledrejection",Y),window.document.addEventListener("error",ne,!0),x.lifeCycle.on("destroy",function(){wl.countInstance()===0&&(window.document.removeEventListener("unhandledrejection",Y),window.document.removeEventListener("error",ne,!0))}),x.config.websocketHack&&(_e={key:x.config.id+"-"+this.name,onErr:function(ut){var Ct;(Ct=Ze.publishWsErrorLog)!=null&&Ct.call(Ze,ut,x)},sendErr:function(ut){var Ct;(Ct=Ze.publishWsErrorLog)!=null&&Ct.call(Ze,ut,x)}},this.hackWebsocketConfig=_e,_e=this.hackWebsocketConfig,window.Proxy)&&window.WebSocket&&(ke=window.WebSocket,window&&!ke.isHack&&(Ne=new Proxy(WebSocket,pS),ke.isHack=!0,window.WebSocket=Ne),je=_e,Ea.find(function(ut){return ut.key===je.key})||je&&Ea.push(je))},publishErrorLog:function(x,Y){this.$walk(function(ne){ne===Y&&ne.normalLogPipeline(x)})},publishWsErrorLog:function(ke,Y){var ne=ke.connectUrl,_e=ke.msg,ke=ke.readyState;this.publishErrorLog({msg:`WEBSOCKET_ERROR: 
              connect: `+ne+`
              readyState: `+ke+`
              msg: `+_e,level:be.WEBSOCKET_ERROR},Y)},destroy:function(){var x,Y;this.option.publishErrorLog=function(){},this.option.hackWebsocketConfig&&(x=this.option.hackWebsocketConfig,window.WebSocket=ki,(Y=Ea.findIndex(function(ne){return ne.key===x.key}))!==-1)&&Ea.splice(Y,1)}}),Od=(new He({name:"pagePerformance"}),3),tp=new He({name:"pagePerformance",performanceMap:{},onNewAegis:function(x){Te()&&(Fr?this.publish(Fr,x):this.startCalcPerformance(x))},publish:function(x,Y){var ne=this;this.$walk(function(_e){_e===Y&&_e.sendPipeline([function(ke,Ne){var je,Ze=[];for(je in ke)Ze.push(je+"="+ke[je]);var lt,ut=ne.$getConfig(_e);if(ut)return lt=((lt=_e.config.performanceUrl)==null?void 0:lt.indexOf("?"))===-1?"?":"&",typeof ut.urlHandler=="function"?Ne({url:_e.config.performanceUrl+lt+Ze.join("&")+"&from="+(encodeURIComponent(ut.urlHandler())||window.location.href),beanFilter:["from"],type:We.PERFORMANCE,log:ke}):Ne({url:_e.config.performanceUrl+lt+Ze.join("&"),type:We.PERFORMANCE,log:ke})}],We.PERFORMANCE)(c({},x))})},startCalcPerformance:function(x){var Y=this;try{this.getFirstScreenTiming(x,function(ne){var _e=performance.timing;_e&&(Fr={dnsLookup:mr(_e.domainLookupEnd-_e.domainLookupStart),tcp:mr(_e.connectEnd-_e.connectStart),ssl:mr(_e.secureConnectionStart===0?0:_e.requestStart-_e.secureConnectionStart),ttfb:mr(_e.responseStart-_e.requestStart),contentDownload:mr(_e.responseEnd-_e.responseStart),domParse:mr(_e.domInteractive-_e.domLoading,0,15e3,1070),resourceDownload:mr(_e.loadEventStart-_e.domInteractive,0,15e3,1070),firstScreenTiming:mr(Math.floor(ne),0,15e3,15e3)},(_e=x.config).extraPerformanceData&&JSON.stringify(_e.extraPerformanceData)!=="{}"&&(_e=(ne=_e.extraPerformanceData).engineInit,ne=ne.bundleLoad,Fr=c(c({},Fr),{engineInit:mr(_e,0,1e4),bundleLoad:mr(ne,0,1e4)})),Y.publish(Fr,x))})}catch{}},getFirstScreenTiming:function(x,Y){var ne=this;x.lifeCycle.on("destroy",function(){At&&clearTimeout(At)});var _e,ke=this,Ne=["script","style","link","br"],je=[],Ze={},lt=(-1<((ut=(ut=window.PerformanceObserver)==null?void 0:ut.supportedEntryTypes)==null?void 0:ut.indexOf("paint"))&&(_e=new PerformanceObserver(function($t){$t.getEntries().forEach(function(Wt){var Fn;Wt.entryType==="paint"&&Wt.name==="first-contentful-paint"&&0<(Fn=document.querySelectorAll("[AEGIS-FIRST-SCREEN-TIMING]")).length&&(ne.setFirstScreenInfo(x,Wt.startTime,Fn[0],Fn),Y!=null&&Y(Wt.startTime),lt.disconnect(),_e.disconnect())})})).observe({entryTypes:["paint"]}),new MutationObserver(function($t){var Wt={roots:[],ignores:[],rootsDomNum:[],time:performance.now()};$t.forEach(function(Fn){Fn&&Fn.addedNodes&&Array.prototype.slice.call(Fn.addedNodes).forEach(function(Ln){ke.isEleInArray(Ln,Wt.ignores)?Wt.ignores.push(Ln):Ln.nodeType===1&&Ln.hasAttribute("AEGIS-FIRST-SCREEN-TIMING")?(Object.prototype.hasOwnProperty.apply(Ze,[Wt.time])||(Ze[Wt.time]=[]),Ze[Wt.time].push(Ln)):Ln.nodeType===1&&(ke.hasAncestorOrSelfWithAttribute(Ln,"AEGIS-IGNORE-FIRST-SCREEN-TIMING")?Wt.ignores.push(Ln):Ne.indexOf(Ln.nodeName.toLocaleLowerCase())!==-1||ke.isEleInArray(Ln,Wt.roots)||(Wt.roots.push(Ln),Wt.rootsDomNum.push(ke.walkAndCount(Ln)||0)))})}),Wt.roots.length&&je.push(Wt)}));lt.observe(document,{childList:!0,subtree:!0});var ut,Ct=function($t){($t=$t===void 0?0:$t)||(Wt=0,(Ln=Object.keys(Ze)).length?($t=Math.max.apply(null,Ln),ne.setFirstScreenInfo(x,$t,(Ln=Ze[$t])==null?void 0:Ln[0],Ze)):je.forEach(function(yn){for(var un=0;un<yn.roots.length;un++)yn.rootsDomNum[un]>Wt&&ke.isInFirstScreen(yn.roots[un])&&(Wt=yn.rootsDomNum[un],$t=yn.time,ne.setFirstScreenInfo(x,$t,yn.roots[un]))}),je.length=0,Object.keys(Ze).forEach(function(yn){Ze[yn]=Ze[yn].map(function(un){var hr={tagName:un.tagName},hi=un.attributes;if(!hi)return un;for(var gr=0;gr<hi.length;gr++){var Yo=hi[gr];Yo.name&&(hr[Yo.name]=un.getAttribute(Yo.name))}return hr})}));var Wt,Ln=performance.timing,Fn=Ln.domInteractive-Ln.domLoading,Ln=Ln.loadEventStart-Ln.domInteractive,Tn=$t;At=null;for(var _n=0,mn=[Fn,Ln,Tn];_n<mn.length;_n++)if(mn[_n]<=0&&0<Od){At=setTimeout(function(){return Ct(Tn)},3e3);break}At?--Od:(lt.disconnect(),_e!=null&&_e.disconnect(),Y!=null&&Y($t))},At=setTimeout(function(){return Ct()},3e3)},setFirstScreenInfo:function(x,Y,ne,_e){var ke;x.config.id&&this.performanceMap[x.config.id]||(x.config.id&&(this.performanceMap[x.config.id]=!0),(typeof((ke=x.config)==null?void 0:ke.pagePerformance)!="object"||(ke=x.config.pagePerformance)!=null&&ke.firstScreenInfo)&&(x.firstScreenInfo={element:ne,timing:Y,markDoms:_e}))},isEleInArray:function(x,Y){return!(!x||x===document.documentElement)&&(Y.indexOf(x)!==-1||this.isEleInArray(x.parentElement,Y))},isInFirstScreen:function(x){var Y,ne;return!(!x||typeof x.getBoundingClientRect!="function")&&(x=x.getBoundingClientRect(),Y=window.innerHeight,ne=window.innerWidth,0<=x.left)&&x.left<ne&&0<=x.top&&x.top<Y&&0<x.width&&0<x.height},walkAndCount:function(x){var Y=0;if(x&&x.nodeType===1){Y+=1;var ne=x.children;if(ne!=null&&ne.length)for(var _e=0;_e<ne.length;_e++)ne[_e].nodeType===1&&ne[_e].hasAttribute("AEGIS-IGNORE-FIRST-SCREEN-TIMING")||(Y+=this.walkAndCount(ne[_e]))}return Y},hasAncestorOrSelfWithAttribute:function(x,Y){for(var ne=x;ne&&ne!==document.body;){if(ne.hasAttribute(Y))return!0;ne=ne.parentElement}return!1}});function Cg(){ct=[],Ro=-1,uo=null,rp(addEventListener)}function wg(x,Y){uo||(uo=Y,Ro=x,fo=new Date,rp(removeEventListener),np())}function np(){var x;0<=Ro&&Ro<fo-vn&&(x={entryType:"first-input",name:uo.type,target:uo.target,cancelable:uo.cancelable,startTime:uo.timeStamp,processingStart:uo.timeStamp+Ro},ct.forEach(function(Y){Y(x)}),ct=[])}function rp(x){["mousedown","keydown","touchstart","pointerdown"].forEach(function(Y){return x(Y,Dn,Bt)})}Bt={passive:!0,capture:!0},vn=new Date,Dn=function(x){var Y,ne,_e,ke;function Ne(){wg(ne,_e),ke()}function je(){ke()}x.cancelable&&(Y=(1e12<x.timeStamp?new Date:performance.now())-x.timeStamp,x.type=="pointerdown"?(ne=Y,_e=x,ke=function(){removeEventListener("pointerup",Ne,Bt),removeEventListener("pointercancel",je,Bt)},addEventListener("pointerup",Ne,Bt),addEventListener("pointercancel",je,Bt)):wg(Y,x))},To=document.visibilityState==="hidden"?0:1/0,addEventListener("visibilitychange",function x(Y){document.visibilityState==="hidden"&&(To=Y.timeStamp,removeEventListener("visibilitychange",x,!0))},!0),Cg(),self.webVitals={firstInputPolyfill:function(x){ct.push(x),np()},resetFirstInputPolyfill:Cg,get firstHiddenTime(){return To}};function Ya(x,Y){var ne=Ag(),_e="navigate";return 0<=Rg?_e="back-forward-cache":ne&&(document.prerendering||0<qi()?_e="prerender":document.wasDiscarded?_e="restore":ne.type&&(_e=ne.type.replace(/_/g,"-"))),{name:x,value:Y===void 0?-1:Y,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:_e}}function Nd(x,Y,ne){try{var _e;if(PerformanceObserver.supportedEntryTypes.includes(x))return(_e=new PerformanceObserver(function(ke){Promise.resolve().then(function(){Y(ke.getEntries())})})).observe(Object.assign({type:x,buffered:!0},ne||{})),_e}catch{}}function Ja(x,Y,ne,_e){var ke,Ne;return function(je){0<=Y.value&&(je||_e)&&((Ne=Y.value-(ke||0))||ke===void 0)&&(ke=Y.value,Y.delta=Ne,Y.rating=(je=Y.value)>ne[1]?"poor":je>ne[0]?"needs-improvement":"good",x(Y))}}function op(x){requestAnimationFrame(function(){return requestAnimationFrame(function(){return x()})})}function Pd(x){function Y(ne){ne.type!=="pagehide"&&document.visibilityState!=="hidden"||x(ne)}addEventListener("visibilitychange",Y,!0),addEventListener("pagehide",Y,!0)}function ip(x){var Y=!1;return function(ne){Y||(x(ne),Y=!0)}}function ap(){return Rl<0&&(Rl=Og(),tu(),eu(function(){setTimeout(function(){Rl=Og(),tu()},0)})),{get firstHiddenTime(){return Rl}}}function Il(x){document.prerendering?addEventListener("prerenderingchange",function(){return x()},!0):x()}function Ig(x,Y){Y=Y||{},Il(function(){var ne,_e=ap(),ke=Ya("FCP"),Ne=Nd("paint",function(je){je.forEach(function(Ze){Ze.name==="first-contentful-paint"&&(Ne.disconnect(),Ze.startTime<_e.firstHiddenTime)&&(ke.value=Math.max(Ze.startTime-qi(),0),ke.entries.push(Ze),ne(!0))})});Ne&&(ne=Ja(x,ke,Ng,Y.reportAllChanges),eu(function(je){ke=Ya("FCP"),ne=Ja(x,ke,Ng,Y.reportAllChanges),op(function(){ke.value=performance.now()-je.timeStamp,ne(!0)})}))})}function kg(){var x;0<=Zc&&Zc<Ld-vS&&(x={entryType:"first-input",name:Gi.type,target:Gi.target,cancelable:Gi.cancelable,startTime:Gi.timeStamp,processingStart:Gi.timeStamp+Zc},kl.forEach(function(Y){Y(x)}),kl=[])}function mS(x){var Y,ne,_e,ke;function Ne(){Ai(ne,_e),ke()}function je(){ke()}x.cancelable&&(Y=(1e12<x.timeStamp?new Date:performance.now())-x.timeStamp,x.type=="pointerdown"?(ne=Y,_e=x,ke=function(){removeEventListener("pointerup",Ne,Ri),removeEventListener("pointercancel",je,Ri)},addEventListener("pointerup",Ne,Ri),addEventListener("pointercancel",je,Ri)):Ai(Y,x))}function Qc(x){["mousedown","keydown","touchstart","pointerdown"].forEach(function(Y){return x(Y,mS,Ri)})}function sp(x,Y){function ne(ke,Ne,je,Ze){function lt(ut){ke==="visibilitychange"&&document.visibilityState!=="hidden"||(Ze?setTimeout(function(){return Ne(ut)},Ze):Ne(ut),je&&removeEventListener(ke,lt,!0))}addEventListener(ke,lt,!0)}var _e;ne("visibilitychange",x,Y==null?void 0:Y.once,(_e=Y==null?void 0:Y.delay)==null?void 0:_e.visibilitychange),ne("pagehide",x,Y==null?void 0:Y.once,(_e=Y==null?void 0:Y.delay)==null?void 0:_e.pagehide)}function Dd(x){var Y=x.name;0<(x=x.value)&&(up[Y]=x)}var Gi,Zc,Ld,kl,Md,lp,Rg=-1,eu=function(x){addEventListener("pageshow",function(Y){Y.persisted&&(Rg=Y.timeStamp,x(Y))},!0)},Ag=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},qi=function(){var x=Ag();return x&&x.activationStart||0},Rl=-1,Og=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},xd=function(x){document.visibilityState==="hidden"&&-1<Rl&&(Rl=x.type==="visibilitychange"?x.timeStamp:0,removeEventListener("visibilitychange",xd,!0),removeEventListener("prerenderingchange",xd,!0))},tu=function(){addEventListener("visibilitychange",xd,!0),addEventListener("prerenderingchange",xd,!0)},Ng=[1800,3e3],Pg=[.1,.25],Ri={passive:!0,capture:!0},vS=new Date,Ai=function(x,Y){Gi||(Gi=Y,Zc=x,Ld=new Date,Qc(removeEventListener),kg())},Dg=[100,300],Lg=[2500,4e3],cp={},up=(new He({name:"webVitals"}),{FCP:-1,LCP:-1,FID:-1,CLS:-1}),Mg=new He({name:"webVitals",onNewAegis:function(x){if(Te()&&typeof window.PerformanceObserver=="function"&&typeof performance.getEntriesByName=="function")try{Ig(Dd),Ne=Dd,je={},Il(function(){function Ze(Wt){(Wt=Wt[Wt.length-1])&&Wt.startTime<Ct.firstHiddenTime&&(At.value=Math.max(Wt.startTime-qi(),0),At.entries=[Wt],lt())}var lt,ut,Ct=ap(),At=Ya("LCP"),$t=Nd("largest-contentful-paint",Ze);$t&&(lt=Ja(Ne,At,Lg,je.reportAllChanges),ut=ip(function(){cp[At.id]||(Ze($t.takeRecords()),$t.disconnect(),cp[At.id]=!0,lt(!0))}),["keydown","click"].forEach(function(Wt){addEventListener(Wt,function(){return setTimeout(ut,0)},!0)}),Pd(ut),eu(function(Wt){At=Ya("LCP"),lt=Ja(Ne,At,Lg,je.reportAllChanges),op(function(){At.value=performance.now()-Wt.timeStamp,cp[At.id]=!0,lt(!0)})}))}),_e=Dd,ke={},Il(function(){function Ze(Wt){Wt.startTime<ut.firstHiddenTime&&(Ct.value=Wt.processingStart-Wt.startTime,Ct.entries.push(Wt),$t(!0))}function lt(Wt){Wt.forEach(Ze)}var ut=ap(),Ct=Ya("FID"),At=Nd("first-input",lt),$t=Ja(_e,Ct,Dg,ke.reportAllChanges);At&&Pd(ip(function(){lt(At.takeRecords()),At.disconnect()})),At&&eu(function(){Ct=Ya("FID"),$t=Ja(_e,Ct,Dg,ke.reportAllChanges),kl=[],Zc=-1,Gi=null,Qc(addEventListener),kl.push(Ze),kg()})}),Y=Dd,ne={},Ig(ip(function(){function Ze(Wt){Wt.forEach(function(Fn){var Ln,Tn;Fn.hadRecentInput||(Ln=At[0],Tn=At[At.length-1],Ct&&Fn.startTime-Tn.startTime<1e3&&Fn.startTime-Ln.startTime<5e3?(Ct+=Fn.value,At.push(Fn)):(Ct=Fn.value,At=[Fn]))}),Ct>ut.value&&(ut.value=Ct,ut.entries=At,lt())}var lt,ut=Ya("CLS",0),Ct=0,At=[],$t=Nd("layout-shift",Ze);$t&&(lt=Ja(Y,ut,Pg,ne.reportAllChanges),Pd(function(){Ze($t.takeRecords()),lt(!0)}),eu(function(){ut=Ya("CLS",Ct=0),lt=Ja(Y,ut,Pg,ne.reportAllChanges),op(function(){return lt()})}),setTimeout(lt,0))})),sp(this.publish.bind(this,x),{once:!0,delay:{visibilitychange:10}})}catch{}var Y,ne,_e,ke,Ne,je},publish:function(x){this.$walk(function(Y){var ne;Y===x&&(ne=Y.sendPipeline)!=null&&ne.call(Y,[function(_e,ke){var Ne,je=[];for(Ne in _e)je.push(Ne+"="+_e[Ne]);var Ze=((Ze=(Ze=Y.config)==null?void 0:Ze.performanceUrl)==null?void 0:Ze.indexOf("?"))===-1?"?":"&";ke({url:Y.config.webVitalsUrl+Ze+je.join("&"),type:We.VITALS,log:_e,sendBeacon:!0})}],We.VITALS)(c({},up))})},destroy:function(){this.option.publish=function(){}}}),dp=(new He({name:"spa"}),["replaceState","pushState","popstate","hashchange"]),fp=new He({name:"spa",originFireUrl:"",onNewAegis:function(x){var Y=this;history.pushState=this.wr("pushState")||history.pushState,history.replaceState=this.wr("replaceState")||history.replaceState,this.sendPv=this.sendPv.bind(this),x.config.spa&&this.sendPv(x),dp.forEach(function(ne){return window.addEventListener(ne,function(){return Y.sendPv.call(Y,x)})})},wr:function(x){var Y=history[x],ne="__"+x+"__hasWrittenByTamSpa";return typeof Y=="function"&&!history[ne]&&(Object.defineProperty(history,ne,{value:!0,enumerable:!1}),function(){var _e=Y.apply(this,arguments),ke=null;return typeof Event=="function"?ke=new Event(x):(ke=document.createEvent("HTMLEvents")).initEvent(x,!1,!0),window.dispatchEvent(ke),_e})},sendPv:function(x){var Y=this;setTimeout(function(){var ne=location.pathname+location.hash+x.config.id;Y.$walk(function(_e){var ke;_e===x&&(ke=_e.config.pvUrl)&&ne&&ne!==Y.originFireUrl&&(_e.sendPipeline([function(Ne,je){je({url:""+ke,type:We.PV})}],We.PV)(null),Y.originFireUrl=ne)})},0)},destroy:function(){this.option.sendPv=function(){}}}),cn=(l(lp=fi,cn=Md=cn),lp.prototype=cn===null?Object.create(cn):(xg.prototype=cn.prototype,new xg),fi.prototype.getBean=function(x){var Y=this;return x===void 0&&(x=[]),""+Object.getOwnPropertyNames(this.bean).filter(function(ne){return x.indexOf(ne)===-1}).map(function(ne){return ne==="from"?"from="+Y.getCurrentPageUrl():ne+"="+Y.bean[ne]}).join("&")},fi.prototype.getCurrentPageUrl=function(){var x=this.config.pageUrl||location.href,x=(x=typeof this.config.urlHandler=="function"?this.config.urlHandler()||location.href:x).slice(0,2048);return encodeURIComponent(x)},fi.prototype.ready=function(){function x(){var ne,_e,ke,Ne;Y.reportRequestQueue.length&&(ne=Y.reportRequestQueue.splice(0,1)[0],_e=ne.options,ke=ne.success,Ne=ne.fail,Y.$request(_e,function(){for(var je=[],Ze=0;Ze<arguments.length;Ze++)je[Ze]=arguments[Ze];try{return ke==null?void 0:ke.apply(_e,je)}finally{x()}},function(){for(var je=[],Ze=0;Ze<arguments.length;Ze++)je[Ze]=arguments[Ze];try{return Ne==null?void 0:Ne.apply(_e,je)}finally{x()}}))}var Y=this;x(),this.isReportReady=!0},fi.prototype.request=function(x,Y,ne){this.config.reportImmediately||this.isReportReady?this.$request(x,Y,ne):this.reportRequestQueue.push({options:x,success:Y,fail:ne})},fi.prototype.$request=function(x,Y,ne){var _e,ke,Ne,je;if(x&&typeof x.url=="string"&&x.url!==""&&this.bean.id)return je=x.url,x.addBean!==!1&&(je=function(Ze,lt){var ut,Ct,At,$t=Ze,Wt=x.beanFilter||[];for(ut in lt)Wt.indexOf(ut)===-1&&((At=(Ct=new RegExp("([?&])"+ut+"(=([^&]*))?(?=&|$)")).exec($t))?At[2]&&At[3]!==""&&At[3]!=="undefined"||($t=$t.replace(Ct,"$1"+ut+"="+lt[ut])):(At=-1<$t.indexOf("?")?"&":"?",$t+=At+ut+"="+lt[ut]));return $t}(je,c(c({},this.bean),{from:this.getCurrentPageUrl()}))),x.url=je,je=x.method||"get",ke=this.config.onBeforeRequest,(x=ke?ke(x,this):x)?x.url?void((x!=null&&x.sendBeacon||this.sendNow)&&typeof(navigator==null?void 0:navigator.sendBeacon)=="function"?navigator.sendBeacon(x.url,x.data):((_e=new XMLHttpRequest).sendByAegis=!0,_e.addEventListener("readystatechange",function(){_e.readyState===4&&(400<=_e.status||_e.status===0?ne!=null&&ne(_e.response):Y!=null&&Y(_e.response))}),je.toLocaleLowerCase()==="get"?(_e.open("get",(ke=x.url,Ne=x.data,typeof ke!="string"?"":typeof Ne=="object"&&Ne?(je=Object.getOwnPropertyNames(Ne).map(function(Ze){var lt=Ne[Ze];return Ze+"="+encodeURIComponent(typeof lt=="string"?lt:JSON.stringify(lt))}).join("&").replace(/eval/gi,"evaI"),ke+(ke.indexOf("?")===-1?"?":"&")+je):ke)),_e.send()):(_e.open("post",x.url),x.contentType&&_e.setRequestHeader("Content-Type",x.contentType),typeof x.data=="string"&&(x.data=x.data.replace(/eval/gi,"evaI")),_e.send(x.data)))):console.warn("Please handle the parameters reasonably, options.url is necessary"):console.warn("Sending request blocked")},fi.prototype.publishPluginsLogs=function(){var x=fi.installedPlugins.find(function(Y){return Y.name==="reportAssetSpeed"});x!=null&&x.option.collectNotReportedLog(this)},fi.prototype.uploadLogs=function(x,Y){var ne;x===void 0&&(x={}),Y===void 0&&(Y={}),(ne=this.lifeCycle)!=null&&ne.emit("uploadLogs",x,Y)},fi.sessionID="session-"+Date.now(),fi);function fi(x){var Y,ne,_e,ke,Ne=Md.call(this,x)||this;Ne.sendNow=!1,Ne.isReportReady=!1,Ne.reportRequestQueue=[],Ne.speedLogPipeline=de([ge(Ne),(ke=Ne.config,function(je,Ze){var lt,ut,Ct,At=typeof ke.repeat=="number"?ke.repeat:60;!ke.speedSample||At<=0?Ze(je):(lt=(ke==null?void 0:ke.id)||"0",ut=Xe[lt]||{},Array.isArray(je)?(Ct=je.filter(function($t){var Wt=!ut[$t.url]||ut[$t.url]<At;return Wt?(ut[$t.url]=1+~~ut[$t.url],Xe[lt]=ut):Ue[lt]||Nt(lt),Wt})).length&&Ze(Ct):!ut[je.url]||ut[je.url]<At?(ut[je.url]=1+~~ut[je.url],Xe[lt]=ut,Ze(je)):Ue[lt]||Nt(lt))}),(_e=Ne,function(je,Ze){Tg(function(lt){_e.extendBean("netType",lt),Ze(je)})}),function(je,Ze){(lt=Ne.lifeCycle)!=null&&lt.emit("beforeReportSpeed",je);var lt,ut=Ne.config.beforeReportSpeed;if((je=typeof ut=="function"?je.filter(function(Ct){return ut(Ct)!==!1}):je).length)return Ze(je)},function(je,Ze){Ze(je.map(function(lt){return lt.payload!==void 0&&delete lt.payload,lt}))},function(je){return Ne.sendPipeline([function(Ze,lt){var ut,Ct,At,$t;lt({type:We.SPEED,url:""+Ne.config.speedUrl,method:"post",data:(lt=Ze,ut=c(c({},Ne.bean),{from:Ne.getCurrentPageUrl()}),At={fetch:[],static:[],bridge:[]},$t=new FormData,Array.isArray(lt)?lt.forEach(function(Wt){var Fn=we(Wt);At[Wt.type].push(Fn)}):(Ct=we(lt),At[lt.type].push(Ct)),$t.append("payload",ot(c({duration:At},ut))),$t),log:Ze})}],We.SPEED)(je)}]),x.asyncPlugin=!0;try{typeof document!="undefined"&&(x.uin=x.uin||((Y=document.cookie.match(/\buin=\D+(\d*)/))!=null?Y:[])[1]||((ne=document.cookie.match(/\bilive_uin=\D*(\d+)/))!=null?ne:[])[1]||""),Ne.init(x),Ne.extendBean("sessionId",fi.sessionID),Ne.extendBean("from",Ne.getCurrentPageUrl()),typeof document!="undefined"&&Ne.extendBean("referer",encodeURIComponent(document.referrer||"")),x.ext1&&Ne.extendBean("ext1",encodeURIComponent(x.ext1)),x.ext2&&Ne.extendBean("ext2",encodeURIComponent(x.ext2)),x.ext3&&Ne.extendBean("ext3",encodeURIComponent(x.ext3))}catch(je){console.warn(je),console.log(`%cThe above error occurred in the process of initializing Aegis, which will affect your normal use of Aegis.
It is recommended that you contact us for feedback and thank you for your support.`,"color: red"),Ne.sendSDKError(je)}return Ne}function xg(){this.constructor=lp}new He({name:"ie"}),new He({name:"onClose"});var Vg=new He({name:"onClose",onNewAegis:function(x){var Y,ne=this;Dt.desktop()?(Y=window.onunload,window.onunload=function(){for(var _e=[],ke=0;ke<arguments.length;ke++)_e[ke]=arguments[ke];ne.publishNotReportedLog(x),Y!=null&&Y.call.apply(Y,d([window],_e))}):sp(this.publishNotReportedLog.bind(this,x),{once:!0})},publishNotReportedLog:function(x){var Y=this;this.$walk(function(ne){ne===x&&(ne.sendNow=!0,ne.publishPluginsLogs(),Y.publishThrottlePipeLogs(ne))})},publishThrottlePipeLogs:function(x){x!=null&&x.speedLogPipeline([]),x!=null&&x.eventPipeline([]),x!=null&&x.customTimePipeline([]),x!=null&&x.normalLogPipeline([])}});return new He({name:"aid"}),cn.use(ep),cn.use(Rt),cn.use(nt),cn.use(tp),cn.use(Mg),cn.use(vt),cn.use(An),cn.use(fp),cn.use(Vg),cn.use(fr),cn})})(DW);var Uxe=DW.exports;const g1=window.location.origin==="https://web.sdk.qcloud.com",Bxe=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1"),Hxe=g1?"v5QuickDemoVue3":"v5QuickDemoVue3Dev",h4={dev:"iHWefAYqBEHVFrSxnV",prod:"iHWefAYqVGQzlNLveU"};let BA;(g1||Bxe)&&(BA=new Uxe({id:g1?h4.prod:h4.dev,reportApiSpeed:!0,reportAssetSpeed:!0}));BA.DEMOKEY=Hxe;const LW=BA||{};var Zh=(e,t)=>{const r=e.__vccOpts||e;for(const[o,a]of t)r[o]=a;return r};const MW=e=>(rg("data-v-32960afe"),e=e(),og(),e),jxe={class:"text-white header"},Wxe=MW(()=>te("img",{src:"https://web.sdk.qcloud.com/trtc/webrtc/assets/trtcio-headlogo.png",alt:"TRTC",style:{height:"100%"}},null,-1)),zxe={class:"buttons"},Kxe=MW(()=>te("svg",{"aria-hidden":"true",class:"octicon octicon-mark-github v-align-middle","data-view-component":"true",height:"32",version:"1.1",viewBox:"0 0 16 16",width:"32"},[te("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z","fill-rule":"evenodd"})],-1)),Gxe=[Kxe],qxe=he({__name:"NavBar",setup(e){const{proxy:t}=Qt(),{locale:r,t:o}=Jc({useScope:"global"});function a(){switch(r.value){case"zh-cn":r.value="en",localStorage.setItem("trtc-v5-quick-demo-vue3-ts","en"),document.title="Quick demo Vue 3 | Tencent RTC";break;case"en":default:r.value="zh-cn",localStorage.setItem("trtc-v5-quick-demo-vue3-ts","zh-cn"),document.title="Quick demo Vue 3 | TRTC \u5B9E\u65F6\u97F3\u89C6\u9891";break}}function l(){var d,h;(h=t.$aegis)==null||h.reportEvent({name:"jumpGithub",ext1:"jumpGithub",ext2:(d=t.$aegis)==null?void 0:d.DEMOKEY}),window.open("https://github.com/LiteAVSDK/TRTC_Web","_blank")}function c(){t.$aegis.reportEvent({name:"jumpDocument",ext1:"jumpDocument",ext2:t.$aegis.DEMOKEY});const d=r.value==="zh-cn"?"https://web.sdk.qcloud.com/trtc/webrtc/v5/doc/zh-cn/tutorial-11-basic-video-call.html":"https://web.sdk.qcloud.com/trtc/webrtc/v5/doc/en/tutorial-11-basic-video-call.html";window.open(d,"_blank")}return(d,h)=>(F(),Q("div",jxe,[Wxe,te("div",zxe,[te("div",{id:"document",onClick:c},et(f(o)("Documentation")),1),te("div",{id:"language",onClick:a},"\u4E2D/En"),te("div",{class:"github",onClick:l},Gxe)])]))}});var Yxe=Zh(qxe,[["__scopeId","data-v-32960afe"]]);const Jxe=he({__name:"App",setup(e){const t=pt("$aegis");return Dr.isSupported().then(r=>{console.log("checkResult",r.result,"checkDetail",r.detail),r.result||(ll({message:"Your browser does not supported TRTC!",type:"error"}),window.location.href="https://web.sdk.qcloud.com/trtc/webrtc/demo/detect/index.html")}),t==null||t.reportEvent({name:"loaded",ext1:"loaded-success",ext2:t==null?void 0:t.DEMOKEY}),(r,o)=>{const a=en("router-view");return F(),Q(Tt,null,[se(Yxe),se(a)],64)}}}),Xxe="modulepreload",p4={},Qxe="./",Zxe=function(t,r){return!r||r.length===0?t():Promise.all(r.map(o=>{if(o=`${Qxe}${o}`,o in p4)return;p4[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":Xxe,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Zf=typeof document!="undefined";function eVe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const yr=Object.assign;function DI(e,t){const r={};for(const o in t){const a=t[o];r[o]=Wa(a)?a.map(e):e(a)}return r}const bv=()=>{},Wa=Array.isArray,xW=/#/g,tVe=/&/g,nVe=/\//g,rVe=/=/g,oVe=/\?/g,VW=/\+/g,iVe=/%5B/g,aVe=/%5D/g,FW=/%5E/g,sVe=/%60/g,$W=/%7B/g,lVe=/%7C/g,UW=/%7D/g,cVe=/%20/g;function HA(e){return encodeURI(""+e).replace(lVe,"|").replace(iVe,"[").replace(aVe,"]")}function uVe(e){return HA(e).replace($W,"{").replace(UW,"}").replace(FW,"^")}function y1(e){return HA(e).replace(VW,"%2B").replace(cVe,"+").replace(xW,"%23").replace(tVe,"%26").replace(sVe,"`").replace($W,"{").replace(UW,"}").replace(FW,"^")}function dVe(e){return y1(e).replace(rVe,"%3D")}function fVe(e){return HA(e).replace(xW,"%23").replace(oVe,"%3F")}function hVe(e){return e==null?"":fVe(e).replace(nVe,"%2F")}function Zv(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const pVe=/\/$/,mVe=e=>e.replace(pVe,"");function LI(e,t,r="/"){let o,a={},l="",c="";const d=t.indexOf("#");let h=t.indexOf("?");return d<h&&d>=0&&(h=-1),h>-1&&(o=t.slice(0,h),l=t.slice(h+1,d>-1?d:t.length),a=e(l)),d>-1&&(o=o||t.slice(0,d),c=t.slice(d,t.length)),o=_Ve(o!=null?o:t,r),{fullPath:o+(l&&"?")+l+c,path:o,query:a,hash:Zv(c)}}function vVe(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function m4(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gVe(e,t,r){const o=t.matched.length-1,a=r.matched.length-1;return o>-1&&o===a&&Fh(t.matched[o],r.matched[a])&&BW(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Fh(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function BW(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!yVe(e[r],t[r]))return!1;return!0}function yVe(e,t){return Wa(e)?v4(e,t):Wa(t)?v4(t,e):e===t}function v4(e,t){return Wa(t)?e.length===t.length&&e.every((r,o)=>r===t[o]):e.length===1&&e[0]===t}function _Ve(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),o=e.split("/"),a=o[o.length-1];(a===".."||a===".")&&o.push("");let l=r.length-1,c,d;for(c=0;c<o.length;c++)if(d=o[c],d!==".")if(d==="..")l>1&&l--;else break;return r.slice(0,l).join("/")+"/"+o.slice(c).join("/")}const dc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var eg;(function(e){e.pop="pop",e.push="push"})(eg||(eg={}));var Sv;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Sv||(Sv={}));function bVe(e){if(!e)if(Zf){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),mVe(e)}const SVe=/^[^#]+#/;function EVe(e,t){return e.replace(SVe,"#")+t}function TVe(e,t){const r=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-r.left-(t.left||0),top:o.top-r.top-(t.top||0)}}const uS=()=>({left:window.scrollX,top:window.scrollY});function CVe(e){let t;if("el"in e){const r=e.el,o=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?o?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;t=TVe(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function g4(e,t){return(history.state?history.state.position-t:-1)+e}const _1=new Map;function wVe(e,t){_1.set(e,t)}function IVe(e){const t=_1.get(e);return _1.delete(e),t}let kVe=()=>location.protocol+"//"+location.host;function HW(e,t){const{pathname:r,search:o,hash:a}=t,l=e.indexOf("#");if(l>-1){let d=a.includes(e.slice(l))?e.slice(l).length:1,h=a.slice(d);return h[0]!=="/"&&(h="/"+h),m4(h,"")}return m4(r,e)+o+a}function RVe(e,t,r,o){let a=[],l=[],c=null;const d=({state:_})=>{const S=HW(e,location),T=r.value,b=t.value;let I=0;if(_){if(r.value=S,t.value=_,c&&c===T){c=null;return}I=b?_.position-b.position:0}else o(S);a.forEach(C=>{C(r.value,T,{delta:I,type:eg.pop,direction:I?I>0?Sv.forward:Sv.back:Sv.unknown})})};function h(){c=r.value}function m(_){a.push(_);const S=()=>{const T=a.indexOf(_);T>-1&&a.splice(T,1)};return l.push(S),S}function g(){const{history:_}=window;!_.state||_.replaceState(yr({},_.state,{scroll:uS()}),"")}function v(){for(const _ of l)_();l=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:h,listen:m,destroy:v}}function y4(e,t,r,o=!1,a=!1){return{back:e,current:t,forward:r,replaced:o,position:window.history.length,scroll:a?uS():null}}function AVe(e){const{history:t,location:r}=window,o={value:HW(e,r)},a={value:t.state};a.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(h,m,g){const v=e.indexOf("#"),_=v>-1?(r.host&&document.querySelector("base")?e:e.slice(v))+h:kVe()+e+h;try{t[g?"replaceState":"pushState"](m,"",_),a.value=m}catch(S){console.error(S),r[g?"replace":"assign"](_)}}function c(h,m){const g=yr({},t.state,y4(a.value.back,h,a.value.forward,!0),m,{position:a.value.position});l(h,g,!0),o.value=h}function d(h,m){const g=yr({},a.value,t.state,{forward:h,scroll:uS()});l(g.current,g,!0);const v=yr({},y4(o.value,h,null),{position:g.position+1},m);l(h,v,!1),o.value=h}return{location:o,state:a,push:d,replace:c}}function OVe(e){e=bVe(e);const t=AVe(e),r=RVe(e,t.state,t.location,t.replace);function o(l,c=!0){c||r.pauseListeners(),history.go(l)}const a=yr({location:"",base:e,go:o,createHref:EVe.bind(null,e)},t,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function NVe(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),OVe(e)}function PVe(e){return typeof e=="string"||e&&typeof e=="object"}function jW(e){return typeof e=="string"||typeof e=="symbol"}const WW=Symbol("");var _4;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_4||(_4={}));function $h(e,t){return yr(new Error,{type:e,[WW]:!0},t)}function ol(e,t){return e instanceof Error&&WW in e&&(t==null||!!(e.type&t))}const b4="[^/]+?",DVe={sensitive:!1,strict:!1,start:!0,end:!0},LVe=/[.+*?^${}()[\]/\\]/g;function MVe(e,t){const r=yr({},DVe,t),o=[];let a=r.start?"^":"";const l=[];for(const m of e){const g=m.length?[]:[90];r.strict&&!m.length&&(a+="/");for(let v=0;v<m.length;v++){const _=m[v];let S=40+(r.sensitive?.25:0);if(_.type===0)v||(a+="/"),a+=_.value.replace(LVe,"\\$&"),S+=40;else if(_.type===1){const{value:T,repeatable:b,optional:I,regexp:C}=_;l.push({name:T,repeatable:b,optional:I});const P=C||b4;if(P!==b4){S+=10;try{new RegExp(`(${P})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${T}" (${P}): `+k.message)}}let R=b?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(R=I&&m.length<2?`(?:/${R})`:"/"+R),I&&(R+="?"),a+=R,S+=20,I&&(S+=-8),b&&(S+=-20),P===".*"&&(S+=-50)}g.push(S)}o.push(g)}if(r.strict&&r.end){const m=o.length-1;o[m][o[m].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");const c=new RegExp(a,r.sensitive?"":"i");function d(m){const g=m.match(c),v={};if(!g)return null;for(let _=1;_<g.length;_++){const S=g[_]||"",T=l[_-1];v[T.name]=S&&T.repeatable?S.split("/"):S}return v}function h(m){let g="",v=!1;for(const _ of e){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const S of _)if(S.type===0)g+=S.value;else if(S.type===1){const{value:T,repeatable:b,optional:I}=S,C=T in m?m[T]:"";if(Wa(C)&&!b)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const P=Wa(C)?C.join("/"):C;if(!P)if(I)_.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${T}"`);g+=P}}return g||"/"}return{re:c,score:o,keys:l,parse:d,stringify:h}}function xVe(e,t){let r=0;for(;r<e.length&&r<t.length;){const o=t[r]-e[r];if(o)return o;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function zW(e,t){let r=0;const o=e.score,a=t.score;for(;r<o.length&&r<a.length;){const l=xVe(o[r],a[r]);if(l)return l;r++}if(Math.abs(a.length-o.length)===1){if(S4(o))return 1;if(S4(a))return-1}return a.length-o.length}function S4(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const VVe={type:0,value:""},FVe=/[a-zA-Z0-9_]/;function $Ve(e){if(!e)return[[]];if(e==="/")return[[VVe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(S){throw new Error(`ERR (${r})/"${m}": ${S}`)}let r=0,o=r;const a=[];let l;function c(){l&&a.push(l),l=[]}let d=0,h,m="",g="";function v(){!m||(r===0?l.push({type:0,value:m}):r===1||r===2||r===3?(l.length>1&&(h==="*"||h==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:m,regexp:g,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):t("Invalid state to consume buffer"),m="")}function _(){m+=h}for(;d<e.length;){if(h=e[d++],h==="\\"&&r!==2){o=r,r=4;continue}switch(r){case 0:h==="/"?(m&&v(),c()):h===":"?(v(),r=1):_();break;case 4:_(),r=o;break;case 1:h==="("?r=2:FVe.test(h)?_():(v(),r=0,h!=="*"&&h!=="?"&&h!=="+"&&d--);break;case 2:h===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+h:r=3:g+=h;break;case 3:v(),r=0,h!=="*"&&h!=="?"&&h!=="+"&&d--,g="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${m}"`),v(),c(),a}function UVe(e,t,r){const o=MVe($Ve(e.path),r),a=yr(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function BVe(e,t){const r=[],o=new Map;t=C4({strict:!1,end:!0,sensitive:!1},t);function a(v){return o.get(v)}function l(v,_,S){const T=!S,b=HVe(v);b.aliasOf=S&&S.record;const I=C4(t,v),C=[b];if("alias"in v){const k=typeof v.alias=="string"?[v.alias]:v.alias;for(const N of k)C.push(yr({},b,{components:S?S.record.components:b.components,path:N,aliasOf:S?S.record:b}))}let P,R;for(const k of C){const{path:N}=k;if(_&&N[0]!=="/"){const O=_.record.path,$=O[O.length-1]==="/"?"":"/";k.path=_.record.path+(N&&$+N)}if(P=UVe(k,_,I),S?S.alias.push(P):(R=R||P,R!==P&&R.alias.push(P),T&&v.name&&!T4(P)&&c(v.name)),KW(P)&&h(P),b.children){const O=b.children;for(let $=0;$<O.length;$++)l(O[$],P,S&&S.children[$])}S=S||P}return R?()=>{c(R)}:bv}function c(v){if(jW(v)){const _=o.get(v);_&&(o.delete(v),r.splice(r.indexOf(_),1),_.children.forEach(c),_.alias.forEach(c))}else{const _=r.indexOf(v);_>-1&&(r.splice(_,1),v.record.name&&o.delete(v.record.name),v.children.forEach(c),v.alias.forEach(c))}}function d(){return r}function h(v){const _=zVe(v,r);r.splice(_,0,v),v.record.name&&!T4(v)&&o.set(v.record.name,v)}function m(v,_){let S,T={},b,I;if("name"in v&&v.name){if(S=o.get(v.name),!S)throw $h(1,{location:v});I=S.record.name,T=yr(E4(_.params,S.keys.filter(R=>!R.optional).concat(S.parent?S.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),v.params&&E4(v.params,S.keys.map(R=>R.name))),b=S.stringify(T)}else if(v.path!=null)b=v.path,S=r.find(R=>R.re.test(b)),S&&(T=S.parse(b),I=S.record.name);else{if(S=_.name?o.get(_.name):r.find(R=>R.re.test(_.path)),!S)throw $h(1,{location:v,currentLocation:_});I=S.record.name,T=yr({},_.params,v.params),b=S.stringify(T)}const C=[];let P=S;for(;P;)C.unshift(P.record),P=P.parent;return{name:I,path:b,params:T,matched:C,meta:WVe(C)}}e.forEach(v=>l(v));function g(){r.length=0,o.clear()}return{addRoute:l,resolve:m,removeRoute:c,clearRoutes:g,getRoutes:d,getRecordMatcher:a}}function E4(e,t){const r={};for(const o of t)o in e&&(r[o]=e[o]);return r}function HVe(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:jVe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function jVe(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const o in e.components)t[o]=typeof r=="object"?r[o]:r;return t}function T4(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function WVe(e){return e.reduce((t,r)=>yr(t,r.meta),{})}function C4(e,t){const r={};for(const o in e)r[o]=o in t?t[o]:e[o];return r}function zVe(e,t){let r=0,o=t.length;for(;r!==o;){const l=r+o>>1;zW(e,t[l])<0?o=l:r=l+1}const a=KVe(e);return a&&(o=t.lastIndexOf(a,o-1)),o}function KVe(e){let t=e;for(;t=t.parent;)if(KW(t)&&zW(e,t)===0)return t}function KW({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function GVe(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<o.length;++a){const l=o[a].replace(VW," "),c=l.indexOf("="),d=Zv(c<0?l:l.slice(0,c)),h=c<0?null:Zv(l.slice(c+1));if(d in t){let m=t[d];Wa(m)||(m=t[d]=[m]),m.push(h)}else t[d]=h}return t}function w4(e){let t="";for(let r in e){const o=e[r];if(r=dVe(r),o==null){o!==void 0&&(t+=(t.length?"&":"")+r);continue}(Wa(o)?o.map(l=>l&&y1(l)):[o&&y1(o)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+r,l!=null&&(t+="="+l))})}return t}function qVe(e){const t={};for(const r in e){const o=e[r];o!==void 0&&(t[r]=Wa(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const YVe=Symbol(""),I4=Symbol(""),jA=Symbol(""),GW=Symbol(""),b1=Symbol("");function Zm(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function bc(e,t,r,o,a,l=c=>c()){const c=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((d,h)=>{const m=_=>{_===!1?h($h(4,{from:r,to:t})):_ instanceof Error?h(_):PVe(_)?h($h(2,{from:t,to:_})):(c&&o.enterCallbacks[a]===c&&typeof _=="function"&&c.push(_),d())},g=l(()=>e.call(o&&o.instances[a],t,r,m));let v=Promise.resolve(g);e.length<3&&(v=v.then(m)),v.catch(_=>h(_))})}function MI(e,t,r,o,a=l=>l()){const l=[];for(const c of e)for(const d in c.components){let h=c.components[d];if(!(t!=="beforeRouteEnter"&&!c.instances[d]))if(JVe(h)){const g=(h.__vccOpts||h)[t];g&&l.push(bc(g,r,o,c,d,a))}else{let m=h();l.push(()=>m.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${d}" at "${c.path}"`));const v=eVe(g)?g.default:g;c.components[d]=v;const S=(v.__vccOpts||v)[t];return S&&bc(S,r,o,c,d,a)()}))}}return l}function JVe(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function k4(e){const t=pt(jA),r=pt(GW),o=D(()=>{const h=f(e.to);return t.resolve(h)}),a=D(()=>{const{matched:h}=o.value,{length:m}=h,g=h[m-1],v=r.matched;if(!g||!v.length)return-1;const _=v.findIndex(Fh.bind(null,g));if(_>-1)return _;const S=R4(h[m-2]);return m>1&&R4(g)===S&&v[v.length-1].path!==S?v.findIndex(Fh.bind(null,h[m-2])):_}),l=D(()=>a.value>-1&&e3e(r.params,o.value.params)),c=D(()=>a.value>-1&&a.value===r.matched.length-1&&BW(r.params,o.value.params));function d(h={}){return ZVe(h)?t[f(e.replace)?"replace":"push"](f(e.to)).catch(bv):Promise.resolve()}return{route:o,href:D(()=>o.value.href),isActive:l,isExactActive:c,navigate:d}}const XVe=he({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:k4,setup(e,{slots:t}){const r=Un(k4(e)),{options:o}=pt(jA),a=D(()=>({[A4(e.activeClass,o.linkActiveClass,"router-link-active")]:r.isActive,[A4(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const l=t.default&&t.default(r);return e.custom?l:Ot("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},l)}}}),QVe=XVe;function ZVe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function e3e(e,t){for(const r in t){const o=t[r],a=e[r];if(typeof o=="string"){if(o!==a)return!1}else if(!Wa(a)||a.length!==o.length||o.some((l,c)=>l!==a[c]))return!1}return!0}function R4(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const A4=(e,t,r)=>e!=null?e:t!=null?t:r,t3e=he({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const o=pt(b1),a=D(()=>e.route||o.value),l=pt(I4,0),c=D(()=>{let m=f(l);const{matched:g}=a.value;let v;for(;(v=g[m])&&!v.components;)m++;return m}),d=D(()=>a.value.matched[c.value]);pn(I4,D(()=>c.value+1)),pn(YVe,d),pn(b1,a);const h=q();return Ge(()=>[h.value,d.value,e.name],([m,g,v],[_,S,T])=>{g&&(g.instances[v]=m,S&&S!==g&&m&&m===_&&(g.leaveGuards.size||(g.leaveGuards=S.leaveGuards),g.updateGuards.size||(g.updateGuards=S.updateGuards))),m&&g&&(!S||!Fh(g,S)||!_)&&(g.enterCallbacks[v]||[]).forEach(b=>b(m))},{flush:"post"}),()=>{const m=a.value,g=e.name,v=d.value,_=v&&v.components[g];if(!_)return O4(r.default,{Component:_,route:m});const S=v.props[g],T=S?S===!0?m.params:typeof S=="function"?S(m):S:null,I=Ot(_,yr({},T,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(v.instances[g]=null)},ref:h}));return O4(r.default,{Component:I,route:m})||I}}});function O4(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const n3e=t3e;function r3e(e){const t=BVe(e.routes,e),r=e.parseQuery||GVe,o=e.stringifyQuery||w4,a=e.history,l=Zm(),c=Zm(),d=Zm(),h=dr(dc);let m=dc;Zf&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=DI.bind(null,de=>""+de),v=DI.bind(null,hVe),_=DI.bind(null,Zv);function S(de,Le){let Te,Be;return jW(de)?(Te=t.getRecordMatcher(de),Be=Le):Be=de,t.addRoute(Be,Te)}function T(de){const Le=t.getRecordMatcher(de);Le&&t.removeRoute(Le)}function b(){return t.getRoutes().map(de=>de.record)}function I(de){return!!t.getRecordMatcher(de)}function C(de,Le){if(Le=yr({},Le||h.value),typeof de=="string"){const ie=LI(r,de,Le.path),De=t.resolve({path:ie.path},Le),tt=a.createHref(ie.fullPath);return yr(ie,De,{params:_(De.params),hash:Zv(ie.hash),redirectedFrom:void 0,href:tt})}let Te;if(de.path!=null)Te=yr({},de,{path:LI(r,de.path,Le.path).path});else{const ie=yr({},de.params);for(const De in ie)ie[De]==null&&delete ie[De];Te=yr({},de,{params:v(ie)}),Le.params=v(Le.params)}const Be=t.resolve(Te,Le),be=de.hash||"";Be.params=g(_(Be.params));const We=vVe(o,yr({},de,{hash:uVe(be),path:Be.path})),ce=a.createHref(We);return yr({fullPath:We,hash:be,query:o===w4?qVe(de.query):de.query||{}},Be,{redirectedFrom:void 0,href:ce})}function P(de){return typeof de=="string"?LI(r,de,h.value.path):yr({},de)}function R(de,Le){if(m!==de)return $h(8,{from:Le,to:de})}function k(de){return $(de)}function N(de){return k(yr(P(de),{replace:!0}))}function O(de){const Le=de.matched[de.matched.length-1];if(Le&&Le.redirect){const{redirect:Te}=Le;let Be=typeof Te=="function"?Te(de):Te;return typeof Be=="string"&&(Be=Be.includes("?")||Be.includes("#")?Be=P(Be):{path:Be},Be.params={}),yr({query:de.query,hash:de.hash,params:Be.path!=null?{}:de.params},Be)}}function $(de,Le){const Te=m=C(de),Be=h.value,be=de.state,We=de.force,ce=de.replace===!0,ie=O(Te);if(ie)return $(yr(P(ie),{state:typeof ie=="object"?yr({},be,ie.state):be,force:We,replace:ce}),Le||Te);const De=Te;De.redirectedFrom=Le;let tt;return!We&&gVe(o,Be,Te)&&(tt=$h(16,{to:De,from:Be}),fe(Be,Be,!0,!1)),(tt?Promise.resolve(tt):U(De,Be)).catch(xe=>ol(xe)?ol(xe,2)?xe:J(xe):X(xe,De,Be)).then(xe=>{if(xe){if(ol(xe,2))return $(yr({replace:ce},P(xe.to),{state:typeof xe.to=="object"?yr({},be,xe.to.state):be,force:We}),Le||De)}else xe=W(De,Be,!0,ce,be);return j(De,Be,xe),xe})}function L(de,Le){const Te=R(de,Le);return Te?Promise.reject(Te):Promise.resolve()}function M(de){const Le=Ee.values().next().value;return Le&&typeof Le.runWithContext=="function"?Le.runWithContext(de):de()}function U(de,Le){let Te;const[Be,be,We]=o3e(de,Le);Te=MI(Be.reverse(),"beforeRouteLeave",de,Le);for(const ie of Be)ie.leaveGuards.forEach(De=>{Te.push(bc(De,de,Le))});const ce=L.bind(null,de,Le);return Te.push(ce),$e(Te).then(()=>{Te=[];for(const ie of l.list())Te.push(bc(ie,de,Le));return Te.push(ce),$e(Te)}).then(()=>{Te=MI(be,"beforeRouteUpdate",de,Le);for(const ie of be)ie.updateGuards.forEach(De=>{Te.push(bc(De,de,Le))});return Te.push(ce),$e(Te)}).then(()=>{Te=[];for(const ie of We)if(ie.beforeEnter)if(Wa(ie.beforeEnter))for(const De of ie.beforeEnter)Te.push(bc(De,de,Le));else Te.push(bc(ie.beforeEnter,de,Le));return Te.push(ce),$e(Te)}).then(()=>(de.matched.forEach(ie=>ie.enterCallbacks={}),Te=MI(We,"beforeRouteEnter",de,Le,M),Te.push(ce),$e(Te))).then(()=>{Te=[];for(const ie of c.list())Te.push(bc(ie,de,Le));return Te.push(ce),$e(Te)}).catch(ie=>ol(ie,8)?ie:Promise.reject(ie))}function j(de,Le,Te){d.list().forEach(Be=>M(()=>Be(de,Le,Te)))}function W(de,Le,Te,Be,be){const We=R(de,Le);if(We)return We;const ce=Le===dc,ie=Zf?history.state:{};Te&&(Be||ce?a.replace(de.fullPath,yr({scroll:ce&&ie&&ie.scroll},be)):a.push(de.fullPath,be)),h.value=de,fe(de,Le,Te,ce),J()}let re;function ae(){re||(re=a.listen((de,Le,Te)=>{if(!Fe.listening)return;const Be=C(de),be=O(Be);if(be){$(yr(be,{replace:!0}),Be).catch(bv);return}m=Be;const We=h.value;Zf&&wVe(g4(We.fullPath,Te.delta),uS()),U(Be,We).catch(ce=>ol(ce,12)?ce:ol(ce,2)?($(ce.to,Be).then(ie=>{ol(ie,20)&&!Te.delta&&Te.type===eg.pop&&a.go(-1,!1)}).catch(bv),Promise.reject()):(Te.delta&&a.go(-Te.delta,!1),X(ce,Be,We))).then(ce=>{ce=ce||W(Be,We,!1),ce&&(Te.delta&&!ol(ce,8)?a.go(-Te.delta,!1):Te.type===eg.pop&&ol(ce,20)&&a.go(-1,!1)),j(Be,We,ce)}).catch(bv)}))}let ee=Zm(),G=Zm(),Z;function X(de,Le,Te){J(de);const Be=G.list();return Be.length?Be.forEach(be=>be(de,Le,Te)):console.error(de),Promise.reject(de)}function H(){return Z&&h.value!==dc?Promise.resolve():new Promise((de,Le)=>{ee.add([de,Le])})}function J(de){return Z||(Z=!de,ae(),ee.list().forEach(([Le,Te])=>de?Te(de):Le()),ee.reset()),de}function fe(de,Le,Te,Be){const{scrollBehavior:be}=e;if(!Zf||!be)return Promise.resolve();const We=!Te&&IVe(g4(de.fullPath,0))||(Be||!Te)&&history.state&&history.state.scroll||null;return wt().then(()=>be(de,Le,We)).then(ce=>ce&&CVe(ce)).catch(ce=>X(ce,de,Le))}const ge=de=>a.go(de);let me;const Ee=new Set,Fe={currentRoute:h,listening:!0,addRoute:S,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:I,getRoutes:b,resolve:C,options:e,push:k,replace:N,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:l.add,beforeResolve:c.add,afterEach:d.add,onError:G.add,isReady:H,install(de){const Le=this;de.component("RouterLink",QVe),de.component("RouterView",n3e),de.config.globalProperties.$router=Le,Object.defineProperty(de.config.globalProperties,"$route",{enumerable:!0,get:()=>f(h)}),Zf&&!me&&h.value===dc&&(me=!0,k(a.location).catch(be=>{}));const Te={};for(const be in dc)Object.defineProperty(Te,be,{get:()=>h.value[be],enumerable:!0});de.provide(jA,Le),de.provide(GW,D1(Te)),de.provide(b1,h);const Be=de.unmount;Ee.add(de),de.unmount=function(){Ee.delete(de),Ee.size<1&&(m=dc,re&&re(),re=null,h.value=dc,me=!1,Z=!1),Be()}}};function $e(de){return de.reduce((Le,Te)=>Le.then(()=>M(Te)),Promise.resolve())}return Fe}function o3e(e,t){const r=[],o=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let c=0;c<l;c++){const d=t.matched[c];d&&(e.matched.find(m=>Fh(m,d))?o.push(d):r.push(d));const h=e.matched[c];h&&(t.matched.find(m=>Fh(m,h))||a.push(h))}return[r,o,a]}var i3e="./assets/clippy.686d81e0.svg";var a3e="./assets/step1.ecb85e74.png",s3e="./assets/step2-en.c394f8b1.png",l3e="./assets/step2.2a784812.png";const Kr=e=>(rg("data-v-683dcb2b"),e=e(),og(),e),c3e={class:"guidance"},u3e={class:"item"},d3e={key:0},f3e=Kr(()=>te("a",{target:"_blank",href:"https://web.sdk.qcloud.com/trtc/webrtc/demo/detect/index.html"},"TRTC Detect Page",-1)),h3e={key:1},p3e=Kr(()=>te("a",{target:"_blank",href:"https://web.sdk.qcloud.com/trtc/webrtc/demo/detect/index.html"},"TRTC \u68C0\u6D4B\u9875\u9762",-1)),m3e={class:"item"},v3e={key:0,class:"collapse-content"},g3e=Kr(()=>te("a",{href:"https://console.trtc.io/?quickclaim=engine_trial",target:"_blank",rel:"noopener noreferrer"}," TRTC console ",-1)),y3e={key:1,class:"collapse-content"},_3e=Kr(()=>te("li",null,[Jt("\u767B\u5F55"),te("a",{target:"_blank",href:"https://console.cloud.tencent.com/trtc"},"\u5B9E\u65F6\u97F3\u89C6\u9891\u63A7\u5236\u53F0"),Jt("\uFF0C\u9009\u62E9\u3010\u5F00\u53D1\u8F85\u52A9\u3011 > \u3010"),te("a",{target:"_blank",href:"https://console.cloud.tencent.com/trtc/quickstart"},"\u5FEB\u901F\u8DD1\u901ADemo"),Jt("\u3011")],-1)),b3e=Kr(()=>te("li",null,"\u5355\u51FB\u3010\u65B0\u5EFA\u5E94\u7528\u3011\u8F93\u5165\u5E94\u7528\u540D\u79F0\uFF0C\u4F8B\u5982 TestTRTC\uFF1B\u82E5\u60A8\u5DF2\u521B\u5EFA\u5E94\u7528\u53EF\u5355\u51FB\u9009\u62E9\u5DF2\u6709\u5E94\u7528\u3002",-1)),S3e=Kr(()=>te("li",null,"\u6839\u636E\u5B9E\u9645\u4E1A\u52A1\u9700\u6C42\u6DFB\u52A0\u6216\u7F16\u8F91\u6807\u7B7E\uFF0C\u5355\u51FB\u3010\u521B\u5EFA\u3011\u3002",-1)),E3e=Kr(()=>te("img",{src:a3e,alt:"\u521B\u5EFA\u5E94\u7528",style:{width:"400px"}},null,-1)),T3e=[_3e,b3e,S3e,E3e],C3e={class:"item"},w3e={key:0,class:"collapse-content"},I3e=Kr(()=>te("li",null,"Copy the SDKAppId and SDKSecretKey into the input box",-1)),k3e=Kr(()=>te("img",{src:s3e,alt:"SDKAppId",style:{width:"400px"}},null,-1)),R3e=[I3e,k3e],A3e={key:1,class:"collapse-content"},O3e=Kr(()=>te("li",null,"\u590D\u5236 SDKAppId \u548C\u5BC6\u94A5\uFF08SDKSecretKey\uFF09\u586B\u5165\u8F93\u5165\u6846",-1)),N3e=Kr(()=>te("img",{src:l3e,alt:"SDKAppId",style:{width:"400px"}},null,-1)),P3e=[O3e,N3e],D3e={class:"item"},L3e={key:0,class:"collapse-content"},M3e=Kr(()=>te("li",null,"Input userId and roomId",-1)),x3e=Kr(()=>te("li",null,'Click the "Enter Room" button to enter the room',-1)),V3e=Kr(()=>te("li",null,'Click the "Start Local Audio/Video" button to capture microphone or camera',-1)),F3e=Kr(()=>te("li",null,'Click the "Stop Local Audio/Video" button to stop capturing microphone or camera',-1)),$3e=Kr(()=>te("li",null,'Click the "Start Screen Share" button to start screen sharing',-1)),U3e=Kr(()=>te("li",null,'Click the "Stop Screen Share" button to stop screen sharing',-1)),B3e=[M3e,x3e,V3e,F3e,$3e,U3e],H3e={key:1,class:"collapse-content"},j3e=Kr(()=>te("li",null,"\u8F93\u5165 userId \u548C roomId",-1)),W3e=Kr(()=>te("li",null,"\u70B9\u51FB\u3010\u8FDB\u5165\u623F\u95F4\u3011\u6309\u94AE\u8FDB\u5165\u623F\u95F4",-1)),z3e=Kr(()=>te("li",null,"\u70B9\u51FB\u3010\u91C7\u96C6\u9EA6\u514B\u98CE\u3011/ \u3010\u91C7\u96C6\u6444\u50CF\u5934\u3011\u6309\u94AE\uFF0C\u53EF\u91C7\u96C6\u9EA6\u514B\u98CE\u6216\u6444\u50CF\u5934",-1)),K3e=Kr(()=>te("li",null,"\u70B9\u51FB\u3010\u7EC8\u6B62\u91C7\u96C6\u9EA6\u514B\u98CE\u3011/ \u3010\u7EC8\u6B62\u91C7\u96C6\u6444\u50CF\u5934\u3011\u6309\u94AE\uFF0C\u53EF\u7EC8\u6B62\u91C7\u96C6\u9EA6\u514B\u98CE\u6216\u6444\u50CF\u5934",-1)),G3e=Kr(()=>te("li",null,"\u70B9\u51FB\u3010\u5F00\u59CB\u5171\u4EAB\u5C4F\u5E55\u3011\u6309\u94AE\u5F00\u59CB\u5C4F\u5E55\u5206\u4EAB",-1)),q3e=Kr(()=>te("li",null,"\u70B9\u51FB\u3010\u505C\u6B62\u5171\u4EAB\u5C4F\u5E55\u3011\u6309\u94AE\u53D6\u6D88\u5C4F\u5E55\u5206\u4EAB",-1)),Y3e=[j3e,W3e,z3e,K3e,G3e,q3e],J3e=he({__name:"Guidance",setup(e){const{locale:t,t:r}=Jc(),o=D(()=>t.value==="en"),a=D(()=>t.value==="zh-cn"),l=q(["1","4"]);return(c,d)=>{const h=KH,m=zH;return F(),Q("div",c3e,[se(m,{modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=g=>l.value=g)},{default:ye(()=>[se(h,{title:f(r)("step1"),class:"header",name:"1"},{default:ye(()=>[te("div",u3e,[te("ul",null,[o.value?(F(),Q("li",d3e,[Jt("Determine if the current browser environment is suitable for using TRTC\uFF0CYou can visit "),f3e])):Ie("",!0),a.value?(F(),Q("li",h3e,[Jt("\u5224\u65AD\u5F53\u524D\u6D4F\u89C8\u5668\u73AF\u5883\u662F\u5426\u6EE1\u8DB3\u4F7F\u7528 TRTC\uFF0C\u60A8\u53EF\u4EE5\u8BBF\u95EE "),p3e])):Ie("",!0)])])]),_:1},8,["title"]),se(h,{title:f(r)("step2"),class:"header",name:"2"},{default:ye(()=>[te("div",m3e,[o.value?(F(),Q("ul",v3e,[Jt(" Please visit the "),g3e,Jt(" and create an RTC Engine application. ")])):Ie("",!0),a.value?(F(),Q("ul",y3e,T3e)):Ie("",!0)])]),_:1},8,["title"]),se(h,{title:f(r)("step3"),class:"header",name:"3"},{default:ye(()=>[te("div",C3e,[o.value?(F(),Q("ul",w3e,R3e)):Ie("",!0),a.value?(F(),Q("ul",A3e,P3e)):Ie("",!0)])]),_:1},8,["title"]),se(h,{title:f(r)("step4"),class:"header",name:"4"},{default:ye(()=>[te("div",D3e,[o.value?(F(),Q("ul",L3e,B3e)):Ie("",!0),a.value?(F(),Q("ul",H3e,Y3e)):Ie("",!0)])]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}});var X3e=Zh(J3e,[["__scopeId","data-v-683dcb2b"]]);function N4({sdkAppId:e,userId:t,sdkSecretKey:r}){const o=e,a=604800,l=r;(o==null||l==="")&&alert(`\u8BF7\u5148\u914D\u7F6E\u597D\u60A8\u7684\u8D26\u53F7\u4FE1\u606F\uFF1A SDKAPPID \u53CA SDKSECRETKEY \r
\r
Please configure your SDKAPPID/SDKSECRETKEY in js/debug/GenerateTestUserSig.js`);const d=new window.LibGenerateTestUserSig(o,l,a).genTestUserSig(t);return{sdkAppId:o,userSig:d}}const dS=ZLe("app",{state:()=>({sdkAppId:"",userId:"",roomId:"",sdkSecretKey:"",userSig:"",audioDeviceId:"",videoDeviceId:"",cameraList:[],microphoneList:[],logs:[],remoteUsersViews:[],invitedRemoteUsers:[]}),getters:{},actions:{getInitParamsStates(){return!!(this.sdkAppId&&this.sdkSecretKey&&this.roomId&&this.userId)},getUserSig(){return this.userSig||N4({sdkAppId:parseInt(this.sdkAppId,10),userId:this.userId,sdkSecretKey:this.sdkSecretKey}).userSig},createShareLink(){const e=`Guest_${Math.floor(Math.random()*1e6)}`,{userSig:t}=N4({sdkAppId:parseInt(this.sdkAppId,10),userId:e,sdkSecretKey:this.sdkSecretKey}),{origin:r}=window.location,{pathname:o}=window.location;return`${r}${o}#/invite?userSig=${t}&&SDKAppId=${this.sdkAppId}&&userId=${e}&&roomId=${this.roomId}`},addSuccessLog(e){this.logs.push({type:"success",content:e})},addFailedLog(e){this.logs.push({type:"failed",content:e})}}});const fS=e=>(rg("data-v-1d23c084"),e=e(),og(),e),Q3e={class:"inputs-container"},Z3e={style:{"font-size":"14px","font-weight":"500"}},eFe=fS(()=>te("div",{class:"key"},"SDKAppID",-1)),tFe=fS(()=>te("div",{class:"key"},"sdkSecretKey",-1)),nFe=fS(()=>te("div",{class:"key"},"UserID",-1)),rFe=fS(()=>te("div",{class:"key"},"RoomID",-1)),oFe={class:"alert"},iFe={class:"alert"},aFe=["href"],sFe=he({__name:"Inputs",setup(e){const{t}=Jc(),r=dS();r.$patch({sdkAppId:ov("sdkAppId"),sdkSecretKey:ov("sdkSecretKey"),userId:ov("userId"),roomId:ov("roomId")});const o={url:window.location.href.split("?")[0]};return window.history.pushState(o,"","index.html#/"),(a,l)=>{const c=wo,d=J0,h=Y0,m=x6;return F(),Q("div",Q3e,[te("h1",Z3e,et(f(t)("param")),1),se(h,{gutter:10},{default:ye(()=>[se(d,{span:12},{default:ye(()=>[se(c,{modelValue:f(r).sdkAppId,"onUpdate:modelValue":l[0]||(l[0]=g=>f(r).sdkAppId=g),placeholder:"sdkAppId",type:"number"},{prepend:ye(()=>[eFe]),_:1},8,["modelValue"])]),_:1}),se(d,{span:12},{default:ye(()=>[se(c,{modelValue:f(r).sdkSecretKey,"onUpdate:modelValue":l[1]||(l[1]=g=>f(r).sdkSecretKey=g),placeholder:"sdkSecretKey",type:"string"},{prepend:ye(()=>[tFe]),_:1},8,["modelValue"])]),_:1})]),_:1}),se(h,{gutter:10},{default:ye(()=>[se(d,{span:12},{default:ye(()=>[se(c,{modelValue:f(r).userId,"onUpdate:modelValue":l[2]||(l[2]=g=>f(r).userId=g),placeholder:"userID"},{prepend:ye(()=>[nFe]),_:1},8,["modelValue"])]),_:1}),se(d,{span:12},{default:ye(()=>[se(c,{modelValue:f(r).roomId,"onUpdate:modelValue":l[3]||(l[3]=g=>f(r).roomId=g),placeholder:"roomID",type:"number"},{prepend:ye(()=>[rFe]),_:1},8,["modelValue"])]),_:1})]),_:1}),te("div",oFe,[se(m,{type:"error",closable:!1},{default:ye(()=>[te("span",iFe,[Jt(et(f(t)("alert"))+" ",1),te("a",{target:"_blank",href:f(t)("url")},et(f(t)("click")),9,aFe)])]),_:1})])])}}});var lFe=Zh(sFe,[["__scopeId","data-v-1d23c084"]]);const qW=e=>(rg("data-v-35dee796"),e=e(),og(),e),cFe={class:"select-container"},uFe={style:{"font-size":"14px","font-weight":"500"}},dFe=qW(()=>te("div",{class:"label"},"Camera",-1)),fFe=qW(()=>te("div",{class:"label"},"Microphone",-1)),hFe={style:{"font-size":"14px"}},pFe=he({__name:"Device",emits:["switchDevice"],setup(e,{emit:t}){const r=dS(),{t:o}=Jc(),a=t,l=async()=>{console.log("updateDevice");const d=await Dr.getCameraList();d.forEach(m=>{m.value=m.deviceId});const h=await Dr.getMicrophoneList();h.forEach(m=>{m.value=m.deviceId}),r.$patch({cameraList:d,microphoneList:h}),r.videoDeviceId||(r.videoDeviceId=d[0].deviceId),r.audioDeviceId||(r.audioDeviceId=h[0].deviceId)};navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(d=>{d.getTracks().forEach(h=>{h.stop()}),l()}).catch(()=>{ll({message:o("permit"),type:"error"})}),navigator.mediaDevices.ondevicechange=l;const c=()=>{a("switchDevice",{videoId:r.videoDeviceId,audioId:r.audioDeviceId})};return(d,h)=>{const m=Hv,g=Hc,v=J0,_=Y0;return F(),Q("div",cFe,[te("h1",uFe,et(f(o)("device")),1),se(_,{gutter:10},{default:ye(()=>[se(v,{span:12,class:"device-container"},{default:ye(()=>[dFe,se(g,{class:"select",modelValue:f(r).videoDeviceId,"onUpdate:modelValue":h[0]||(h[0]=S=>f(r).videoDeviceId=S),placeholder:"Camera",onChange:c},{default:ye(()=>[(F(!0),Q(Tt,null,fn(f(r).cameraList,S=>(F(),Ve(m,{key:S.deviceId,label:S.label,value:S.deviceId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),se(v,{span:12,class:"device-container"},{default:ye(()=>[fFe,se(g,{class:"select",modelValue:f(r).audioDeviceId,"onUpdate:modelValue":h[1]||(h[1]=S=>f(r).audioDeviceId=S),placeholder:"Microphone",onChange:c},{default:ye(()=>[(F(!0),Q(Tt,null,fn(f(r).microphoneList,S=>(F(),Ve(m,{key:S.deviceId,label:S.label,value:S.deviceId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),te("p",hFe,et(f(o)("deviceHint")),1)])}}});var mFe=Zh(pFe,[["__scopeId","data-v-35dee796"]]);const vFe={class:"player-container"},gFe=["id"],yFe=he({__name:"Player",setup(e){const t=dS();return(r,o)=>(F(),Q("div",vFe,[(F(!0),Q(Tt,null,fn(f(t).remoteUsersViews,a=>(F(),Q("div",{key:a,class:"remote",id:a},null,8,gFe))),128))]))}});var _Fe=Zh(yFe,[["__scopeId","data-v-ac90f944"]]);const hS=e=>(rg("data-v-60ee367e"),e=e(),og(),e),bFe={style:{"font-size":"14px","font-weight":"500"}},SFe={class:"btn-line"},EFe={class:"btn-line"},TFe={class:"btn-line"},CFe={key:0,class:"share-link"},wFe={class:"alert"},IFe={class:"invite"},kFe=hS(()=>te("img",{src:i3e,alt:"Copy to clipboard",class:"clip"},null,-1)),RFe=[kFe],AFe={class:"pusher"},OFe=hS(()=>te("strong",null,"Log:",-1)),NFe=hS(()=>te("span",null,"\u{1F7E9} ",-1)),PFe=hS(()=>te("span",null,"\u{1F7E5} ",-1)),DFe={class:"local",id:"local"},LFe={class:"tag"},MFe=he({__name:"Index",setup(e){const t=pt("$aegis");function r(Ee){const Fe=Ee==="enterRoom"?l.sdkAppId:0;t==null||t.reportEvent({name:Ee,ext1:`${Ee}-success`,ext2:t==null?void 0:t.DEMOKEY,ext3:Fe})}function o(Ee,Fe){t==null||t.reportEvent({name:Ee,ext1:`${Ee}-failed#${l.roomId}**${l.userId}*${Fe}`,ext2:t==null?void 0:t.DEMOKEY,ext3:0})}const{t:a}=Jc(),l=dS(),c=Dr.create(),d=q(!1),h=q(!1),m=q("exited"),g=q("stopped"),v=q("stopped"),_=q("stopped"),S=q(),T=q(null),b=async Ee=>{l.logs.push({type:"success",content:Ee}),await wt(),T.value.scrollTop=T.value.scrollHeight},I=async Ee=>{l.logs.push({type:"failed",content:Ee}),await wt(),T.value.scrollTop=T.value.scrollHeight},C=async()=>{try{d.value?(await c.updateLocalAudio({mute:!1}),d.value=!1):(await c.updateLocalAudio({mute:!0}),d.value=!0),b(`Audio Muted: ${d.value}`)}catch(Ee){I(`Mute audio error: ${Ee.message}`)}},P=async()=>{try{h.value?(await c.updateLocalVideo({mute:!1}),h.value=!1):(await c.updateLocalVideo({mute:!0}),h.value=!0),b(`Video Muted: ${h.value}`)}catch(Ee){I(`Mute video error: ${Ee.message}`)}};async function R(){_.value="sharing";try{await c.startScreenShare(),_.value="shared",b("Start share screen success")}catch(Ee){_.value="stopped",I(`Start share error: ${Ee.message}`)}}async function k(){if(_.value!=="shared"){ll({message:"stopScreenShare() - please start firstly",type:"warning"}),I("The Share is not started");return}_.value="stopping";try{await c.stopScreenShare(),_.value="stopped",b("Stop share screen success")}catch(Ee){_.value="shared",I(`Stop share error: ${Ee.message}`)}}async function N(){if(!l.getInitParamsStates()){ll({message:a("paramsNeed"),type:"error"});return}m.value="entering";try{await c.enterRoom({roomId:parseInt(l.roomId,10),sdkAppId:parseInt(l.sdkAppId,10),userId:l.userId,userSig:l.getUserSig()}),m.value="entered",S.value=l.createShareLink(),W(),await O(),await L(),b(`[${l.userId}] enter room [${l.roomId}] success`),r("enterRoom")}catch(Ee){m.value="stopped",I(`Enter room ${l.roomId} failed. Error: ${Ee.message}`),o("enterRoom",Ee.message)}}async function O(){v.value="starting";try{await c.startLocalAudio({option:{microphoneId:l.audioDeviceId}}),d.value=!1,v.value="started",b("Local audio started successfully"),r("startLocalAudio")}catch(Ee){v.value="stopped",I(`Local audio is failed to started. Error: ${Ee.message}`),o("startLocalAudio",Ee.message)}}async function $(){if(v.value!=="started"){I("The audio has not been started");return}v.value="stopping";try{await c.stopLocalAudio(),v.value="stopped",b("Local audio stopped successfully"),r("stopLocalAudio")}catch(Ee){v.value="started",I(`Local audio is failed to stopped. Error: ${Ee.message}`),o("stopLocalAudio",Ee.message)}}async function L(){g.value="starting";try{await c.startLocalVideo({view:"local",option:{cameraId:l.videoDeviceId,profile:"1080p"}}),h.value=!1,g.value="started",b("Local audio stopped successfully"),r("startLocalVideo")}catch(Ee){g.value="stopped",I(`Local audio is failed to stopped. Error: ${Ee.message}`),o("startLocalVideo",Ee.message)}}async function M(){if(g.value!=="started"){I("The audio has not been started");return}g.value="stopping";try{await c.stopLocalVideo(),g.value="stopped",b("Local audio stopped successfully"),r("stopLocalVideo")}catch(Ee){g.value="started",I(`Local audio is failed to stopped. Error: ${Ee.message}`),o("stopLocalVideo",Ee.message)}}async function U(){if(m.value!=="entered"){I("The room has not been entered");return}m.value="exiting";try{re(),await c.exitRoom(),await c.stopLocalVideo(),await c.stopLocalAudio(),m.value="exited",l.remoteUsersViews=[],b("Exit room success"),r("exitRoom")}catch(Ee){m.value="entered",I(`Exit room failed. Error: ${Ee.message}`),r("exitRoom")}v.value==="started"&&$(),g.value==="started"&&M(),_.value==="shared"&&k()}async function j({videoId:Ee,audioId:Fe}){if(Ee)try{await c.updateLocalVideo({option:{cameraId:Ee}}),b("Switch video device success")}catch{I("Switch video device failed")}if(Fe)try{await c.updateLocalAudio({option:{microphoneId:Fe}}),b("Switch audio device success")}catch{I("Switch audio device failed")}}function W(){c.on(Dr.EVENT.ERROR,ae),c.on(Dr.EVENT.KICKED_OUT,ee),c.on(Dr.EVENT.REMOTE_USER_ENTER,G),c.on(Dr.EVENT.REMOTE_USER_EXIT,Z),c.on(Dr.EVENT.REMOTE_VIDEO_AVAILABLE,X),c.on(Dr.EVENT.REMOTE_VIDEO_UNAVAILABLE,H),c.on(Dr.EVENT.REMOTE_AUDIO_UNAVAILABLE,J),c.on(Dr.EVENT.REMOTE_AUDIO_AVAILABLE,fe),c.on(Dr.EVENT.SCREEN_SHARE_STOPPED,ge)}function re(){c.off(Dr.EVENT.ERROR,ae),c.off(Dr.EVENT.KICKED_OUT,ee),c.off(Dr.EVENT.REMOTE_USER_ENTER,G),c.off(Dr.EVENT.REMOTE_USER_EXIT,Z),c.off(Dr.EVENT.REMOTE_VIDEO_AVAILABLE,X),c.off(Dr.EVENT.REMOTE_VIDEO_UNAVAILABLE,H),c.off(Dr.EVENT.REMOTE_AUDIO_UNAVAILABLE,J),c.off(Dr.EVENT.REMOTE_AUDIO_AVAILABLE,fe),c.off(Dr.EVENT.SCREEN_SHARE_STOPPED,ge)}function ae(Ee){ll({message:`Local error: ${Ee.message}`,type:"error"}),I(`Local error: ${Ee.message}`)}function ee(Ee){ll({message:`User has been kicked out for ${Ee.reason}`,type:"warning"}),I(`User has been kicked out for ${Ee.reason}`)}function G(Ee){const{userId:Fe}=Ee;b(`Remote User [${Fe}] entered`)}function Z(Ee){b(`Remote User [${Ee.userId}] exit`)}async function X(Ee){const{userId:Fe,streamType:$e}=Ee;try{b(`[${Fe}] [${$e}] video available`),$e===Dr.TYPE.STREAM_TYPE_MAIN?(l.remoteUsersViews.push(`${Fe}_main`),await wt(),await c.startRemoteVideo({userId:Fe,streamType:$e,view:`${Fe}_main`})):(l.remoteUsersViews.push(`${Fe}_screen`),await wt(),c.startRemoteVideo({userId:Fe,streamType:$e,view:`${Fe}_screen`})),l.addSuccessLog(`Play remote video success: [${Fe}]`)}catch(de){l.addFailedLog(`Play remote video failed: [${Fe}], error: ${de.message}`)}}function H(Ee){b(`[${Ee.userId}] [${Ee.streamType}] video unavailable`);const{streamType:Fe}=Ee;c.stopRemoteVideo({userId:Ee.userId,streamType:Fe}),Fe===Dr.TYPE.STREAM_TYPE_MAIN?l.remoteUsersViews=l.remoteUsersViews.filter($e=>$e!==`${Ee.userId}_main`):l.remoteUsersViews=l.remoteUsersViews.filter($e=>$e!==`${Ee.userId}_screen`)}function J(Ee){b(`[${Ee.userId}] audio unavailable`)}function fe(Ee){b(`[${Ee.userId}] audio available`)}function ge(){_.value="stopped",b("Stop share screen success")}function me(){oW(S.value,void 0,Ee=>{ll(Ee?{message:"Copy failed!",type:"error"}:{message:"Copied!",type:"success"}),S.value=l.createShareLink()})}return(Ee,Fe)=>{const $e=lo,de=wo,Le=J0,Te=Y0;return F(),Ve(Te,{style:{padding:"0 10px 40px 10px"}},{default:ye(()=>[se(Le,{md:{span:18,offset:3},sm:{span:24}},{default:ye(()=>[se(X3e),se(lFe),se(mFe,{onSwitchDevice:j}),te("h1",bFe,et(f(a)("operation")),1),te("div",SFe,[se($e,{type:"primary",loading:m.value==="entering",disabled:m.value==="entered",onClick:N},{default:ye(()=>[Jt(et(f(a)("Enter Room")),1)]),_:1},8,["loading","disabled"]),se($e,{type:"primary",loading:m.value==="exiting",onClick:U},{default:ye(()=>[Jt(et(f(a)("Exit Room")),1)]),_:1},8,["loading"])]),te("div",EFe,[se($e,{type:"primary",loading:v.value==="starting",disabled:v.value==="started",onClick:O},{default:ye(()=>[Jt(et(f(a)("Start Local Audio")),1)]),_:1},8,["loading","disabled"]),se($e,{type:"primary",loading:g.value==="starting",disabled:g.value==="started",onClick:L},{default:ye(()=>[Jt(et(f(a)("Start Local Video")),1)]),_:1},8,["loading","disabled"]),se($e,{type:"primary",loading:v.value==="stopping",onClick:$},{default:ye(()=>[Jt(et(f(a)("Stop Local Audio")),1)]),_:1},8,["loading"]),se($e,{type:"primary",loading:g.value==="stopping",onClick:M},{default:ye(()=>[Jt(et(f(a)("Stop Local Video")),1)]),_:1},8,["loading"])]),te("div",TFe,[se($e,{type:"primary",loading:_.value==="sharing",disabled:_.value==="shared",onClick:R},{default:ye(()=>[Jt(et(f(a)("Start Screen Share")),1)]),_:1},8,["loading","disabled"]),se($e,{type:"primary",loading:_.value==="stopping",onClick:k},{default:ye(()=>[Jt(et(f(a)("Stop Screen Share")),1)]),_:1},8,["loading"])]),m.value==="entered"?(F(),Q("div",CFe,[te("div",wFe,et(f(a)("invite")),1),te("div",IFe,[te("button",{class:"invite-btn",onClick:me},RFe),se(de,{id:"foo",modelValue:S.value,"onUpdate:modelValue":Fe[0]||(Fe[0]=Be=>S.value=Be)},null,8,["modelValue"])])])):Ie("",!0),te("div",AFe,[te("div",{class:"logs",ref_key:"log",ref:T},[OFe,(F(!0),Q(Tt,null,fn(f(l).logs,(Be,be)=>(F(),Q("div",{key:be,class:"log"},[Be.type==="success"?(F(),Q(Tt,{key:0},[NFe,Jt(et(Be.content),1)],64)):(F(),Q(Tt,{key:1},[PFe,Jt(et(Be.content),1)],64))]))),128))],512),qt(te("div",DFe,[te("div",LFe,[te("div",{class:B(d.value?"muteAudio":"unmuteAudio"),onClick:C},null,2),te("div",{class:B(h.value?"muteVideo":"unmuteVideo"),onClick:P},null,2)])],512),[[Nn,g.value==="started"]])]),se(_Fe)]),_:1})]),_:1})}}});var xFe=Zh(MFe,[["__scopeId","data-v-60ee367e"]]);const VFe=[{path:"/",name:"home",component:xFe},{path:"/invite",name:"invite",component:()=>Zxe(()=>import("./Invite.cd4896c0.js"),["assets/Invite.cd4896c0.js","assets/Invite.f225f846.css"])}],FFe=r3e({history:NVe(),routes:VFe});const Xc=JB(Jxe);Dr.setLogLevel(2);Xc.use($xe);Xc.use(FFe);Xc.use(GLe());Xc.use(zLe);Xc.use(r2e,{autoSetContainer:!0,appendToBody:!0});Xc.provide("$aegis",LW);Xc.config.globalProperties.$aegis=LW;Xc.mount("#app");export{ll as E,Tt as F,Dr as T,Zh as _,dS as a,lo as b,J0 as c,he as d,Y0 as e,Ve as f,ov as g,se as h,te as i,f as j,Jt as k,Q as l,og as m,wt as n,F as o,rg as p,fn as r,et as t,Jc as u,ye as w};
